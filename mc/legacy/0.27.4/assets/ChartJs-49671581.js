var W4=Object.defineProperty;var U4=(n,e,t)=>e in n?W4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ae=(n,e,t)=>(U4(n,typeof e!="symbol"?e+"":e,t),t);import{a as Ti,T as a1,I as Qi,D as _b}from"./List-1747898b.js";import{I as Bf,B as sc,T as tn,J as gt,U as Nt,C as un,F as _s,V as _a,S as nr,P as q4,R as Td,M as Ur,W as vu,A as j4,X as Sb,Q as pa,L as Eb}from"./SvelteUIElement-65e2316e.js";import{G as Lr,r as Z1,C as gs}from"./BBox-aa5284c9.js";import{a as Gd,S as K4}from"./SubtleButton-eb81d210.js";import{g as Q1,c as wr}from"./_commonjsHelpers-edff4021.js";import{_ as J4,d as Y4}from"./defineProperty-bf1f4e26.js";const wu=class{static AvailableLayersAt(e){var t;return((t=wu.implementation)==null?void 0:t.AvailableLayersAt(e))??new Bf([])}static SelectBestLayerAccordingTo(e,t){var a;return((a=wu.implementation)==null?void 0:a.SelectBestLayerAccordingTo(e,t))??new Bf(void 0)}static implement(e){wu.layerOverview=e.layerOverview,wu.osmCarto=e.osmCarto,wu.implementation=e}};let fs=wu;ae(fs,"layerOverview"),ae(fs,"osmCarto"),ae(fs,"implementation");class ep{constructor(){}}ae(ep,"createMiniMap",e=>{throw"CreateMinimap hasn't been initialized yet. Please call MinimapImplementation.initialize()"});var Hf={},X4={get exports(){return Hf},set exports(n){Hf=n}};X4.exports=zh;Hf.default=zh;function zh(n,e,t){t=t||2;var a=e&&e.length,o=a?e[0]*t:n.length,u=Cb(n,0,o,t,!0),d=[];if(!u||u.next===u.prev)return d;var c,h,g,m,y,x,E;if(a&&(u=n_(n,e,u,t)),n.length>80*t){c=g=n[0],h=m=n[1];for(var _=t;_<o;_+=t)y=n[_],x=n[_+1],y<c&&(c=y),x<h&&(h=x),y>g&&(g=y),x>m&&(m=x);E=Math.max(g-c,m-h),E=E!==0?32767/E:0}return Wd(u,d,t,c,h,E,0),d}function Cb(n,e,t,a,o){var u,d;if(o===u1(n,e,t,a)>0)for(u=e;u<t;u+=a)d=$m(u,n[u],n[u+1],d);else for(u=t-a;u>=e;u-=a)d=$m(u,n[u],n[u+1],d);return d&&Vh(d,d.next)&&(qd(d),d=d.next),d}function Au(n,e){if(!n)return n;e||(e=n);var t=n,a;do if(a=!1,!t.steiner&&(Vh(t,t.next)||dr(t.prev,t,t.next)===0)){if(qd(t),t=e=t.prev,t===t.next)break;a=!0}else t=t.next;while(a||t!==e);return e}function Wd(n,e,t,a,o,u,d){if(n){!d&&u&&o_(n,a,o,u);for(var c=n,h,g;n.prev!==n.next;){if(h=n.prev,g=n.next,u?Q4(n,a,o,u):Z4(n)){e.push(h.i/t|0),e.push(n.i/t|0),e.push(g.i/t|0),qd(n),n=g.next,c=g.next;continue}if(n=g,n===c){d?d===1?(n=e_(Au(n),e,t),Wd(n,e,t,a,o,u,2)):d===2&&t_(n,e,t,a,o,u):Wd(Au(n),e,t,a,o,u,1);break}}}}function Z4(n){var e=n.prev,t=n,a=n.next;if(dr(e,t,a)>=0)return!1;for(var o=e.x,u=t.x,d=a.x,c=e.y,h=t.y,g=a.y,m=o<u?o<d?o:d:u<d?u:d,y=c<h?c<g?c:g:h<g?h:g,x=o>u?o>d?o:d:u>d?u:d,E=c>h?c>g?c:g:h>g?h:g,_=a.next;_!==e;){if(_.x>=m&&_.x<=x&&_.y>=y&&_.y<=E&&fl(o,c,u,h,d,g,_.x,_.y)&&dr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Q4(n,e,t,a){var o=n.prev,u=n,d=n.next;if(dr(o,u,d)>=0)return!1;for(var c=o.x,h=u.x,g=d.x,m=o.y,y=u.y,x=d.y,E=c<h?c<g?c:g:h<g?h:g,_=m<y?m<x?m:x:y<x?y:x,w=c>h?c>g?c:g:h>g?h:g,L=m>y?m>x?m:x:y>x?y:x,k=s1(E,_,e,t,a),W=s1(w,L,e,t,a),$=n.prevZ,O=n.nextZ;$&&$.z>=k&&O&&O.z<=W;){if($.x>=E&&$.x<=w&&$.y>=_&&$.y<=L&&$!==o&&$!==d&&fl(c,m,h,y,g,x,$.x,$.y)&&dr($.prev,$,$.next)>=0||($=$.prevZ,O.x>=E&&O.x<=w&&O.y>=_&&O.y<=L&&O!==o&&O!==d&&fl(c,m,h,y,g,x,O.x,O.y)&&dr(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;$&&$.z>=k;){if($.x>=E&&$.x<=w&&$.y>=_&&$.y<=L&&$!==o&&$!==d&&fl(c,m,h,y,g,x,$.x,$.y)&&dr($.prev,$,$.next)>=0)return!1;$=$.prevZ}for(;O&&O.z<=W;){if(O.x>=E&&O.x<=w&&O.y>=_&&O.y<=L&&O!==o&&O!==d&&fl(c,m,h,y,g,x,O.x,O.y)&&dr(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function e_(n,e,t){var a=n;do{var o=a.prev,u=a.next.next;!Vh(o,u)&&Mb(o,a,a.next,u)&&Ud(o,u)&&Ud(u,o)&&(e.push(o.i/t|0),e.push(a.i/t|0),e.push(u.i/t|0),qd(a),qd(a.next),a=n=u),a=a.next}while(a!==n);return Au(a)}function t_(n,e,t,a,o,u){var d=n;do{for(var c=d.next.next;c!==d.prev;){if(d.i!==c.i&&d_(d,c)){var h=Ib(d,c);d=Au(d,d.next),h=Au(h,h.next),Wd(d,e,t,a,o,u,0),Wd(h,e,t,a,o,u,0);return}c=c.next}d=d.next}while(d!==n)}function n_(n,e,t,a){var o=[],u,d,c,h,g;for(u=0,d=e.length;u<d;u++)c=e[u]*a,h=u<d-1?e[u+1]*a:n.length,g=Cb(n,c,h,a,!1),g===g.next&&(g.steiner=!0),o.push(l_(g));for(o.sort(r_),u=0;u<o.length;u++)t=i_(o[u],t);return t}function r_(n,e){return n.x-e.x}function i_(n,e){var t=a_(n,e);if(!t)return e;var a=Ib(t,n);return Au(a,a.next),Au(t,t.next)}function a_(n,e){var t=e,a=n.x,o=n.y,u=-1/0,d;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){var c=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(c<=a&&c>u&&(u=c,d=t.x<t.next.x?t:t.next,c===a))return d}t=t.next}while(t!==e);if(!d)return null;var h=d,g=d.x,m=d.y,y=1/0,x;t=d;do a>=t.x&&t.x>=g&&a!==t.x&&fl(o<m?a:u,o,g,m,o<m?u:a,o,t.x,t.y)&&(x=Math.abs(o-t.y)/(a-t.x),Ud(t,n)&&(x<y||x===y&&(t.x>d.x||t.x===d.x&&s_(d,t)))&&(d=t,y=x)),t=t.next;while(t!==h);return d}function s_(n,e){return dr(n.prev,n,e.prev)<0&&dr(e.next,n,n.next)<0}function o_(n,e,t,a){var o=n;do o.z===0&&(o.z=s1(o.x,o.y,e,t,a)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==n);o.prevZ.nextZ=null,o.prevZ=null,u_(o)}function u_(n){var e,t,a,o,u,d,c,h,g=1;do{for(t=n,n=null,u=null,d=0;t;){for(d++,a=t,c=0,e=0;e<g&&(c++,a=a.nextZ,!!a);e++);for(h=g;c>0||h>0&&a;)c!==0&&(h===0||!a||t.z<=a.z)?(o=t,t=t.nextZ,c--):(o=a,a=a.nextZ,h--),u?u.nextZ=o:n=o,o.prevZ=u,u=o;t=a}u.nextZ=null,g*=2}while(d>1);return n}function s1(n,e,t,a,o){return n=(n-t)*o|0,e=(e-a)*o|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function l_(n){var e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function fl(n,e,t,a,o,u,d,c){return(o-d)*(e-c)>=(n-d)*(u-c)&&(n-d)*(a-c)>=(t-d)*(e-c)&&(t-d)*(u-c)>=(o-d)*(a-c)}function d_(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!c_(n,e)&&(Ud(n,e)&&Ud(e,n)&&f_(n,e)&&(dr(n.prev,n,e.prev)||dr(n,e.prev,e))||Vh(n,e)&&dr(n.prev,n,n.next)>0&&dr(e.prev,e,e.next)>0)}function dr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Vh(n,e){return n.x===e.x&&n.y===e.y}function Mb(n,e,t,a){var o=Zc(dr(n,e,t)),u=Zc(dr(n,e,a)),d=Zc(dr(t,a,n)),c=Zc(dr(t,a,e));return!!(o!==u&&d!==c||o===0&&Xc(n,t,e)||u===0&&Xc(n,a,e)||d===0&&Xc(t,n,a)||c===0&&Xc(t,e,a))}function Xc(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Zc(n){return n>0?1:n<0?-1:0}function c_(n,e){var t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Mb(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ud(n,e){return dr(n.prev,n,n.next)<0?dr(n,e,n.next)>=0&&dr(n,n.prev,e)>=0:dr(n,e,n.prev)<0||dr(n,n.next,e)<0}function f_(n,e){var t=n,a=!1,o=(n.x+e.x)/2,u=(n.y+e.y)/2;do t.y>u!=t.next.y>u&&t.next.y!==t.y&&o<(t.next.x-t.x)*(u-t.y)/(t.next.y-t.y)+t.x&&(a=!a),t=t.next;while(t!==n);return a}function Ib(n,e){var t=new o1(n.i,n.x,n.y),a=new o1(e.i,e.x,e.y),o=n.next,u=e.prev;return n.next=e,e.prev=n,t.next=o,o.prev=t,a.next=t,t.prev=a,u.next=a,a.prev=u,a}function $m(n,e,t,a){var o=new o1(n,e,t);return a?(o.next=a.next,o.prev=a,a.next.prev=o,a.next=o):(o.prev=o,o.next=o),o}function qd(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function o1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}zh.deviation=function(n,e,t,a){var o=e&&e.length,u=o?e[0]*t:n.length,d=Math.abs(u1(n,0,u,t));if(o)for(var c=0,h=e.length;c<h;c++){var g=e[c]*t,m=c<h-1?e[c+1]*t:n.length;d-=Math.abs(u1(n,g,m,t))}var y=0;for(c=0;c<a.length;c+=3){var x=a[c]*t,E=a[c+1]*t,_=a[c+2]*t;y+=Math.abs((n[x]-n[_])*(n[E+1]-n[x+1])-(n[x]-n[E])*(n[_+1]-n[x+1]))}return d===0&&y===0?0:Math.abs((y-d)/d)};function u1(n,e,t,a){for(var o=0,u=e,d=t-a;u<t;u+=a)o+=(n[d]-n[u])*(n[u+1]+n[d+1]),d=u;return o}zh.flatten=function(n){for(var e=n[0][0].length,t={vertices:[],holes:[],dimensions:e},a=0,o=0;o<n.length;o++){for(var u=0;u<n[o].length;u++)for(var d=0;d<e;d++)t.vertices.push(n[o][u][d]);o>0&&(a+=n[o-1].length,t.holes.push(a))}return t};class jd extends sc{constructor(t,a,o){super();ae(this,"_header");ae(this,"_contents");ae(this,"_contentStyle");ae(this,"_sortable");this._contentStyle=(o==null?void 0:o.contentStyle)??[["min-width: 9rem"]],this._header=t==null?void 0:t.map(tn.W),this._contents=a.map(u=>u.map(tn.W)),this._sortable=(o==null?void 0:o.sortable)??!1}AsMarkdown(){const t=this._header.map(d=>(d==null?void 0:d.AsMarkdown())??" "),a=gt.NoNull(t).join(" | "),o=t.map(d=>"-".repeat(d.length+2)).join(" | "),u=this._contents.map(d=>d.map(c=>{var h;return((h=c==null?void 0:c.AsMarkdown())==null?void 0:h.replace("|","\\|"))??" "}).join(" | ")).join(`
`);return`

`+[a,o,u,""].join(`
`)}InnerConstructElement(){const t=document.createElement("table"),a=new Nt(void 0),o=this,u=gt.NoNull((this._header??[]).map((d,c)=>(o._sortable&&d.onClick(()=>{a.data==c?a.setData(-1-c):a.setData(c)}),d.ConstructElement())));if(u.length>0){const d=document.createElement("thead"),c=document.createElement("tr");u.forEach(h=>{const g=document.createElement("th");g.appendChild(h),c.appendChild(g)}),d.appendChild(c),t.appendChild(d)}for(let d=0;d<this._contents.length;d++){let c=this._contents[d];const h=document.createElement("tr");for(let g=0;g<c.length;g++)try{let m=c[g];const y=m==null?void 0:m.ConstructElement();if(y===void 0)continue;let x;this._contentStyle!==void 0&&this._contentStyle[d]!==void 0&&this._contentStyle[g]!==void 0&&(x=this._contentStyle[d][g]);const E=document.createElement("td");E.style.cssText=x,E.appendChild(y),h.appendChild(E)}catch(m){console.error("Could not render an element in a table due to",m,c[g])}t.appendChild(h)}return a.addCallback(d=>{if(d===void 0)return;const c=d<0,h=c?-d-1:d;let g=Array.from(t.rows);g.splice(0,1),g=g.sort((m,y)=>{var _,w,L,k;const x=(w=(_=m.cells[h])==null?void 0:_.textContent)==null?void 0:w.toLowerCase(),E=(k=(L=y.cells[h])==null?void 0:L.textContent)==null?void 0:k.toLowerCase();return x===E?0:x<E!==c?-1:1});for(let m=g.length;m>1;m--)t.deleteRow(m);for(const m of g)t.appendChild(m)}),t}}const _u=class{static textElementSelected(){var e,t;return["input","textarea"].includes((t=(e=document==null?void 0:document.activeElement)==null?void 0:e.tagName)==null?void 0:t.toLowerCase())}static RegisterHotkey(e,t,a){const o=e.onUp?"keyup":"keypress";let u=e.ctrl??e.shift??e.alt??e.nomod;u.length==1&&(u=u.toLowerCase(),e.shift!==void 0&&(u=u.toUpperCase())),this._docs.data.push({key:e,documentation:t}),this._docs.ping(),!gt.runningFromConsole&&(e.ctrl!==void 0?document.addEventListener("keydown",function(d){d.ctrlKey&&d.key===u&&(a(),d.preventDefault())}):e.shift!==void 0?document.addEventListener(o,function(d){_u.textElementSelected()||d.shiftKey&&d.key===u&&(a(),d.preventDefault())}):e.alt!==void 0?document.addEventListener(o,function(d){d.altKey&&d.key===u&&(a(),d.preventDefault())}):e.nomod!==void 0&&document.addEventListener(o,function(d){_u.textElementSelected()||d.key===u&&(a(),d.preventDefault())}))}static generateDocumentation(){const e=_u._docs.data.map(({key:a,documentation:o})=>{const u=Object.keys(a).filter(c=>c!=="nomod"&&c!=="onUp"),d=a.ctrl??a.shift??a.alt??a.nomod;return u.push(d),[u.join("+"),o]}).sort(),t=tn.t.hotkeyDocumentation;return new un([new Ti(t.title,1),t.intro,new jd([t.key,t.action],e.map(([a,o])=>[new _s(a).SetClass("code"),o]))])}static generateDocumentationDynamic(){return new _a(_u._docs.map(e=>_u.generateDocumentation()))}};let _f=_u;ae(_f,"_docs",new Nt([]));class zf extends a1{constructor(t,a){const o=a.preferredType,u=new Nt(a.preferredLayer),d=zf.getIconFor(o).SetClass("rounded-lg p-1 h-12 w-12 overflow-hidden subtle-background border-invisible"),c=zf.getIconFor(o).SetClass("rounded-lg p-1 h-12 w-12 overflow-hidden subtle-background border-attention-catch"),h=fs.SelectBestLayerAccordingTo(t,new Nt(a.preferredType));let g=new a1(c,d,a.currentBackground.map(y=>(y==null?void 0:y.category)===a.preferredType));super(g,void 0,h.map(y=>(y==null?void 0:y.category)===a.preferredType));ae(this,"activate");function m(){if(u.data===void 0||u.data.feature===null||u.data.feature===void 0)return;const y=t.data;Lr.inside([y.lon,y.lat],u.data.feature)||u.setData(void 0)}d.onClick(()=>{m(),u.setData(u.data??h.data),a.currentBackground.setData(u.data)}),a.currentBackground.addCallbackAndRunD(y=>{y.category===a.preferredType&&u.setData(y)}),h.addCallbackD(y=>{var x,E;u.data!==void 0&&((x=a.currentBackground.data)==null?void 0:x.id)===((E=u.data)==null?void 0:E.id)&&(u.data.feature===null||Lr.inside([t.data.lon,t.data.lat],u.data.feature)||(y.category===a.preferredType?(a.currentBackground.setData(y),u.setData(y)):a.notAvailable!==void 0?a.notAvailable():a.currentBackground.setData(fs.osmCarto)))}),this.activate=()=>{if(m(),h.data.category!==a.preferredType){a.notAvailable!==void 0?a.notAvailable():a.currentBackground.setData(fs.osmCarto);return}u.setData(u.data??h.data),a.currentBackground.setData(u.data)}}static getIconFor(t){switch(t){case"map":return nr.generic_map_svg();case"photo":return nr.satellite_svg();case"osmbasedmap":return nr.osm_logo_svg();default:return nr.generic_map_svg()}}}class h_ extends un{constructor(e,t,a){const o=(a==null?void 0:a.allowedCategories)??["osmbasedmap","photo","map"],u=e.backgroundLayer.data,d=[];let c;for(const h of o){let g;(u==null?void 0:u.category)===h&&(g=u);const m=new zf(e.locationControl,{preferredType:h,preferredLayer:g,currentBackground:t,notAvailable:c});c=c??m.activate,h===(a==null?void 0:a.preferredCategory)&&m.activate(),a!=null&&a.enableHotkeys&&_f.RegisterHotkey({nomod:h.charAt(0).toUpperCase()},tn.t.hotkeyDocumentation.selectBackground.Subs({category:h}),()=>{m.activate()}),d.push(m)}super(d),this.SetClass("flex")}}class Gh{}const Nm=class extends Gh{constructor(t,a){super();ae(this,"key");ae(this,"value");if(this.key=t,this.value=a,t===void 0||t==="")throw"Invalid key: undefined or empty";if(a===void 0)throw`Invalid value while constructing a Tag with key '${t}': value is undefined`;a==="*"&&console.warn(`Got suspicious tag ${t}=*   ; did you mean ${t}~* ?`)}matchesProperties(t){const a=t[this.key];return a===void 0&&(this.value===""||this.value===void 0)?!0:a===this.value}asOverpass(){return this.value===""?['[!"'+this.key+'"]']:[`["${this.key}"="${this.value}"]`]}asHumanString(t,a,o){let u=this.value;return a&&(u=gt.EllipsesAfter(u,25)),u===""||u===void 0&&o!==void 0?o!==void 0&&(o[this.key]??"")===""?"":"<span class='line-through'>"+this.key+"</span>":t?`<a href='https://wiki.openstreetmap.org/wiki/Key:${this.key}' target='_blank'>${this.key}</a>=<a href='https://wiki.openstreetmap.org/wiki/Tag:${this.key}%3D${this.value}' target='_blank'>${u}</a>`:this.key+"="+u}isUsableAsAnswer(){return!0}shadows(t){return t.key!==void 0&&t.key!==this.key?!1:t.matchesProperties({[this.key]:this.value})}usedKeys(){return[this.key]}usedTags(){return this.value==""?[]:[this]}asChange(t){return[{k:this.key,v:this.value}]}optimize(){return this}isNegative(){return!1}visit(t){t(this)}};let xi=Nm;ae(xi,"newlyCreated",new Nm("_newly_created","yes"));class ur extends Gh{constructor(t,a,o=!1){super();ae(this,"key");ae(this,"value");ae(this,"invert");ae(this,"matchesEmpty");this.key=t,this.value=a,this.invert=o,this.matchesEmpty=ur.doesMatch("",this.value)}static doesMatch(t,a){if(t!==void 0){if(typeof t=="number"&&(t=""+t),typeof a=="string")return t===a;if(typeof t.match!="function")throw console.error("Error: fromTag is not a regex: ",t,a),"Error: fromTag is not a regex: "+t+a;return t.match(a)!==null}}static source(t){return typeof t=="string"?t:t.source}asOverpass(){const t=this.invert?"!":"";if(typeof this.key!="string")return[`[~"${this.key.source}"${t}~"${ur.source(this.value)}"]`];if(this.value instanceof RegExp){const a=this.value.source;if(a==="^..*$"||a===".+")return[`[${t}"${this.key}"]`];const o=this.value.ignoreCase?",i":"";return[`["${this.key}"${t}~"${a}"${o}]`]}else return[`["${this.key}"${t}="${this.value}"]`]}isUsableAsAnswer(){return!1}matchesProperties(t){if(typeof this.key=="string"){const a=t[this.key]??"";return ur.doesMatch(a,this.value)!=this.invert}for(const a in t)if(a!==void 0&&ur.doesMatch(a,this.key)){const o=t[a]??"";return ur.doesMatch(o,this.value)!=this.invert}return this.matchesEmpty?!this.invert:this.invert}asHumanString(){if(typeof this.key=="string"){const t=typeof this.value=="string"?"=":"~";return`${this.key}${this.invert?"!":""}${t}${ur.source(this.value)}`}return`${this.key.source}${this.invert?"!":""}~~${ur.source(this.value)}`}shadows(t){if(t instanceof ur){if((t.key.source??t.key)!==(this.key.source??this.key))return!1;if((t.value.source??t.key)===(this.value.source??this.key)&&this.invert==t.invert)return!0;if(typeof t.value=="string"){const a=ur.doesMatch(t.value,this.value);if(!this.invert&&!t.invert)return a;if(this.invert&&!t.invert||!this.invert&&t.invert)return!a;if(!this.invert&&!t.invert)return a}return!1}return t instanceof xi&&ur.doesMatch(t.key,this.key)?this.value.source==="^..*$"?this.invert?t.value==="":!1:this.invert?!1:(this.value.source??this.value)===t.value:!1}usedKeys(){if(typeof this.key=="string")return[this.key];throw"Key cannot be determined as it is a regex"}usedTags(){return[]}asChange(t){return this.invert?[]:typeof this.key=="string"?typeof this.value=="string"?[{k:this.key,v:this.value}]:((this.value.toString()!="/^..*$/"||this.value.toString()!=".+")&&console.warn("Regex value in tag; using wildcard:",this.key,this.value),[{k:this.key,v:void 0}]):(console.error("Cannot export regex tag to asChange; ",this.key,this.value),[])}optimize(){return this}isNegative(){return this.invert}visit(t){t(this)}}class wi extends Gh{constructor(t){super();ae(this,"or");this.or=t}static construct(t){return t.length===1?t[0]:new wi(t)}matchesProperties(t){for(const a of this.or)if(a.matchesProperties(t))return!0;return!1}asOverpass(){const t=[];for(const a of this.or){const o=a.asOverpass();t.push(...o)}return t}asHumanString(t,a,o){return this.or.map(u=>u.asHumanString(t,a,o)).join("|")}isUsableAsAnswer(){return!1}shadows(t){if(t instanceof wi){for(const a of this.or){let o=!1;for(let u=0;u<t.or.length&&!o;u++){let d=t.or[u];o=a.shadows(d)}if(!o)return!1}return!0}return!1}usedKeys(){return[].concat(...this.or.map(t=>t.usedKeys()))}usedTags(){return[].concat(...this.or.map(t=>t.usedTags()))}asChange(t){const a=[];for(const o of this.or)a.push(...o.asChange(t));return a}removePhraseConsideredKnown(t,a){const o=[];for(const u of this.or){if(u instanceof wi)throw"Optimize expressions before using removePhraseConsideredKnown";if(u instanceof lr){const d=u.removePhraseConsideredKnown(t,a);if(d===!1)continue;if(d===!0)return!0;o.push(d);continue}if(a&&t.shadows(u))return!0;!a&&u.shadows(t)||o.push(u)}return o.length===0?!1:wi.construct(o)}optimize(){if(this.or.length===0)return!1;const t=this.or.map(d=>d.optimize()).filter(d=>d!==!1);if(t.some(d=>d===!0))return!0;const a=t,o=[];let u=[];for(const d of a)d instanceof wi?o.push(...d.or):d instanceof lr?u.push(d):o.push(d);{let d=!1;do{const c=[];e:for(let h of u){for(const g of o){const m=h.removePhraseConsideredKnown(g,!1);if(m===!1)continue e;if(m===!0)return!0;if(m instanceof lr){h=m;continue}o.push(m),d=!0;continue e}c.push(h)}u=c}while(d)}if(u.length===1)o.push(u[0]);else if(u.length>1){let d=u[0].and;for(let c=1;c<u.length&&d.length>0;c++){const h=u[c];d=d.filter(g=>h.and.some(m=>m.shadows(g)))}if(d.length===0)o.push(...u);else{const c=[];for(const g of u){const m=g.and.filter(y=>!d.some(x=>x.shadows(y)));c.push(lr.construct(m))}d.push(wi.construct(c));const h=new lr(d).optimize();if(h===!0)return!0;h===!1||o.push(lr.construct(d))}}return o.length===0?!1:ps.ContainsOppositeTags(o)?!0:(ps.sortFilters(o,!1),wi.construct(o))}isNegative(){return this.or.some(t=>t.isNegative())}visit(t){t(this),this.or.forEach(a=>a.visit(t))}}class lr extends Gh{constructor(t){super();ae(this,"and");this.and=t}static construct(t){return t.length===1?t[0]:new lr(t)}static combine(t,a){const o=[];for(const u of a)o.push(t+u);return o}normalize(){const t=[];for(const a of this.and)a instanceof lr?t.push(...a.and):t.push(a);return new lr(t)}matchesProperties(t){for(const a of this.and)if(!a.matchesProperties(t))return!1;return!0}asOverpass(){let t=null;for(const a of this.and){const o=a.asOverpass();if(t===null){t=o;continue}const u=[];for(const d of t)u.push(...lr.combine(d,o));t=u}return t}asHumanString(t,a,o){return this.and.map(u=>u.asHumanString(t,a,o)).filter(u=>u!=="").join("&")}isUsableAsAnswer(){for(const t of this.and)if(!t.isUsableAsAnswer())return!1;return!0}shadows(t){if(!(t instanceof lr))return!1;for(const a of this.and){let o=!1;for(const u of t.and)if(o=a.shadows(u),o)break;if(!o)return!1}for(const a of t.and){let o=!1;for(const u of this.and)if(o=u.shadows(a),o)break;if(!o)return!1}return!0}usedKeys(){return[].concat(...this.and.map(t=>t.usedKeys()))}usedTags(){return[].concat(...this.and.map(t=>t.usedTags()))}asChange(t){const a=[];for(const o of this.and)a.push(...o.asChange(t));return a}removePhraseConsideredKnown(t,a){const o=[];for(const u of this.and){if(u instanceof lr)throw"Optimize expressions before using removePhraseConsideredKnown";if(u instanceof wi){const d=u.removePhraseConsideredKnown(t,a);if(d===!0)continue;if(d===!1)return!1;o.push(d);continue}if(!(a&&t.shadows(u))){if(!a&&u.shadows(t))return!1;o.push(u)}}return o.length===0?!0:lr.construct(o)}optimize(){if(this.and.length===0)return!0;const t=this.and.map(d=>d.optimize()).filter(d=>d!==!0);if(t.some(d=>d===!1))return!1;const a=t;{const d={};for(const c of a)c instanceof xi&&(d[c.key]=c.value);for(let c=0;c<a.length;c++){const h=a[c];if(h instanceof xi){const g=h.key,m=d[g];if(m===void 0)continue;if(m!==h.value)return!1}if(h instanceof ur){const g=h.key;if(typeof g!="string")continue;const m=d[g];if(m===void 0)continue;if(h.invert){if(typeof h.value=="string"&&m===h.value||m.match(h.value)!==null)return!1;a.splice(c,1),c--}else if(m!==h.value)return!1}}}const o=[];let u=[];for(const d of a)d instanceof lr?o.push(...d.and):d instanceof wi?u.push(d):o.push(d);{let d=!1;do{const c=[];e:for(let h of u){for(const g of o){const m=h.removePhraseConsideredKnown(g,!0);if(m===!0)continue e;if(m===!1)return!1;if(m instanceof wi){h=m;continue}o.push(m),d=!0;continue e}c.push(h)}u=c}while(d)}if(u=u.filter(d=>!ps.containsEquivalents(o,d.or)),u.length===1)o.push(u[0]);else if(u.length>1){let d=u[0].or;for(let c=1;c<u.length&&d.length>0;c++){const h=u[c];d=d.filter(g=>h.or.some(m=>m.shadows(g)))}if(d.length===0)o.push(...u);else{const c=[];for(const g of u){const m=g.or.filter(y=>!d.some(x=>x.shadows(y)));c.push(wi.construct(m))}d.push(lr.construct(c));const h=new wi(d).optimize();if(h===!1)return!1;h===!0||o.push(h)}}return o.length===0?!0:ps.ContainsOppositeTags(o)?!1:(ps.sortFilters(o,!0),lr.construct(o))}isNegative(){return!this.and.some(t=>!t.isNegative())}visit(t){t(this),this.and.forEach(a=>a.visit(t))}}class g_{constructor(e,t,a=""){ae(this,"_key");ae(this,"_predicate");ae(this,"_representation");this._key=e,this._predicate=t,this._representation=a}asChange(e){throw"A comparable tag can not be used to be uploaded to OSM"}asHumanString(e,t,a){return this._key+this._representation}asOverpass(){throw"A comparable tag can not be used as overpass filter"}shadows(e){return e===this}isUsableAsAnswer(){return!1}matchesProperties(e){return this._predicate(e[this._key])}usedKeys(){return[this._key]}usedTags(){return[]}optimize(){return this}isNegative(){return!0}visit(e){e(this)}}class Us{constructor(e,t,a=!1){ae(this,"_key");ae(this,"_value");ae(this,"_invert");this._key=e,this._value=t,this._invert=a}static substituteString(e,t){for(const a in t)e=e.replace(new RegExp("\\{"+a+"\\}","g"),t[a]);return e.replace(/{.*}/g,"")}asTag(e){if(this._invert)throw"Cannot convert an inverted substituting tag";return new xi(this._key,gt.SubstituteKeys(this._value,e))}asHumanString(e,t,a){return this._key+(this._invert?"!":"")+"="+Us.substituteString(this._value,a)}asOverpass(){throw"A variable with substitution can not be used to query overpass"}shadows(e){return e instanceof Us?e._key===this._key&&e._value===this._value&&e._invert===this._invert:!1}isUsableAsAnswer(){return!this._invert}matchesProperties(e){const t=e[this._key];if(t===void 0||t==="")return!1;const a=Us.substituteString(this._value,e);return t===a!==this._invert}usedKeys(){return[this._key]}usedTags(){return[]}asChange(e){if(this._invert)throw"An inverted substituting tag can not be used to create a change";const t=Us.substituteString(this._value,e);if(t.match(/{.*}/)!==null)throw"Could not calculate all the substitutions: still have "+t;return[{k:this._key,v:t}]}optimize(){return this}isNegative(){return!1}visit(e){e(this)}}const p_={"addr:street":117211930,"addr:housenumber":125040768,emergency:1939478,barrier:18424246,tourism:2683525,amenity:20541353,bench:894256,rental:8838,bicycle_rental:7447,vending:206755,"service:bicycle:rental":3570,pub:316,theme:426,"service:bicycle:.*":0,"service:bicycle:cleaning":807,shop:5062252,"service:bicycle:retail":9162,network:2181336,sport:2194801,"service:bicycle:repair":11381,association:369,ngo:42,leisure:7368076,club:38429,"disused:amenity":40880,"planned:amenity":205,tileId:0,"construction:amenity":1206,cycleway:906487,highway:218189453,bicycle:6218071,cyclestreet:8185,"camera:direction":40676,direction:1896015,access:16030036,entrance:2954076,"name:etymology":24485,memorial:132172,indoor:353116,"name:etymology:wikidata":285224,landuse:35524214,name:88330405,protect_class:73801,information:831513,man_made:5116088,boundary:2142378,"tower:type":451658,playground:109175,route:939184,"surveillance:type":116760,natural:52353504,building:500469053},m_={emergency:{defibrillator:51273,ambulance_station:11047,fire_extinguisher:7355,fire_hydrant:1598739},barrier:{cycle_barrier:104166,bollard:502220,wall:3535056},tourism:{artwork:187470,map:51,viewpoint:191765},amenity:{bench:1736979,bicycle_library:36,bicycle_rental:49082,vending_machine:201871,bar:199662,pub:174979,cafe:467521,restaurant:1211671,bicycle_wash:44,bike_wash:0,bicycle_repair_station:9247,bicycle_parking:435959,binoculars:479,biergarten:10309,charging_station:65402,drinking_water:250463,fast_food:460079,fire_station:122200,parking:4255206,public_bookcase:13120,toilets:350648,recycling:333925,waste_basket:550357,waste_disposal:156765},bench:{stand_up_bench:87,yes:524993},"service:bicycle:rental":{yes:3054},pub:{cycling:9,bicycle:0},theme:{cycling:8,bicycle:16},"service:bicycle:cleaning":{yes:607,diy:0},shop:{bicycle:46488,sports:37024},sport:{cycling:6045,bicycle:96},association:{cycling:5,bicycle:20},ngo:{cycling:0,bicycle:0},leisure:{bird_hide:5669,nature_reserve:117016,picnic_table:206322,pitch:1990293,playground:705102},club:{cycling:3,bicycle:49},"disused:amenity":{charging_station:164},"planned:amenity":{charging_station:115},"construction:amenity":{charging_station:221},cycleway:{lane:314576,track:86541,shared_lane:60824},highway:{residential:61321708,crossing:6119521,cycleway:1423789,traffic_signals:1512639,tertiary:7051727,unclassified:15756878,secondary:4486617,primary:3110552,footway:16496620,path:11438303,steps:1327396,corridor:27051,pedestrian:685989,bridleway:102280,track:22670967,living_street:1519108,street_lamp:2811705},bicycle:{designated:1110839},cyclestreet:{yes:8164},access:{public:6222,yes:1363526},memorial:{ghost_bike:503},indoor:{door:9722},landuse:{grass:4898559,village_green:104681},name:{"Park Oude God":1},information:{board:242007,map:85912,office:24139,visitor_centre:285},man_made:{surveillance:148172,watermill:9699},boundary:{protected_area:97075},"tower:type":{observation:19654},playground:{forest:56},"surveillance:type":{camera:112963,ALPR:2522,ANPR:3},natural:{tree:18245059}},y_={keys:p_,tags:m_},ni=class{static KVtoProperties(e){const t={};for(const a of e)t[a.key]=a.value;return t}static changeAsProperties(e){const t={};for(const a of e)t[a.k]=a.v;return t}static AllKeysAreContained(e,t){for(const a in t){const o=e[a];if(o===void 0)return!1;const u=t[a];for(const d of u)if(o.indexOf(d)<0)return!1}return!0}static SplitKeys(e){return this.SplitKeysRegex(e,!1)}static SplitKeysRegex(e,t){const a={};for(e=[...e];e.length>0;){const o=e.shift();if(o!==void 0){if(o instanceof lr){e.push(...o.and);continue}if(o instanceof xi){a[o.key]===void 0&&(a[o.key]=[]),a[o.key].push(...o.value.split(";").map(u=>u.trim()));continue}if(t&&o instanceof ur){const u=o.key;if(typeof u!="string")throw console.error("Invalid type to flatten the multiAnswer: key is a regex too",o),"Invalid type to FlattenMultiAnswer";const d=u;a[d]===void 0&&(a[d]=[]),a[d].push(o);continue}throw console.error("Invalid type to flatten the multiAnswer",o),"Invalid type to FlattenMultiAnswer"}}return a}static FlattenAnd(e,t){const a=[];return e.visit(o=>{o instanceof xi&&a.push(o),o instanceof Us&&a.push(o.asTag(t))}),a}static FlattenMultiAnswer(e){if(e===void 0)return new lr([]);let t=ni.SplitKeys(e);const a=[];for(const o in t){const u=gt.Dedup(t[o]).filter(d=>d!=="");u.sort(),a.push(new xi(o,u.join(";")))}return new lr(a)}static MatchesMultiAnswer(e,t){const a=ni.SplitKeysRegex([e],!0);for(const o in a){const u=a[o];if(t[o]===void 0)return!1;const d=t[o].split(";").map(c=>c.trim());for(const c of u){if(c instanceof ur){if(!c.matchesProperties(t))return!1;continue}if(d.indexOf(c)<0)return!1}}return!0}static SimpleTag(e,t){const a=gt.SplitFirst(e,"=");if(a.length!==2)throw`Invalid tag: no (or too much) '=' found (in ${t??"unkown context"})`;return new xi(a[0],a[1])}static isValidKey(e){return e.match(/^[a-z][a-z0-9:_]{2,253}[a-z0-9]$/)!==null}static Tag(e,t=""){try{return this.ParseTagUnsafe(e,t)}catch(a){throw console.error("Could not parse tag",e,"in context",t,"due to ",a),a}}static ParseUploadableTag(e,t=""){const a=this.Tag(e,t);return a.visit(o=>{if(!(o instanceof lr)&&!(o instanceof xi)&&!(o instanceof Us))throw`Error at ${t}: detected a non-uploadable tag at a location where this is not supported: ${o.asHumanString(!1,!1,{})}`}),a}static TagD(e,t=""){if(e!==void 0)return ni.Tag(e,t)}static sortFilters(e,t){e.sort((a,o)=>ni.order(a,o,t))}static toString(e,t=!0){let a;return e instanceof wi?a=ni.joinL(e.or,"|",t):e instanceof lr?a=ni.joinL(e.and,"&",t):a=e.asHumanString(!1,!1,{}),t&&(a=a.trim()),a}static parseRegexOperator(e){const t=e.match(/^([_|a-zA-Z0-9: -]+)(!)?~([i]~)?(.*)$/);if(t==null)return null;const[a,o,u,d,c]=t;return{key:o,value:c,invert:u=="!",modifier:d=="i~"?"i":""}}static ContainsOppositeTags(e){for(let t=0;t<e.length;t++){const a=e[t];if(a instanceof xi||a instanceof ur)for(let o=t+1;o<e.length;o++){const u=e[o];if((u instanceof xi||u instanceof ur)&&u.key===a.key&&(u.value.source??u.value)===(a.value.source??a.value)&&(u.invert??!1)!==(a.invert??!1))return!0}}return!1}static removeShadowedElementsFrom(e,t){return t.filter(a=>!e.some(o=>o.shadows(a)))}static removeEquivalents(e){const t=[];e:for(let a=0;a<e.length;a++){const o=e[a];for(let u=0;u<e.length;u++){if(a===u)continue;if(e[u].shadows(o))continue e}t.push(o)}return t}static containsEquivalents(e,t){return t.some(a=>e.some(o=>o.shadows(a)))}static LevelsParser(e){let t=gt.NoNull([e]);return t=[].concat(...t.map(a=>a==null?void 0:a.split(";"))),t=[].concat(...t.map(a=>{if(a=a.trim(),a.indexOf("-")<0||a.startsWith("-"))return a;const[o,u]=a.split("-").map(c=>Number(c.trim()));if(isNaN(o)||isNaN(u))return;const d=[];for(let c=o;c<=u;c++)d.push(c+"");return d})),gt.NoNull(t)}static ParseTagUnsafe(e,t=""){if(e===void 0)throw new Error(`Error while parsing a tag: 'json' is undefined in ${t}. Make sure all the tags are defined and at least one tag is present in a complex expression`);if(typeof e!="string"){if(e.and!==void 0&&e.or!==void 0)throw"Error while parsing a TagConfig: got an object where both 'and' and 'or' are defined";if(e.and!==void 0)return new lr(e.and.map(u=>ni.Tag(u,t)));if(e.or!==void 0)return new wi(e.or.map(u=>ni.Tag(u,t)));throw`At ${t}: unrecognized tag: ${JSON.stringify(e)}`}const a=e;for(const[u,d]of ni.comparators)if(a.indexOf(u)>=0){const c=gt.SplitFirst(a,u);let h=Number(c[1].trim());isNaN(h)&&(h=new Date(c[1].trim()).getTime());const g=m=>{if(m===void 0)return!1;let y;return typeof m=="number"?y=m:typeof y=="string"?y=Number(m==null?void 0:m.trim()):y=Number(m),isNaN(y)&&typeof m=="string"&&(y=gt.ParseDate(m).getTime(),isNaN(y))?!1:d(y,h)};return new g_(c[0],g,u+h)}if(a.indexOf("~~")>=0){const u=gt.SplitFirst(a,"~~");let d;u[0]==="*"?d=new RegExp(".+","i"):d=new RegExp("^("+u[0]+")$");let c;return u[1]==="*"?c=new RegExp(".+","si"):c=new RegExp("^("+u[1]+")$","s"),new ur(d,c)}const o=ni.parseRegexOperator(a);if(o!=null){if(o.value==="*"&&o.invert)throw`Don't use 'key!~*' - use 'key=' instead (empty string as value (in the tag ${a} while parsing ${t})`;if(o.value==="")throw"Detected a regextag with an empty regex; this is not allowed. Use '"+o.key+"='instead (at "+t+")";let u=o.value;return u==="*"?new ur(o.key,new RegExp(".+","si"+o.modifier),o.invert):new ur(o.key,new RegExp("^("+u+")$","s"+o.modifier),o.invert)}if(a.indexOf("!:=")>=0){const u=gt.SplitFirst(a,"!:=");return new Us(u[0],u[1],!0)}if(a.indexOf(":=")>=0){const u=gt.SplitFirst(a,":=");return new Us(u[0],u[1])}if(a.indexOf("!=")>=0){const u=gt.SplitFirst(a,"!=");if(u[1]==="*")throw"At "+t+": invalid tag "+a+". To indicate a missing tag, use '"+u[0]+"!=' instead";return u[1]===""?new ur(u[0],/.+/is):new ur(u[0],u[1],!0)}if(a.indexOf("=")>=0){const u=gt.SplitFirst(a,"=");if(u[1]=="*")throw`Error while parsing tag '${a}' in ${t}: detected a wildcard on a normal value. Use a regex pattern instead`;return new xi(u[0],u[1])}throw`Error while parsing tag '${a}' in ${t}: no key part and value part were found`}static GetCount(e,t){if(e===void 0)return;const a=ni.keyCounts.tags[e];return a!==void 0&&a[t]!==void 0?a[t]:ni.keyCounts.keys[e]}static order(e,t,a){const o=e instanceof ur,u=t instanceof ur;if(o!==u)return o?1:-1;if(e.key!==void 0&&t.key!==void 0){if(a){const d=ni.GetCount(e.key,e.value),c=ni.GetCount(t.key,t.value);if(d!==void 0&&c!==void 0)return d-c}return e.key===t.key?0:e.key<t.key?-1:1}return 0}static joinL(e,t,a){const o=e.map(u=>ni.toString(u,!1)).join(t);return a?o:" ("+o+") "}};let ps=ni;ae(ps,"keyCounts",y_),ae(ps,"comparators",[["<=",(e,t)=>e<=t],[">=",(e,t)=>e>=t],["<",(e,t)=>e<t],[">",(e,t)=>e>t]]);var v_=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,b_=function(n){if(!n||n.length>254)return!1;var e=v_.test(n);if(!e)return!1;var t=n.split("@");if(t[0].length>64)return!1;var a=t[1].split(".");return!a.some(function(o){return o.length>63})};const x_={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([457]\\d{6})$","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2457]\\d{6})$","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"1|([267]\\d{6})$","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"0|(183[12])",0,0,0,[["(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:83[0-389]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","[24-689]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]]]],BL:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([3-8]\\d{6})$","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-79]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|3[178]|50|68|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[125-7]|33|44|66|77|88)|622)[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:83[0-389]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","10(?:10|9[56])|2[0-57-9](?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"0|(1(?:[12]\\d|79)\\d\\d)",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:60\\d\\d|9101)\\d{6}|(?:1\\d|3)\\d{9}",[10,11],[["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|91"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0(4(?:[14]4|56)|[579])?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["5"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:83[0-389]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:[0-5]\\d\\d|69[7-9]|70[0-579])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d\\d|1(?:[0-7]\\d\\d|8(?:[02]\\d|1[0-246-9])))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94|80\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"0|([25-9]\\d{5})$","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d\\d|606)\\d{5}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1289]|5[3-579]|6[0-389]|7[08]|8[0-689]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"1|([3-9]\\d{6})$","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","9008\\d{3}|(?:[2-467]\\d\\d|862)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([25-8]\\d{5})$","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([0-24-8]\\d{5})$","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|(?:[235-8]\\d|99)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"0|(1001)"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[25]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29[1289]|389)","529(?:1[1-46-9]|2[013-8]|90)|5(?:298|389)[0-46-9]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5293[01]\\d{4}|5(?:2(?:[0-25-7]\\d|3[1-578]|4[02-46-8]|8[0235-7]|9[0-289])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[0189]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[017]\\d|2[0-2]|6[0-8]|8[0-3]))\\d{6}"],["80\\d{7}"],["89\\d{7}"],0,0,0,0,["592(?:4[0-2]|93)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["976[01]\\d{5}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"0|([24-9]\\d{6})$","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","670$1",0,"670"],MQ:["596","00","(?:69|80)\\d{7}|(?:59|97)6\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"1|([34]\\d{6})$","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[3467]|9[1-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","1(?:(?:[27]2|44|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[01]\\d|2[13-9]|[35][1-9]|4[0-35-9]|6[0-46-9]|7[013-9]|8[1-79]|9[1-8])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[04]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[489]|59"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[47]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-579]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|[89]0","50(?:[0367]|88)|[89]0"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","(?:[45]|80\\d\\d)\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-6])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[16]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","976\\d{6}|(?:26|[68]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,"26[23]|69|[89]"],RO:["40","00","(?:[2378]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","800\\d{4}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-6]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|[57]9)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3478]|64|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6(?:0[5-7]|[1-35-9])|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|(5\\d{6})$","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"1|([2-479]\\d{6})$","649$1",0,"649"],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:00|[1-57-9]\\d)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-46-8]\\d{6})$","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["505(?:[2-57-9]\\d\\d|6(?:[0-35-9]\\d|4[46]))\\d{4}|(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[0-2]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-7]|33|44|66|77|88)[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","(?:0004|4)\\d{9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[7,8,10,13],[["(\\d{3})(\\d{4})","$1 $2",["405|8|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["4"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","810","(?:33|[5-79]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[35-9]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-578]\\d{6})$","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","80\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,"269|63"],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"[0-36-9]\\d{8}",[9],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-36-9]"]]],0,0,0,0,0,0,[0,["[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[013-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function w_(n,e){var t=Array.prototype.slice.call(e);return t.push(x_),n.apply(this,t)}function l1(n){return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l1(n)}function Tm(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function __(n,e,t){return e&&Tm(n.prototype,e),t&&Tm(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function S_(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function E_(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Kd(n,e)}function C_(n){var e=Nb();return function(){var a=Jd(n),o;if(e){var u=Jd(this).constructor;o=Reflect.construct(a,arguments,u)}else o=a.apply(this,arguments);return M_(this,o)}}function M_(n,e){if(e&&(l1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pb(n)}function Pb(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function d1(n){var e=typeof Map=="function"?new Map:void 0;return d1=function(a){if(a===null||!I_(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(a))return e.get(a);e.set(a,o)}function o(){return Sf(a,arguments,Jd(this).constructor)}return o.prototype=Object.create(a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Kd(o,a)},d1(n)}function Sf(n,e,t){return Nb()?Sf=Reflect.construct:Sf=function(o,u,d){var c=[null];c.push.apply(c,u);var h=Function.bind.apply(o,c),g=new h;return d&&Kd(g,d.prototype),g},Sf.apply(null,arguments)}function Nb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I_(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Kd(n,e){return Kd=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},Kd(n,e)}function Jd(n){return Jd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jd(n)}var Co=function(n){E_(t,n);var e=C_(t);function t(a){var o;return S_(this,t),o=e.call(this,a),Object.setPrototypeOf(Pb(o),t.prototype),o.name=o.constructor.name,o}return __(t)}(d1(Error)),tp=2,P_=17,N_=3,To="0-9０-９٠-٩۰-۹",A_="-‐-―−ー－",D_="／/",$_="．.",T_="  ­​⁠　",R_="()（）［］\\[\\]",O_="~⁓∼～",Vf="".concat(A_).concat(D_).concat($_).concat(T_).concat(R_).concat(O_),np="+＋";function Rm(n,e){n=n.split("-"),e=e.split("-");for(var t=n[0].split("."),a=e[0].split("."),o=0;o<3;o++){var u=Number(t[o]),d=Number(a[o]);if(u>d)return 1;if(d>u)return-1;if(!isNaN(u)&&isNaN(d))return 1;if(isNaN(u)&&!isNaN(d))return-1}return n[1]&&e[1]?n[1]>e[1]?1:n[1]<e[1]?-1:0:!n[1]&&e[1]?1:n[1]&&!e[1]?-1:0}function Gf(n){return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(n)}function Wh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Om(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function Uh(n,e,t){return e&&Om(n.prototype,e),t&&Om(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var L_="1.2.0",k_="1.7.35",Lm=" ext. ",F_=/^\d+$/,Si=function(){function n(e){Wh(this,n),V_(e),this.metadata=e,Ab.call(this,e)}return Uh(n,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(t){return t!=="001"})}},{key:"getCountryMetadata",value:function(t){return this.metadata.countries[t]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(t){return this.getCountryMetadata(t)!==void 0}},{key:"hasCallingCode",value:function(t){if(this.getCountryCodesForCallingCode(t))return!0;if(this.nonGeographic()){if(this.nonGeographic()[t])return!0}else{var a=this.countryCallingCodes()[t];if(a&&a.length===1&&a[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(t){return this.nonGeographic()?!!this.nonGeographic()[t]:!this.getCountryCodesForCallingCode(t)}},{key:"country",value:function(t){return this.selectNumberingPlan(t)}},{key:"selectNumberingPlan",value:function(t,a){if(t&&F_.test(t)&&(a=t,t=null),t&&t!=="001"){if(!this.hasCountry(t))throw new Error("Unknown country: ".concat(t));this.numberingPlan=new km(this.getCountryMetadata(t),this)}else if(a){if(!this.hasCallingCode(a))throw new Error("Unknown calling code: ".concat(a));this.numberingPlan=new km(this.getNumberingPlanMetadata(a),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(t){var a=this.countryCallingCodes()[t];if(a)return a.length===1&&a[0].length===3?void 0:a}},{key:"getCountryCodeForCallingCode",value:function(t){var a=this.getCountryCodesForCallingCode(t);if(a)return a[0]}},{key:"getNumberingPlanMetadata",value:function(t){var a=this.getCountryCodeForCallingCode(t);if(a)return this.getCountryMetadata(a);if(this.nonGeographic()){var o=this.nonGeographic()[t];if(o)return o}else{var u=this.countryCallingCodes()[t];if(u&&u.length===1&&u[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(t){return this.numberingPlan.type(t)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(t){return this.selectNumberingPlan(t)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}]),n}(),km=function(){function n(e,t){Wh(this,n),this.globalMetadataObject=t,this.metadata=e,Ab.call(this,t.metadata)}return Uh(n,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(t){return t[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var t=this,a=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return a.map(function(o){return new B_(o,t)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(t){return t[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(t){if(this.hasTypes()&&Fm(this.types(),t))return new z_(Fm(this.types(),t),this)}},{key:"ext",value:function(){return this.v1||this.v2?Lm:this.metadata[13]||Lm}}]),n}(),B_=function(){function n(e,t){Wh(this,n),this._format=e,this.metadata=t}return Uh(n,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!H_.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),n}(),H_=/^\(?\$1\)?$/,z_=function(){function n(e,t){Wh(this,n),this.type=e,this.metadata=t}return Uh(n,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),n}();function Fm(n,e){switch(e){case"FIXED_LINE":return n[0];case"MOBILE":return n[1];case"TOLL_FREE":return n[2];case"PREMIUM_RATE":return n[3];case"PERSONAL_NUMBER":return n[4];case"VOICEMAIL":return n[5];case"UAN":return n[6];case"PAGER":return n[7];case"VOIP":return n[8];case"SHARED_COST":return n[9]}}function V_(n){if(!n)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!ig(n)||!ig(n.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(ig(n)?"an object of shape: { "+Object.keys(n).join(", ")+" }":"a "+G_(n)+": "+n,"."))}var ig=function(e){return Gf(e)==="object"},G_=function(e){return Gf(e)};function rp(n,e){if(e=new Si(e),e.hasCountry(n))return e.country(n).countryCallingCode();throw new Error("Unknown country: ".concat(n))}function W_(n,e){return e.countries[n]!==void 0}function Ab(n){var e=n.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?Rm(e,L_)===-1?this.v2=!0:Rm(e,k_)===-1?this.v3=!0:this.v4=!0:this.v1=!0}var U_=";ext=",sl=function(e){return"([".concat(To,"]{1,").concat(e,"})")};function Db(n){var e="20",t="15",a="9",o="6",u="[  \\t,]*",d="[:\\.．]?[  \\t,-]*",c="#?",h="(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)",g="(?:[xｘ#＃~～]|int|ｉｎｔ)",m="[- ]+",y="[  \\t]*",x="(?:,{2}|;)",E=U_+sl(e),_=u+h+d+sl(e)+c,w=u+g+d+sl(a)+c,L=m+sl(o)+"#",k=y+x+d+sl(t)+c,W=y+"(?:,)+"+d+sl(a)+c;return E+"|"+_+"|"+w+"|"+L+"|"+k+"|"+W}var q_="["+To+"]{"+tp+"}",j_="["+np+"]{0,1}(?:["+Vf+"]*["+To+"]){3,}["+Vf+To+"]*",K_=new RegExp("^["+np+"]{0,1}(?:["+Vf+"]*["+To+"]){1,2}$","i"),J_=j_+"(?:"+Db()+")?",Y_=new RegExp("^"+q_+"$|^"+J_+"$","i");function $b(n){return n.length>=tp&&Y_.test(n)}function X_(n){return K_.test(n)}var Bm=new RegExp("(?:"+Db()+")$","i");function Z_(n){var e=n.search(Bm);if(e<0)return{};for(var t=n.slice(0,e),a=n.match(Bm),o=1;o<a.length;){if(a[o])return{number:t,ext:a[o]};o++}}var Q_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function e5(n){return Q_[n]}function t5(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=n5(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var a=0;return function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n5(n,e){if(n){if(typeof n=="string")return Hm(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hm(n,e)}}function Hm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function zm(n){for(var e="",t=t5(n.split("")),a;!(a=t()).done;){var o=a.value;e+=r5(o,e)||""}return e}function r5(n,e){return n==="+"?e?void 0:"+":e5(n)}function i5(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=a5(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var a=0;return function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a5(n,e){if(n){if(typeof n=="string")return Vm(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vm(n,e)}}function Vm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function s5(n,e){for(var t=n.slice(),a=i5(e),o;!(o=a()).done;){var u=o.value;n.indexOf(u)<0&&t.push(u)}return t.sort(function(d,c){return d-c})}function ip(n,e){return Tb(n,void 0,e)}function Tb(n,e,t){var a=t.type(e),o=a&&a.possibleLengths()||t.possibleLengths();if(!o)return"IS_POSSIBLE";if(e==="FIXED_LINE_OR_MOBILE"){if(!t.type("FIXED_LINE"))return Tb(n,"MOBILE",t);var u=t.type("MOBILE");u&&(o=s5(o,u.possibleLengths()))}else if(e&&!a)return"INVALID_LENGTH";var d=n.length,c=o[0];return c===d?"IS_POSSIBLE":c>d?"TOO_SHORT":o[o.length-1]<d?"TOO_LONG":o.indexOf(d,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function o5(n,e,t){if(e===void 0&&(e={}),t=new Si(t),e.v2){if(!n.countryCallingCode)throw new Error("Invalid phone number object passed");t.selectNumberingPlan(n.countryCallingCode)}else{if(!n.phone)return!1;if(n.country){if(!t.hasCountry(n.country))throw new Error("Unknown country: ".concat(n.country));t.country(n.country)}else{if(!n.countryCallingCode)throw new Error("Invalid phone number object passed");t.selectNumberingPlan(n.countryCallingCode)}}if(t.possibleLengths())return Rb(n.phone||n.nationalNumber,t);if(n.countryCallingCode&&t.isNonGeographicCallingCode(n.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Rb(n,e){switch(ip(n,e)){case"IS_POSSIBLE":return!0;default:return!1}}function u5(n,e){return c5(n)||d5(n,e)||Ob(n,e)||l5()}function l5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d5(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a=[],o=!0,u=!1,d,c;try{for(t=t.call(n);!(o=(d=t.next()).done)&&(a.push(d.value),!(e&&a.length===e));o=!0);}catch(h){u=!0,c=h}finally{try{!o&&t.return!=null&&t.return()}finally{if(u)throw c}}return a}}function c5(n){if(Array.isArray(n))return n}function f5(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=Ob(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var a=0;return function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ob(n,e){if(n){if(typeof n=="string")return Gm(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gm(n,e)}}function Gm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function h5(n){var e,t;n=n.replace(/^tel:/,"tel=");for(var a=f5(n.split(";")),o;!(o=a()).done;){var u=o.value,d=u.split("="),c=u5(d,2),h=c[0],g=c[1];switch(h){case"tel":e=g;break;case"ext":t=g;break;case"phone-context":g[0]==="+"&&(e=g+e);break}}if(!$b(e))return{};var m={number:e};return t&&(m.ext=t),m}function g5(n){var e=n.number,t=n.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(t?";ext="+t:"")}function Xs(n,e){return n=n||"",new RegExp("^(?:"+e+")$").test(n)}function p5(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=m5(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var a=0;return function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m5(n,e){if(n){if(typeof n=="string")return Wm(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wm(n,e)}}function Wm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}var y5=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function ap(n,e,t){if(e=e||{},!!n.country){t=new Si(t),t.selectNumberingPlan(n.country,n.countryCallingCode);var a=e.v2?n.nationalNumber:n.phone;if(Xs(a,t.nationalNumberPattern())){if(ag(a,"FIXED_LINE",t))return t.type("MOBILE")&&t.type("MOBILE").pattern()===""||!t.type("MOBILE")||ag(a,"MOBILE",t)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var o=p5(y5),u;!(u=o()).done;){var d=u.value;if(ag(a,d,t))return d}}}}function ag(n,e,t){return e=t.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(n.length)<0?!1:Xs(n,e.pattern())}function v5(n,e,t){if(e=e||{},t=new Si(t),!n.country)return!1;if(t.selectNumberingPlan(n.country,n.countryCallingCode),t.hasTypes())return ap(n,e,t.metadata)!==void 0;var a=e.v2?n.nationalNumber:n.phone;return Xs(a,t.nationalNumberPattern())}function b5(n,e,t){var a=new Si(t),o=a.getCountryCodesForCallingCode(n);return o?o.filter(function(u){return x5(e,u,t)}):[]}function x5(n,e,t){var a=new Si(t);return a.selectNumberingPlan(e),a.numberingPlan.possibleLengths().indexOf(n.length)>=0}function w5(n){return n.replace(new RegExp("[".concat(Vf,"]+"),"g")," ").trim()}var _5=/(\$\d)/;function S5(n,e,t){var a=t.useInternationalFormat,o=t.withNationalPrefix;t.carrierCode,t.metadata;var u=n.replace(new RegExp(e.pattern()),a?e.internationalFormat():o&&e.nationalPrefixFormattingRule()?e.format().replace(_5,e.nationalPrefixFormattingRule()):e.format());return a?w5(u):u}var E5=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function C5(n,e,t){var a=new Si(t);if(a.selectNumberingPlan(n,e),a.defaultIDDPrefix())return a.defaultIDDPrefix();if(E5.test(a.IDDPrefix()))return a.IDDPrefix()}function M5(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=I5(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var a=0;return function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5(n,e){if(n){if(typeof n=="string")return Um(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Um(n,e)}}function Um(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function qm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function jm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qm(Object(t),!0).forEach(function(a){P5(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qm(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function P5(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Km={formatExtension:function(e,t,a){return"".concat(e).concat(a.ext()).concat(t)}};function N5(n,e,t,a){if(t?t=jm(jm({},Km),t):t=Km,a=new Si(a),n.country&&n.country!=="001"){if(!a.hasCountry(n.country))throw new Error("Unknown country: ".concat(n.country));a.country(n.country)}else if(n.countryCallingCode)a.selectNumberingPlan(n.countryCallingCode);else return n.phone||"";var o=a.countryCallingCode(),u=t.v2?n.nationalNumber:n.phone,d;switch(e){case"NATIONAL":return u?(d=Wf(u,n.carrierCode,"NATIONAL",a,t),sg(d,n.ext,a,t.formatExtension)):"";case"INTERNATIONAL":return u?(d=Wf(u,null,"INTERNATIONAL",a,t),d="+".concat(o," ").concat(d),sg(d,n.ext,a,t.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(u);case"RFC3966":return g5({number:"+".concat(o).concat(u),ext:n.ext});case"IDD":if(!t.fromCountry)return;var c=D5(u,n.carrierCode,o,t.fromCountry,a);return sg(c,n.ext,a,t.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function Wf(n,e,t,a,o){var u=A5(a.formats(),n);return u?S5(n,u,{useInternationalFormat:t==="INTERNATIONAL",withNationalPrefix:!(u.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&o&&o.nationalPrefix===!1),carrierCode:e,metadata:a}):n}function A5(n,e){for(var t=M5(n),a;!(a=t()).done;){var o=a.value;if(o.leadingDigitsPatterns().length>0){var u=o.leadingDigitsPatterns()[o.leadingDigitsPatterns().length-1];if(e.search(u)!==0)continue}if(Xs(e,o.pattern()))return o}}function sg(n,e,t,a){return e?a(n,e,t):n}function D5(n,e,t,a,o){var u=rp(a,o.metadata);if(u===t){var d=Wf(n,e,"NATIONAL",o);return t==="1"?t+" "+d:d}var c=C5(a,void 0,o.metadata);if(c)return"".concat(c," ").concat(t," ").concat(Wf(n,null,"INTERNATIONAL",o))}function Jm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function Ym(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jm(Object(t),!0).forEach(function(a){$5(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jm(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function $5(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T5(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xm(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function R5(n,e,t){return e&&Xm(n.prototype,e),t&&Xm(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var O5=function(){function n(e,t,a){if(T5(this,n),!e)throw new TypeError("`country` or `countryCallingCode` not passed");if(!t)throw new TypeError("`nationalNumber` not passed");if(!a)throw new TypeError("`metadata` not passed");var o=new Si(a);L5(e)&&(this.country=e,o.country(e),e=o.countryCallingCode()),this.countryCallingCode=e,this.nationalNumber=t,this.number="+"+this.countryCallingCode+this.nationalNumber,this.metadata=a}return R5(n,[{key:"setExt",value:function(t){this.ext=t}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:b5(this.countryCallingCode,this.nationalNumber,this.metadata)}},{key:"isPossible",value:function(){return o5(this,{v2:!0},this.metadata)}},{key:"isValid",value:function(){return v5(this,{v2:!0},this.metadata)}},{key:"isNonGeographic",value:function(){var t=new Si(this.metadata);return t.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(t){return this.number===t.number&&this.ext===t.ext}},{key:"getType",value:function(){return ap(this,{v2:!0},this.metadata)}},{key:"format",value:function(t,a){return N5(this,t,a?Ym(Ym({},a),{},{v2:!0}):{v2:!0},this.metadata)}},{key:"formatNational",value:function(t){return this.format("NATIONAL",t)}},{key:"formatInternational",value:function(t){return this.format("INTERNATIONAL",t)}},{key:"getURI",value:function(t){return this.format("RFC3966",t)}}]),n}(),L5=function(e){return/^[A-Z]{2}$/.test(e)},k5=new RegExp("(["+To+"])");function F5(n,e,t,a){if(e){var o=new Si(a);o.selectNumberingPlan(e,t);var u=new RegExp(o.IDDPrefix());if(n.search(u)===0){n=n.slice(n.match(u)[0].length);var d=n.match(k5);if(!(d&&d[1]!=null&&d[1].length>0&&d[1]==="0"))return n}}}function B5(n,e){if(n&&e.numberingPlan.nationalPrefixForParsing()){var t=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),a=t.exec(n);if(a){var o,u,d=a.length-1,c=d>0&&a[d];if(e.nationalPrefixTransformRule()&&c)o=n.replace(t,e.nationalPrefixTransformRule()),d>1&&(u=a[1]);else{var h=a[0];o=n.slice(h.length),c&&(u=a[1])}var g;if(c){var m=n.indexOf(a[1]),y=n.slice(0,m);y===e.numberingPlan.nationalPrefix()&&(g=e.numberingPlan.nationalPrefix())}else g=a[0];return{nationalNumber:o,nationalPrefix:g,carrierCode:u}}}return{nationalNumber:n}}function c1(n,e){var t=B5(n,e),a=t.carrierCode,o=t.nationalNumber;if(o!==n){if(!H5(n,o,e))return{nationalNumber:n};if(e.possibleLengths()&&!z5(o,e))return{nationalNumber:n}}return{nationalNumber:o,carrierCode:a}}function H5(n,e,t){return!(Xs(n,t.nationalNumberPattern())&&!Xs(e,t.nationalNumberPattern()))}function z5(n,e){switch(ip(n,e)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function V5(n,e,t,a){var o=e?rp(e,a):t;if(n.indexOf(o)===0){a=new Si(a),a.selectNumberingPlan(e,t);var u=n.slice(o.length),d=c1(u,a),c=d.nationalNumber,h=c1(n,a),g=h.nationalNumber;if(!Xs(g,a.nationalNumberPattern())&&Xs(c,a.nationalNumberPattern())||ip(g,a)==="TOO_LONG")return{countryCallingCode:o,number:u}}return{number:n}}function G5(n,e,t,a){if(!n)return{};if(n[0]!=="+"){var o=F5(n,e,t,a);if(o&&o!==n)n="+"+o;else{if(e||t){var u=V5(n,e,t,a),d=u.countryCallingCode,c=u.number;if(d)return{countryCallingCode:d,number:c}}return{number:n}}}if(n[1]==="0")return{};a=new Si(a);for(var h=2;h-1<=N_&&h<=n.length;){var g=n.slice(1,h);if(a.hasCallingCode(g))return a.selectNumberingPlan(g),{countryCallingCode:g,number:n.slice(h)};h++}return{}}function W5(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=U5(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var a=0;return function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5(n,e){if(n){if(typeof n=="string")return Zm(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zm(n,e)}}function Zm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function q5(n,e,t){t=new Si(t);for(var a=W5(n),o;!(o=a()).done;){var u=o.value;if(t.country(u),t.leadingDigits()){if(e&&e.search(t.leadingDigits())===0)return u}else if(ap({phone:e,country:u},void 0,t.metadata))return u}}var j5=!1;function K5(n,e,t){if(j5&&t.isNonGeographicCallingCode(n))return"001";var a=t.getCountryCodesForCallingCode(n);if(a)return a.length===1?a[0]:q5(a,e,t.metadata)}var J5=250,Y5=new RegExp("["+np+To+"]"),X5=new RegExp("[^"+To+"#]+$");function Z5(n,e,t){if(e=e||{},t=new Si(t),e.defaultCountry&&!t.hasCountry(e.defaultCountry))throw e.v2?new Co("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var a=e6(n,e.v2,e.extract),o=a.number,u=a.ext,d=a.error;if(!o){if(e.v2)throw d==="TOO_SHORT"?new Co("TOO_SHORT"):new Co("NOT_A_NUMBER");return{}}var c=n6(o,e.defaultCountry,e.defaultCallingCode,t),h=c.country,g=c.nationalNumber,m=c.countryCallingCode,y=c.carrierCode;if(!t.hasSelectedNumberingPlan()){if(e.v2)throw new Co("INVALID_COUNTRY");return{}}if(!g||g.length<tp){if(e.v2)throw new Co("TOO_SHORT");return{}}if(g.length>P_){if(e.v2)throw new Co("TOO_LONG");return{}}if(e.v2){var x=new O5(m,g,t.metadata);return h&&(x.country=h),y&&(x.carrierCode=y),u&&(x.ext=u),x}var E=(e.extended?t.hasSelectedNumberingPlan():h)?Xs(g,t.nationalNumberPattern()):!1;return e.extended?{country:h,countryCallingCode:m,carrierCode:y,valid:E,possible:E?!0:!!(e.extended===!0&&t.possibleLengths()&&Rb(g,t)),phone:g,ext:u}:E?t6(h,g,u):{}}function Q5(n,e,t){if(n){if(n.length>J5){if(t)throw new Co("TOO_LONG");return}if(e===!1)return n;var a=n.search(Y5);if(!(a<0))return n.slice(a).replace(X5,"")}}function e6(n,e,t){if(n&&n.indexOf("tel:")===0)return h5(n);var a=Q5(n,t,e);if(!a)return{};if(!$b(a))return X_(a)?{error:"TOO_SHORT"}:{};var o=Z_(a);return o.ext?o:{number:a}}function t6(n,e,t){var a={country:n,phone:e};return t&&(a.ext=t),a}function n6(n,e,t,a){var o=G5(zm(n),e,t,a.metadata),u=o.countryCallingCode,d=o.number,c;if(u)a.selectNumberingPlan(u);else if(d&&(e||t))a.selectNumberingPlan(e,t),e&&(c=e),u=t||rp(e,a.metadata);else return{};if(!d)return{countryCallingCode:u};var h=c1(zm(d),a),g=h.nationalNumber,m=h.carrierCode,y=K5(u,g,a);return y&&(c=y,y==="001"||a.country(c)),{country:c,countryCallingCode:u,nationalNumber:g,carrierCode:m}}function Qm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function e2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qm(Object(t),!0).forEach(function(a){r6(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qm(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function r6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i6(n,e,t){return Z5(n,e2(e2({},e),{},{v2:!0}),t)}function f1(n){return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f1(n)}function t2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function a6(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(t),!0).forEach(function(a){s6(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):t2(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function s6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o6(n,e){return c6(n)||d6(n,e)||l6(n,e)||u6()}function u6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l6(n,e){if(n){if(typeof n=="string")return n2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n2(n,e)}}function n2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}function d6(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a=[],o=!0,u=!1,d,c;try{for(t=t.call(n);!(o=(d=t.next()).done)&&(a.push(d.value),!(e&&a.length===e));o=!0);}catch(h){u=!0,c=h}finally{try{!o&&t.return!=null&&t.return()}finally{if(u)throw c}}return a}}function c6(n){if(Array.isArray(n))return n}function f6(n){var e=Array.prototype.slice.call(n),t=o6(e,4),a=t[0],o=t[1],u=t[2],d=t[3],c,h,g;if(typeof a=="string")c=a;else throw new TypeError("A text for parsing must be a string.");if(!o||typeof o=="string")d?(h=u,g=d):(h=void 0,g=u),o&&(h=a6({defaultCountry:o},h));else if(h6(o))u?(h=o,g=u):g=o;else throw new Error("Invalid second argument: ".concat(o));return{text:c,options:h,metadata:g}}var h6=function(e){return f1(e)==="object"};function r2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function i2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(t),!0).forEach(function(a){g6(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r2(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function g6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p6(n,e,t){e&&e.defaultCountry&&!W_(e.defaultCountry,t)&&(e=i2(i2({},e),{},{defaultCountry:void 0}));try{return i6(n,e,t)}catch(a){if(!(a instanceof Co))throw a}}function m6(){var n=f6(arguments),e=n.text,t=n.options,a=n.metadata;return p6(e,t,a)}function a2(){return w_(m6,arguments)}class vl extends Qi{constructor(t){super();ae(this,"enterPressed",new Nt(void 0));ae(this,"value");ae(this,"_actualField");ae(this,"_isValid");ae(this,"_rawValue");ae(this,"_isFocused",!1);ae(this,"_options");this._options=t??{},t=t??{},this.value=(t==null?void 0:t.value)??new Nt(void 0),this._rawValue=new Nt(""),this._isValid=t.isValid??(a=>!0)}static SetCursorPosition(t,a){t!=null&&(a===-1&&(a=t.value.length),t.focus(),t.setSelectionRange(a,a))}GetValue(){return this.value}GetRawValue(){return this._rawValue}IsValid(t){return t==null?!1:this._isValid(t)}InnerConstructElement(){const t=this._options,a=this;let o,u="";t.placeholder&&(typeof t.placeholder=="string"?(u=t.placeholder,o=void 0):(t.placeholder instanceof q4&&t.placeholder.data!==void 0?o=t.placeholder:t.placeholder instanceof Td&&t.placeholder.translations!==void 0&&(o=Ur.language.map(g=>t.placeholder.textFor(g))),u=(o==null?void 0:o.data)??u??"")),this.SetClass("form-text-field");let d;if(t.htmlType==="area"){this.SetClass("w-full box-border max-w-full");const g=document.createElement("textarea");g.placeholder=u,g.rows=t.textAreaRows,g.cols=50,g.style.width="100%",g.dir="auto",d=g,o&&o.addCallbackAndRunD(m=>g.placeholder=m)}else{const g=document.createElement("input");g.type=t.htmlType??"text",g.inputMode=t.inputMode,g.placeholder=u,g.style.cssText=t.inputStyle??"width: 100%;",g.dir="auto",d=g,o&&o.addCallbackAndRunD(m=>g.placeholder=m)}const c=document.createElement("form");c.appendChild(d),c.onsubmit=()=>!1,t.label&&c.appendChild(t.label.ConstructElement());const h=d;return this.value.addCallbackAndRunD(g=>{h.value=g,a.IsValid(g)?a.RemoveClass("invalid"):a.SetClass("invalid")}),h.oninput=()=>{const g=h.value.substring(h.selectionEnd).replace(/ /g,"").length;let m=h.value;a._rawValue.setData(m),a.IsValid(m)?a.value.setData(m):a.value.setData(void 0),m=h.value;let y=m.length-g;for(;y>=0&&m.substr(y).replace(/ /g,"").length<g;)y--;vl.SetCursorPosition(h,y)},h.addEventListener("keyup",function(g){g.key==="Enter"&&a.enterPressed.setData(h.value)}),this._isFocused&&h.focus(),this._actualField=h,c}focus(){this._actualField===void 0?this._isFocused=!0:this._actualField.focus()}}class s2 extends Qi{constructor(t,a,o,u){super();ae(this,"_a");ae(this,"_b");ae(this,"_combined");ae(this,"_value");ae(this,"_split");this._a=t,this._b=a,this._split=u,this._combined=new un([this._a,this._b]),this._value=this._a.GetValue().sync(d=>{var c,h;return o(d,(h=(c=this._b)==null?void 0:c.GetValue())==null?void 0:h.data)},[this._b.GetValue()],d=>{var g;const[c,h]=u(d);return(g=this._b.GetValue())==null||g.setData(h),c})}GetValue(){return this._value}IsValid(t){const[a,o]=this._split(t);return this._a.IsValid(a)&&this._b.IsValid(o)}InnerConstructElement(){return this._combined.ConstructElement()}}class y6 extends Qi{constructor(t){super();ae(this,"IsSelected",new Nt(!1));ae(this,"value");ae(this,"_element");this.value=t??new Nt(void 0);const a=this,o=document.createElement("input");this._element=o,o.type="date",o.oninput=()=>{a.value.setData(o.value)},this.value.addCallbackAndRunD(u=>{o.value=u})}GetValue(){return this.value}IsValid(t){return!isNaN(new Date(t).getTime())}InnerConstructElement(){return this._element}}var Uf={},v6={get exports(){return Uf},set exports(n){Uf=n}},qf={},b6={get exports(){return qf},set exports(n){qf=n}},o2;function x6(){return o2||(o2=1,function(n,e){(function(){var t=Math.PI,a=Math.sin,o=Math.cos,u=Math.tan,d=Math.asin,c=Math.atan2,h=Math.acos,g=t/180,m=1e3*60*60*24,y=2440588,x=2451545;function E(G){return G.valueOf()/m-.5+y}function _(G){return new Date((G+.5-y)*m)}function w(G){return E(G)-x}var L=g*23.4397;function k(G,_e){return c(a(G)*o(L)-u(_e)*a(L),o(G))}function W(G,_e){return d(a(_e)*o(L)+o(_e)*a(L)*a(G))}function $(G,_e,De){return c(a(G),o(G)*a(_e)-u(De)*o(_e))}function O(G,_e,De){return d(a(_e)*a(De)+o(_e)*o(De)*o(G))}function z(G,_e){return g*(280.16+360.9856235*G)-_e}function le(G){return G<0&&(G=0),2967e-7/Math.tan(G+.00312536/(G+.08901179))}function H(G){return g*(357.5291+.98560028*G)}function Z(G){var _e=g*(1.9148*a(G)+.02*a(2*G)+3e-4*a(3*G)),De=g*102.9372;return G+_e+De+t}function Y(G){var _e=H(G),De=Z(_e);return{dec:W(De,0),ra:k(De,0)}}var ye={};ye.getPosition=function(G,_e,De){var $e=g*-De,be=g*_e,Ze=w(G),Qe=Y(Ze),Ot=z(Ze,$e)-Qe.ra;return{azimuth:$(Ot,be,Qe.dec),altitude:O(Ot,be,Qe.dec)}};var F=ye.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];ye.addTime=function(G,_e,De){F.push([G,_e,De])};var b=9e-4;function I(G,_e){return Math.round(G-b-_e/(2*t))}function B(G,_e,De){return b+(G+_e)/(2*t)+De}function V(G,_e,De){return x+G+.0053*a(_e)-.0069*a(2*De)}function ee(G,_e,De){return h((a(G)-a(_e)*a(De))/(o(_e)*o(De)))}function ce(G){return-2.076*Math.sqrt(G)/60}function q(G,_e,De,$e,be,Ze,Qe){var Ot=ee(G,De,$e),it=B(Ot,_e,be);return V(it,Ze,Qe)}ye.getTimes=function(G,_e,De,$e){$e=$e||0;var be=g*-De,Ze=g*_e,Qe=ce($e),Ot=w(G),it=I(Ot,be),at=B(0,be,it),lt=H(at),Pe=Z(lt),Tt=W(Pe,0),Rn=V(at,lt,Pe),$t,te,D,A,se,pe,Ee={solarNoon:_(Rn),nadir:_(Rn-.5)};for($t=0,te=F.length;$t<te;$t+=1)D=F[$t],A=(D[0]+Qe)*g,se=q(A,be,Ze,Tt,it,lt,Pe),pe=Rn-(se-Rn),Ee[D[1]]=_(pe),Ee[D[2]]=_(se);return Ee};function ne(G){var _e=g*(218.316+13.176396*G),De=g*(134.963+13.064993*G),$e=g*(93.272+13.22935*G),be=_e+g*6.289*a(De),Ze=g*5.128*a($e),Qe=385001-20905*o(De);return{ra:k(be,Ze),dec:W(be,Ze),dist:Qe}}ye.getMoonPosition=function(G,_e,De){var $e=g*-De,be=g*_e,Ze=w(G),Qe=ne(Ze),Ot=z(Ze,$e)-Qe.ra,it=O(Ot,be,Qe.dec),at=c(a(Ot),u(be)*o(Qe.dec)-a(Qe.dec)*o(Ot));return it=it+le(it),{azimuth:$(Ot,be,Qe.dec),altitude:it,distance:Qe.dist,parallacticAngle:at}},ye.getMoonIllumination=function(G){var _e=w(G||new Date),De=Y(_e),$e=ne(_e),be=149598e3,Ze=h(a(De.dec)*a($e.dec)+o(De.dec)*o($e.dec)*o(De.ra-$e.ra)),Qe=c(be*a(Ze),$e.dist-be*o(Ze)),Ot=c(o(De.dec)*a(De.ra-$e.ra),a(De.dec)*o($e.dec)-o(De.dec)*a($e.dec)*o(De.ra-$e.ra));return{fraction:(1+o(Qe))/2,phase:.5+.5*Qe*(Ot<0?-1:1)/Math.PI,angle:Ot}};function C(G,_e){return new Date(G.valueOf()+_e*m/24)}ye.getMoonTimes=function(G,_e,De,$e){var be=new Date(G);$e?be.setUTCHours(0,0,0,0):be.setHours(0,0,0,0);for(var Ze=.133*g,Qe=ye.getMoonPosition(be,_e,De).altitude-Ze,Ot,it,at,lt,Pe,Tt,Rn,$t,te,D,A,se,pe,Ee=1;Ee<=24&&(Ot=ye.getMoonPosition(C(be,Ee),_e,De).altitude-Ze,it=ye.getMoonPosition(C(be,Ee+1),_e,De).altitude-Ze,Pe=(Qe+it)/2-Ot,Tt=(it-Qe)/2,Rn=-Tt/(2*Pe),$t=(Pe*Rn+Tt)*Rn+Ot,te=Tt*Tt-4*Pe*Ot,D=0,te>=0&&(pe=Math.sqrt(te)/(Math.abs(Pe)*2),A=Rn-pe,se=Rn+pe,Math.abs(A)<=1&&D++,Math.abs(se)<=1&&D++,A<-1&&(A=se)),D===1?Qe<0?at=Ee+A:lt=Ee+A:D===2&&(at=Ee+($t<0?se:A),lt=Ee+($t<0?A:se)),!(at&&lt));Ee+=2)Qe=it;var Te={};return at&&(Te.rise=C(be,at)),lt&&(Te.set=C(be,lt)),!at&&!lt&&(Te[$t>0?"alwaysUp":"alwaysDown"]=!0),Te},n.exports=ye})()}(b6)),qf}const w6=Q1(J4);var jf={},_6={get exports(){return jf},set exports(n){jf=n}},u2;function S6(){return u2||(u2=1,function(n){function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(_6)),jf}var Kf={},E6={get exports(){return Kf},set exports(n){Kf=n}},Jf={},C6={get exports(){return Jf},set exports(n){Jf=n}},Yf={},M6={get exports(){return Yf},set exports(n){Yf=n}},l2;function sp(){return l2||(l2=1,function(n){function e(t){return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(M6)),Yf}var Xf={},I6={get exports(){return Xf},set exports(n){Xf=n}},d2;function P6(){return d2||(d2=1,function(n){var e=sp().default;function t(a,o){if(e(a)!=="object"||a===null)return a;var u=a[Symbol.toPrimitive];if(u!==void 0){var d=u.call(a,o||"default");if(e(d)!=="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(a)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(I6)),Xf}var c2;function N6(){return c2||(c2=1,function(n){var e=sp().default,t=P6();function a(o){var u=t(o,"string");return e(u)==="symbol"?u:String(u)}n.exports=a,n.exports.__esModule=!0,n.exports.default=n.exports}(C6)),Jf}var f2;function A6(){return f2||(f2=1,function(n){var e=N6();function t(o,u){for(var d=0;d<u.length;d++){var c=u[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,e(c.key),c)}}function a(o,u,d){return u&&t(o.prototype,u),d&&t(o,d),Object.defineProperty(o,"prototype",{writable:!1}),o}n.exports=a,n.exports.__esModule=!0,n.exports.default=n.exports}(E6)),Kf}var Zf={},D6={get exports(){return Zf},set exports(n){Zf=n}},h2;function Lb(){return h2||(h2=1,function(n){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(D6)),Zf}var Qf={},$6={get exports(){return Qf},set exports(n){Qf=n}},eh={},T6={get exports(){return eh},set exports(n){eh=n}},g2;function R6(){return g2||(g2=1,function(n){function e(t,a){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,d){return u.__proto__=d,u},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,a)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(T6)),eh}var p2;function O6(){return p2||(p2=1,function(n){var e=R6();function t(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&e(a,o)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}($6)),Qf}var th={},L6={get exports(){return th},set exports(n){th=n}},m2;function k6(){return m2||(m2=1,function(n){var e=sp().default,t=Lb();function a(o,u){if(u&&(e(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(o)}n.exports=a,n.exports.__esModule=!0,n.exports.default=n.exports}(L6)),th}var nh={},F6={get exports(){return nh},set exports(n){nh=n}},y2;function B6(){return y2||(y2=1,function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(F6)),nh}const H6=Q1(Y4);var rh={},z6={get exports(){return rh},set exports(n){rh=n}},ih={},V6={get exports(){return ih},set exports(n){ih=n}},v2;function G6(){return v2||(v2=1,function(n){function e(t){if(Array.isArray(t))return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(V6)),ih}var ah={},W6={get exports(){return ah},set exports(n){ah=n}},b2;function U6(){return b2||(b2=1,function(n){function e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(W6)),ah}var sh={},q6={get exports(){return sh},set exports(n){sh=n}},oh={},j6={get exports(){return oh},set exports(n){oh=n}},x2;function K6(){return x2||(x2=1,function(n){function e(t,a){(a==null||a>t.length)&&(a=t.length);for(var o=0,u=new Array(a);o<a;o++)u[o]=t[o];return u}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(j6)),oh}var w2;function J6(){return w2||(w2=1,function(n){var e=K6();function t(a,o){if(a){if(typeof a=="string")return e(a,o);var u=Object.prototype.toString.call(a).slice(8,-1);if(u==="Object"&&a.constructor&&(u=a.constructor.name),u==="Map"||u==="Set")return Array.from(a);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return e(a,o)}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(q6)),sh}var uh={},Y6={get exports(){return uh},set exports(n){uh=n}},_2;function X6(){return _2||(_2=1,function(n){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Y6)),uh}var S2;function Z6(){return S2||(S2=1,function(n){var e=G6(),t=U6(),a=J6(),o=X6();function u(d){return e(d)||t(d)||a(d)||o()}n.exports=u,n.exports.__esModule=!0,n.exports.default=n.exports}(z6)),rh}var og,E2;function Q6(){if(E2)return og;E2=1;var n=w6,e=S6(),t=A6(),a=Lb(),o=O6(),u=k6(),d=B6(),c=H6,h=Z6();function g(oe){return oe&&typeof oe=="object"&&"default"in oe?oe:{default:oe}}var m=g(n),y=g(e),x=g(t),E=g(a),_=g(o),w=g(u),L=g(d),k=g(c),W=g(h);function $(oe,Q){var J=Object.keys(oe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(oe);Q&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(oe,R).enumerable})),J.push.apply(J,U)}return J}function O(oe){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?$(Object(J),!0).forEach(function(U){k.default(oe,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(J)):$(Object(J)).forEach(function(U){Object.defineProperty(oe,U,Object.getOwnPropertyDescriptor(J,U))})}return oe}var z={type:"logger",log:function(Q){this.output("log",Q)},warn:function(Q){this.output("warn",Q)},error:function(Q){this.output("error",Q)},output:function(Q,J){console&&console[Q]&&console[Q].apply(console,J)}},le=function(){function oe(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};y.default(this,oe),this.init(Q,J)}return x.default(oe,[{key:"init",value:function(J){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=U.prefix||"i18next:",this.logger=J||z,this.options=U,this.debug=U.debug}},{key:"setDebug",value:function(J){this.debug=J}},{key:"log",value:function(){for(var J=arguments.length,U=new Array(J),R=0;R<J;R++)U[R]=arguments[R];return this.forward(U,"log","",!0)}},{key:"warn",value:function(){for(var J=arguments.length,U=new Array(J),R=0;R<J;R++)U[R]=arguments[R];return this.forward(U,"warn","",!0)}},{key:"error",value:function(){for(var J=arguments.length,U=new Array(J),R=0;R<J;R++)U[R]=arguments[R];return this.forward(U,"error","")}},{key:"deprecate",value:function(){for(var J=arguments.length,U=new Array(J),R=0;R<J;R++)U[R]=arguments[R];return this.forward(U,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(J,U,R,K){return K&&!this.debug?null:(typeof J[0]=="string"&&(J[0]="".concat(R).concat(this.prefix," ").concat(J[0])),this.logger[U](J))}},{key:"create",value:function(J){return new oe(this.logger,O(O({},{prefix:"".concat(this.prefix,":").concat(J,":")}),this.options))}},{key:"clone",value:function(J){return J=J||this.options,J.prefix=J.prefix||this.prefix,new oe(this.logger,J)}}]),oe}(),H=new le,Z=function(){function oe(){y.default(this,oe),this.observers={}}return x.default(oe,[{key:"on",value:function(J,U){var R=this;return J.split(" ").forEach(function(K){R.observers[K]=R.observers[K]||[],R.observers[K].push(U)}),this}},{key:"off",value:function(J,U){if(this.observers[J]){if(!U){delete this.observers[J];return}this.observers[J]=this.observers[J].filter(function(R){return R!==U})}}},{key:"emit",value:function(J){for(var U=arguments.length,R=new Array(U>1?U-1:0),K=1;K<U;K++)R[K-1]=arguments[K];if(this.observers[J]){var ie=[].concat(this.observers[J]);ie.forEach(function(ve){ve.apply(void 0,R)})}if(this.observers["*"]){var xe=[].concat(this.observers["*"]);xe.forEach(function(ve){ve.apply(ve,[J].concat(R))})}}}]),oe}();function Y(){var oe,Q,J=new Promise(function(U,R){oe=U,Q=R});return J.resolve=oe,J.reject=Q,J}function ye(oe){return oe==null?"":""+oe}function F(oe,Q,J){oe.forEach(function(U){Q[U]&&(J[U]=Q[U])})}function b(oe,Q,J){function U(xe){return xe&&xe.indexOf("###")>-1?xe.replace(/###/g,"."):xe}function R(){return!oe||typeof oe=="string"}for(var K=typeof Q!="string"?[].concat(Q):Q.split(".");K.length>1;){if(R())return{};var ie=U(K.shift());!oe[ie]&&J&&(oe[ie]=new J),Object.prototype.hasOwnProperty.call(oe,ie)?oe=oe[ie]:oe={}}return R()?{}:{obj:oe,k:U(K.shift())}}function I(oe,Q,J){var U=b(oe,Q,Object),R=U.obj,K=U.k;R[K]=J}function B(oe,Q,J,U){var R=b(oe,Q,Object),K=R.obj,ie=R.k;K[ie]=K[ie]||[],U&&(K[ie]=K[ie].concat(J)),U||K[ie].push(J)}function V(oe,Q){var J=b(oe,Q),U=J.obj,R=J.k;if(U)return U[R]}function ee(oe,Q,J){var U=V(oe,J);return U!==void 0?U:V(Q,J)}function ce(oe,Q,J){for(var U in Q)U!=="__proto__"&&U!=="constructor"&&(U in oe?typeof oe[U]=="string"||oe[U]instanceof String||typeof Q[U]=="string"||Q[U]instanceof String?J&&(oe[U]=Q[U]):ce(oe[U],Q[U],J):oe[U]=Q[U]);return oe}function q(oe){return oe.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function C(oe){return typeof oe=="string"?oe.replace(/[&<>"'\/]/g,function(Q){return ne[Q]}):oe}var G=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,_e=[" ",",","?","!",";"];function De(oe,Q,J){Q=Q||"",J=J||"";var U=_e.filter(function(xe){return Q.indexOf(xe)<0&&J.indexOf(xe)<0});if(U.length===0)return!0;var R=new RegExp("(".concat(U.map(function(xe){return xe==="?"?"\\?":xe}).join("|"),")")),K=!R.test(oe);if(!K){var ie=oe.indexOf(J);ie>0&&!R.test(oe.substring(0,ie))&&(K=!0)}return K}function $e(oe,Q){var J=Object.keys(oe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(oe);Q&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(oe,R).enumerable})),J.push.apply(J,U)}return J}function be(oe){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?$e(Object(J),!0).forEach(function(U){k.default(oe,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(J)):$e(Object(J)).forEach(function(U){Object.defineProperty(oe,U,Object.getOwnPropertyDescriptor(J,U))})}return oe}function Ze(oe){var Q=Qe();return function(){var U=L.default(oe),R;if(Q){var K=L.default(this).constructor;R=Reflect.construct(U,arguments,K)}else R=U.apply(this,arguments);return w.default(this,R)}}function Qe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ot(oe,Q){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(oe){if(oe[Q])return oe[Q];for(var U=Q.split(J),R=oe,K=0;K<U.length;++K){if(!R||typeof R[U[K]]=="string"&&K+1<U.length)return;if(R[U[K]]===void 0){for(var ie=2,xe=U.slice(K,K+ie).join(J),ve=R[xe];ve===void 0&&U.length>K+ie;)ie++,xe=U.slice(K,K+ie).join(J),ve=R[xe];if(ve===void 0)return;if(ve===null)return null;if(Q.endsWith(xe)){if(typeof ve=="string")return ve;if(xe&&typeof ve[xe]=="string")return ve[xe]}var Re=U.slice(K+ie).join(J);return Re?Ot(ve,Re,J):void 0}R=R[U[K]]}return R}}var it=function(oe){_.default(J,oe);var Q=Ze(J);function J(U){var R,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return y.default(this,J),R=Q.call(this),G&&Z.call(E.default(R)),R.data=U||{},R.options=K,R.options.keySeparator===void 0&&(R.options.keySeparator="."),R.options.ignoreJSONStructure===void 0&&(R.options.ignoreJSONStructure=!0),R}return x.default(J,[{key:"addNamespaces",value:function(R){this.options.ns.indexOf(R)<0&&this.options.ns.push(R)}},{key:"removeNamespaces",value:function(R){var K=this.options.ns.indexOf(R);K>-1&&this.options.ns.splice(K,1)}},{key:"getResource",value:function(R,K,ie){var xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ve=xe.keySeparator!==void 0?xe.keySeparator:this.options.keySeparator,Re=xe.ignoreJSONStructure!==void 0?xe.ignoreJSONStructure:this.options.ignoreJSONStructure,We=[R,K];ie&&typeof ie!="string"&&(We=We.concat(ie)),ie&&typeof ie=="string"&&(We=We.concat(ve?ie.split(ve):ie)),R.indexOf(".")>-1&&(We=R.split("."));var Ae=V(this.data,We);return Ae||!Re||typeof ie!="string"?Ae:Ot(this.data&&this.data[R]&&this.data[R][K],ie,ve)}},{key:"addResource",value:function(R,K,ie,xe){var ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},Re=this.options.keySeparator;Re===void 0&&(Re=".");var We=[R,K];ie&&(We=We.concat(Re?ie.split(Re):ie)),R.indexOf(".")>-1&&(We=R.split("."),xe=K,K=We[1]),this.addNamespaces(K),I(this.data,We,xe),ve.silent||this.emit("added",R,K,ie,xe)}},{key:"addResources",value:function(R,K,ie){var xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var ve in ie)(typeof ie[ve]=="string"||Object.prototype.toString.apply(ie[ve])==="[object Array]")&&this.addResource(R,K,ve,ie[ve],{silent:!0});xe.silent||this.emit("added",R,K,ie)}},{key:"addResourceBundle",value:function(R,K,ie,xe,ve){var Re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},We=[R,K];R.indexOf(".")>-1&&(We=R.split("."),xe=ie,ie=K,K=We[1]),this.addNamespaces(K);var Ae=V(this.data,We)||{};xe?ce(Ae,ie,ve):Ae=be(be({},Ae),ie),I(this.data,We,Ae),Re.silent||this.emit("added",R,K,ie)}},{key:"removeResourceBundle",value:function(R,K){this.hasResourceBundle(R,K)&&delete this.data[R][K],this.removeNamespaces(K),this.emit("removed",R,K)}},{key:"hasResourceBundle",value:function(R,K){return this.getResource(R,K)!==void 0}},{key:"getResourceBundle",value:function(R,K){return K||(K=this.options.defaultNS),this.options.compatibilityAPI==="v1"?be(be({},{}),this.getResource(R,K)):this.getResource(R,K)}},{key:"getDataByLanguage",value:function(R){return this.data[R]}},{key:"hasLanguageSomeTranslations",value:function(R){var K=this.getDataByLanguage(R),ie=K&&Object.keys(K)||[];return!!ie.find(function(xe){return K[xe]&&Object.keys(K[xe]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),J}(Z),at={processors:{},addPostProcessor:function(Q){this.processors[Q.name]=Q},handle:function(Q,J,U,R,K){var ie=this;return Q.forEach(function(xe){ie.processors[xe]&&(J=ie.processors[xe].process(J,U,R,K))}),J}};function lt(oe,Q){var J=Object.keys(oe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(oe);Q&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(oe,R).enumerable})),J.push.apply(J,U)}return J}function Pe(oe){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?lt(Object(J),!0).forEach(function(U){k.default(oe,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(J)):lt(Object(J)).forEach(function(U){Object.defineProperty(oe,U,Object.getOwnPropertyDescriptor(J,U))})}return oe}function Tt(oe){var Q=Rn();return function(){var U=L.default(oe),R;if(Q){var K=L.default(this).constructor;R=Reflect.construct(U,arguments,K)}else R=U.apply(this,arguments);return w.default(this,R)}}function Rn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var $t={},te=function(oe){_.default(J,oe);var Q=Tt(J);function J(U){var R,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return y.default(this,J),R=Q.call(this),G&&Z.call(E.default(R)),F(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],U,E.default(R)),R.options=K,R.options.keySeparator===void 0&&(R.options.keySeparator="."),R.logger=H.create("translator"),R}return x.default(J,[{key:"changeLanguage",value:function(R){R&&(this.language=R)}},{key:"exists",value:function(R){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(R==null)return!1;var ie=this.resolve(R,K);return ie&&ie.res!==void 0}},{key:"extractFromKey",value:function(R,K){var ie=K.nsSeparator!==void 0?K.nsSeparator:this.options.nsSeparator;ie===void 0&&(ie=":");var xe=K.keySeparator!==void 0?K.keySeparator:this.options.keySeparator,ve=K.ns||this.options.defaultNS||[],Re=ie&&R.indexOf(ie)>-1,We=!this.options.userDefinedKeySeparator&&!K.keySeparator&&!this.options.userDefinedNsSeparator&&!K.nsSeparator&&!De(R,ie,xe);if(Re&&!We){var Ae=R.match(this.interpolator.nestingRegexp);if(Ae&&Ae.length>0)return{key:R,namespaces:ve};var me=R.split(ie);(ie!==xe||ie===xe&&this.options.ns.indexOf(me[0])>-1)&&(ve=me.shift()),R=me.join(xe)}return typeof ve=="string"&&(ve=[ve]),{key:R,namespaces:ve}}},{key:"translate",value:function(R,K,ie){var xe=this;if(m.default(K)!=="object"&&this.options.overloadTranslationOptionHandler&&(K=this.options.overloadTranslationOptionHandler(arguments)),K||(K={}),R==null)return"";Array.isArray(R)||(R=[String(R)]);var ve=K.returnDetails!==void 0?K.returnDetails:this.options.returnDetails,Re=K.keySeparator!==void 0?K.keySeparator:this.options.keySeparator,We=this.extractFromKey(R[R.length-1],K),Ae=We.key,me=We.namespaces,rt=me[me.length-1],Bt=K.lng||this.language,bt=K.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(Bt&&Bt.toLowerCase()==="cimode"){if(bt){var Lt=K.nsSeparator||this.options.nsSeparator;return ve?(dt.res="".concat(rt).concat(Lt).concat(Ae),dt):"".concat(rt).concat(Lt).concat(Ae)}return ve?(dt.res=Ae,dt):Ae}var dt=this.resolve(R,K),pt=dt&&dt.res,mn=dt&&dt.usedKey||Ae,fn=dt&&dt.exactUsedKey||Ae,kn=Object.prototype.toString.apply(pt),qn=["[object Number]","[object Function]","[object RegExp]"],yr=K.joinArrays!==void 0?K.joinArrays:this.options.joinArrays,Yt=!this.i18nFormat||this.i18nFormat.handleAsObject,On=typeof pt!="string"&&typeof pt!="boolean"&&typeof pt!="number";if(Yt&&pt&&On&&qn.indexOf(kn)<0&&!(typeof yr=="string"&&kn==="[object Array]")){if(!K.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var Wt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(mn,pt,Pe(Pe({},K),{},{ns:me})):"key '".concat(Ae," (").concat(this.language,")' returned an object instead of string.");return ve?(dt.res=Wt,dt):Wt}if(Re){var Zn=kn==="[object Array]",Mt=Zn?[]:{},Ci=Zn?fn:mn;for(var Mn in pt)if(Object.prototype.hasOwnProperty.call(pt,Mn)){var zt="".concat(Ci).concat(Re).concat(Mn);Mt[Mn]=this.translate(zt,Pe(Pe({},K),{joinArrays:!1,ns:me})),Mt[Mn]===zt&&(Mt[Mn]=pt[Mn])}pt=Mt}}else if(Yt&&typeof yr=="string"&&kn==="[object Array]")pt=pt.join(yr),pt&&(pt=this.extendTranslation(pt,R,K,ie));else{var Tn=!1,Qr=!1,Mi=K.count!==void 0&&typeof K.count!="string",Be=J.hasDefaultValue(K),kt=Mi?this.pluralResolver.getSuffix(Bt,K.count,K):"",Ht=K["defaultValue".concat(kt)]||K.defaultValue;!this.isValidLookup(pt)&&Be&&(Tn=!0,pt=Ht),this.isValidLookup(pt)||(Qr=!0,pt=Ae);var Nr=K.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ta=Nr&&Qr?void 0:pt,zn=Be&&Ht!==pt&&this.options.updateMissing;if(Qr||Tn||zn){if(this.logger.log(zn?"updateKey":"missingKey",Bt,rt,Ae,zn?Ht:pt),Re){var Fi=this.resolve(Ae,Pe(Pe({},K),{},{keySeparator:!1}));Fi&&Fi.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var M=[],T=this.languageUtils.getFallbackCodes(this.options.fallbackLng,K.lng||this.language);if(this.options.saveMissingTo==="fallback"&&T&&T[0])for(var ue=0;ue<T.length;ue++)M.push(T[ue]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(K.lng||this.language):M.push(K.lng||this.language);var ge=function(Se,fe,Oe){var Ge=Be&&Oe!==pt?Oe:Ta;xe.options.missingKeyHandler?xe.options.missingKeyHandler(Se,rt,fe,Ge,zn,K):xe.backendConnector&&xe.backendConnector.saveMissing&&xe.backendConnector.saveMissing(Se,rt,fe,Ge,zn,K),xe.emit("missingKey",Se,rt,fe,pt)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Mi?M.forEach(function(re){xe.pluralResolver.getSuffixes(re,K).forEach(function(Se){ge([re],Ae+Se,K["defaultValue".concat(Se)]||Ht)})}):ge(M,Ae,Ht))}pt=this.extendTranslation(pt,R,K,dt,ie),Qr&&pt===Ae&&this.options.appendNamespaceToMissingKey&&(pt="".concat(rt,":").concat(Ae)),(Qr||Tn)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?pt=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(rt,":").concat(Ae):Ae,Tn?pt:void 0):pt=this.options.parseMissingKeyHandler(pt))}return ve?(dt.res=pt,dt):pt}},{key:"extendTranslation",value:function(R,K,ie,xe,ve){var Re=this;if(this.i18nFormat&&this.i18nFormat.parse)R=this.i18nFormat.parse(R,Pe(Pe({},this.options.interpolation.defaultVariables),ie),xe.usedLng,xe.usedNS,xe.usedKey,{resolved:xe});else if(!ie.skipInterpolation){ie.interpolation&&this.interpolator.init(Pe(Pe({},ie),{interpolation:Pe(Pe({},this.options.interpolation),ie.interpolation)}));var We=typeof R=="string"&&(ie&&ie.interpolation&&ie.interpolation.skipOnVariables!==void 0?ie.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),Ae;if(We){var me=R.match(this.interpolator.nestingRegexp);Ae=me&&me.length}var rt=ie.replace&&typeof ie.replace!="string"?ie.replace:ie;if(this.options.interpolation.defaultVariables&&(rt=Pe(Pe({},this.options.interpolation.defaultVariables),rt)),R=this.interpolator.interpolate(R,rt,ie.lng||this.language,ie),We){var Bt=R.match(this.interpolator.nestingRegexp),bt=Bt&&Bt.length;Ae<bt&&(ie.nest=!1)}ie.nest!==!1&&(R=this.interpolator.nest(R,function(){for(var pt=arguments.length,mn=new Array(pt),fn=0;fn<pt;fn++)mn[fn]=arguments[fn];return ve&&ve[0]===mn[0]&&!ie.context?(Re.logger.warn("It seems you are nesting recursively key: ".concat(mn[0]," in key: ").concat(K[0])),null):Re.translate.apply(Re,mn.concat([K]))},ie)),ie.interpolation&&this.interpolator.reset()}var Lt=ie.postProcess||this.options.postProcess,dt=typeof Lt=="string"?[Lt]:Lt;return R!=null&&dt&&dt.length&&ie.applyPostProcessor!==!1&&(R=at.handle(dt,R,K,this.options&&this.options.postProcessPassResolved?Pe({i18nResolved:xe},ie):ie,this)),R}},{key:"resolve",value:function(R){var K=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe,ve,Re,We,Ae;return typeof R=="string"&&(R=[R]),R.forEach(function(me){if(!K.isValidLookup(xe)){var rt=K.extractFromKey(me,ie),Bt=rt.key;ve=Bt;var bt=rt.namespaces;K.options.fallbackNS&&(bt=bt.concat(K.options.fallbackNS));var Lt=ie.count!==void 0&&typeof ie.count!="string",dt=Lt&&!ie.ordinal&&ie.count===0&&K.pluralResolver.shouldUseIntlApi(),pt=ie.context!==void 0&&(typeof ie.context=="string"||typeof ie.context=="number")&&ie.context!=="",mn=ie.lngs?ie.lngs:K.languageUtils.toResolveHierarchy(ie.lng||K.language,ie.fallbackLng);bt.forEach(function(fn){K.isValidLookup(xe)||(Ae=fn,!$t["".concat(mn[0],"-").concat(fn)]&&K.utils&&K.utils.hasLoadedNamespace&&!K.utils.hasLoadedNamespace(Ae)&&($t["".concat(mn[0],"-").concat(fn)]=!0,K.logger.warn('key "'.concat(ve,'" for languages "').concat(mn.join(", "),`" won't get resolved as namespace "`).concat(Ae,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),mn.forEach(function(kn){if(!K.isValidLookup(xe)){We=kn;var qn=[Bt];if(K.i18nFormat&&K.i18nFormat.addLookupKeys)K.i18nFormat.addLookupKeys(qn,Bt,kn,fn,ie);else{var yr;Lt&&(yr=K.pluralResolver.getSuffix(kn,ie.count,ie));var Yt="".concat(K.options.pluralSeparator,"zero");if(Lt&&(qn.push(Bt+yr),dt&&qn.push(Bt+Yt)),pt){var On="".concat(Bt).concat(K.options.contextSeparator).concat(ie.context);qn.push(On),Lt&&(qn.push(On+yr),dt&&qn.push(On+Yt))}}for(var Wt;Wt=qn.pop();)K.isValidLookup(xe)||(Re=Wt,xe=K.getResource(kn,fn,Wt,ie))}}))})}}),{res:xe,usedKey:ve,exactUsedKey:Re,usedLng:We,usedNS:Ae}}},{key:"isValidLookup",value:function(R){return R!==void 0&&!(!this.options.returnNull&&R===null)&&!(!this.options.returnEmptyString&&R==="")}},{key:"getResource",value:function(R,K,ie){var xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(R,K,ie,xe):this.resourceStore.getResource(R,K,ie,xe)}}],[{key:"hasDefaultValue",value:function(R){var K="defaultValue";for(var ie in R)if(Object.prototype.hasOwnProperty.call(R,ie)&&K===ie.substring(0,K.length)&&R[ie]!==void 0)return!0;return!1}}]),J}(Z);function D(oe){return oe.charAt(0).toUpperCase()+oe.slice(1)}var A=function(){function oe(Q){y.default(this,oe),this.options=Q,this.supportedLngs=this.options.supportedLngs||!1,this.logger=H.create("languageUtils")}return x.default(oe,[{key:"getScriptPartFromCode",value:function(J){if(!J||J.indexOf("-")<0)return null;var U=J.split("-");return U.length===2||(U.pop(),U[U.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(U.join("-"))}},{key:"getLanguagePartFromCode",value:function(J){if(!J||J.indexOf("-")<0)return J;var U=J.split("-");return this.formatLanguageCode(U[0])}},{key:"formatLanguageCode",value:function(J){if(typeof J=="string"&&J.indexOf("-")>-1){var U=["hans","hant","latn","cyrl","cans","mong","arab"],R=J.split("-");return this.options.lowerCaseLng?R=R.map(function(K){return K.toLowerCase()}):R.length===2?(R[0]=R[0].toLowerCase(),R[1]=R[1].toUpperCase(),U.indexOf(R[1].toLowerCase())>-1&&(R[1]=D(R[1].toLowerCase()))):R.length===3&&(R[0]=R[0].toLowerCase(),R[1].length===2&&(R[1]=R[1].toUpperCase()),R[0]!=="sgn"&&R[2].length===2&&(R[2]=R[2].toUpperCase()),U.indexOf(R[1].toLowerCase())>-1&&(R[1]=D(R[1].toLowerCase())),U.indexOf(R[2].toLowerCase())>-1&&(R[2]=D(R[2].toLowerCase()))),R.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?J.toLowerCase():J}},{key:"isSupportedCode",value:function(J){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(J=this.getLanguagePartFromCode(J)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(J)>-1}},{key:"getBestMatchFromCodes",value:function(J){var U=this;if(!J)return null;var R;return J.forEach(function(K){if(!R){var ie=U.formatLanguageCode(K);(!U.options.supportedLngs||U.isSupportedCode(ie))&&(R=ie)}}),!R&&this.options.supportedLngs&&J.forEach(function(K){if(!R){var ie=U.getLanguagePartFromCode(K);if(U.isSupportedCode(ie))return R=ie;R=U.options.supportedLngs.find(function(xe){if(xe.indexOf(ie)===0)return xe})}}),R||(R=this.getFallbackCodes(this.options.fallbackLng)[0]),R}},{key:"getFallbackCodes",value:function(J,U){if(!J)return[];if(typeof J=="function"&&(J=J(U)),typeof J=="string"&&(J=[J]),Object.prototype.toString.apply(J)==="[object Array]")return J;if(!U)return J.default||[];var R=J[U];return R||(R=J[this.getScriptPartFromCode(U)]),R||(R=J[this.formatLanguageCode(U)]),R||(R=J[this.getLanguagePartFromCode(U)]),R||(R=J.default),R||[]}},{key:"toResolveHierarchy",value:function(J,U){var R=this,K=this.getFallbackCodes(U||this.options.fallbackLng||[],J),ie=[],xe=function(Re){Re&&(R.isSupportedCode(Re)?ie.push(Re):R.logger.warn("rejecting language code not found in supportedLngs: ".concat(Re)))};return typeof J=="string"&&J.indexOf("-")>-1?(this.options.load!=="languageOnly"&&xe(this.formatLanguageCode(J)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&xe(this.getScriptPartFromCode(J)),this.options.load!=="currentOnly"&&xe(this.getLanguagePartFromCode(J))):typeof J=="string"&&xe(this.formatLanguageCode(J)),K.forEach(function(ve){ie.indexOf(ve)<0&&xe(R.formatLanguageCode(ve))}),ie}}]),oe}(),se=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pe={1:function(Q){return Number(Q>1)},2:function(Q){return Number(Q!=1)},3:function(Q){return 0},4:function(Q){return Number(Q%10==1&&Q%100!=11?0:Q%10>=2&&Q%10<=4&&(Q%100<10||Q%100>=20)?1:2)},5:function(Q){return Number(Q==0?0:Q==1?1:Q==2?2:Q%100>=3&&Q%100<=10?3:Q%100>=11?4:5)},6:function(Q){return Number(Q==1?0:Q>=2&&Q<=4?1:2)},7:function(Q){return Number(Q==1?0:Q%10>=2&&Q%10<=4&&(Q%100<10||Q%100>=20)?1:2)},8:function(Q){return Number(Q==1?0:Q==2?1:Q!=8&&Q!=11?2:3)},9:function(Q){return Number(Q>=2)},10:function(Q){return Number(Q==1?0:Q==2?1:Q<7?2:Q<11?3:4)},11:function(Q){return Number(Q==1||Q==11?0:Q==2||Q==12?1:Q>2&&Q<20?2:3)},12:function(Q){return Number(Q%10!=1||Q%100==11)},13:function(Q){return Number(Q!==0)},14:function(Q){return Number(Q==1?0:Q==2?1:Q==3?2:3)},15:function(Q){return Number(Q%10==1&&Q%100!=11?0:Q%10>=2&&(Q%100<10||Q%100>=20)?1:2)},16:function(Q){return Number(Q%10==1&&Q%100!=11?0:Q!==0?1:2)},17:function(Q){return Number(Q==1||Q%10==1&&Q%100!=11?0:1)},18:function(Q){return Number(Q==0?0:Q==1?1:2)},19:function(Q){return Number(Q==1?0:Q==0||Q%100>1&&Q%100<11?1:Q%100>10&&Q%100<20?2:3)},20:function(Q){return Number(Q==1?0:Q==0||Q%100>0&&Q%100<20?1:2)},21:function(Q){return Number(Q%100==1?1:Q%100==2?2:Q%100==3||Q%100==4?3:0)},22:function(Q){return Number(Q==1?0:Q==2?1:(Q<0||Q>10)&&Q%10==0?2:3)}},Ee=["v1","v2","v3"],Te={zero:0,one:1,two:2,few:3,many:4,other:5};function Me(){var oe={};return se.forEach(function(Q){Q.lngs.forEach(function(J){oe[J]={numbers:Q.nr,plurals:pe[Q.fc]}})}),oe}var je=function(){function oe(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};y.default(this,oe),this.languageUtils=Q,this.options=J,this.logger=H.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Me()}return x.default(oe,[{key:"addRule",value:function(J,U){this.rules[J]=U}},{key:"getRule",value:function(J){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(J,{type:U.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[J]||this.rules[this.languageUtils.getLanguagePartFromCode(J)]}},{key:"needsPlural",value:function(J){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=this.getRule(J,U);return this.shouldUseIntlApi()?R&&R.resolvedOptions().pluralCategories.length>1:R&&R.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(J,U){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(J,R).map(function(K){return"".concat(U).concat(K)})}},{key:"getSuffixes",value:function(J){var U=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=this.getRule(J,R);return K?this.shouldUseIntlApi()?K.resolvedOptions().pluralCategories.sort(function(ie,xe){return Te[ie]-Te[xe]}).map(function(ie){return"".concat(U.options.prepend).concat(ie)}):K.numbers.map(function(ie){return U.getSuffix(J,ie,R)}):[]}},{key:"getSuffix",value:function(J,U){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=this.getRule(J,R);return K?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(K.select(U)):this.getSuffixRetroCompatible(K,U):(this.logger.warn("no plural rule found for: ".concat(J)),"")}},{key:"getSuffixRetroCompatible",value:function(J,U){var R=this,K=J.noAbs?J.plurals(U):J.plurals(Math.abs(U)),ie=J.numbers[K];this.options.simplifyPluralSuffix&&J.numbers.length===2&&J.numbers[0]===1&&(ie===2?ie="plural":ie===1&&(ie=""));var xe=function(){return R.options.prepend&&ie.toString()?R.options.prepend+ie.toString():ie.toString()};return this.options.compatibilityJSON==="v1"?ie===1?"":typeof ie=="number"?"_plural_".concat(ie.toString()):xe():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&J.numbers.length===2&&J.numbers[0]===1?xe():this.options.prepend&&K.toString()?this.options.prepend+K.toString():K.toString()}},{key:"shouldUseIntlApi",value:function(){return!Ee.includes(this.options.compatibilityJSON)}}]),oe}();function wt(oe,Q){var J=Object.keys(oe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(oe);Q&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(oe,R).enumerable})),J.push.apply(J,U)}return J}function Kt(oe){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?wt(Object(J),!0).forEach(function(U){k.default(oe,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(J)):wt(Object(J)).forEach(function(U){Object.defineProperty(oe,U,Object.getOwnPropertyDescriptor(J,U))})}return oe}var nt=function(){function oe(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};y.default(this,oe),this.logger=H.create("interpolator"),this.options=Q,this.format=Q.interpolation&&Q.interpolation.format||function(J){return J},this.init(Q)}return x.default(oe,[{key:"init",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};J.interpolation||(J.interpolation={escapeValue:!0});var U=J.interpolation;this.escape=U.escape!==void 0?U.escape:C,this.escapeValue=U.escapeValue!==void 0?U.escapeValue:!0,this.useRawValueToEscape=U.useRawValueToEscape!==void 0?U.useRawValueToEscape:!1,this.prefix=U.prefix?q(U.prefix):U.prefixEscaped||"{{",this.suffix=U.suffix?q(U.suffix):U.suffixEscaped||"}}",this.formatSeparator=U.formatSeparator?U.formatSeparator:U.formatSeparator||",",this.unescapePrefix=U.unescapeSuffix?"":U.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":U.unescapeSuffix||"",this.nestingPrefix=U.nestingPrefix?q(U.nestingPrefix):U.nestingPrefixEscaped||q("$t("),this.nestingSuffix=U.nestingSuffix?q(U.nestingSuffix):U.nestingSuffixEscaped||q(")"),this.nestingOptionsSeparator=U.nestingOptionsSeparator?U.nestingOptionsSeparator:U.nestingOptionsSeparator||",",this.maxReplaces=U.maxReplaces?U.maxReplaces:1e3,this.alwaysFormat=U.alwaysFormat!==void 0?U.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var J="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(J,"g");var U="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(U,"g");var R="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(R,"g")}},{key:"interpolate",value:function(J,U,R,K){var ie=this,xe,ve,Re,We=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function Ae(Lt){return Lt.replace(/\$/g,"$$$$")}var me=function(dt){if(dt.indexOf(ie.formatSeparator)<0){var pt=ee(U,We,dt);return ie.alwaysFormat?ie.format(pt,void 0,R,Kt(Kt(Kt({},K),U),{},{interpolationkey:dt})):pt}var mn=dt.split(ie.formatSeparator),fn=mn.shift().trim(),kn=mn.join(ie.formatSeparator).trim();return ie.format(ee(U,We,fn),kn,R,Kt(Kt(Kt({},K),U),{},{interpolationkey:fn}))};this.resetRegExp();var rt=K&&K.missingInterpolationHandler||this.options.missingInterpolationHandler,Bt=K&&K.interpolation&&K.interpolation.skipOnVariables!==void 0?K.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,bt=[{regex:this.regexpUnescape,safeValue:function(dt){return Ae(dt)}},{regex:this.regexp,safeValue:function(dt){return ie.escapeValue?Ae(ie.escape(dt)):Ae(dt)}}];return bt.forEach(function(Lt){for(Re=0;xe=Lt.regex.exec(J);){var dt=xe[1].trim();if(ve=me(dt),ve===void 0)if(typeof rt=="function"){var pt=rt(J,xe,K);ve=typeof pt=="string"?pt:""}else if(K&&K.hasOwnProperty(dt))ve="";else if(Bt){ve=xe[0];continue}else ie.logger.warn("missed to pass in variable ".concat(dt," for interpolating ").concat(J)),ve="";else typeof ve!="string"&&!ie.useRawValueToEscape&&(ve=ye(ve));var mn=Lt.safeValue(ve);if(J=J.replace(xe[0],mn),Bt?(Lt.regex.lastIndex+=ve.length,Lt.regex.lastIndex-=xe[0].length):Lt.regex.lastIndex=0,Re++,Re>=ie.maxReplaces)break}}),J}},{key:"nest",value:function(J,U){var R=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ie,xe,ve=Kt({},K);ve.applyPostProcessor=!1,delete ve.defaultValue;function Re(rt,Bt){var bt=this.nestingOptionsSeparator;if(rt.indexOf(bt)<0)return rt;var Lt=rt.split(new RegExp("".concat(bt,"[ ]*{"))),dt="{".concat(Lt[1]);rt=Lt[0],dt=this.interpolate(dt,ve);var pt=dt.match(/'/g),mn=dt.match(/"/g);(pt&&pt.length%2===0&&!mn||mn.length%2!==0)&&(dt=dt.replace(/'/g,'"'));try{ve=JSON.parse(dt),Bt&&(ve=Kt(Kt({},Bt),ve))}catch(fn){return this.logger.warn("failed parsing options string in nesting for key ".concat(rt),fn),"".concat(rt).concat(bt).concat(dt)}return delete ve.defaultValue,rt}for(;ie=this.nestingRegexp.exec(J);){var We=[],Ae=!1;if(ie[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(ie[1])){var me=ie[1].split(this.formatSeparator).map(function(rt){return rt.trim()});ie[1]=me.shift(),We=me,Ae=!0}if(xe=U(Re.call(this,ie[1].trim(),ve),ve),xe&&ie[0]===J&&typeof xe!="string")return xe;typeof xe!="string"&&(xe=ye(xe)),xe||(this.logger.warn("missed to resolve ".concat(ie[1]," for nesting ").concat(J)),xe=""),Ae&&(xe=We.reduce(function(rt,Bt){return R.format(rt,Bt,K.lng,Kt(Kt({},K),{},{interpolationkey:ie[1].trim()}))},xe.trim())),J=J.replace(ie[0],xe),this.regexp.lastIndex=0}return J}}]),oe}();function qt(oe,Q){var J=Object.keys(oe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(oe);Q&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(oe,R).enumerable})),J.push.apply(J,U)}return J}function Ne(oe){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?qt(Object(J),!0).forEach(function(U){k.default(oe,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(J)):qt(Object(J)).forEach(function(U){Object.defineProperty(oe,U,Object.getOwnPropertyDescriptor(J,U))})}return oe}function nn(oe){var Q=oe.toLowerCase().trim(),J={};if(oe.indexOf("(")>-1){var U=oe.split("(");Q=U[0].toLowerCase().trim();var R=U[1].substring(0,U[1].length-1);if(Q==="currency"&&R.indexOf(":")<0)J.currency||(J.currency=R.trim());else if(Q==="relativetime"&&R.indexOf(":")<0)J.range||(J.range=R.trim());else{var K=R.split(";");K.forEach(function(ie){if(ie){var xe=ie.split(":"),ve=W.default(xe),Re=ve[0],We=ve.slice(1),Ae=We.join(":").trim().replace(/^'+|'+$/g,"");J[Re.trim()]||(J[Re.trim()]=Ae),Ae==="false"&&(J[Re.trim()]=!1),Ae==="true"&&(J[Re.trim()]=!0),isNaN(Ae)||(J[Re.trim()]=parseInt(Ae,10))}})}}return{formatName:Q,formatOptions:J}}function en(oe){var Q={};return function(U,R,K){var ie=R+JSON.stringify(K),xe=Q[ie];return xe||(xe=oe(R,K),Q[ie]=xe),xe(U)}}var It=function(){function oe(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};y.default(this,oe),this.logger=H.create("formatter"),this.options=Q,this.formats={number:en(function(J,U){var R=new Intl.NumberFormat(J,U);return function(K){return R.format(K)}}),currency:en(function(J,U){var R=new Intl.NumberFormat(J,Ne(Ne({},U),{},{style:"currency"}));return function(K){return R.format(K)}}),datetime:en(function(J,U){var R=new Intl.DateTimeFormat(J,Ne({},U));return function(K){return R.format(K)}}),relativetime:en(function(J,U){var R=new Intl.RelativeTimeFormat(J,Ne({},U));return function(K){return R.format(K,U.range||"day")}}),list:en(function(J,U){var R=new Intl.ListFormat(J,Ne({},U));return function(K){return R.format(K)}})},this.init(Q)}return x.default(oe,[{key:"init",value:function(J){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},R=U.interpolation;this.formatSeparator=R.formatSeparator?R.formatSeparator:R.formatSeparator||","}},{key:"add",value:function(J,U){this.formats[J.toLowerCase().trim()]=U}},{key:"addCached",value:function(J,U){this.formats[J.toLowerCase().trim()]=en(U)}},{key:"format",value:function(J,U,R,K){var ie=this,xe=U.split(this.formatSeparator),ve=xe.reduce(function(Re,We){var Ae=nn(We),me=Ae.formatName,rt=Ae.formatOptions;if(ie.formats[me]){var Bt=Re;try{var bt=K&&K.formatParams&&K.formatParams[K.interpolationkey]||{},Lt=bt.locale||bt.lng||K.locale||K.lng||R;Bt=ie.formats[me](Re,Lt,Ne(Ne(Ne({},rt),K),bt))}catch(dt){ie.logger.warn(dt)}return Bt}else ie.logger.warn("there was no format function for ".concat(me));return Re},J);return ve}}]),oe}();function st(oe,Q){var J=Object.keys(oe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(oe);Q&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(oe,R).enumerable})),J.push.apply(J,U)}return J}function Ft(oe){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?st(Object(J),!0).forEach(function(U){k.default(oe,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(J)):st(Object(J)).forEach(function(U){Object.defineProperty(oe,U,Object.getOwnPropertyDescriptor(J,U))})}return oe}function Zr(oe){var Q=Cn();return function(){var U=L.default(oe),R;if(Q){var K=L.default(this).constructor;R=Reflect.construct(U,arguments,K)}else R=U.apply(this,arguments);return w.default(this,R)}}function Cn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dn(oe,Q){oe.pending[Q]!==void 0&&(delete oe.pending[Q],oe.pendingCount--)}var gi=function(oe){_.default(J,oe);var Q=Zr(J);function J(U,R,K){var ie,xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return y.default(this,J),ie=Q.call(this),G&&Z.call(E.default(ie)),ie.backend=U,ie.store=R,ie.services=K,ie.languageUtils=K.languageUtils,ie.options=xe,ie.logger=H.create("backendConnector"),ie.waitingReads=[],ie.maxParallelReads=xe.maxParallelReads||10,ie.readingCalls=0,ie.maxRetries=xe.maxRetries>=0?xe.maxRetries:5,ie.retryTimeout=xe.retryTimeout>=1?xe.retryTimeout:350,ie.state={},ie.queue=[],ie.backend&&ie.backend.init&&ie.backend.init(K,xe.backend,xe),ie}return x.default(J,[{key:"queueLoad",value:function(R,K,ie,xe){var ve=this,Re={},We={},Ae={},me={};return R.forEach(function(rt){var Bt=!0;K.forEach(function(bt){var Lt="".concat(rt,"|").concat(bt);!ie.reload&&ve.store.hasResourceBundle(rt,bt)?ve.state[Lt]=2:ve.state[Lt]<0||(ve.state[Lt]===1?We[Lt]===void 0&&(We[Lt]=!0):(ve.state[Lt]=1,Bt=!1,We[Lt]===void 0&&(We[Lt]=!0),Re[Lt]===void 0&&(Re[Lt]=!0),me[bt]===void 0&&(me[bt]=!0)))}),Bt||(Ae[rt]=!0)}),(Object.keys(Re).length||Object.keys(We).length)&&this.queue.push({pending:We,pendingCount:Object.keys(We).length,loaded:{},errors:[],callback:xe}),{toLoad:Object.keys(Re),pending:Object.keys(We),toLoadLanguages:Object.keys(Ae),toLoadNamespaces:Object.keys(me)}}},{key:"loaded",value:function(R,K,ie){var xe=R.split("|"),ve=xe[0],Re=xe[1];K&&this.emit("failedLoading",ve,Re,K),ie&&this.store.addResourceBundle(ve,Re,ie),this.state[R]=K?-1:2;var We={};this.queue.forEach(function(Ae){B(Ae.loaded,[ve],Re),dn(Ae,R),K&&Ae.errors.push(K),Ae.pendingCount===0&&!Ae.done&&(Object.keys(Ae.loaded).forEach(function(me){We[me]||(We[me]={});var rt=Ae.loaded[me];rt.length&&rt.forEach(function(Bt){We[me][Bt]===void 0&&(We[me][Bt]=!0)})}),Ae.done=!0,Ae.errors.length?Ae.callback(Ae.errors):Ae.callback())}),this.emit("loaded",We),this.queue=this.queue.filter(function(Ae){return!Ae.done})}},{key:"read",value:function(R,K,ie){var xe=this,ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Re=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,We=arguments.length>5?arguments[5]:void 0;if(!R.length)return We(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:R,ns:K,fcName:ie,tried:ve,wait:Re,callback:We});return}return this.readingCalls++,this.backend[ie](R,K,function(Ae,me){if(xe.readingCalls--,xe.waitingReads.length>0){var rt=xe.waitingReads.shift();xe.read(rt.lng,rt.ns,rt.fcName,rt.tried,rt.wait,rt.callback)}if(Ae&&me&&ve<xe.maxRetries){setTimeout(function(){xe.read.call(xe,R,K,ie,ve+1,Re*2,We)},Re);return}We(Ae,me)})}},{key:"prepareLoading",value:function(R,K){var ie=this,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ve=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),ve&&ve();typeof R=="string"&&(R=this.languageUtils.toResolveHierarchy(R)),typeof K=="string"&&(K=[K]);var Re=this.queueLoad(R,K,xe,ve);if(!Re.toLoad.length)return Re.pending.length||ve(),null;Re.toLoad.forEach(function(We){ie.loadOne(We)})}},{key:"load",value:function(R,K,ie){this.prepareLoading(R,K,{},ie)}},{key:"reload",value:function(R,K,ie){this.prepareLoading(R,K,{reload:!0},ie)}},{key:"loadOne",value:function(R){var K=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe=R.split("|"),ve=xe[0],Re=xe[1];this.read(ve,Re,"read",void 0,void 0,function(We,Ae){We&&K.logger.warn("".concat(ie,"loading namespace ").concat(Re," for language ").concat(ve," failed"),We),!We&&Ae&&K.logger.log("".concat(ie,"loaded namespace ").concat(Re," for language ").concat(ve),Ae),K.loaded(R,We,Ae)})}},{key:"saveMissing",value:function(R,K,ie,xe,ve){var Re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(K)){this.logger.warn('did not save key "'.concat(ie,'" as the namespace "').concat(K,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}ie==null||ie===""||(this.backend&&this.backend.create&&this.backend.create(R,K,ie,xe,null,Ft(Ft({},Re),{},{isUpdate:ve})),!(!R||!R[0])&&this.store.addResource(R[0],K,ie,xe))}}]),J}(Z);function ln(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(Q){var J={};if(m.default(Q[1])==="object"&&(J=Q[1]),typeof Q[1]=="string"&&(J.defaultValue=Q[1]),typeof Q[2]=="string"&&(J.tDescription=Q[2]),m.default(Q[2])==="object"||m.default(Q[3])==="object"){var U=Q[3]||Q[2];Object.keys(U).forEach(function(R){J[R]=U[R]})}return J},interpolation:{escapeValue:!0,format:function(Q,J,U,R){return Q},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function At(oe){return typeof oe.ns=="string"&&(oe.ns=[oe.ns]),typeof oe.fallbackLng=="string"&&(oe.fallbackLng=[oe.fallbackLng]),typeof oe.fallbackNS=="string"&&(oe.fallbackNS=[oe.fallbackNS]),oe.supportedLngs&&oe.supportedLngs.indexOf("cimode")<0&&(oe.supportedLngs=oe.supportedLngs.concat(["cimode"])),oe}function An(oe,Q){var J=Object.keys(oe);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(oe);Q&&(U=U.filter(function(R){return Object.getOwnPropertyDescriptor(oe,R).enumerable})),J.push.apply(J,U)}return J}function et(oe){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?An(Object(J),!0).forEach(function(U){k.default(oe,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(J)):An(Object(J)).forEach(function(U){Object.defineProperty(oe,U,Object.getOwnPropertyDescriptor(J,U))})}return oe}function ze(oe){var Q=St();return function(){var U=L.default(oe),R;if(Q){var K=L.default(this).constructor;R=Reflect.construct(U,arguments,K)}else R=U.apply(this,arguments);return w.default(this,R)}}function St(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cn(){}function ot(oe){var Q=Object.getOwnPropertyNames(Object.getPrototypeOf(oe));Q.forEach(function(J){typeof oe[J]=="function"&&(oe[J]=oe[J].bind(oe))})}var ir=function(oe){_.default(J,oe);var Q=ze(J);function J(){var U,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1?arguments[1]:void 0;if(y.default(this,J),U=Q.call(this),G&&Z.call(E.default(U)),U.options=At(R),U.services={},U.logger=H,U.modules={external:[]},ot(E.default(U)),K&&!U.isInitialized&&!R.isClone){if(!U.options.initImmediate)return U.init(R,K),w.default(U,E.default(U));setTimeout(function(){U.init(R,K)},0)}return U}return x.default(J,[{key:"init",value:function(){var R=this,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=arguments.length>1?arguments[1]:void 0;typeof K=="function"&&(ie=K,K={}),!K.defaultNS&&K.defaultNS!==!1&&K.ns&&(typeof K.ns=="string"?K.defaultNS=K.ns:K.ns.indexOf("translation")<0&&(K.defaultNS=K.ns[0]));var xe=ln();this.options=et(et(et({},xe),this.options),At(K)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=et(et({},xe.interpolation),this.options.interpolation)),K.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=K.keySeparator),K.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=K.nsSeparator);function ve(dt){return dt?typeof dt=="function"?new dt:dt:null}if(!this.options.isClone){this.modules.logger?H.init(ve(this.modules.logger),this.options):H.init(null,this.options);var Re;this.modules.formatter?Re=this.modules.formatter:typeof Intl<"u"&&(Re=It);var We=new A(this.options);this.store=new it(this.options.resources,this.options);var Ae=this.services;Ae.logger=H,Ae.resourceStore=this.store,Ae.languageUtils=We,Ae.pluralResolver=new je(We,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),Re&&(!this.options.interpolation.format||this.options.interpolation.format===xe.interpolation.format)&&(Ae.formatter=ve(Re),Ae.formatter.init(Ae,this.options),this.options.interpolation.format=Ae.formatter.format.bind(Ae.formatter)),Ae.interpolator=new nt(this.options),Ae.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},Ae.backendConnector=new gi(ve(this.modules.backend),Ae.resourceStore,Ae,this.options),Ae.backendConnector.on("*",function(dt){for(var pt=arguments.length,mn=new Array(pt>1?pt-1:0),fn=1;fn<pt;fn++)mn[fn-1]=arguments[fn];R.emit.apply(R,[dt].concat(mn))}),this.modules.languageDetector&&(Ae.languageDetector=ve(this.modules.languageDetector),Ae.languageDetector.init(Ae,this.options.detection,this.options)),this.modules.i18nFormat&&(Ae.i18nFormat=ve(this.modules.i18nFormat),Ae.i18nFormat.init&&Ae.i18nFormat.init(this)),this.translator=new te(this.services,this.options),this.translator.on("*",function(dt){for(var pt=arguments.length,mn=new Array(pt>1?pt-1:0),fn=1;fn<pt;fn++)mn[fn-1]=arguments[fn];R.emit.apply(R,[dt].concat(mn))}),this.modules.external.forEach(function(dt){dt.init&&dt.init(R)})}if(this.format=this.options.interpolation.format,ie||(ie=cn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var me=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);me.length>0&&me[0]!=="dev"&&(this.options.lng=me[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var rt=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];rt.forEach(function(dt){R[dt]=function(){var pt;return(pt=R.store)[dt].apply(pt,arguments)}});var Bt=["addResource","addResources","addResourceBundle","removeResourceBundle"];Bt.forEach(function(dt){R[dt]=function(){var pt;return(pt=R.store)[dt].apply(pt,arguments),R}});var bt=Y(),Lt=function(){var pt=function(fn,kn){R.isInitialized&&!R.initializedStoreOnce&&R.logger.warn("init: i18next is already initialized. You should call init just once!"),R.isInitialized=!0,R.options.isClone||R.logger.log("initialized",R.options),R.emit("initialized",R.options),bt.resolve(kn),ie(fn,kn)};if(R.languages&&R.options.compatibilityAPI!=="v1"&&!R.isInitialized)return pt(null,R.t.bind(R));R.changeLanguage(R.options.lng,pt)};return this.options.resources||!this.options.initImmediate?Lt():setTimeout(Lt,0),bt}},{key:"loadResources",value:function(R){var K=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn,xe=ie,ve=typeof R=="string"?R:this.language;if(typeof R=="function"&&(xe=R),!this.options.resources||this.options.partialBundledLanguages){if(ve&&ve.toLowerCase()==="cimode")return xe();var Re=[],We=function(rt){if(rt){var Bt=K.services.languageUtils.toResolveHierarchy(rt);Bt.forEach(function(bt){Re.indexOf(bt)<0&&Re.push(bt)})}};if(ve)We(ve);else{var Ae=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);Ae.forEach(function(me){return We(me)})}this.options.preload&&this.options.preload.forEach(function(me){return We(me)}),this.services.backendConnector.load(Re,this.options.ns,function(me){!me&&!K.resolvedLanguage&&K.language&&K.setResolvedLanguage(K.language),xe(me)})}else xe(null)}},{key:"reloadResources",value:function(R,K,ie){var xe=Y();return R||(R=this.languages),K||(K=this.options.ns),ie||(ie=cn),this.services.backendConnector.reload(R,K,function(ve){xe.resolve(),ie(ve)}),xe}},{key:"use",value:function(R){if(!R)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!R.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return R.type==="backend"&&(this.modules.backend=R),(R.type==="logger"||R.log&&R.warn&&R.error)&&(this.modules.logger=R),R.type==="languageDetector"&&(this.modules.languageDetector=R),R.type==="i18nFormat"&&(this.modules.i18nFormat=R),R.type==="postProcessor"&&at.addPostProcessor(R),R.type==="formatter"&&(this.modules.formatter=R),R.type==="3rdParty"&&this.modules.external.push(R),this}},{key:"setResolvedLanguage",value:function(R){if(!(!R||!this.languages)&&!(["cimode","dev"].indexOf(R)>-1))for(var K=0;K<this.languages.length;K++){var ie=this.languages[K];if(!(["cimode","dev"].indexOf(ie)>-1)&&this.store.hasLanguageSomeTranslations(ie)){this.resolvedLanguage=ie;break}}}},{key:"changeLanguage",value:function(R,K){var ie=this;this.isLanguageChangingTo=R;var xe=Y();this.emit("languageChanging",R);var ve=function(me){ie.language=me,ie.languages=ie.services.languageUtils.toResolveHierarchy(me),ie.resolvedLanguage=void 0,ie.setResolvedLanguage(me)},Re=function(me,rt){rt?(ve(rt),ie.translator.changeLanguage(rt),ie.isLanguageChangingTo=void 0,ie.emit("languageChanged",rt),ie.logger.log("languageChanged",rt)):ie.isLanguageChangingTo=void 0,xe.resolve(function(){return ie.t.apply(ie,arguments)}),K&&K(me,function(){return ie.t.apply(ie,arguments)})},We=function(me){!R&&!me&&ie.services.languageDetector&&(me=[]);var rt=typeof me=="string"?me:ie.services.languageUtils.getBestMatchFromCodes(me);rt&&(ie.language||ve(rt),ie.translator.language||ie.translator.changeLanguage(rt),ie.services.languageDetector&&ie.services.languageDetector.cacheUserLanguage(rt)),ie.loadResources(rt,function(Bt){Re(Bt,rt)})};return!R&&this.services.languageDetector&&!this.services.languageDetector.async?We(this.services.languageDetector.detect()):!R&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(We):We(R),xe}},{key:"getFixedT",value:function(R,K,ie){var xe=this,ve=function Re(We,Ae){var me;if(m.default(Ae)!=="object"){for(var rt=arguments.length,Bt=new Array(rt>2?rt-2:0),bt=2;bt<rt;bt++)Bt[bt-2]=arguments[bt];me=xe.options.overloadTranslationOptionHandler([We,Ae].concat(Bt))}else me=et({},Ae);me.lng=me.lng||Re.lng,me.lngs=me.lngs||Re.lngs,me.ns=me.ns||Re.ns,me.keyPrefix=me.keyPrefix||ie||Re.keyPrefix;var Lt=xe.options.keySeparator||".",dt=me.keyPrefix?"".concat(me.keyPrefix).concat(Lt).concat(We):We;return xe.t(dt,me)};return typeof R=="string"?ve.lng=R:ve.lngs=R,ve.ns=K,ve.keyPrefix=ie,ve}},{key:"t",value:function(){var R;return this.translator&&(R=this.translator).translate.apply(R,arguments)}},{key:"exists",value:function(){var R;return this.translator&&(R=this.translator).exists.apply(R,arguments)}},{key:"setDefaultNamespace",value:function(R){this.options.defaultNS=R}},{key:"hasLoadedNamespace",value:function(R){var K=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var xe=this.resolvedLanguage||this.languages[0],ve=this.options?this.options.fallbackLng:!1,Re=this.languages[this.languages.length-1];if(xe.toLowerCase()==="cimode")return!0;var We=function(rt,Bt){var bt=K.services.backendConnector.state["".concat(rt,"|").concat(Bt)];return bt===-1||bt===2};if(ie.precheck){var Ae=ie.precheck(this,We);if(Ae!==void 0)return Ae}return!!(this.hasResourceBundle(xe,R)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||We(xe,R)&&(!ve||We(Re,R)))}},{key:"loadNamespaces",value:function(R,K){var ie=this,xe=Y();return this.options.ns?(typeof R=="string"&&(R=[R]),R.forEach(function(ve){ie.options.ns.indexOf(ve)<0&&ie.options.ns.push(ve)}),this.loadResources(function(ve){xe.resolve(),K&&K(ve)}),xe):(K&&K(),Promise.resolve())}},{key:"loadLanguages",value:function(R,K){var ie=Y();typeof R=="string"&&(R=[R]);var xe=this.options.preload||[],ve=R.filter(function(Re){return xe.indexOf(Re)<0});return ve.length?(this.options.preload=xe.concat(ve),this.loadResources(function(Re){ie.resolve(),K&&K(Re)}),ie):(K&&K(),Promise.resolve())}},{key:"dir",value:function(R){if(R||(R=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!R)return"rtl";var K=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return K.indexOf(this.services.languageUtils.getLanguagePartFromCode(R))>-1||R.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var R=this,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn,xe=et(et(et({},this.options),K),{isClone:!0}),ve=new J(xe);(K.debug!==void 0||K.prefix!==void 0)&&(ve.logger=ve.logger.clone(K));var Re=["store","services","language"];return Re.forEach(function(We){ve[We]=R[We]}),ve.services=et({},this.services),ve.services.utils={hasLoadedNamespace:ve.hasLoadedNamespace.bind(ve)},ve.translator=new te(ve.services,ve.options),ve.translator.on("*",function(We){for(var Ae=arguments.length,me=new Array(Ae>1?Ae-1:0),rt=1;rt<Ae;rt++)me[rt-1]=arguments[rt];ve.emit.apply(ve,[We].concat(me))}),ve.init(xe,ie),ve.translator.options=ve.options,ve.translator.backendConnector.services.utils={hasLoadedNamespace:ve.hasLoadedNamespace.bind(ve)},ve}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),J}(Z);k.default(ir,"createInstance",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1?arguments[1]:void 0;return new ir(oe,Q)});var Ct=ir.createInstance();return Ct.createInstance=ir.createInstance,og=Ct,og}(function(n,e){(function(t,a){n.exports=a(x6(),Q6())})(wr,function(t,a){function o(it){return it&&typeof it=="object"&&"default"in it?it:{default:it}}var u=o(t),d=o(a),c={PH:[{name:"Año Nuevo",fixed_date:[1,1]},{name:"Día Nacional de la Memoria por la Verdad y la Justicia",fixed_date:[3,24]},{name:"Día del Veterano y de los Caídos en la Guerra de Malvinas",fixed_date:[4,2]},{name:"Día del Trabajador",fixed_date:[5,1]},{name:"Día de la Revolución de Mayo",fixed_date:[5,25]},{name:"Paso a la Inmortalidad del General Manuel Belgrano",fixed_date:[6,20]},{name:"Día de la Independencia",fixed_date:[7,9]},{name:"Inmaculada Concepción de María",fixed_date:[12,8]},{name:"Navidad",fixed_date:[12,25]}]};c.PH;var h={PH:[{name:"Neujahrstag",fixed_date:[1,1]},{name:"Heilige Drei Könige",fixed_date:[1,6]},{name:"Ostermontag",variable_date:"easter",offset:1},{name:"Staatsfeiertag",fixed_date:[5,1]},{name:"Christi Himmelfahrt",variable_date:"easter",offset:39},{name:"Pfingstmontag",variable_date:"easter",offset:50},{name:"Fronleichnam",variable_date:"easter",offset:60},{name:"Mariä Himmelfahrt",fixed_date:[8,15]},{name:"Nationalfeiertag",fixed_date:[10,26]},{name:"Allerheiligen",fixed_date:[11,1]},{name:"Mariä Empfängnis",fixed_date:[12,8]},{name:"Christtag",fixed_date:[12,25]},{name:"Stefanitag",fixed_date:[12,26]}],SH:[{2017:[4,8,4,18],2018:[3,24,4,3],2019:[4,13,4,23],2020:[4,4,4,14],2021:[3,27,4,6],2022:[4,9,4,19],2023:[4,1,4,11],2024:[3,23,4,2],name:"Osterferien"},{2017:[6,3,6,6],2018:[5,19,5,22],2019:[6,8,6,11],2020:[5,30,6,2],2021:[5,22,5,25],2022:[6,4,6,7],2023:[5,57,5,30],2024:[5,18,5,21],name:"Pfingstferien"},{2016:[11,2],2017:[11,2],2018:[11,2],2019:[11,2],2020:[11,2],2021:[11,2],2022:[11,2],2023:[11,2],name:"Allerseelen"},{2016:[12,24,1,7],2017:[12,24,1,6],2018:[12,24,1,6],2019:[12,23,1,6],2020:[12,24,1,6],2021:[12,24,1,6],2022:[12,24,1,6],2023:[12,24,1,6],name:"Weihnachtsferien"}],Burgenland:{_state_code:1,SH:[{2016:[2,8,2,13],2017:[2,13,2,18],2018:[2,12,2,17],2019:[2,11,2,16],2020:[2,10,2,15],2021:[2,8,2,13],name:"Semesterferien"},{2016:[7,2,9,3],2017:[7,1,9,3],2018:[6,30,9,2],2019:[6,29,9,1],2020:[7,4,9,6],2021:[7,3,9,4],name:"Sommerferien"}]},Kärnten:{_state_code:2,SH:[{2016:[2,8,2,13],2017:[2,13,2,18],2018:[2,12,2,17],2019:[2,11,2,16],2020:[2,10,2,15],2021:[2,8,2,13],name:"Semesterferien"},{2016:[7,9,9,10],2017:[7,8,9,10],2018:[7,7,9,9],2019:[7,6,9,8],2020:[7,11,9,13],2021:[7,10,9,11],name:"Sommerferien"}]},Niederösterreich:{_state_code:3,SH:[{2016:[2,1,2,6],2017:[2,6,2,11],2018:[2,5,2,10],2019:[2,4,2,9],2020:[2,3,2,8],2021:[2,1,2,6],name:"Semesterferien"},{2016:[7,2,9,3],2017:[7,1,9,3],2018:[6,30,9,2],2019:[6,29,9,1],2020:[7,4,9,6],2021:[7,3,9,4],name:"Sommerferien"}]},Oberösterreich:{_state_code:4,SH:[{2016:[2,15,2,20],2017:[2,20,2,25],2018:[2,19,2,24],2019:[2,18,2,23],2020:[2,17,2,22],2021:[2,15,2,20],name:"Semesterferien"},{2016:[7,9,9,10],2017:[7,8,9,10],2018:[7,7,9,9],2019:[7,6,9,8],2020:[7,11,9,13],2021:[7,10,9,11],name:"Sommerferien"}]},Salzburg:{_state_code:5,SH:[{2016:[2,8,2,13],2017:[2,13,2,18],2018:[2,12,2,17],2019:[2,11,2,16],2020:[2,10,2,15],2021:[2,8,2,13],name:"Semesterferien"},{2016:[7,9,9,10],2017:[7,8,9,10],2018:[7,7,9,9],2019:[7,6,9,8],2020:[7,11,9,13],2021:[7,10,9,11],name:"Sommerferien"}]},Steiermark:{_state_code:6,SH:[{2016:[2,15,2,20],2017:[2,20,2,25],2018:[2,19,2,24],2019:[2,18,2,23],2020:[2,17,2,22],2021:[2,15,2,20],name:"Semesterferien"},{2016:[7,9,9,10],2017:[7,8,9,10],2018:[7,7,9,9],2019:[7,6,9,8],2020:[7,11,9,13],2021:[7,10,9,12],name:"Sommerferien"}]},Tirol:{_state_code:7,SH:[{2016:[2,8,2,13],2017:[2,13,2,18],2018:[2,12,2,17],2019:[2,11,2,16],2020:[2,10,2,15],2021:[2,8,2,13],name:"Semesterferien"},{2016:[7,9,9,10],2017:[7,8,9,10],2018:[7,7,9,9],2019:[7,6,9,8],2020:[7,11,9,13],2021:[7,10,9,11],name:"Sommerferien"}]},Vorarlberg:{_state_code:8,SH:[{2016:[2,15,2,20],2017:[2,13,2,18],2018:[2,5,2,10],2019:[2,11,2,16],2020:[2,10,2,15],2021:[2,8,2,13],name:"Semesterferien"},{2016:[7,9,9,10],2017:[7,8,9,10],2018:[7,7,9,9],2019:[7,6,9,8],2020:[7,11,9,13],2021:[7,10,9,11],name:"Sommerferien"}]},Wien:{_state_code:9,SH:[{2016:[2,1,2,6],2017:[2,6,2,11],2018:[2,5,2,10],2019:[2,4,2,9],2020:[2,3,2,8],2021:[2,1,2,6],name:"Semesterferien"},{2016:[7,2,9,3],2017:[7,1,9,3],2018:[6,30,9,2],2019:[6,29,9,1],2020:[7,4,9,6],2021:[7,3,9,4],name:"Sommerferien"}]}};h.PH,h.SH,h.Burgenland,h.Salzburg,h.Steiermark,h.Tirol,h.Vorarlberg,h.Wien;var g={PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}],"Australian Capital Territory":{_state_code:"act",PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Canberra Day",variable_date:"firstMarchMonday",offset:7},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Saturday",variable_date:"easter",offset:-1},{name:"Easter Sunday",variable_date:"easter"},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"Reconciliation Day",variable_date:"lastMayMonday"},{name:"Queens Birthday",variable_date:"firstJuneMonday",offset:7},{name:"Family and Community Day",variable_date:"lastSeptemberMonday"},{name:"Labour Day",variable_date:"firstOctoberMonday"},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},"New South Wales":{_state_code:"nsw",PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Saturday",variable_date:"easter",offset:-1},{name:"Easter Sunday",variable_date:"easter"},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"Queens Birthday",variable_date:"firstJuneMonday",offset:7},{name:"Labour Day",variable_date:"firstOctoberMonday"},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},"Northern Territory":{_state_code:"nt",PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Saturday",variable_date:"easter",offset:-1},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"May Day",variable_date:"firstMayMonday"},{name:"Queens Birthday",variable_date:"firstJuneMonday",offset:7},{name:"Picnic Day",variable_date:"firstAugustMonday"},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},Queensland:{_state_code:"qld",PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Saturday",variable_date:"easter",offset:-1},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"Labour Day",variable_date:"firstMayMonday"},{name:"Queens Birthday",variable_date:"firstOctoberMonday"},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},"South Australia":{_state_code:"sa",PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Adelaide Cup",variable_date:"firstMarchMonday",offset:7},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Saturday",variable_date:"easter",offset:-1},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"Queens Birthday",variable_date:"firstJuneMonday",offset:7},{name:"Labour Day",variable_date:"firstOctoberMonday"},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},Tasmania:{_state_code:"tas",PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Eight Hours Day",variable_date:"firstMarchMonday",offset:7},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"Queens Birthday",variable_date:"firstJuneMonday",offset:7},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},Victoria:{_state_code:"vic",PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Labour Day",variable_date:"firstMarchMonday",offset:7},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Saturday",variable_date:"easter",offset:-1},{name:"Easter Sunday",variable_date:"easter"},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"Queens Birthday",variable_date:"firstJuneMonday",offset:7},{name:"AFL Grand Final",variable_date:"lastSeptemberFriday"},{name:"Melbourne Cup",variable_date:"firstNovemberTuesday"},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},"Western Australia":{_state_code:"wa",PH:[{name:"New Years Day",fixed_date:[1,1]},{name:"Australia Day",fixed_date:[1,26]},{name:"Labour Day",variable_date:"firstMarchMonday"},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"ANZAC Day",fixed_date:[4,25]},{name:"Western Australia Day",variable_date:"firstJuneMonday"},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]}};g.PH,g.Queensland,g.Tasmania,g.Victoria;var m={PH:[{name:"Nieuwjaar - Jour de l'an",fixed_date:[1,1]},{name:"Paasmaandag - Lundi de Pâques",variable_date:"easter",offset:1},{name:"Dag van de Arbeid - Fête du Travail",fixed_date:[5,1]},{name:"Onze-Lieve-Heer-Hemelvaart - Jeudi de l'Ascensionn",variable_date:"easter",offset:39},{name:"Pinkstermaandag - Lundi de Pentecôte",variable_date:"easter",offset:50},{name:"Nationale feestdag van België - Fête nationale",fixed_date:[7,21]},{name:"Onze-Lieve-Vrouw-Hemelvaart - Assomption",fixed_date:[8,15]},{name:"Allerheiligen - Toussaint",fixed_date:[11,1]},{name:"Wapenstilstand - Armistice",fixed_date:[11,11]},{name:"Kerstmis - Noël",fixed_date:[12,25]}],SH:[{2020:[2,24,3,1],2021:[2,15,2,21],2022:[2,28,3,6],2023:[2,20,2,26],name:"Krokusvakantie - Vacances de carnaval"},{2020:[4,6,4,19],2021:[4,5,4,18],2022:[4,4,4,18],2023:[4,3,4,16],name:"Paasvakantie - Vacances de pâques"},{2020:[7,1,8,31],2021:[7,1,8,31],2022:[7,1,8,31],2023:[7,1,8,31],name:"Zomervakantie - Vacances d'été"},{2019:[10,28,11,3],2020:[11,2,11,15],2021:[11,1,11,7],2022:[10,31,11,6],name:"Herfstvakantie - Vacances automne"},{2019:[12,23,1,5],2020:[12,21,1,3],2021:[12,27,1,9],2022:[12,26,1,8],name:"Kerstvakantie - Vacances de Noël"}]};m.PH,m.SH;var y={PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}],Acre:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Dia do evangélico",fixed_date:[1,23]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Alusivo ao Dia Internacional da Mulher",fixed_date:[3,8]},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Aniversário do estado",fixed_date:[6,15]},{name:"Dia da Amazônia",fixed_date:[9,5]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Assinatura do Tratado de Petrópolis",fixed_date:[11,17]},{name:"Natal",fixed_date:[12,25]}]},Alagoas:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"São João",fixed_date:[6,24]},{name:"São Pedro",fixed_date:[6,29]},{name:"Independência",fixed_date:[9,7]},{name:"Emancipação política",fixed_date:[9,16]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Morte de Zumbi dos Palmares",fixed_date:[11,20]},{name:"Natal",fixed_date:[12,25]}]},Amapá:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Dia de São José",fixed_date:[3,19]},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Data Magna do estado",fixed_date:[9,13]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Amazonas:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Data Magna do estado",fixed_date:[9,5]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Dia da Consciência Negra",fixed_date:[11,20]},{name:"Natal",fixed_date:[12,25]}]},Bahia:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Data magna do estado",fixed_date:[2,7]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Ceará:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Data magna do estado",fixed_date:[3,25]},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},"Distrito Federal":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Dia do evangélico",fixed_date:[11,30]},{name:"Natal",fixed_date:[12,25]}]},"Espírito Santo":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Data magna do estado",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Goiás:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Maranhão:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Data magna do estado",fixed_date:[7,28]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},"Mato Grosso":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Dia da Consciência Negra",fixed_date:[11,20]},{name:"Natal",fixed_date:[12,25]}]},"Mato Grosso do Sul":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Criação do estado",fixed_date:[10,11]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},"Minas Gerais":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Data magna do estado",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Pará:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Data magna do estado",fixed_date:[8,15]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Paraíba:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Homenagem a João Pessoa",fixed_date:[7,26]},{name:"Data magna do estado",fixed_date:[8,5]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Paraná:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Data magna do estado",fixed_date:[12,19]},{name:"Natal",fixed_date:[12,25]}]},Pernambuco:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Data magna do estado",variable_date:"firstMarchSunday"},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Piauí:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Data magna do estado",fixed_date:[10,19]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},"Rio de Janeiro":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Dia da Consciência Negra",fixed_date:[11,20]},{name:"Natal",fixed_date:[12,25]}]},"Rio Grande do Norte":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"São Jorge",fixed_date:[4,23]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Mártires de Cunhaú e Uruaçu",fixed_date:[10,3]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},"Rio Grande do Sul":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Proclamação da República Rio-Grandense",fixed_date:[9,20]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Rondônia:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Data magna do estado",fixed_date:[1,4]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Dia do evangélico",fixed_date:[6,18]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Roraima:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Data magna do estado",fixed_date:[10,5]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},"Santa Catarina":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Data magna do estado",fixed_date:[8,11]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Santa Catarina de Alexandria",fixed_date:[11,25]},{name:"Natal",fixed_date:[12,25]}]},"São Paulo":{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Data magna do estado",fixed_date:[7,9]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]},Sergipe:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Aniversário de Aracaju",fixed_date:[3,17]},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"São João",fixed_date:[6,24]},{name:"Data magna do estado",fixed_date:[7,8]},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Nossa Senhora da Conceição",fixed_date:[12,8]},{name:"Natal",fixed_date:[12,25]}]},Tocantins:{PH:[{name:"Ano Novo",fixed_date:[1,1]},{name:"Carnaval",variable_date:"easter",offset:-47},{name:"Autonomia do estado",fixed_date:[3,18]},{name:"Sexta-feira santa",variable_date:"easter",offset:-2},{name:"Tiradentes",fixed_date:[4,21]},{name:"Dia do Trabalhador",fixed_date:[5,1]},{name:"Corpus Christi",variable_date:"easter",offset:60},{name:"Independência",fixed_date:[9,7]},{name:"Nossa Senhora da Natividade",fixed_date:[9,8]},{name:"Criação do estado",fixed_date:[10,5]},{name:"Nossa Senhora Aparecida",fixed_date:[10,12]},{name:"Finados",fixed_date:[11,2]},{name:"Proclamação da República",fixed_date:[11,15]},{name:"Natal",fixed_date:[12,25]}]}};y.PH,y.Acre,y.Alagoas,y.Amazonas,y.Bahia,y.Pernambuco,y.Roraima,y.Sergipe,y.Tocantins;var x={PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Canada Day",variable_date:"canadaDay"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Christmas Day",fixed_date:[12,25]}],Alberta:{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Alberta Family Day",variable_date:"firstFebruaryMonday",offset:14},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"Heritage Day",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},"British Columbia":{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Family Day",variable_date:"firstFebruaryMonday",offset:7},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"British Columbia Day",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]}]},Manitoba:{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Louis Riel Day",variable_date:"firstFebruaryMonday",offset:14},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"Civic Holiday",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]}]},"New Brunswick":{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"New Brunswick Day",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},"Newfoundland and Labrador":{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Saint Patrick's Day",fixed_date:[3,17]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Saint George's Day",fixed_date:[4,23]},{name:"Discovery Day",fixed_date:[6,24]},{name:"Memorial Day",fixed_date:[7,1]},{name:"Orangemen's Day",fixed_date:[7,12]},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Armistice Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]}]},"Northwest Territories":{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"National Aboriginal Day",fixed_date:[6,21]},{name:"Canada Day",variable_date:"canadaDay"},{name:"Civic Holiday",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]}]},"Nova Scotia":{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"Natal Day",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},Nunavut:{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"Nunavut Day",fixed_date:[7,9]},{name:"Civic Holiday",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]}]},Ontario:{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Family Day",variable_date:"firstFebruaryMonday",offset:14},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"August Civic Public Holiday",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},"Prince Edward Island":{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Islander Day",variable_date:"firstFebruaryMonday",offset:14},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"Civic Holiday",variable_date:"firstAugustMonday"},{name:"Gold Cup Parade Day",variable_date:"firstAugustMonday",offset:18},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},Quebec:{PH:[{name:"Jour de l'an",fixed_date:[1,1]},{name:"Vendredi saint",variable_date:"easter",offset:-2},{name:"Lundi de Pâques",variable_date:"easter",offset:1},{name:"Journée nationale des patriotes",variable_date:"victoriaDay"},{name:"Fête nationale du Québec",fixed_date:[6,24]},{name:"Fête du Canada",variable_date:"canadaDay"},{name:"Fête du Travail",variable_date:"firstSeptemberMonday"},{name:"Jour de l'Action de grâce",variable_date:"firstOctoberMonday",offset:7},{name:"Noël",fixed_date:[12,25]}]},Saskatchewan:{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Family Day",variable_date:"firstFebruaryMonday",offset:14},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"Saskatchewan Day",variable_date:"firstAugustMonday"},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]}]},Yukon:{PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Heritage Day",variable_date:"lastFebruarySunday",offset:-2},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"Victoria Day",variable_date:"victoriaDay"},{name:"Canada Day",variable_date:"canadaDay"},{name:"Discovery Day",variable_date:"firstAugustMonday",offset:14},{name:"Labour Day",variable_date:"firstSeptemberMonday"},{name:"Thanksgiving",variable_date:"firstOctoberMonday",offset:7},{name:"Remembrance Day",fixed_date:[11,11]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]}};x.PH,x.Alberta,x.Manitoba,x.Nunavut,x.Ontario,x.Quebec,x.Saskatchewan,x.Yukon;var E={PH:[{name:"Neujahrstag/Nouvel an/Capo d'anno",fixed_date:[1,1]},{name:"Berchtoldstag/2 janvier",fixed_date:[1,2],only_states:["Zürich","Bern","Luzern","Obwalden","Nidwalden","Glarus","Zug","Freiburg","Solothurn","Schaffhausen","Graubünden","Aargau","Thurgau","Waadt","Neuenburg","Genf","Jura","Sankt Gallen","Wallis"]},{name:"Heilige Drei Könige/Epifania",fixed_date:[1,6],only_states:["Uri","Schwyz","Graubünden","Tessin"]},{name:"Instauration de la République",fixed_date:[3,1],only_states:["Neuenburg"]},{name:"Josefstag/Saint-Joseph/San Giuseppe",fixed_date:[3,19],only_states:["Luzern","Uri","Schwyz","Nidwalden","Zug","Graubünden","Tessin","Wallis"]},{name:"Karfreitag/Vendredi saint",variable_date:"easter",offset:-2,only_states:["Zürich","Bern","Luzern","Uri","Schwyz","Obwalden","Nidwalden","Glarus","Zug","Freiburg","Solothurn","Basel-Stadt","Basel-Landschaft","Schaffhausen","Appenzell Ausserrhoden","Appenzell Innerrhoden","Sankt Gallen","Graubünden","Aargau","Thurgau","Waadt","Neuenburg","Genf","Jura"]},{name:"Ostermontag/Lundi de Pâques/Lunedi di Pasqua",variable_date:"easter",offset:1,only_states:["Zürich","Bern","Luzern","Uri","Schwyz","Obwalden","Nidwalden","Glarus","Zug","Freiburg","Solothurn","Basel-Stadt","Basel-Landschaft","Schaffhausen","Appenzell Ausserrhoden","Appenzell Innerrhoden","Sankt Gallen","Graubünden","Aargau","Thurgau","Tessin","Waadt","Neuenburg","Genf","Jura","Wallis"]},{name:"Tag der Arbeit/Festa dei lavoratori",fixed_date:[5,1],only_states:["Zürich","Freiburg","Solothurn","Basel-Stadt","Basel-Landschaft","Schaffhausen","Aargau","Thurgau","Tessin","Neuenburg","Jura"]},{name:"Auffahrt/Ascension/Ascensione",variable_date:"easter",offset:39},{name:"Pfingstmontag/Lundi de Pentecôte/Lunedi di Pentecoste",variable_date:"easter",offset:50,only_states:["Zürich","Bern","Luzern","Uri","Schwyz","Obwalden","Nidwalden","Glarus","Zug","Freiburg","Solothurn","Basel-Stadt","Basel-Landschaft","Schaffhausen","Appenzell Ausserrhoden","Appenzell Innerrhoden","Sankt Gallen","Graubünden","Aargau","Thurgau","Tessin","Waadt","Neuenburg","Genf","Jura","Wallis"]},{name:"Fronleichnam/Fête-Dieu/Corpus domini",variable_date:"easter",offset:60,only_states:["Luzern","Uri","Schwyz","Obwalden","Nidwalden","Zug","Freiburg","Solothurn","Basel-Landschaft","Appenzell Innerrhoden","Graubünden","Aargau","Tessin","Wallis","Neuenburg","Jura"]},{name:"Commémoration du plébiscite jurassien",fixed_date:[6,23],only_states:["Jura"]},{name:"San Pietro e Paolo",fixed_date:[6,29],only_states:["Tessin"]},{name:"Bundesfeiertag/Jour de la fête nationale/Giorno festivo federale",fixed_date:[8,1]},{name:"Mariä Himmelfahrt/Assomption/Assunzione",fixed_date:[8,15],only_states:["Luzern","Uri","Schwyz","Obwalden","Nidwalden","Zug","Freiburg","Solothurn","Basel-Landschaft","Appenzell Innerrhoden","Graubünden","Aargau","Tessin","Wallis","Jura"]},{name:"Mauritiustag",fixed_date:[9,22],only_states:["Appenzell Innerrhoden"]},{name:"Bruderklausenfest",fixed_date:[9,25],only_states:["Obwalden"]},{name:"Allerheiligen/Toussaint/Ognissanti",fixed_date:[11,1],only_states:["Luzern","Uri","Schwyz","Obwalden","Nidwalden","Glarus","Zug","Freiburg","Solothurn","Appenzell Innerrhoden","Sankt Gallen","Graubünden","Aargau","Tessin","Wallis","Jura"]},{name:"Mariä Empfängnis/Immaculée Conception/Ognissanti",fixed_date:[12,8],only_states:["Luzern","Uri","Schwyz","Obwalden","Nidwalden","Zug","Freiburg","Solothurn","Appenzell Innerrhoden","Graubünden","Aargau","Tessin","Wallis"]},{name:"Weihnachtstag/Noël/Natale",fixed_date:[12,25]},{name:"Stephanstag/Saint-Etienne/Santo Stefano",fixed_date:[12,26],only_states:["Zürich","Bern","Luzern","Uri","Schwyz","Obwalden","Nidwalden","Glarus","Zug","Freiburg","Solothurn","Basel-Stadt","Basel-Landschaft","Schaffhausen","Appenzell Ausserrhoden","Appenzell Innerrhoden","Sankt Gallen","Graubünden","Aargau","Thurgau","Tessin","Wallis"]},{name:"Restauration de la République",fixed_date:[12,31],only_states:["Genf"]}],Aargau:{_state_code:"ag"},"Appenzell Ausserrhoden":{_state_code:"ar"},"Appenzell Innerrhoden":{_state_code:"ai"},"Basel-Landschaft":{_state_code:"bl"},"Basel-Stadt":{_state_code:"bs"},Bern:{_state_code:"be"},Freiburg:{_state_code:"fr"},Genf:{_state_code:"ge"},Glarus:{_state_code:"gl"},Graubünden:{_state_code:"gr"},Jura:{_state_code:"ju"},Luzern:{_state_code:"lu"},Neuenburg:{_state_code:"ne"},Nidwalden:{_state_code:"nw"},Obwalden:{_state_code:"ow"},Schaffhausen:{_state_code:"sh"},Schwyz:{_state_code:"sz"},Solothurn:{_state_code:"so"},"Sankt Gallen":{_state_code:"sg"},Tessin:{_state_code:"ti"},Thurgau:{_state_code:"tg"},Uri:{_state_code:"ur"},Waadt:{_state_code:"vd"},Wallis:{_state_code:"vs"},Zug:{_state_code:"zg"},Zürich:{_state_code:"zh"}};E.PH,E.Aargau,E.Bern,E.Freiburg,E.Genf,E.Glarus,E.Jura,E.Luzern,E.Neuenburg,E.Nidwalden,E.Obwalden,E.Schaffhausen,E.Schwyz,E.Solothurn,E.Tessin,E.Thurgau,E.Uri,E.Waadt,E.Wallis,E.Zug;var _={PH:[{name:"Fête du 1ᵉʳ janvier",fixed_date:[1,1]},{name:"Lundi de Pâques",variable_date:"easter",offset:1},{name:"Fête du travail",fixed_date:[5,1]},{name:"Lendemain de la Fête du travail",variable_date:"nextMo-Sa01May"},{name:"Jour de l’Ascension",variable_date:"easter",offset:39},{name:"Lundi de la Pentecôte",variable_date:"easter",offset:50},{name:"Fête nationale",fixed_date:[8,7]},{name:"Lendemain de la Fête nationale",variable_date:"nextMo-Sa07August"},{name:"Fête de l’Assomption",fixed_date:[8,15]},{name:"Fête de la Toussaint",fixed_date:[11,1]},{name:"Journée Nationale de la Paix",fixed_date:[11,15]},{name:"Fête de Noël",fixed_date:[12,25]},{name:"Lendemain de la Fête de Noël",variable_date:"nextMo-Sa25December"}]};_.PH;var w={PH:[{name:"Den obnovy samostatného českého státu",fixed_date:[1,1]},{name:"Velký pátek",variable_date:"easter",offset:-2},{name:"Velikonoční pondělí",variable_date:"easter",offset:1},{name:"Svátek práce",fixed_date:[5,1]},{name:"Den vítězství",fixed_date:[5,8]},{name:"Den slovanských věrozvěstů Cyrila a Metoděje",fixed_date:[7,5]},{name:"Den upálení mistra Jana Husa",fixed_date:[7,6]},{name:"Den české státnosti",fixed_date:[9,28]},{name:"Den vzniku samostatného československého státu",fixed_date:[10,28]},{name:"Den boje za svobodu a demokracii",fixed_date:[11,17]},{name:"Štědrý den",fixed_date:[12,24]},{name:"1. svátek vánoční",fixed_date:[12,25]},{name:"2. svátek vánoční",fixed_date:[12,26]}]};w.PH;var L={PH:[{name:"Neujahrstag",fixed_date:[1,1]},{name:"Heilige Drei Könige",fixed_date:[1,6],only_states:["Baden-Württemberg","Bayern","Sachsen-Anhalt"]},{name:"Frauentag",fixed_date:[3,8],only_states:["Berlin"]},{name:"Tag der Arbeit",fixed_date:[5,1]},{name:"Karfreitag",variable_date:"easter",offset:-2},{name:"Ostersonntag",variable_date:"easter",only_states:["Brandenburg"]},{name:"Ostermontag",variable_date:"easter",offset:1},{name:"Christi Himmelfahrt",variable_date:"easter",offset:39},{name:"Pfingstsonntag",variable_date:"easter",offset:49,only_states:["Brandenburg"]},{name:"Pfingstmontag",variable_date:"easter",offset:50},{name:"Fronleichnam",variable_date:"easter",offset:60,only_states:["Baden-Württemberg","Bayern","Hessen","Nordrhein-Westfalen","Rheinland-Pfalz","Saarland"]},{name:"Mariä Himmelfahrt",fixed_date:[8,15],only_states:["Saarland"]},{name:"Weltkindertag",fixed_date:[9,20],only_states:["Thüringen"]},{name:"Tag der Deutschen Einheit",fixed_date:[10,3]},{name:"Reformationstag",fixed_date:[10,31],only_states:["Brandenburg","Bremen","Hamburg","Mecklenburg-Vorpommern","Niedersachsen","Sachsen","Sachsen-Anhalt","Schleswig-Holstein","Thüringen"]},{name:"Allerheiligen",fixed_date:[11,1],only_states:["Baden-Württemberg","Bayern","Nordrhein-Westfalen","Rheinland-Pfalz","Saarland"]},{name:"Buß- und Bettag",variable_date:"nextWednesday16Nov",only_states:["Sachsen"]},{name:"1. Weihnachtstag",fixed_date:[12,25]},{name:"2. Weihnachtstag",fixed_date:[12,26]}],"Baden-Württemberg":{_state_code:"bw",SH:[{2012:[4,2,4,13],2013:[3,25,4,5],2014:[4,14,4,25],2015:[3,30,4,10],2016:[3,24,3,24,3,29,4,2],2017:[4,10,4,21],2018:[3,26,4,6],2019:[4,15,4,27],2020:[4,6,4,18],name:"Osterferien"},{2012:[5,29,6,9],2013:[5,21,6,1],2014:[6,10,6,21],2015:[5,26,6,6],2016:[5,17,5,28],2017:[6,6,6,16],2018:[5,22,6,2],2019:[6,11,6,21],2020:[6,2,6,13],name:"Pfingstferien"},{2012:[7,26,9,8],2013:[7,25,9,7],2014:[7,31,9,13],2015:[7,30,9,12],2016:[7,28,9,10],2017:[7,27,9,9],2018:[7,26,9,8],2019:[7,29,9,10],2020:[7,30,9,12],2021:[7,29,9,11],2022:[7,28,9,10],2023:[7,27,9,9],2024:[7,25,9,7],name:"Sommerferien"},{2012:[10,29,11,2],2013:[10,28,10,30],2014:[10,27,10,30],2015:[10,31,10,31,11,2,11,6],2016:[10,31,10,31,11,2,11,4],2017:[10,30,11,3],2018:[10,29,11,2],2019:[10,28,10,30],name:"Herbstferien"},{2011:[12,23,1,5],2012:[12,24,1,5],2013:[12,23,1,4],2014:[12,22,1,5],2015:[12,23,1,9],2016:[12,23,1,7],2017:[12,22,1,5],2018:[12,24,1,5],2019:[12,23,1,4],name:"Weihnachtsferien"}]},Bayern:{_state_code:"by",SH:[{2012:[2,20,2,24],2013:[2,11,2,15],2014:[3,3,3,7],2015:[2,16,2,20],2016:[2,8,2,12],2017:[2,27,3,3],2018:[2,12,2,16],2019:[3,4,3,8],2020:[2,24,2,28],2021:[2,15,2,19],2022:[2,28,3,4],2023:[2,20,2,24],2024:[2,12,2,16],name:"Winterferien"},{2012:[4,2,4,14],2013:[3,25,4,6],2014:[4,14,4,26],2015:[3,30,4,11],2016:[3,21,4,1],2017:[4,10,4,22],2018:[3,26,4,7],2019:[4,15,4,27],2020:[4,6,4,18],2021:[3,29,4,10],2022:[4,11,4,23],2023:[4,3,4,15],2024:[3,25,4,6],name:"Osterferien"},{2012:[5,29,6,9],2013:[5,21,5,31],2014:[6,10,6,21],2015:[5,26,6,5],2016:[5,17,5,28],2017:[6,6,6,16],2018:[5,22,6,2],2019:[6,11,6,21],2020:[6,2,6,13],2021:[5,25,6,4],2022:[6,7,6,18],2023:[5,30,6,9],2024:[5,21,6,1],name:"Pfingstferien"},{2012:[8,1,9,12],2013:[7,31,9,11],2014:[7,30,9,15],2015:[8,1,9,14],2016:[7,30,9,12],2017:[7,29,9,11],2018:[7,30,9,10],2019:[7,29,9,9],2020:[7,27,9,7],2021:[7,30,9,13],2022:[8,1,9,12],2023:[7,31,9,11],2024:[7,29,9,9],name:"Sommerferien"},{2012:[10,29,11,3],2013:[10,28,10,31],2014:[10,27,10,31,11,19,11,19],2015:[11,2,11,7,11,18,11,18],2016:[10,31,11,4,11,16,11,16],2017:[10,30,11,3,11,22,11,22],2018:[10,29,11,2,11,21,11,21],2019:[10,28,10,31,11,20,11,20],2020:[10,31,11,6,11,18,11,18],2021:[11,2,11,5,11,17,11,17],2022:[10,31,11,4,11,16,11,16],2023:[10,30,11,3,11,22,11,22],name:"Herbstferien"},{2011:[12,27,1,5],2012:[12,24,1,5],2013:[12,23,1,4],2014:[12,24,1,5],2015:[12,24,1,5],2016:[12,24,1,5],2017:[12,23,1,5],2018:[12,22,1,5],2019:[12,23,1,4],2020:[12,23,1,9],2021:[12,24,1,8],2022:[12,24,1,7],2023:[12,23,1,5],name:"Weihnachtsferien"}]},Berlin:{_state_code:"be",SH:[{2012:[1,30,2,4],2013:[2,4,2,9],2014:[2,3,2,8],2015:[2,2,2,7],2016:[2,1,2,6],2017:[1,30,2,3],2018:[2,5,2,10],2019:[2,4,2,9],2020:[2,3,2,8],2021:[2,1,2,6],2022:[1,29,2,5],2023:[1,30,2,4],2024:[2,5,2,10],name:"Winterferien"},{2012:[4,2,4,14,4,30,4,30],2013:[3,25,4,6],2014:[4,14,4,26,5,2,5,2],2015:[3,30,4,11],2016:[3,21,4,2],2017:[4,10,4,18],2018:[3,26,4,6],2019:[4,15,4,26],2020:[4,6,4,17],2021:[3,29,4,10],2022:[4,11,4,23],2023:[4,3,4,14],2024:[3,25,4,5],name:"Osterferien"},{2012:[5,18,5,18],2013:[5,10,5,10,5,21,5,21],2014:[5,30,5,30],2015:[5,15,5,15,5,26,5,26],2016:[5,6,5,6,5,17,5,18],2017:[5,24,5,24,5,26,5,26,6,6,6,9],2018:[4,30,4,30,5,11,5,11,5,22,5,22],2019:[5,31,5,31,6,11,6,11],2020:[5,22,5,22],2021:[5,14,5,14],2022:[5,27,5,27,6,7,6,7],2023:[5,19,5,19,5,30,5,30],2024:[5,10,5,10],name:"Pfingstferien"},{2012:[6,20,8,3],2013:[6,19,8,2],2014:[7,9,8,22],2015:[7,16,8,28],2016:[7,21,9,2],2017:[7,20,9,1],2018:[7,5,8,17],2019:[6,20,8,2],2020:[6,25,8,7],2021:[6,24,8,6],2022:[7,7,8,19],2023:[7,13,8,25],2024:[7,18,8,30],name:"Sommerferien"},{2012:[10,1,10,13],2013:[9,30,10,12],2014:[10,20,11,1],2015:[10,19,10,31],2016:[10,17,10,28],2017:[10,2,10,2,10,23,11,4],2018:[10,22,11,2],2019:[10,4,10,4,10,7,10,19],2020:[10,12,10,24],2021:[10,11,10,23],2022:[10,24,11,5],2023:[10,2,10,2,10,23,11,4],name:"Herbstferien"},{2011:[12,23,1,3],2012:[12,24,1,4],2013:[12,23,1,3],2014:[12,22,1,2],2015:[12,23,1,2],2016:[12,23,1,3],2017:[12,21,1,2],2018:[12,22,1,5],2019:[12,23,1,4],2020:[12,21,1,2],2021:[12,23,12,31],2022:[12,22,1,2],2023:[12,23,1,5],name:"Weihnachtsferien"}]},Brandenburg:{_state_code:"bb",SH:[{2012:[1,30,2,4],2013:[2,4,2,9],2014:[2,3,2,8],2015:[2,2,2,7],2016:[2,1,2,6],2017:[1,30,2,4],2018:[2,5,2,10],2019:[2,4,2,9],2020:[2,3,2,8],2021:[2,1,2,6],2022:[1,31,2,5],2023:[1,30,2,3],2024:[2,5,2,9],name:"Winterferien"},{2012:[4,4,4,14,4,30,4,30],2013:[3,27,4,6],2014:[4,16,4,26,5,2,5,2],2015:[4,1,4,11],2016:[3,23,4,2],2017:[4,10,4,22],2018:[3,26,4,6],2019:[4,15,4,26],2020:[4,6,4,17],2021:[3,29,4,9],2022:[4,11,4,23],2023:[4,3,4,14],2024:[3,25,4,5],name:"Osterferien"},{2012:[5,18,5,18],2013:[5,10,5,10],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6,5,17,5,17],2017:[5,26,5,26],2018:[4,30,4,30,5,11,5,11],2019:[5,31,5,31],2020:[5,22,5,22],2021:[5,14,5,14],2022:[5,27,5,27],2023:[5,19,5,19],2024:[5,10,5,10],name:"Pfingstferien"},{2012:[6,21,8,3],2013:[6,20,8,2],2014:[7,10,8,22],2015:[7,16,8,28],2016:[7,21,9,3],2017:[7,20,9,1],2018:[7,5,8,18],2019:[6,20,8,3],2020:[6,25,8,8],2021:[6,24,8,7],2022:[7,7,8,20],2023:[7,13,8,26],2024:[7,18,8,31],name:"Sommerferien"},{2012:[10,1,10,13],2013:[9,30,10,12,11,1,11,1],2014:[10,20,11,1],2015:[10,19,10,30],2016:[10,17,10,28],2017:[10,2,10,2,10,23,11,4],2018:[10,22,11,2],2019:[10,4,10,18,11,1,11,1],2020:[10,12,10,24],2021:[10,11,10,23],2022:[10,24,11,5],2023:[10,2,10,2,10,23,11,4],name:"Herbstferien"},{2011:[12,23,1,3],2012:[12,24,1,4],2013:[12,23,1,3],2014:[12,22,1,2],2015:[12,23,1,2],2016:[12,23,1,3],2017:[12,21,1,2],2018:[12,21,1,5],2019:[12,23,1,3],2020:[12,21,1,2],2021:[12,23,12,31],2022:[12,22,1,3],2023:[12,23,1,5],name:"Weihnachtsferien"}]},Bremen:{_state_code:"hb",SH:[{2012:[1,30,1,31],2013:[1,31,2,1],2014:[1,30,1,31],2015:[2,2,2,3],2016:[1,28,1,29],2017:[1,30,1,31],2018:[2,1,2,2],2019:[1,31,2,1],2020:[2,3,2,4],2021:[2,1,2,2],2022:[1,31,2,1],2023:[1,30,1,31],2024:[2,1,2,2],name:"Winterferien"},{2012:[3,26,4,11,4,30,4,30],2013:[3,16,4,2],2014:[4,3,4,22,5,2,5,2],2015:[3,25,4,10],2016:[3,18,4,2],2017:[4,10,4,22],2018:[3,19,4,3],2019:[4,6,4,23],2020:[3,28,4,14],2021:[3,27,4,10],2022:[4,4,4,19],2023:[3,27,4,11],2024:[3,18,4,2],name:"Osterferien"},{2012:[5,18,5,18,5,29,5,29],2013:[5,10,5,10,5,21,5,21],2014:[5,30,5,30,6,10,6,10],2015:[5,15,5,15,5,26,5,26],2016:[5,6,5,6,5,17,5,17],2017:[5,26,5,26,6,6,6,6],2018:[4,30,4,30,5,11,5,11,5,22,5,22],2019:[5,31,5,31,6,11,6,11],2020:[5,22,5,22,6,2,6,2],2021:[5,14,5,14,5,25,5,25],2022:[5,27,5,27,6,7,6,7],2023:[5,19,5,19,5,30,5,30],2024:[5,10,5,10,5,21,5,21],name:"Pfingstferien"},{2012:[7,23,8,31],2013:[6,27,8,7],2014:[7,31,9,10],2015:[7,23,9,2],2016:[6,23,8,3],2017:[6,22,8,2],2018:[6,28,8,8],2019:[7,4,8,14],2020:[7,16,8,26],2021:[7,22,9,1],2022:[7,14,8,24],2023:[7,6,8,16],2024:[6,24,8,2],name:"Sommerferien"},{2012:[10,22,11,3],2013:[10,4,10,18],2014:[10,27,11,8],2015:[10,19,10,31],2016:[10,4,10,15],2017:[10,2,10,14,10,30,10,30],2018:[10,1,10,13],2019:[10,4,10,18],2020:[10,12,10,24],2021:[10,18,10,30],2022:[10,17,10,29],2023:[10,2,10,2,10,16,10,28],name:"Herbstferien"},{2011:[12,23,1,4],2012:[12,24,1,5],2013:[12,23,1,3],2014:[12,22,1,5],2015:[12,23,1,6],2016:[12,21,1,6],2017:[12,22,1,6],2018:[12,24,1,4],2019:[12,21,1,6],2020:[12,23,1,8],2021:[12,23,1,8],2022:[12,23,1,6],2023:[12,23,1,5],name:"Weihnachtsferien"}]},Hamburg:{_state_code:"hh",SH:[{2012:[1,30,1,30],2013:[2,1,2,1],2014:[1,31,1,31],2015:[1,30,1,30],2016:[1,29,1,29],2017:[1,30,1,30],2018:[2,2,2,2],2019:[2,1,2,1],2020:[1,31,1,31],2021:[1,29,1,29],2022:[1,28,1,28],2023:[1,27,1,27],2024:[2,2,2,2],name:"Winterferien"},{2012:[3,5,3,16],2013:[3,4,3,15],2014:[3,3,3,14],2015:[3,2,3,13],2016:[3,7,3,18],2017:[3,6,3,17],2018:[3,5,3,16,4,30,4,30],2019:[3,4,3,15],2020:[3,2,3,13],2021:[3,1,3,12],2022:[3,7,3,18],2023:[3,6,3,17],2024:[3,18,3,28],name:"Osterferien"},{2012:[4,30,5,4,5,18,5,18],2013:[5,2,5,10],2014:[4,28,5,2,5,30,5,30],2015:[5,11,5,15],2016:[5,6,5,6,5,17,5,20],2017:[5,22,5,26],2018:[5,7,5,11],2019:[5,13,5,17,5,31,5,31],2020:[5,4,5,8],2021:[5,10,5,14],2022:[5,23,5,27],2023:[5,15,5,19],2024:[5,21,5,24],name:"Pfingstferien"},{2012:[6,21,8,1],2013:[6,20,7,31],2014:[7,10,8,20],2015:[7,16,8,26],2016:[7,21,8,31],2017:[7,20,8,30],2018:[7,5,8,15],2019:[6,27,8,7],2020:[6,25,8,5],2021:[6,24,8,4],2022:[7,7,8,17],2023:[7,13,8,23],2024:[7,18,8,28],name:"Sommerferien"},{2012:[10,1,10,12],2013:[9,30,10,11],2014:[10,13,10,24],2015:[10,19,10,30],2016:[10,17,10,28],2017:[10,2,10,2,10,16,10,27],2018:[10,1,10,12],2019:[10,4,10,18],2020:[10,5,10,16],2021:[10,4,10,15],2022:[10,10,10,21],2023:[10,2,10,2,10,16,10,27],name:"Herbstferien"},{2011:[12,27,1,6],2012:[12,21,1,4],2013:[12,19,1,3],2014:[12,22,1,6],2015:[12,21,1,1],2016:[12,27,1,6],2017:[12,22,1,5],2018:[12,20,1,4],2019:[12,23,1,3],2020:[12,21,1,4],2021:[12,23,1,4],2022:[12,23,1,6],2023:[12,22,1,5],name:"Weihnachtsferien"}]},Hessen:{_state_code:"he",SH:[{2012:[4,2,4,14],2013:[3,25,4,6],2014:[4,14,4,26],2015:[3,30,4,11],2016:[3,29,4,9],2017:[4,3,4,15],2018:[3,26,4,7],2019:[4,14,4,27],2020:[4,6,4,18],2021:[4,6,4,16],2022:[4,11,4,23],2023:[4,3,4,22],2024:[3,25,4,13],name:"Osterferien"},{2012:[7,2,8,10],2013:[7,8,8,16],2014:[7,28,9,5],2015:[7,27,9,4],2016:[7,18,8,26],2017:[7,3,8,11],2018:[6,25,8,3],2019:[7,1,8,9],2020:[7,6,8,14],2021:[7,19,8,27],2022:[7,25,9,2],2023:[7,24,9,1],2024:[7,15,8,23],name:"Sommerferien"},{2012:[10,15,10,27],2013:[10,14,10,26],2014:[10,20,11,1],2015:[10,19,10,31],2016:[10,17,10,29],2017:[10,9,10,21],2018:[10,1,10,13],2019:[9,30,10,12],2020:[10,5,10,17],2021:[10,11,10,23],2022:[10,24,10,29],2023:[10,23,10,28],name:"Herbstferien"},{2011:[12,21,1,6],2012:[12,24,1,12],2013:[12,23,1,11],2014:[12,22,1,10],2015:[12,23,1,9],2016:[12,22,1,7],2017:[12,24,1,13],2018:[12,24,1,12],2019:[12,23,1,11],2020:[12,21,1,9],2021:[12,23,1,8],2022:[12,22,1,7],2023:[12,27,1,13],name:"Weihnachtsferien"}]},"Mecklenburg-Vorpommern":{_state_code:"mv",SH:[{2012:[2,6,2,17],2013:[2,4,2,15],2014:[2,3,2,15],2015:[2,2,2,14],2016:[2,1,2,13],2017:[2,6,2,18],2018:[2,5,2,16],2019:[2,4,2,15],2020:[2,10,2,21],2021:[2,6,2,19],2022:[2,5,2,17],2023:[2,6,2,18],2024:[2,5,2,16],name:"Winterferien"},{2012:[4,2,4,11],2013:[3,25,4,3],2014:[4,14,4,23],2015:[3,30,4,8],2016:[3,21,3,30],2017:[4,10,4,19],2018:[3,26,4,4],2019:[4,15,4,24],2020:[4,6,4,15],2021:[3,29,4,7],2022:[4,11,4,20],2023:[4,3,4,12],2024:[3,25,4,3],name:"Osterferien"},{2012:[5,25,5,29],2013:[5,17,5,21],2014:[6,6,6,10],2015:[5,22,5,26],2016:[5,14,5,17],2017:[6,2,6,6],2018:[5,11,5,11,5,18,5,22],2019:[5,22,5,22,6,7,6,11],2020:[5,22,5,22,5,29,6,2],2021:[5,14,5,14,5,21,5,25],2022:[5,27,5,27,6,3,6,7],2023:[5,19,5,19,5,26,5,30],2024:[5,10,5,10,5,17,5,21],name:"Pfingstferien"},{2012:[6,23,8,4],2013:[6,22,8,3],2014:[7,14,8,23],2015:[7,20,8,29],2016:[7,25,9,3],2017:[7,24,9,2],2018:[7,9,8,18],2019:[7,1,8,10],2020:[6,22,8,1],2021:[6,21,7,31],2022:[7,4,8,13],2023:[7,17,8,26],2024:[7,22,8,31],name:"Sommerferien"},{2012:[10,1,10,5],2013:[10,14,10,19],2014:[10,20,10,25],2015:[10,24,10,30],2016:[10,24,10,28],2017:[10,2,10,2,10,23,10,30],2018:[10,8,10,13,11,1,11,2],2019:[10,4,10,4,10,7,10,12,11,1,11,1],2020:[10,5,10,10,11,2,11,3],2021:[10,2,10,9,11,1,11,2],2022:[10,10,10,14,11,1,11,2],2023:[10,9,10,14,10,30,10,30,11,1,11,1],name:"Herbstferien"},{2011:[12,23,1,3],2012:[12,21,1,4],2013:[12,23,1,3],2014:[12,22,1,2],2015:[12,21,1,2],2016:[12,22,1,2],2017:[12,21,1,3],2018:[12,24,1,5],2019:[12,23,1,4],2020:[12,21,1,2],2021:[12,22,12,31],2022:[12,22,1,2],2023:[12,21,1,3],name:"Weihnachtsferien"}]},Niedersachsen:{_state_code:"ni",SH:[{2012:[1,30,1,31],2013:[1,31,2,1],2014:[1,30,1,31],2015:[2,2,2,3],2016:[1,28,1,29],2017:[1,30,1,31],2018:[2,1,2,2],2019:[1,31,2,1],2020:[2,3,2,4],2021:[2,1,2,2],2022:[1,31,2,1],2023:[1,30,1,31],2024:[2,1,2,2],name:"Winterferien"},{2012:[3,26,4,11,4,30,4,30],2013:[3,16,4,2],2014:[4,3,4,22,5,2,5,2],2015:[3,25,4,10],2016:[3,18,4,2],2017:[4,10,4,22],2018:[3,19,4,3],2019:[4,8,4,23],2020:[3,30,4,14],2021:[3,29,4,9],2022:[4,4,4,19],2023:[3,27,4,11],2024:[3,18,4,2],name:"Osterferien"},{2012:[5,18,5,18,5,29,5,29],2013:[5,10,5,10,5,21,5,21],2014:[5,30,5,30,6,10,6,10],2015:[5,15,5,15,5,26,5,26],2016:[5,6,5,6,5,17,5,17],2017:[5,26,5,26,6,6,6,6],2018:[4,30,4,30,5,11,5,11,5,22,5,22],2019:[5,31,5,31,6,11,6,11],2020:[5,22,5,22,6,2,6,2],2021:[5,14,5,14,5,25,5,25],2022:[5,27,5,27,6,7,6,7],2023:[5,19,5,19,5,30,5,30],2024:[5,10,5,10,5,21,5,21],name:"Pfingstferien"},{2012:[7,23,8,31],2013:[6,27,8,7],2014:[7,31,9,10],2015:[7,23,9,2],2016:[6,23,8,3],2017:[6,22,8,2],2018:[6,28,8,8],2019:[7,4,8,14],2020:[7,16,8,26],2021:[7,22,9,1],2022:[7,14,8,24],2023:[7,6,8,16],2024:[6,24,8,2],name:"Sommerferien"},{2012:[10,22,11,3],2013:[10,4,10,18],2014:[10,27,11,8],2015:[10,19,10,31],2016:[10,4,10,15],2017:[10,2,10,13,10,30,10,30],2018:[10,1,10,12],2019:[10,4,10,18],2020:[10,12,10,23],2021:[10,18,10,29],2022:[10,17,10,28],2023:[10,2,10,2,10,16,10,27],name:"Herbstferien"},{2011:[12,23,1,4],2012:[12,24,1,5],2013:[12,23,1,3],2014:[12,22,1,5],2015:[12,23,1,6],2016:[12,21,1,6],2017:[12,22,1,5],2018:[12,24,1,4],2019:[12,23,1,6],2020:[12,23,1,8],2021:[12,23,1,7],2022:[12,23,1,6],2023:[12,27,1,5],name:"Weihnachtsferien"}]},"Nordrhein-Westfalen":{_state_code:"nw",SH:[{2012:[4,2,4,14],2013:[3,25,4,6],2014:[4,14,4,26],2015:[3,30,4,11],2016:[3,21,4,2],2017:[4,10,4,22],2018:[3,26,4,7],2019:[4,15,4,27],2020:[4,6,4,18],2021:[3,29,4,10],2022:[4,11,4,23],2023:[4,3,4,15],2024:[3,25,4,6],name:"Osterferien"},{2012:[5,29,5,29],2013:[5,21,5,21],2014:[6,10,6,10],2015:[5,26,5,26],2016:[5,17,5,17],2017:[6,6,6,6],2018:[5,22,5,25],2019:[6,11,6,11],2020:[6,2,6,2],2021:[5,25,5,25],2023:[5,30,5,30],2024:[5,21,5,21],name:"Pfingstferien"},{2012:[7,9,8,21],2013:[7,22,9,3],2014:[7,7,8,19],2015:[6,29,8,11],2016:[7,11,8,23],2017:[7,17,8,29],2018:[7,16,8,28],2019:[7,15,8,27],2020:[6,29,8,11],2021:[7,5,8,17],2022:[6,27,8,9],2023:[6,22,8,4],2024:[7,8,8,20],name:"Sommerferien"},{2012:[10,8,10,20],2013:[10,21,11,2],2014:[10,6,10,18],2015:[10,5,10,17],2016:[10,10,10,21],2017:[10,23,11,4],2018:[10,15,10,27],2019:[10,14,10,26],2020:[10,12,10,24],2021:[10,11,10,23],2022:[10,4,10,15],2023:[10,2,10,14],name:"Herbstferien"},{2011:[12,23,1,6],2012:[12,21,1,4],2013:[12,23,1,7],2014:[12,22,1,6],2015:[12,23,1,6],2016:[12,23,1,6],2017:[12,27,1,6],2018:[12,21,1,4],2019:[12,23,1,6],2020:[12,23,1,6],2021:[12,24,1,8],2022:[12,23,1,6],2023:[12,21,1,5],name:"Weihnachtsferien"}]},"Rheinland-Pfalz":{_state_code:"rp",SH:[{2019:[2,25,3,1],2020:[2,17,2,21],2022:[2,21,2,25],name:"Winterferien"},{2012:[3,29,4,13],2013:[3,20,4,5],2014:[4,11,4,25],2015:[3,26,4,10],2016:[3,18,4,1],2017:[4,10,4,21],2018:[3,26,4,6],2019:[4,23,4,30],2020:[4,9,4,17],2021:[3,29,4,6],2022:[4,13,4,22],2023:[4,3,4,6],2024:[3,25,4,2],name:"Osterferien"},{2021:[5,25,6,2],2023:[5,30,6,7],2024:[5,21,5,29],name:"Pfingstferien"},{2012:[7,2,8,10],2013:[7,8,8,16],2014:[7,28,9,5],2015:[7,27,9,4],2016:[7,18,8,26],2017:[7,3,8,11],2018:[6,25,8,3],2019:[7,1,8,9],2020:[7,6,8,14],2021:[7,19,8,27],2022:[7,25,9,2],2023:[7,24,9,1],2024:[7,15,8,23],name:"Sommerferien"},{2012:[10,1,10,12],2013:[10,4,10,18],2014:[10,20,10,31],2015:[10,19,10,30],2016:[10,10,10,21],2017:[10,2,10,13],2018:[10,1,10,12],2019:[9,30,10,11],2020:[10,12,10,23],2021:[10,11,10,22],2022:[10,17,10,31],2023:[10,16,10,27],name:"Herbstferien"},{2011:[12,22,1,6],2012:[12,20,1,4],2013:[12,23,1,7],2014:[12,22,1,7],2015:[12,23,1,8],2016:[12,22,1,6],2017:[12,22,1,9],2018:[12,20,1,4],2019:[12,23,1,6],2020:[12,21,12,31],2021:[12,23,12,31],2022:[12,23,1,2],2023:[12,27,1,5],name:"Weihnachtsferien"}]},Saarland:{_state_code:"sl",SH:[{2012:[2,20,2,25],2013:[2,11,2,16],2014:[3,3,3,8],2015:[2,16,2,21],2016:[2,8,2,13],2017:[2,27,3,4],2018:[2,12,2,17],2019:[2,25,3,5],2020:[2,17,2,25],2021:[2,15,2,19],2022:[2,21,3,1],2023:[2,20,2,24],2024:[2,12,2,16],name:"Winterferien"},{2012:[4,2,4,14],2013:[3,25,4,6],2014:[4,14,4,26],2015:[3,30,4,11],2016:[3,29,4,9],2017:[4,10,4,22],2018:[3,26,4,6],2019:[4,17,4,26],2020:[4,14,4,24],2021:[3,29,4,7],2022:[4,14,4,22],2023:[4,3,4,12],2024:[2,25,4,5],name:"Osterferien"},{2021:[5,25,5,28],2022:[6,7,6,10],2023:[5,30,6,2],2024:[5,21,5,24],name:"Pfingstferien"},{2012:[7,2,8,14],2013:[7,8,8,17],2014:[7,28,9,6],2015:[7,27,9,5],2016:[7,18,8,27],2017:[7,3,8,14],2018:[6,25,8,3],2019:[7,1,8,9],2020:[7,6,8,14],2021:[7,19,8,27],2022:[7,25,9,2],2023:[7,24,9,1],2024:[7,15,8,23],name:"Sommerferien"},{2012:[10,22,11,3],2013:[10,21,11,2],2014:[10,20,10,31],2015:[10,19,10,31],2016:[10,10,10,22],2017:[10,2,10,14],2018:[10,1,10,12],2019:[10,7,10,18],2020:[10,12,10,23],2021:[10,18,10,29],2022:[10,24,11,4],2023:[10,23,11,3],name:"Herbstferien"},{2011:[12,23,1,4],2012:[12,24,1,5],2013:[12,20,1,4],2014:[12,22,1,7],2015:[12,21,1,2],2016:[12,19,12,31],2017:[12,21,1,5],2018:[12,20,1,4],2019:[12,23,1,3],2020:[12,21,12,31],2021:[12,23,1,3],2022:[12,22,1,4],2023:[12,21,1,2],name:"Weihnachtsferien"}]},Sachsen:{_state_code:"sn",SH:[{2012:[2,13,2,25],2013:[2,4,2,15],2014:[2,17,3,1],2015:[2,9,2,21],2016:[2,8,2,20],2017:[2,13,2,24],2018:[2,12,2,23],2019:[2,18,3,2],2020:[2,10,2,22],2021:[2,8,2,20],2022:[2,12,2,26],2023:[2,13,2,24],2024:[2,12,2,23],name:"Winterferien"},{2012:[4,6,4,14],2013:[3,29,4,6],2014:[4,18,4,26],2015:[4,2,4,11],2016:[3,25,4,2],2017:[4,13,4,22],2018:[3,29,4,6],2019:[4,19,4,26],2020:[4,10,4,18],2021:[4,2,4,10],2022:[4,15,4,23],2023:[4,7,4,15],2024:[3,28,4,5],name:"Osterferien"},{2012:[5,18,5,18],2013:[5,10,5,10,5,18,5,22],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6],2017:[5,26,5,26],2018:[5,11,5,11,5,19,5,22],2019:[5,31,5,31],2020:[5,22,5,22],2021:[5,14,5,14],2022:[5,27,5,27],2023:[5,19,5,19],2024:[5,10,5,10,5,18,5,21],name:"Pfingstferien"},{2012:[7,23,8,31],2013:[7,15,8,23],2014:[7,21,8,29],2015:[7,13,8,21],2016:[6,27,8,5],2017:[6,26,8,4],2018:[7,2,8,10],2019:[7,8,8,16],2020:[7,20,8,28],2021:[7,26,9,3],2022:[7,18,8,26],2023:[7,10,8,18],2024:[6,20,7,31],name:"Sommerferien"},{2012:[10,22,11,2],2013:[10,21,11,1],2014:[10,20,10,31],2015:[10,12,10,24],2016:[10,3,10,15],2017:[10,2,10,14,10,30,10,30],2018:[10,8,10,20],2019:[10,14,10,25],2020:[10,19,10,31],2021:[10,18,10,30],2022:[10,17,10,29],2023:[10,2,10,14,10,30,10,30],name:"Herbstferien"},{2011:[12,23,1,2],2012:[12,22,1,2],2013:[12,21,1,3],2014:[12,22,1,3],2015:[12,21,1,2],2016:[12,23,1,2],2017:[12,23,1,2],2018:[12,22,1,4],2019:[12,21,1,3],2020:[12,23,1,2],2021:[12,23,1,1],2022:[12,22,1,2],2023:[12,23,1,2],name:"Weihnachtsferien"}]},"Sachsen-Anhalt":{_state_code:"st",SH:[{2012:[2,4,2,11],2013:[2,1,2,8],2014:[2,1,2,12],2015:[2,2,2,14],2016:[2,1,2,10],2017:[2,4,2,11],2018:[2,5,2,9],2019:[2,11,2,15],2020:[2,10,2,14],2021:[2,8,2,13],2022:[2,12,2,19],2023:[2,6,2,11],2024:[2,5,2,10],name:"Winterferien"},{2012:[4,2,4,7],2013:[3,25,3,30],2014:[4,14,4,17],2015:[4,2,4,2],2016:[3,24,3,24],2017:[4,10,4,13],2018:[3,26,3,31,4,30,4,30],2019:[4,18,4,30],2020:[4,6,4,11],2021:[3,29,4,3],2022:[4,11,4,16],2023:[4,3,4,8],2024:[3,25,3,30],name:"Osterferien"},{2012:[5,18,5,25],2013:[5,10,5,18],2014:[5,30,6,7],2015:[5,15,5,23],2016:[5,6,5,14],2017:[5,26,5,26],2018:[5,11,5,19],2019:[5,31,6,1],2020:[5,18,5,30],2021:[5,10,5,22],2022:[5,23,5,28],2023:[5,15,5,19],2024:[5,21,5,24],name:"Pfingstferien"},{2012:[7,23,9,5],2013:[7,15,8,28],2014:[7,21,9,3],2015:[7,13,8,26],2016:[6,27,8,10],2017:[6,26,8,9],2018:[6,28,8,8],2019:[7,4,8,14],2020:[7,16,8,26],2021:[7,22,9,1],2022:[7,14,8,24],2023:[7,6,8,16],2024:[6,24,8,3],name:"Sommerferien"},{2012:[10,29,11,2],2013:[10,21,10,25],2014:[10,27,10,30],2015:[10,17,10,24],2016:[10,4,10,15],2017:[10,2,10,13,10,30,10,30],2018:[10,1,10,12],2019:[10,4,10,11,11,1,11,1],2020:[10,19,10,24],2021:[10,25,10,30],2022:[10,24,11,4],2023:[10,2,10,2,10,16,10,30],name:"Herbstferien"},{2011:[12,22,1,7],2012:[12,19,1,4],2013:[12,21,1,3],2014:[12,22,1,5],2015:[12,21,1,5],2016:[12,19,1,2],2017:[12,21,1,3],2018:[12,19,1,4],2019:[12,23,1,4],2020:[12,19,1,5],2021:[12,22,1,8],2022:[12,21,1,5],2023:[12,21,1,3],name:"Weihnachtsferien"}]},"Schleswig-Holstein":{_state_code:"sh",SH:[{2012:[3,30,4,13],2013:[3,25,4,9],2014:[4,16,5,2],2015:[4,1,4,17],2016:[3,24,4,9],2017:[4,7,4,21],2018:[3,29,4,13],2019:[4,4,4,18],2020:[3,30,4,17],2021:[4,1,4,16],2022:[4,4,4,16],2023:[4,6,4,22],2024:[4,2,4,19],name:"Osterferien"},{2012:[5,18,5,18],2013:[5,10,5,10],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6],2017:[5,26,5,26],2018:[5,11,5,11],2019:[5,31,5,31],2020:[5,22,5,22],2021:[5,14,5,14],2022:[5,27,5,27],2023:[5,19,5,20],2024:[5,10,5,11],name:"Pfingstferien"},{2012:[6,25,8,4],2013:[6,24,8,3],2014:[7,14,8,23],2015:[7,20,8,29],2016:[7,25,9,3],2017:[7,24,9,2],2018:[7,9,8,18],2019:[7,1,8,10],2020:[6,29,8,8],2021:[6,21,7,31],2022:[7,4,8,13],2023:[7,17,8,26],2024:[7,22,8,31],name:"Sommerferien"},{2012:[10,4,10,19],2013:[10,4,10,18],2014:[10,13,10,25],2015:[10,19,10,31],2016:[10,17,10,29],2017:[10,16,10,27],2018:[10,1,10,19],2019:[10,4,10,18],2020:[10,5,10,17],2021:[10,4,10,16],2022:[10,10,10,21],2023:[10,16,10,27],name:"Herbstferien"},{2011:[12,23,1,6],2012:[12,24,1,5],2013:[12,23,1,6],2014:[12,22,1,6],2015:[12,21,1,6],2016:[12,23,1,6],2017:[12,21,1,6],2018:[12,21,1,4],2019:[12,23,1,6],2020:[12,21,1,6],2021:[12,23,1,8],2022:[12,23,1,7],2023:[12,27,1,6],name:"Weihnachtsferien"}]},Thüringen:{_state_code:"th",SH:[{2012:[2,6,2,11],2013:[2,18,2,23],2014:[2,17,2,22],2015:[2,2,2,7],2016:[2,1,2,6],2017:[2,6,2,11],2018:[2,5,2,9],2019:[2,11,2,15],2020:[2,10,2,14],2021:[2,8,2,13],2022:[2,12,2,19],2023:[2,13,2,17],2024:[2,12,2,16],name:"Winterferien"},{2012:[4,2,4,13],2013:[3,25,4,6],2014:[4,19,5,2],2015:[3,30,4,11],2016:[3,24,4,2],2017:[4,10,4,21],2018:[3,26,4,7],2019:[4,15,4,27],2020:[4,6,4,18],2021:[3,29,4,10],2022:[4,11,4,23],2023:[4,3,4,15],2024:[3,25,4,6],name:"Osterferien"},{2012:[5,25,5,29],2013:[5,10,5,10],2014:[5,30,5,30],2015:[5,15,5,15],2016:[5,6,5,6],2017:[5,26,5,26],2018:[5,11,5,11],2019:[5,31,5,31],2020:[5,22,5,22],2021:[5,14,5,14],2022:[5,27,5,27],2023:[5,19,5,19],2024:[5,10,5,10],name:"Pfingstferien"},{2012:[7,23,8,31],2013:[7,15,8,23],2014:[7,21,8,29],2015:[7,13,8,21],2016:[6,27,8,10],2017:[6,26,8,9],2018:[7,2,8,11],2019:[7,8,8,17],2020:[7,20,8,29],2021:[7,26,9,4],2022:[7,18,8,27],2023:[7,10,8,19],2024:[6,20,7,31],name:"Sommerferien"},{2012:[10,22,11,3],2013:[10,21,11,2],2014:[10,6,10,18],2015:[10,5,10,17],2016:[10,10,10,22],2017:[10,2,10,14],2018:[10,1,10,13],2019:[10,7,10,19],2020:[10,17,10,30],2021:[10,25,11,6],2022:[10,17,10,29],2023:[10,2,10,14],name:"Herbstferien"},{2011:[12,23,1,1],2012:[12,24,1,5],2013:[12,23,1,4],2014:[12,22,1,3],2015:[12,23,1,2],2016:[12,23,12,31],2017:[12,22,1,5],2018:[12,21,1,4],2019:[12,21,1,3],2020:[12,23,1,2],2021:[12,23,12,31],2022:[12,22,1,3],2023:[12,22,1,5],name:"Weihnachtsferien"}]}};L.PH,L.Bayern,L.Berlin,L.Brandenburg,L.Bremen,L.Hamburg,L.Hessen,L.Niedersachsen,L.Saarland,L.Sachsen;var k={PH:[{name:"Nytårsdag",fixed_date:[1,1]},{name:"Skærtorsdag",variable_date:"easter",offset:-3},{name:"Langfredag",variable_date:"easter",offset:-2},{name:"Påskedag",variable_date:"easter"},{name:"2. Påskedag",variable_date:"easter",offset:1},{name:"Store Bededag",variable_date:"easter",offset:26},{name:"Kristi Himmelfartsdag",variable_date:"easter",offset:39},{name:"Pinsedag",variable_date:"easter",offset:49},{name:"2. Pinsedag",variable_date:"easter",offset:50},{name:"Grundlovsdag",fixed_date:[6,5]},{name:"Juleaftensdag",fixed_date:[12,24]},{name:"Juledag",fixed_date:[12,25]},{name:"2. Juledag",fixed_date:[12,26]}]};k.PH;var W={PH:[{name:"Cap d'Any",fixed_date:[1,1],only_states:["Cataluña"]},{name:"Año Nuevo",fixed_date:[1,1]},{name:"Reis",fixed_date:[1,6],only_states:["Cataluña"]},{name:"Epifanía del Señor",fixed_date:[1,6]},{name:"Día de Andalucía",fixed_date:[2,28],only_states:["Andalucía"]},{name:"Dia de les Illes Balears",fixed_date:[3,1],only_states:["Islas Baleares"]},{name:"Sant Josep",fixed_date:[3,19],only_states:["Comunidad Valenciana"]},{name:"San José",fixed_date:[3,19],only_states:["Murcia"]},{name:"Jueve Santo",variable_date:"easter",offset:-3,only_states:["Andalucía","Aragón","Castilla y León","Castilla-La Mancha","Canarias","Extremadura","Galicia","Islas Baleares","La Rioja","Comunidad de Madrid","Región de Murcia","Navarra","Asturias","País Vasco","Cantabria","Ceuta","Melilla"]},{name:"Divendres Sant",variable_date:"easter",offset:-2,only_states:["Cataluña","Comunidad Valenciana","Islas Baleares"]},{name:"Viernes Santo",variable_date:"easter",offset:-2},{name:"Dilluns de Pasqua Florida",variable_date:"easter",offset:1,only_states:["Cataluña","Comunidad Valenciana","Islas Baleares"]},{name:"Lunes de Pascua de Resurrección",variable_date:"easter",offset:1,only_states:["País Vasco","Navarra"]},{name:"Día de Aragón",fixed_date:[4,23],only_states:["Aragón"]},{name:"Día de Castilla y León",fixed_date:[4,23],only_states:["Castilla y León"]},{name:"Festa del Treball",fixed_date:[5,1],only_states:["Cataluña","Comunidad Valenciana","Islas Baleares"]},{name:"Fiesta del Trabajo",fixed_date:[5,1]},{name:"Fiesta de la Comunidad de Madrid",fixed_date:[5,2],only_states:["Comunidad de Madrid"]},{name:"Día das Letras Galegas",fixed_date:[5,2],only_states:["Galicia"]},{name:"Día de Canarias",fixed_date:[5,30],only_states:["Canarias"]},{name:"Día de la Región Castilla-La Mancha",fixed_date:[5,31],only_states:["Castilla-La Mancha"]},{name:"Día de la Región de Murcia",fixed_date:[6,9],only_states:["Región de Murcia"]},{name:"Día de la Rioja",fixed_date:[6,9],only_states:["La Rioja"]},{name:"San Antonio",fixed_date:[6,13],only_states:["Ceuta"]},{name:"Sant Joan",fixed_date:[6,24],only_states:["Cataluña"]},{name:"San Juan",fixed_date:[6,24],only_states:["Ceuta"]},{name:"Santiago Apóstol",fixed_date:[7,25],only_states:["Galicia"]},{name:"Santa María de África",fixed_date:[8,6],only_states:["Ceuta"]},{name:"l'Assumpció",fixed_date:[8,15],only_states:["Cataluña"]},{name:"Asunción de la Virgen",fixed_date:[8,15]},{name:"Día de Ceuta",fixed_date:[9,2],only_states:["Ceuta"]},{name:"Día de Asturias",fixed_date:[9,8],only_states:["Asturias"]},{name:"Día de Extremadura",fixed_date:[9,8],only_states:["Extremadura"]},{name:"Diada Nacional de Catalunya",fixed_date:[9,11],only_states:["Cataluña"]},{name:"Día de Cantabria",fixed_date:[9,17],only_states:["Cantabria"]},{name:"Día de Melilla",fixed_date:[9,15],only_states:["Melilla"]},{name:"Dia de la Comunitat Valenciana",fixed_date:[10,9],only_states:["Comunidad Valenciana"]},{name:"Festa Nacional d'Espanya",fixed_date:[10,12],only_states:["Cataluña"]},{name:"Fiesta Nacional de España",fixed_date:[10,12]},{name:"Euskadi Eguna",fixed_date:[10,25],only_states:["País Vasco"]},{name:"Tots Sants",fixed_date:[11,1],only_states:["Cataluña","Comunidad Valenciana","Islas Baleares"]},{name:"Todos los Santos",fixed_date:[11,1]},{name:"Día de la Constitución Española",fixed_date:[12,6]},{name:"La Puríssima",fixed_date:[12,8],only_states:["Cataluña","Comunidad Valenciana","Islas Baleares"]},{name:"La Immaculada Concepción",fixed_date:[12,8]},{name:"Nadal",fixed_date:[12,25],only_states:["Cataluña","Comunidad Valenciana","Islas Baleares"]},{name:"Natividad del Señor",fixed_date:[12,25]},{name:"Sant Esteve",fixed_date:[12,26],only_states:["Cataluña"]}],Andalucía:{_state_code:"an"},Aragón:{_state_code:"ar"},"Castilla y León":{_state_code:"cl"},"Castilla-La Mancha":{_state_code:"cm"},Canarias:{_state_code:"cn"},Cataluña:{_state_code:"ct"},Extremadura:{_state_code:"ex"},Galicia:{_state_code:"ga"},"Islas Baleares":{_state_code:"ib"},"La Rioja":{_state_code:"ri"},"Comunidad de Madrid":{_state_code:"md"},"Región de Murcia":{_state_code:"mc"},Navarra:{_state_code:"nc"},Asturias:{_state_code:"as"},"País Vasco":{_state_code:"pv"},Cantabria:{_state_code:"cb"},"Comunidad Valenciana":{_state_code:"vc"},Ceuta:{_state_code:"ce"},Melilla:{_state_code:"ml"}};W.PH,W.Canarias,W.Extremadura,W.Galicia,W.Navarra,W.Asturias,W.Cantabria,W.Ceuta,W.Melilla;var $={PH:[{name:"uudenvuodenpäivä - nyårsdagen",fixed_date:[1,1]},{name:"loppiainen - trettondedagen",fixed_date:[1,6]},{name:"pitkäperjantai - långfredagen",variable_date:"easter",offset:-2},{name:"pääsiäispäivä - påskdagen",variable_date:"easter"},{name:"toinen pääsiäispäivä - annandag påsk",variable_date:"easter",offset:1},{name:"vappu - första maj",fixed_date:[5,1]},{name:"helluntai - pingst",variable_date:"easter",offset:49},{name:"juhannuspäivä - midsommarafton",variable_date:"nextSaturday20Jun"},{name:"pyhäinpäivä - alla helgons dag",variable_date:"nextSaturday31Oct"},{name:"itsenäisyyspäivä - självständighetsdagen",fixed_date:[12,6]},{name:"joulupäivä - juldagen",fixed_date:[12,25]},{name:"toinen joulupäivä - annandag jul",fixed_date:[12,26]}]};$.PH;var O={PH:[{name:"Jour de l'an",fixed_date:[1,1]},{name:"Vendredi saint",variable_date:"easter",offset:-2,only_states:["Moselle","Bas-Rhin","Haut-Rhin","Guadeloupe","Martinique","Polynésie française"]},{name:"Lundi de Pâques",variable_date:"easter",offset:1},{name:"Abolition de l'esclavage (Mayotte)",fixed_date:[4,27],only_states:["Mayotte"]},{name:"Saint-Pierre-Chanel",fixed_date:[4,28],only_states:["Wallis-et-Futuna"]},{name:"Fête du Travail",fixed_date:[5,1]},{name:"Fête de la Victoire",fixed_date:[5,8]},{name:"Abolition de l'esclavage (Martinique)",fixed_date:[5,22],only_states:["Martinique"]},{name:"Abolition de l'esclavage (Guadeloupe)",fixed_date:[5,27],only_states:["Guadeloupe"]},{name:"Abolition de l'esclavage (Saint-Martin)",fixed_date:[5,28],only_states:["Saint-Martin (France)"]},{name:"Jeudi de l'Ascension",variable_date:"easter",offset:39},{name:"Lundi de Pentecôte",variable_date:"easter",offset:50},{name:"Abolition de l'esclavage (Guyane)",fixed_date:[6,10],only_states:["Guyane"]},{name:"Fête de l'autonomie",fixed_date:[6,29],only_states:["Polynésie française"]},{name:"Fête nationale",fixed_date:[7,14]},{name:"Fête Victor Schoelcher",fixed_date:[7,21],only_states:["Guadeloupe","Martinique"]},{name:"Fête du Territoire",fixed_date:[7,29],only_states:["Wallis-et-Futuna"]},{name:"Assomption",fixed_date:[8,15]},{name:"Fête de la citoyenneté",fixed_date:[9,24],only_states:["Nouvelle-Calédonie"]},{name:"Abolition de l'esclavage (Saint-Barthélemy)",fixed_date:[10,9],only_states:["Saint-Barthélemy"]},{name:"Toussaint",fixed_date:[11,1]},{name:"Armistice",fixed_date:[11,11]},{name:"Abolition de l'esclavage (Réunion)",fixed_date:[12,20],only_states:["Réunion"]},{name:"Noël",fixed_date:[12,25]},{name:"Saint-Étienne ",fixed_date:[12,26],only_states:["Moselle","Bas-Rhin","Haut-Rhin"]}],"Auvergne-Rhône-Alpes":{_state_code:"ara",SH:[{2018:[2,11,2,25],2019:[2,17,3,3],2020:[2,23,3,8],2021:[2,7,2,21],2022:[2,12,2,27],name:"Vacances d'Hiver"},{2018:[4,8,4,22],2019:[4,14,4,28],2020:[4,19,5,3],2021:[4,11,4,25],2022:[4,16,5,1],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,5,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},"Bourgogne-Franche-Comté":{_state_code:"bfc",SH:[{2018:[2,11,2,25],2019:[2,17,3,3],2020:[2,23,3,8],2021:[2,7,2,21],2022:[2,12,2,27],name:"Vacances d'Hiver"},{2018:[4,8,4,22],2019:[4,14,4,28],2020:[4,19,5,3],2021:[4,11,4,25],2022:[4,16,5,1],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,5,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},"Nouvelle-Aquitaine":{_state_code:"naq",SH:[{2018:[2,11,2,25],2019:[2,17,3,3],2020:[2,23,3,8],2021:[2,7,2,21],2022:[2,12,2,27],name:"Vacances d'Hiver"},{2018:[4,8,4,22],2019:[4,14,4,28],2020:[4,19,5,3],2021:[4,11,4,25],2022:[4,16,5,1],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,5,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},Bretagne:{_state_code:"bre",SH:[{2018:[2,25,3,11],2019:[2,10,2,24],2020:[2,16,3,1],2021:[2,21,3,7],2022:[2,5,2,20],name:"Vacances d'Hiver"},{2018:[4,22,5,6],2019:[4,7,4,22],2020:[4,12,4,26],2021:[4,11,4,25],2022:[4,9,4,24],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},"Centre-Val de Loire":{_state_code:"cvl",SH:[{2018:[2,25,3,11],2019:[2,10,2,24],2020:[2,16,3,1],2021:[2,21,3,7],2022:[2,5,2,20],name:"Vacances d'Hiver"},{2018:[4,22,5,6],2019:[4,7,4,22],2020:[4,12,4,26],2021:[4,11,4,25],2022:[4,9,4,24],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},"Grand Est":{_state_code:"ges",SH:[{2018:[2,25,3,11],2019:[2,10,2,24],2020:[2,16,3,1],2021:[2,21,3,7],2022:[2,5,2,20],name:"Vacances d'Hiver"},{2018:[4,22,5,6],2019:[4,7,4,22],2020:[4,12,4,26],2021:[4,11,4,25],2022:[4,9,4,24],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},"Hauts-de-France":{_state_code:"hdf",SH:[{2018:[2,25,3,11],2019:[2,10,2,24],2020:[2,16,3,1],2021:[2,21,3,7],2022:[2,5,2,20],name:"Vacances d'Hiver"},{2018:[4,22,5,6],2019:[4,7,4,22],2020:[4,12,4,26],2021:[4,11,4,25],2022:[4,9,4,24],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},Normandie:{_state_code:"nor",SH:[{2018:[2,25,3,11],2019:[2,10,2,24],2020:[2,16,3,1],2021:[2,21,3,7],2022:[2,5,2,20],name:"Vacances d'Hiver"},{2018:[4,22,5,6],2019:[4,7,4,22],2020:[4,12,4,26],2021:[4,11,4,25],2022:[4,9,4,24],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},"Pays de la Loire":{_state_code:"pdl",SH:[{2018:[2,25,3,11],2019:[2,10,2,24],2020:[2,16,3,1],2021:[2,21,3,7],2022:[2,5,2,20],name:"Vacances d'Hiver"},{2018:[4,22,5,6],2019:[4,7,4,22],2020:[4,12,4,26],2021:[4,11,4,25],2022:[4,9,4,24],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},"Provence-Alpes-Côte d'Azur":{_state_code:"pac",SH:[{2018:[2,25,3,11],2019:[2,10,2,24],2020:[2,16,3,1],2021:[2,21,3,7],2022:[2,5,2,20],name:"Vacances d'Hiver"},{2018:[4,22,5,6],2019:[4,7,4,22],2020:[4,12,4,26],2021:[4,11,4,25],2022:[4,9,4,24],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,27],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},"Île-de-France":{_state_code:"idf",SH:[{2018:[2,18,3,4],2019:[2,24,3,10],2020:[2,9,2,23],2021:[2,14,2,28],2022:[2,19,3,6],name:"Vacances d'Hiver"},{2018:[4,15,4,29],2019:[4,21,5,5],2020:[4,5,4,19],2021:[4,11,4,25],2022:[4,23,5,8],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,28],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},Occitanie:{_state_code:"occ",SH:[{2018:[2,18,3,4],2019:[2,24,3,10],2020:[2,9,2,23],2021:[2,14,2,28],2022:[2,19,3,6],name:"Vacances d'Hiver"},{2018:[4,15,4,29],2019:[4,21,5,5],2020:[4,5,4,19],2021:[4,11,4,25],2022:[4,23,5,8],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],2022:[5,26,5,28],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,9,1],2022:[7,7,8,31],name:"Vacances d'Été"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,1],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],2021:[12,19,1,2],2022:[12,17,1,2],name:"Vacances de Noël"}]},Corse:{_state_code:"cor",SH:[{2018:[2,27,3,11],2019:[2,24,3,10],2020:[2,16,3,1],2021:[2,14,2,28],2022:[2,19,3,6],name:"Vacances d'Hiver"},{2018:[4,24,5,6],2019:[4,21,5,5],2020:[4,19,5,3],2021:[4,11,4,25],2022:[4,23,5,8],name:"Vacances de Printemps"},{2018:[5,10,5,10],2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,14,5,16],name:"Pont de l'Ascension"},{2018:[7,11,9,4],2019:[7,7,9,2],2020:[7,5,8,31],2021:[7,8,8,30],2022:[7,8,8,31],name:"Vacances d'Été"},{2018:[10,24,11,4],2019:[10,20,11,3],2020:[10,18,11,1],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],name:"Vacances de Noël"}]},Guadeloupe:{_state_code:"gua",SH:[{2018:[2,9,2,21],2019:[2,24,3,10],2020:[2,16,3,1],2021:[2,10,2,21],2022:[2,19,3,6],name:"Vacances de Carnaval"},{2018:[3,25,4,8],2019:[4,19,5,1],2020:[4,9,4,22],2021:[3,28,4,11],2022:[4,13,4,24],name:"Vacances de Pâques"},{2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,28,5,29],2022:[5,27,5,27],name:"Pont de l'Ascension"},{2018:[7,7,9,3],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,6,8,30],2022:[7,7,8,31],name:"Grandes Vacances"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,2],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],name:"Vacances de Noël"}]},"Saint-Martin (France)":{_state_code:"mf",SH:[{2018:[2,9,2,21],2019:[2,24,3,10],2020:[2,16,3,1],2021:[2,10,2,21],name:"Vacances de Carnaval"},{2018:[3,25,4,8],2019:[4,19,5,1],2020:[4,9,4,22],2021:[3,28,4,11],name:"Vacances de Pâques"},{2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,25,5,27],name:"Pont de l'Ascension"},{2018:[7,7,9,3],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,6,8,30],name:"Grandes Vacances"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,2],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],name:"Vacances de Noël"}]},"Saint-Barthélemy":{_state_code:"bl",SH:[{2018:[2,9,2,21],2019:[2,24,3,10],2020:[2,16,3,1],2021:[2,10,2,21],name:"Vacances de Carnaval"},{2018:[3,25,4,8],2019:[4,19,5,1],2020:[4,9,4,22],2021:[3,28,4,11],name:"Vacances de Pâques"},{2019:[5,30,6,2],2020:[5,21,5,24],name:"Pont de l'Ascension"},{2018:[7,7,9,3],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,6,8,30],name:"Grandes Vacances"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,18,11,2],name:"Vacances de la Toussaint"},{2018:[12,23,1,6],2019:[12,22,1,5],2020:[12,20,1,3],name:"Vacances de Noël"}]},Guyane:{_state_code:"guf",SH:[{2018:[2,11,2,25],2019:[2,24,3,10],2020:[2,16,3,1],2021:[2,14,2,28],2022:[2,19,3,6],name:"Vacances de Carnaval"},{2018:[3,30,4,15],2019:[4,19,5,1],2020:[4,10,4,26],2021:[4,2,4,18],2022:[4,14,5,1],name:"Vacances de Pâques"},{2019:[5,30,6,2],2020:[5,21,5,24],2021:[5,13,5,16],2022:[5,25,5,29],name:"Pont de l'Ascension"},{2018:[7,8,9,2],2019:[7,9,9,1],2020:[7,5,8,31],2021:[7,4,8,31],2022:[7,9,8,31],name:"Grandes Vacances"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,25,11,8],name:"Vacances de la Toussaint"},{2018:[12,23,1,5],2019:[12,22,1,5],2020:[12,20,1,3],name:"Vacances de Noël"}]},Martinique:{_state_code:"mtq",SH:[{2018:[2,8,2,18],2019:[2,24,3,10],2020:[2,23,3,8],2021:[2,7,2,21],2022:[2,19,3,6],name:"Vacances de Carnaval"},{2018:[3,25,4,8],2019:[4,14,4,28],2020:[4,5,4,19],2021:[3,28,4,11],2022:[4,9,4,24],name:"Vacances de Pâques"},{2018:[5,8,5,13],2019:[5,30,6,2],2020:[5,14,5,15],2022:[5,27,5,27],name:"Pont de l'Ascension"},{2018:[7,7,9,3],2019:[7,7,9,1],2020:[7,5,8,31],2021:[7,7,8,30],2022:[7,7,8,31],name:"Grandes Vacances"},{2018:[10,21,11,4],2019:[10,20,11,3],2020:[10,25,11,8],name:"Vacances de la Toussaint"},{2018:[12,23,1,5],2019:[12,22,1,5],2020:[12,20,1,3],name:"Vacances de Noël"}]},Mayotte:{_state_code:"may",SH:[{2018:[2,25,3,11],2019:[2,24,3,10],2020:[3,1,3,15],2021:[2,28,3,14],2022:[2,26,3,13],name:"Vacances de Carnaval"},{2018:[5,6,5,13],2019:[4,27,5,5],2020:[5,3,5,10],2021:[5,1,5,16],2022:[4,30,5,15],name:"Vacances de Pâques"},{2020:[5,21,5,24],name:"Pont de l'Ascension"},{2018:[7,8,8,22],2019:[7,7,8,22],2020:[7,5,8,23],2021:[7,7,8,22],2022:[7,6,8,23],name:"Grandes Vacances"},{2018:[10,7,10,21],2019:[10,13,10,27],2020:[10,11,10,25],name:"Vacances de la Toussaint"},{2018:[12,9,1,6],2019:[12,15,1,12],2020:[12,13,1,10],name:"Vacances de Noël"}]},"La Réunion":{_state_code:"lre",SH:[{2018:[3,11,3,25],2019:[3,10,3,24],2020:[3,8,3,22],2021:[3,7,3,21],2022:[3,12,3,27],name:"Vacances après 3ème période"},{2018:[5,6,5,16],2019:[5,8,5,19],2020:[5,1,5,13],2021:[5,5,5,16],2022:[5,14,5,29],name:"Vacances après 4ème période"},{2018:[7,8,8,16],2019:[7,7,8,15],2020:[7,8,8,15],2022:[7,9,8,15],name:"Vacances hiver austral"},{2018:[10,14,10,28],2019:[10,13,10,27],2020:[10,11,11,25],name:"Vacances après 1ère période"},{2018:[12,23,1,27],2019:[12,20,1,26],2020:[12,20,1,24],name:"Vacances été austral"}]},"Nouvelle-Calédonie":{_state_code:"nc",SH:[{2018:[4,7,4,15],2019:[4,6,4,14],2020:[4,4,4,13],2021:[4,3,4,18],2022:[4,2,4,16],name:"Vacances 1ère période"},{2018:[6,9,6,24],2019:[6,8,6,23],2020:[6,6,6,21],2021:[6,5,6,20],2022:[6,4,6,18],name:"Vacances 2ème période"},{2018:[8,11,8,26],2019:[8,10,8,25],2020:[8,8,8,23],2021:[8,7,8,22],2022:[8,6,8,20],name:"Vacances 3ème période"},{2018:[10,13,10,18],2019:[10,12,10,27],2020:[10,10,10,25],2021:[10,9,10,24],2022:[10,8,10,22],name:"Vacances 4ème période"},{2018:[12,15,2,17],2019:[12,14,2,16],2020:[12,18,2,14],2021:[12,18,2,13],2022:[12,17,2,12],name:"Vacances d'Été"}]},"Polynésie française":{_state_code:"pf",SH:[{2018:[2,18,2,25],2019:[2,17,2,24],2020:[2,16,2,23],2021:[2,21,2,28],2022:[2,19,2,27],2023:[2,19,2,26],name:"Vacances de février"},{2018:[3,30,4,15],2019:[4,7,4,22],2020:[3,29,4,13],2021:[4,6,4,18],2022:[4,2,4,18],2023:[4,2,4,16],name:"Vacances d'avril"},{2018:[5,20,5,27],2019:[5,26,6,2],2020:[5,17,5,24],2021:[5,25,5,30],2022:[5,21,5,29],2023:[5,21,5,27],name:"Vacances de mai"},{2018:[7,7,8,15],2019:[7,7,8,13],2020:[7,5,8,9],2021:[7,3,8,8],2022:[7,2,8,7],2023:[7,2,8,7],name:"Grandes Vacances"},{2018:[9,16,9,23],2019:[9,15,9,22],2020:[9,13,9,20],2021:[9,12,9,19],2022:[9,10,9,18],name:"Vacances de septembre"},{2018:[10,28,11,11],2019:[10,27,11,11],2020:[10,25,11,8],2021:[10,24,11,7],2022:[10,22,11,6],name:"Vacances d'octobre-novembre"},{2018:[12,16,1,13],2019:[12,15,1,12],2020:[12,13,1,10],2021:[12,12,1,9],2022:[12,10,1,8],name:"Vacances de Noël"}]},"Saint-Pierre-et-Miquelon":{_state_code:"pm",SH:[{2018:[2,24,3,11],2019:[2,16,3,3],2020:[2,22,3,8],2021:[2,19,3,7],name:"Vacances d'Hiver"},{2018:[4,28,5,13],2019:[4,20,5,5],2020:[4,18,5,3],2021:[4,24,5,9],2022:[4,15,5,1],name:"Vacances de Printemps"},{2020:[5,21,5,24],2021:[5,13,5,16],2022:[5,26,5,29],name:"Pont de l'Ascension"},{2018:[6,30,9,6],2019:[7,4,9,4],2020:[7,4,9,2],2021:[7,3,9,1],2022:[7,1,8,31],name:"Vacances d'Été"},{2018:[10,27,11,4],2019:[10,26,11,5],2020:[10,22,11,1],name:"Vacances de la Toussaint"},{2018:[12,22,1,6],2019:[12,21,1,5],2020:[12,19,1,3],name:"Vacances de Noël"}]},"Wallis-et-Futuna":{_state_code:"wf",SH:[{2018:[4,1,4,15],2019:[3,31,4,14],2020:[3,29,4,13],2021:[4,3,4,18],name:"Vacances 1ère période"},{2018:[6,8,6,24],2019:[6,9,6,23],2020:[6,5,6,21],2021:[6,5,6,20],name:"Vacances 2ème période"},{2018:[8,10,8,26],2019:[8,11,8,25],2020:[8,9,8,23],2021:[8,7,8,22],name:"Vacances 3ème période"},{2018:[10,14,10,28],2019:[10,13,10,27],2020:[10,11,10,25],2021:[10,9,10,24],name:"Vacances 4ème période"},{2018:[12,16,2,10],2019:[12,15,2,9],2020:[12,13,2,14],2021:[12,18,2,19],name:"Vacances d'Été"}]}};O.PH,O.Bretagne,O.Normandie,O.Occitanie,O.Corse,O.Guadeloupe,O.Guyane,O.Martinique,O.Mayotte;var z={England:{PH:[{name:"New Year’s Day",fixed_date:[1,1]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"Early May bank holiday",variable_date:"firstMayMonday"},{name:"Spring bank holiday",variable_date:"lastMayMonday"},{name:"Summer bank holiday",variable_date:"lastAugustMonday"},{name:"Christmas",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]},Wales:{PH:[{name:"New Year’s Day",fixed_date:[1,1]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"Early May bank holiday",variable_date:"firstMayMonday"},{name:"Spring bank holiday",variable_date:"lastMayMonday"},{name:"Summer bank holiday",variable_date:"lastAugustMonday"},{name:"Christmas",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]}};z.England,z.Wales;var le={PH:[{name:"Πρωτοχρονιά",fixed_date:[1,1]},{name:"Θεοφάνια",fixed_date:[1,6]},{name:"Καθαρά Δευτέρα",variable_date:"orthodox easter",offset:-48},{name:"25η Μαρτίου",fixed_date:[3,25]},{name:"Μεγάλη Παρασκευή",variable_date:"orthodox easter",offset:-2},{name:"Πάσχα",variable_date:"orthodox easter",offset:0},{name:"Δευτέρα του Πάσχα",variable_date:"orthodox easter",offset:1},{name:"Πρωτομαγιά",fixed_date:[5,1]},{name:"Κοίμηση της Θεοτόκου",fixed_date:[8,15]},{name:"28η Οκτωβρίου",fixed_date:[10,28]},{name:"Χριστούγεννα",fixed_date:[12,25]},{name:"2η μέρα Χριστουγέννων",fixed_date:[12,26]}],SH:[{2019:[1,30,1,30],2020:[1,30,1,30],name:"Τριών Ιεραρχών"},{2019:[4,22,5,6],2020:[4,13,4,26],name:"Πάσχα"},{2019:[6,17,6,17],2020:[6,8,6,8],name:"Αγίου Πνεύματος"},{2019:[7,1,8,31],2020:[7,1,8,31],name:"Καλοκαίρι"},{2019:[11,17,11,17],name:"Πολυτεχνείο"},{2018:[12,24,1,7],2019:[12,24,1,7],2020:[12,24,1,7],name:"Χριστούγεννα"}]};le.PH,le.SH;var H={PH:[{name:"újév",fixed_date:[1,1]},{name:"az 1848-as forradalom ünnepe",fixed_date:[3,15]},{name:"nagypéntek",variable_date:"easter",offset:-2},{name:"húsvétvasárnap",variable_date:"easter"},{name:"húsvéthétfő",variable_date:"easter",offset:1},{name:"pünkösdvasárnap",variable_date:"easter",offset:49},{name:"pünkösdhétfő",variable_date:"easter",offset:50},{name:"a munka ünnepe",fixed_date:[5,1]},{name:"az államalapítás ünnepe",fixed_date:[8,20]},{name:"az 1956-os forradalom ünnepe",fixed_date:[10,23]},{name:"mindenszentek",fixed_date:[11,1]},{name:"karácsony",fixed_date:[12,25]},{name:"karácsony másnap",fixed_date:[12,26]}],SH:[{2015:[4,2,4,7],2016:[3,24,3,29],2017:[4,13,4,18],name:"tavaszi szünet"},{2015:[6,16,8,31],2016:[6,16,8,31],2017:[6,16,8,31],name:"nyári szünet"},{2014:[10,27,10,31],2015:[10,26,10,30],2016:[11,2,11,4],name:"őszi szünet"},{2014:[12,22,1,2],2015:[12,21,12,31],2016:[12,22,1,2],name:"téli szünet"}]};H.PH,H.SH;var Z={PH:[{name:"New Year’s Day",fixed_date:[1,1]},{name:"St Patrick’s Day",fixed_date:[3,17]},{name:"St Patrick’s Day",variable_date:"nextMo-Fr17March"},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"May Bank Holiday",variable_date:"firstMayMonday"},{name:"June Bank Holiday",variable_date:"firstJuneMonday"},{name:"August Bank Holiday",variable_date:"firstAugustMonday"},{name:"October Bank Holiday (Halloween)",variable_date:"lastOctoberMonday"},{name:"Christmas",fixed_date:[12,25]},{name:"St Stephen’s Day",fixed_date:[12,26]},{name:"Bank Holiday",fixed_date:[12,27]}]};Z.PH;var Y={PH:[{name:"Capodanno",fixed_date:[1,1]},{name:"Epifania",fixed_date:[1,6]},{name:"Liberazione dal nazifascismo (1945)",fixed_date:[4,25]},{name:"Pasqua",variable_date:"easter"},{name:"Lunedì di Pasqua",variable_date:"easter",offset:1},{name:"Festa del lavoro",fixed_date:[5,1]},{name:"Festa della Repubblica",fixed_date:[6,2]},{name:"Assunzione di Maria",fixed_date:[8,15]},{name:"Ognissanti",fixed_date:[11,1]},{name:"Immacolata Concezione",fixed_date:[12,8]},{name:"Natale di Gesù",fixed_date:[12,25]},{name:"Santo Stefano",fixed_date:[12,26]}]};Y.PH;var ye={PH:[{name:"Nieuwjaarsdag",fixed_date:[1,1]},{name:"Goede vrijdag",variable_date:"easter",offset:-2},{name:"Tweede Paasdag",variable_date:"easter",offset:1},{name:"Koningsdag",fixed_date:[4,27]},{name:"Bevrijdingsdag",fixed_date:[5,5]},{name:"Hemelvaartsdag",variable_date:"easter",offset:39},{name:"Tweede Pinksterdag",variable_date:"easter",offset:50},{name:"Eerste Kerstdag",fixed_date:[12,25]},{name:"Tweede Kerstdag",fixed_date:[12,26]}]};ye.PH;var F={PH:[{name:"Nyttårsdag",fixed_date:[1,1]},{name:"Skjærtorsdag",variable_date:"easter",offset:-3},{name:"Langfredag",variable_date:"easter",offset:-2},{name:"Påskedag",variable_date:"easter"},{name:"2. Påskedag",variable_date:"easter",offset:1},{name:"1. Mai",fixed_date:[5,1]},{name:"Grunnlovsdagen",fixed_date:[5,17]},{name:"Kristi Himmelfartsdag",variable_date:"easter",offset:39},{name:"Pinsedag",variable_date:"easter",offset:49},{name:"2. Pinsedag",variable_date:"easter",offset:50},{name:"Juledag",fixed_date:[12,25]},{name:"2. Juledag",fixed_date:[12,26]}]};F.PH;var b={PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Day after New Year's Day",fixed_date:[1,2]},{name:"Waitangi Day",fixed_date:[2,6]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"Anzac Day",fixed_date:[4,25]},{name:"Queen's Birthday",variable_date:"firstJuneMonday"},{name:"Labour Day",variable_date:"firstOctoberMonday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Boxing Day",fixed_date:[12,26]}]};b.PH;var I={PH:[{name:"Nowy Rok",fixed_date:[1,1]},{name:"Święto Trzech Króli",fixed_date:[1,6]},{name:"Wielkanoc",variable_date:"easter"},{name:"Lany Poniedziałek - drugi dzień Wielkiej Nocy",variable_date:"easter",offset:1},{name:"Pierwszy Maja",fixed_date:[5,1]},{name:"Trzeci Maja",fixed_date:[5,3]},{name:"Zielone Świątki",variable_date:"easter",offset:49},{name:"Boże Ciało",variable_date:"easter",offset:60},{name:"Wniebowzięcie Najświętszej Maryi Panny",fixed_date:[8,15]},{name:"Wszystkich Świętych",fixed_date:[11,1]},{name:"Święto Niepodległości",fixed_date:[11,11]},{name:"pierwszy dzień Bożego Narodzenia",fixed_date:[12,25]},{name:"drugi dzień Bożego Narodzenia",fixed_date:[12,26]}]};I.PH;var B={PH:[{name:"Anul Nou",fixed_date:[1,1]},{name:"A doua zi de Anul Nou",fixed_date:[1,2]},{name:"Ziua Unirii Principatelor Române (Ziua Unirii)",fixed_date:[1,24]},{name:"Paștele ortodox",variable_date:"orthodox easter"},{name:"A doua zi de Paște ortodox",variable_date:"orthodox easter",offset:1},{name:"Ziua Muncii",fixed_date:[5,1]},{name:"Rusaliile",variable_date:"orthodox easter",offset:50},{name:"A doua zi de Rusalii",variable_date:"orthodox easter",offset:51},{name:"Adormirea Maicii Domnului",fixed_date:[8,15]},{name:"Sfântul Apostol Andrei",fixed_date:[11,30]},{name:"Ziua Națională (Ziua Marii Uniri)",fixed_date:[12,1]},{name:"Crăciunul",fixed_date:[12,25]},{name:"A doua zi de Crăciun",fixed_date:[12,26]}],SH:[{2015:[1,31,2,8],2016:[1,30,2,7],2021:[1,30,2,7],name:"Vacanţa intersemestrială"},{2015:[4,11,4,19],2016:[4,23,5,3],2021:[4,30,5,9],name:"Vacanța de primăvară"},{2015:[6,20,9,13],2016:[6,18,9,4],2021:[6,26,9,13],name:"Vacanța de vară"},{2014:[12,20,1,4],2015:[12,19,1,3],2020:[12,23,1,10],2021:[12,23,1,9],name:"Vacanța de iarnă"}]};B.PH,B.SH;var V={PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]}],Татарстан:{_state_code:"tatarstan",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Ураза-байрам",fixed_date:[7,28]},{name:"День Республики Татарстан",fixed_date:[8,30]},{name:"Курбан-байрам",fixed_date:[10,4]},{name:"День Конституции Республики Татарстан",fixed_date:[11,6]}]},Башкортостан:{_state_code:"bashkortostan",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Ураза-байрам",fixed_date:[7,28]},{name:"Курбан-байрам",fixed_date:[10,4]},{name:"День Республики Башкирии",fixed_date:[10,11]},{name:"День Конституции Башкортостана",fixed_date:[12,24]}]},Чувашия:{_state_code:"chuvashia",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День Чувашской республики",fixed_date:[6,24]}]},"Республика Саха (Якутия)":{_state_code:"sakha",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День Республики Саха",fixed_date:[4,27]},{name:"Ысыах",fixed_date:[6,23]},{name:"День государственности Республики Саха",fixed_date:[9,27]}]},Калмыкия:{_state_code:"kalmykia",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Цаган Сар",fixed_date:[1,14]},{name:"День принятия Степного Уложения (Конституции) Республики Калмыкия",fixed_date:[4,5]},{name:"День рождения Будды Шакьямун",fixed_date:[6,6]},{name:"Зул",fixed_date:[12,15]},{name:"День памяти жертв депортации калмыцкого народа",fixed_date:[12,28]}]},"Республика Бурятия":{_state_code:"buryatia",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Сагаалган",fixed_date:[1,14]}]},"Республика Карелия":{_state_code:"karelia",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День Республики Карелия",fixed_date:[6,8]},{name:"День освобождения Карелии от фашистских захватчиков",fixed_date:[9,30]}]},"Приволжский федеральный округ":{_state_code:"udmurtia",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День Государственности Удмуртской Республики",fixed_date:[5,31]}]},Адыгея:{_state_code:"adygea",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Ураза-байрам",fixed_date:[7,28]},{name:"Курбан-байрам",fixed_date:[10,4]},{name:"День образования Республики Адыгея",fixed_date:[10,5]}]},Дагестан:{_state_code:"dagestan",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День Конституции Республики Дагестан",fixed_date:[7,26]},{name:"Ураза-байрам",fixed_date:[7,28]},{name:"День единства народов Дагестана",fixed_date:[9,15]},{name:"Курбан-байрам",fixed_date:[10,4]}]},Ингушетия:{_state_code:"ingushetia",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День образования Республики Ингушетия",fixed_date:[6,4]},{name:"Ураза-байрам",fixed_date:[7,28]},{name:"Курбан-байрам",fixed_date:[10,4]}]},"Карачаево-Черкесия":{_state_code:"karachay_cherkess",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День возрождения карачаевского народа",fixed_date:[5,3]},{name:"Ураза-байрам",fixed_date:[7,28]},{name:"Курбан-байрам",fixed_date:[10,4]}]},Чечня:{_state_code:"chechnya",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День мира в Чеченской Республике",fixed_date:[4,16]},{name:"Ураза-байрам",fixed_date:[7,28]},{name:"Курбан-байрам",fixed_date:[10,4]}]},"Кабардино-Балкария":{_state_code:"kabardino_balkaria",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День возрождения балкарского народа",fixed_date:[3,28]},{name:"Черкесский день траура",fixed_date:[5,21]},{name:"Ураза-байрам",fixed_date:[7,28]},{name:"День государственности Кабардино-Балкарской Республики",fixed_date:[9,1]},{name:"Курбан-байрам",fixed_date:[10,4]}]},"Республика Алтай":{_state_code:"altai",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Чага-Байрам",fixed_date:[1,14]}]},"Республика Тыва":{_state_code:"tuva",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Народный праздник Шагаа",fixed_date:[1,14]},{name:"День Республики Тыва",fixed_date:[8,15]}]},"Саратовская область":{_state_code:"saratov",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Радоница",fixed_date:[4,29]}]},"Брянская область":{_state_code:"bryansk",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"Радоница",fixed_date:[4,29]},{name:"День освобождения города Брянска",fixed_date:[9,17]}]},"Республика Коми":{_state_code:"komi",PH:[{name:"1. Новогодние каникулы",fixed_date:[1,1]},{name:"2. Новогодние каникулы",fixed_date:[1,2]},{name:"3. Новогодние каникулы",fixed_date:[1,3]},{name:"4. Новогодние каникулы",fixed_date:[1,4]},{name:"5. Новогодние каникулы",fixed_date:[1,5]},{name:"6. Новогодние каникулы",fixed_date:[1,6]},{name:"Рождество Христово",fixed_date:[1,7]},{name:"8. Новогодние каникулы",fixed_date:[1,8]},{name:"День защитника Отечества",fixed_date:[2,23]},{name:"Международный женский день",fixed_date:[3,8]},{name:"День Победы",fixed_date:[5,9]},{name:"Праздник Весны и Труда",fixed_date:[5,1]},{name:"День народного единства",fixed_date:[11,4]},{name:"День России",fixed_date:[6,12]},{name:"День Республики Коми",fixed_date:[8,22]}]}};V.PH;var ee={PH:[{name:"nyårsdagen",fixed_date:[1,1]},{name:"trettondedag jul",fixed_date:[1,6]},{name:"långfredagen",variable_date:"easter",offset:-2},{name:"påskdagen",variable_date:"easter"},{name:"annandag påsk",variable_date:"easter",offset:1},{name:"första maj",fixed_date:[5,1]},{name:"pingstdagen",variable_date:"easter",offset:49},{name:"nationaldagen",fixed_date:[6,6]},{name:"midsommardagen",variable_date:"nextSaturday20Jun"},{name:"alla helgons dag",variable_date:"nextSaturday31Oct"},{name:"juldagen",fixed_date:[12,25]},{name:"annandag jul",fixed_date:[12,26]}]};ee.PH;var ce={PH:[{name:"novo leto",fixed_date:[1,1]},{name:"Prešernov dan, slovenski kulturni praznik",fixed_date:[2,8]},{name:"velikonočna nedelja",variable_date:"easter"},{name:"velikonočni ponedeljek",variable_date:"easter",offset:1},{name:"dan upora proti okupatorju",fixed_date:[4,27]},{name:"praznik dela 1",fixed_date:[5,1]},{name:"praznik dela 2",fixed_date:[5,2]},{name:"binkoštna nedelja - binkošti",variable_date:"easter",offset:49},{name:"dan državnosti",fixed_date:[6,25]},{name:"Marijino vnebovzetje",fixed_date:[8,15]},{name:"dan reformacije",fixed_date:[10,31]},{name:"dan spomina na mrtve",fixed_date:[11,1]},{name:"božič",fixed_date:[12,25]},{name:"dan samostojnosti in enotnosti",fixed_date:[12,26]}]};ce.PH;var q={PH:[{name:"Deň vzniku Slovenskej republiky",fixed_date:[1,1]},{name:"Zjavenie Pána",fixed_date:[1,6]},{name:"Veľký piatok",variable_date:"easter",offset:-2},{name:"Veľkonočná nedeľa",variable_date:"easter"},{name:"Veľkonočný pondelok",variable_date:"easter",offset:1},{name:"Sviatok práce",fixed_date:[5,1]},{name:"Deň víťazstva nad fašizmom",fixed_date:[5,8]},{name:"Sviatok svätého Cyrila a Metoda",fixed_date:[7,5]},{name:"Výročie Slovenského národného povstania",fixed_date:[8,29]},{name:"Deň Ústavy Slovenskej republiky",fixed_date:[9,1]},{name:"Sviatok Panny Márie Sedembolestnej",fixed_date:[9,15]},{name:"Sviatok všetkých svätých",fixed_date:[11,1]},{name:"Deň boja za slobodu a demokraciu",fixed_date:[11,17]},{name:"Štedrý deň",fixed_date:[12,24]},{name:"Prvý sviatok vianočný",fixed_date:[12,25]},{name:"Druhý sviatok vianočný",fixed_date:[12,26]}]};q.PH;var ne={PH:[{name:"Новий рік",fixed_date:[1,1]},{name:"Різдво",fixed_date:[1,7]},{name:"Міжнародний жіночий день",fixed_date:[3,8]},{name:"Великдень",variable_date:"orthodox easter",offset:1},{name:"День Праці 1",fixed_date:[5,1]},{name:"День Праці 2",fixed_date:[5,2]},{name:"День Перемоги",fixed_date:[5,9]},{name:"День Конституції України",fixed_date:[6,28]},{name:"День Незалежності України",fixed_date:[8,24]}]};ne.PH;var C={PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}],Alabama:{_state_code:"al",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Robert E. Lee/Martin Luther King Birthday",variable_date:"firstJanuaryMonday",offset:14},{name:"George Washington/Thomas Jefferson Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Confederate Memorial Day",variable_date:"firstAprilMonday",offset:21},{name:"Jefferson Davis' Birthday",variable_date:"firstJuneMonday"}]},Alaska:{_state_code:"ak",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Seward's Day",variable_date:"lastMarchMonday"},{name:"Alaska Day",fixed_date:[10,18]}]},Arizona:{_state_code:"az",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Dr. Martin Luther King Jr./Civil Rights Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Arkansas:{_state_code:"ar",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Dr. Martin Luther King Jr. and Robert E. Lee's Birthdays",variable_date:"firstJanuaryMonday",offset:14},{name:"George Washington's Birthday and Daisy Gatson Bates Day",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Eve",fixed_date:[12,24]},{name:"Christmas Day",fixed_date:[12,25]}]},California:{_state_code:"ca",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"César Chávez Day",fixed_date:[3,31]}]},Colorado:{_state_code:"co",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Connecticut:{_state_code:"ct",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Lincoln's Birthday",fixed_date:[2,12]},{name:"Good Friday",variable_date:"easter",offset:-2}]},Delaware:{_state_code:"de",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Day After Thanksgiving",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Day",fixed_date:[12,25]},{name:"Good Friday",variable_date:"easter",offset:-2}]},"District of Columbia":{_state_code:"dc",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Emancipation Day",fixed_date:[4,16]}]},Florida:{_state_code:"fl",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Friday after Thanksgiving",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Day",fixed_date:[12,25]}]},Georgia:{_state_code:"ga",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Robert E. Lee's Birthday",variable_date:"firstNovemberThursday",offset:22},{name:"Washington's Birthday",fixed_date:[12,24]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Confederate Memorial Day",variable_date:"lastAprilMonday"}]},Guam:{_state_code:"gu",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Guam Discovery Day",fixed_date:[3,5]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Liberation Day",fixed_date:[7,21]},{name:"All Souls' Day",fixed_date:[11,2]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Lady of Camarin Day",fixed_date:[12,8]},{name:"Christmas Day",fixed_date:[12,25]}]},Hawaii:{_state_code:"hi",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Prince Jonah Kuhio Kalanianaole Day",fixed_date:[3,26]},{name:"Kamehameha Day",fixed_date:[6,11]},{name:"Statehood Day",variable_date:"firstAugustFriday",offset:14},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1}]},Idaho:{_state_code:"id",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr.-Idaho Human Rights Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Illinois:{_state_code:"il",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Lincoln's Birthday",fixed_date:[2,12]},{name:"Casimir Pulaski Day",variable_date:"firstMarchMonday"},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1}]},Indiana:{_state_code:"in",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Lincoln's Birthday",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Day",fixed_date:[12,25]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Primary Election Day",variable_date:"firstMayMonday",offset:1},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1}]},Iowa:{_state_code:"ia",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Lincoln's Birthday",fixed_date:[2,12]}]},Kansas:{_state_code:"ks",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Kentucky:{_state_code:"ky",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Eve",fixed_date:[12,24]},{name:"Christmas Day",fixed_date:[12,25]},{name:"New Year's Eve",fixed_date:[12,31]},{name:"Good Friday",variable_date:"easter",offset:-2}]},Louisiana:{_state_code:"la",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Mardi Gras",variable_date:"easter",offset:-47},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1}]},Maine:{_state_code:"me",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Patriots' Day",variable_date:"firstAprilMonday",offset:14}]},Maryland:{_state_code:"md",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Native American Heritage Day",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Day",fixed_date:[12,25]}]},Massachusetts:{_state_code:"ma",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Patriots' Day",variable_date:"firstAprilMonday",offset:14}]},Michigan:{_state_code:"mi",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Eve",fixed_date:[12,24]},{name:"Christmas Day",fixed_date:[12,25]},{name:"New Year's Eve",fixed_date:[12,31]}]},Minnesota:{_state_code:"mn",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Mississippi:{_state_code:"ms",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King's and Robert E. Lee's Birthdays",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Confederate Memorial Day",variable_date:"lastAprilMonday"}]},Missouri:{_state_code:"mo",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Truman Day",fixed_date:[5,8]}]},Montana:{_state_code:"mt",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1},{name:"Christmas Eve",fixed_date:[12,24]},{name:"New Year's Eve",fixed_date:[12,31]}]},Nebraska:{_state_code:"ne",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Arbor Day",variable_date:"lastAprilFriday"}]},Nevada:{_state_code:"nv",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Nevada Day",variable_date:"lastOctoberFriday"},{name:"Family Day",variable_date:"firstNovemberThursday",offset:22}]},"New Hampshire":{_state_code:"nh",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Civil Rights Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Day after Thanksgiving",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Day",fixed_date:[12,25]},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1}]},"New Jersey":{_state_code:"nj",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Lincoln's Birthday",fixed_date:[2,12]},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1}]},"New Mexico":{_state_code:"nm",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Day after Thanksgiving",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Day",fixed_date:[12,25]}]},"New York":{_state_code:"ny",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Lincoln's Birthday",fixed_date:[2,12]},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1}]},"North Carolina":{_state_code:"nc",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Day after Thanksgiving",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Eve",fixed_date:[12,24]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Day after Christmas",fixed_date:[12,26]},{name:"Good Friday",variable_date:"easter",offset:-2}]},"North Dakota":{_state_code:"nd",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Ohio:{_state_code:"oh",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Oklahoma:{_state_code:"ok",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Day after Thanksgiving",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Day",fixed_date:[12,25]}]},Oregon:{_state_code:"or",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Pennsylvania:{_state_code:"pa",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Flag Day",fixed_date:[6,14]}]},"Puerto Rico":{_state_code:"pr",PH:[{name:"Día de Año Nuevo",fixed_date:[1,1]},{name:"Día de Reyes",fixed_date:[1,6]},{name:"Natalicio de Eugenio María de Hostos",variable_date:"firstJanuaryMonday",offset:7},{name:"Natalicio de Martin Luther King, Jr.",variable_date:"firstJanuaryMonday",offset:14},{name:"Día de los Presidentes",variable_date:"firstFebruaryMonday",offset:14},{name:"Día de la Abolición de Esclavitud",fixed_date:[3,22]},{name:"Viernes Santo",variable_date:"easter",offset:-2},{name:"Natalicio de José de Diego",variable_date:"firstAprilMonday",offset:14},{name:"Recordación de los Muertos de la Guerra",variable_date:"lastMayMonday"},{name:"Día de la Independencia",fixed_date:[7,4]},{name:"Constitución de Puerto Rico",fixed_date:[7,25]},{name:"Natalicio de Dr. José Celso Barbosa",fixed_date:[7,27]},{name:"Día del Trabajo",variable_date:"firstSeptemberMonday"},{name:"Día de la Raza Descubrimiento de América",variable_date:"firstOctoberMonday",offset:7},{name:"Día del Veterano",fixed_date:[11,11]},{name:"Día del Descubrimiento de Puerto Rico",fixed_date:[11,19]},{name:"Día de Acción de Gracias",variable_date:"firstNovemberThursday",offset:21},{name:"Noche Buena",fixed_date:[12,24]},{name:"Día de Navidad",fixed_date:[12,25]}]},"Rhode Island":{_state_code:"ri",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Victory Day",variable_date:"firstAugustMonday",offset:7}]},"South Carolina":{_state_code:"sc",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Confederate Memorial Day",fixed_date:[5,10]}]},"South Dakota":{_state_code:"sd",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Native American Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Tennessee:{_state_code:"tn",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Eve",fixed_date:[12,24]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Good Friday",variable_date:"easter",offset:-2}]},Texas:{_state_code:"tx",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Friday after Thanksgiving",variable_date:"firstNovemberThursday",offset:22},{name:"Christmas Eve",fixed_date:[12,24]},{name:"Christmas Day",fixed_date:[12,25]},{name:"Day after Christmas",fixed_date:[12,26]}]},"United States Virgin Islands":{_state_code:"vi",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Virgin Islands-Puerto Rico Friendship Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Three Kings Day",fixed_date:[1,6]},{name:"Transfer Day",fixed_date:[3,31]},{name:"Holy Thursday",variable_date:"easter",offset:-3},{name:"Good Friday",variable_date:"easter",offset:-2},{name:"Easter Monday",variable_date:"easter",offset:1},{name:"Emancipation Day",fixed_date:[7,3]},{name:"Hurricane Supplication Day",variable_date:"firstJulyMonday",offset:21},{name:"Hurricane Thanksgiving",fixed_date:[10,25]},{name:"Liberty Day",fixed_date:[11,1]},{name:"Christmas Second Day",fixed_date:[12,26]},{name:"New Year's Eve",fixed_date:[12,31]}]},Utah:{_state_code:"ut",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Pioneer Day",fixed_date:[7,24]}]},Vermont:{_state_code:"vt",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Town Meeting Day",variable_date:"firstMarchTuesday"},{name:"Battle of Bennington",variable_date:"firstAugustMonday",offset:14}]},Virginia:{_state_code:"va",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},Washington:{_state_code:"wa",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]},"West Virginia":{_state_code:"wv",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"West Virginia Day",fixed_date:[6,20]},{name:"Lincoln's Day",variable_date:"firstNovemberThursday",offset:22}]},Wisconsin:{_state_code:"wi",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]},{name:"Primary Election Day",variable_date:"firstAugustTuesday",offset:7},{name:"Election Day",variable_date:"firstNovemberMonday",offset:1}]},Wyoming:{_state_code:"wy",PH:[{name:"New Year's Day",fixed_date:[1,1]},{name:"Martin Luther King, Jr. Day",variable_date:"firstJanuaryMonday",offset:14},{name:"Washington's Birthday",variable_date:"firstFebruaryMonday",offset:14},{name:"Memorial Day",variable_date:"lastMayMonday"},{name:"Independence Day",fixed_date:[7,4]},{name:"Labor Day",variable_date:"firstSeptemberMonday"},{name:"Columbus Day",variable_date:"firstOctoberMonday",offset:7},{name:"Veterans Day",fixed_date:[11,11]},{name:"Thanksgiving",variable_date:"firstNovemberThursday",offset:21},{name:"Christmas Day",fixed_date:[12,25]}]}};C.PH,C.Alabama,C.Alaska,C.Arizona,C.Arkansas,C.California,C.Colorado,C.Connecticut,C.Delaware,C.Florida,C.Georgia,C.Guam,C.Hawaii,C.Idaho,C.Illinois,C.Indiana,C.Iowa,C.Kansas,C.Kentucky,C.Louisiana,C.Maine,C.Maryland,C.Massachusetts,C.Michigan,C.Minnesota,C.Mississippi,C.Missouri,C.Montana,C.Nebraska,C.Nevada,C.Ohio,C.Oklahoma,C.Oregon,C.Pennsylvania,C.Tennessee,C.Texas,C.Utah,C.Vermont,C.Virginia,C.Washington,C.Wisconsin,C.Wyoming;var G={PH:[{name:"Tết Dương Lịch",fixed_date:[1,1]},{name:"Ngày Quốc tế Phụ nữ",fixed_date:[3,8]},{name:"Ngày thành lập Đoàn Thanh niên Cộng sản Hồ Chí Minh",fixed_date:[3,26]},{name:"Ngày Quốc tế Thiếu nhi",fixed_date:[6,1]},{name:"Ngày Nhà giáo Việt Nam",fixed_date:[11,20]},{name:"Ngày Giải phóng miền Nam, Thống nhất Đất nước",fixed_date:[4,30]},{name:"Ngày Quốc tế lao động",fixed_date:[5,1]},{name:"Quốc Khánh",fixed_date:[9,2]},{name:"Lễ Giáng Sinh",fixed_date:[12,25]}]};G.PH;var _e={PH:[{name:"New Year",fixed_date:[1,1]}],SH:[{2020:[6,21,9,23],2021:[6,21,9,23],2022:[6,21,9,23],2023:[6,21,9,23],2024:[6,21,9,23],2025:[6,21,9,23],2026:[6,21,9,23],2027:[6,21,9,23],2028:[6,21,9,23],2029:[6,21,9,23],2030:[6,21,9,23],2031:[6,21,9,23],2032:[6,21,9,23],name:"Summer"}]};_e.PH,_e.SH;var De=Object.freeze({__proto__:null,ar:c,at:h,au:g,be:m,br:y,ca:x,ch:E,ci:_,cz:w,de:L,dk:k,es:W,fi:$,fr:O,gb:z,gr:le,hu:H,ie:Z,it:Y,nl:ye,no:F,nz:b,pl:I,ro:B,ru:V,se:ee,si:ce,sk:q,ua:ne,us:C,vn:G,xa:_e}),$e={"assuming ok for ko":{daytime:"sunrise-sunset",spring:"Mar-May",summer:"Jun-Aug",autumn:"Sep-Nov",winter:"Dec-Feb",_:"-","=":"-",frühling:"Mar-May",frühjahr:"Mar-May",sommer:"Jun-Aug",herbst:"Sep-Nov",gesloten:"off",feestdag:"PH",feestdagen:"PH",m:"Mo",w:"We",f:"Fr",primavera:"Mar-May",estate:"Jun-Aug",autunno:"Sep-Nov",inverno:"Dec-Feb"},"please use English written ok for ko":{"(?:an )?feiertag(?:s|en?)?":"PH"},"please use off for ko":{"ruhetage?":"off",geschlossen:"off",geschl:"off",except:"off"},"please use ok for workday":{wd:"Mo-Fr","on work days?":"Mo-Fr","weekdays?":"Mo-Fr","werktags?":"Mo-Sa",vardagar:"Mo-Fr"},"omit hour keyword":{h:""},"omit ko":{season:"",hs:"",hrs:"",hours:"",uhr:"",geöffnet:"",zwischen:"",ist:"",durchgehend:"","öffnungszeit(?:en)?:?":""},"omit tag key":{"opening_hours\\s*=":""},"omit wrong keyword open end":{from:"",ab:"",von:""},"assuming open end for ko":{"(?:bis|till?|-|–)? ?(?:open ?end|late)":"+"},"please use ok for uncertainty":{"~":"-","～":"-"},"please use fallback rule":{otherwise:"||"},"please use ok for missing data":{"\\?":""},"please use ok for ko":{"→":"-","−":"-","—":"-",ー:"-",to:"-",до:"-",a:"-",as:"-",á:"-",ás:"-",às:"-",ate:"-","till?":"-",until:"-",through:"-",and:",","&":",","：":":","'":'"',always:"24/7","always open":"24/7","always closed":"closed",nonstop:"24/7","24x7":"24/7",anytime:"24/7","all day":"24/7",daily:"Mo-Su",everyday:"Mo-Su","every day":"Mo-Su","all days":"Mo-Su","7j/7":"Mo-Su","7/7":"Mo-Su","7days":"Mo-Su","7 days":"Mo-Su","7 days a week":"Mo-Su","7 days/week":"Mo-Su","24 hours 7 days a week":"24/7","24 hours":"00:00-24:00",midday:"12:00",midnight:"00:00","(?:public )?holidays?":"PH","(?:one )?day after public holiday":"PH +1 day","(?:one )?day before public holiday":"PH -1 day","school ?holidays?":"SH","weekends?":"Sa,Su",daylight:"sunrise-sunset","on(?:_| )?appointments?":'"on appointment"',"by(?:_| )?appointments?":'"by appointment"',"nach(?: |_)vereinbarung":'"Nach Vereinbarung"',"nach(?: |_)absprache":'"Nach Absprache"',bis:"-",täglich:"Mo-Su","(?:schul)?ferien":"SH","(?:an|nur)? ?sonn-?(?: und |/)feiertag(?:s|en?)?":"PH,Su",und:",",u:",",auch:",",fermé:"off",et:",",à:"-","jours fériés":"PH",sundown:"sunset",morgendämmerung:"dawn",abenddämmerung:"dusk",sonnenaufgang:"sunrise",sonnenuntergang:"sunset",ostern:"easter"},"please use English abbreviation ok for so":{so:"Su"},"please use English abbreviation ok for ko":{sun:"Su","sundays?":"Su",mon:"Mo","mondays?":"Mo","tues?":"Tu","tuesdays?":"Tu","weds?":"We","wednesdays?":"We",thu:"Th","thurs?":"Th","thursdays?":"Th",fri:"Fr","fridays?":"Fr",sat:"Sa","saturdays?":"Sa",son:"Su","sonn-":"Su","sonntags?":"Su","montags?":"Mo",di:"Tu","die?":"Tu","dienstags?":"Tu",mi:"We","mit?":"We","mittwochs?":"We","don?":"Th","donnerstags?":"Th",fre:"Fr","freitags?":"Fr",sam:"Sa","samstags?":"Sa",dim:"Su",dimanche:"Su","lun?":"Mo",lundi:"Mo",mardi:"Tu",mer:"We",mercredi:"We","jeu?":"Th",jeudi:"Th","ven?":"Fr",vendredi:"Fr",samedi:"Sa","zon?":"Su",zontag:"Su",zondag:"Su",maandag:"Mo",din:"Tu",dinsdag:"Tu","woe?":"We",woensdag:"We",donderdag:"Th","vri?":"Fr",vrijdag:"Fr","zat?":"Sa",zaterdag:"Sa",neděle:"Su",ne:"Su",pondělí:"Mo",po:"Mo",úterý:"Tu",út:"Tu",středa:"We",st:"We",čtvrtek:"Th",čt:"Th",pátek:"Fr",pá:"Fr",sobota:"Sa",martes:"Tu",miércoles:"We",jueves:"Th",viernes:"Fr",sábado:"Sa",domingo:"Su",lunes:"Mo",selasa:"Su",rabu:"Mo",kami:"Tu",jumat:"We",sabtu:"Th",minggu:"Fr",senin:"Sa",söndag:"Su",söndagar:"Su",måndag:"Mo",ma:"Mo",tisdag:"Tu",onsdag:"We",torsdag:"Th",fredag:"Fr",lördag:"Sa",lördagar:"Sa",niedziela:"Su",niedz:"Su",n:"Su",ndz:"Su",poniedziałek:"Mo",poniedzialek:"Mo",pon:"Mo",pn:"Mo",wtorek:"Tu",wt:"Tu",środa:"We",sroda:"We",śr:"We",sr:"We",czwartek:"Th",czw:"Th",cz:"Th",piątek:"Fr",piatek:"Fr",pt:"Fr",sob:"Sa",воскресенье:"Su",Вс:"Su","voskresen'ye":"Su",понедельник:"Mo",Пн:"Mo","ponedel'nik":"Mo",вторник:"Tu",vtornik:"Tu",среда:"We",sreda:"We",четверг:"Th",chetverk:"Th",пятница:"Fr",pyatnitsa:"Fr",суббота:"Sa",subbota:"Sa",søndag:"Su",mandag:"Mo",tirsdag:"Tu",lørdag:"Sa",dom:"Su","domenica?":"Su","domeniche?":"Su",lun:"Mo","lunedì?":"Mo","mar?":"Tu","martedì?":"Tu","mer?":"We","mercoledì?":"We",gio:"Th","giovedì?":"Th",ven:"Fr","venerdì?":"Fr",sab:"Sa","sabato?":"Sa",jänner:"Jan",january:"Jan",february:"Feb",march:"Mar",april:"Apr","june?":"Jun","july?":"Jul",august:"Aug",september:"Sep",sept:"Sep",october:"Oct",november:"Nov",december:"Dec",januar:"Jan",februar:"Feb","märz?":"Mar",maerz:"Mar",mai:"May",juni:"Jun",juli:"Jul",okt:"Oct",oktober:"Oct",dez:"Dec",dezember:"Dec",janvier:"Jan",février:"Feb",fév:"Feb",mars:"Mar",avril:"Apr",avr:"Apr",juin:"Jun",juillet:"Jul",août:"Aug",aoû:"Aug",septembre:"Sep",octobre:"Oct",novembre:"Nov",décembre:"Dec",januari:"Jan",februari:"Feb",maart:"Mar",mei:"May",augustus:"Aug",gennaio:"Jan",febbraio:"Feb",marzo:"Mar",aprile:"Apr","giugno?":"Jun","luglio?":"Jul",agosto:"Aug",settembre:"Sep",ottobre:"Oct",dicembre:"Dec"},"please use ok for similar looking ko":{оff:"off"},"please use 24 hours time for ko":{pm:"pm","p.m.":"pm",рм:"pm",am:"am","a.m.":"am",ам:"am"},"please use restriction comment time for ko":{damen:'open "Damen"',herren:'open "Herren"'},"please use ok for typographically correct":{"–":"-","„":'"',"“":'"',"”":'"',"«":'"',"»":'"',"‚":'"',"‘":'"',"’":'"',"「":'"',"」":'"',"『":'"',"』":'"'}},be={"unexpected token":'Unexpected token: "{{token}}" This means that the syntax is not valid at that point or it is currently not supported.',"no string":"The value (first parameter) is not a string.",nothing:"The value contains nothing meaningful which can be parsed.","nothing useful":"This rule does not contain anything useful. Please remove this empty rule.","combine rules":'Separate rules detected each of which only consists of a time selector. These rules should be written as one rule by combining them using "{{ok}}".',"value ends with token":'The value ends with "{{token}}". Please either continue after "{{token}}" or remove "{{token}}".',"programmers joke":"Might it be possible that you are a programmer and adding a semicolon after each statement is hardwired in your muscle memory ;) ? The thing is that the semicolon in the opening_hours syntax is defined as rule separator. So for compatibility reasons you should omit this last semicolon.","interpreted as year":'The number {{number}} will be interpreted as year. This is probably not intended. Times can be specified as "12:00".',"rule before fallback empty":"Rule before fallback rule does not contain anything useful","hour min separator":'Please use ":" as hour/minute-separator',"warnings severity":'The parameter optional_conf_parm["warnings_severity"] must be an integer number between 0 and 7 (inclusive). Given {{severity}}, expected one of the following numbers: {{allowed}}.',"optional conf parm type":"The optional_conf_parm parameter is of unknown type. Given {{given}}","conf param tag key missing":'The optional_conf_parm["tag_key"] is missing, required by optional_conf_parm["map_value"].',"conf param mode invalid":'The optional_conf_parm["mode"] parameter is a invalid number. Gave {{given}}, expected one of the following numbers: {{allowed}}.',"conf param unknown type":'The optional_conf_parm["{{key}}"] parameter is of unknown type. Given {{given}}, expected {{expected}}.',"library bug":'An error occurred during evaluation of the value "{{value}}". Please file a bug report or pull request: {{url}}.{{message}}',"library bug PR only":'An error occurred during evaluation of the value "{{value}}". Please submit a pull request: {{url}}.{{message}}',"use multi":'You have used {{count}} {{part2}} Rules can be separated by ";".',"selector multi 2a":"{{what}} in one rule. You may only use one in one rule.","selector multi 2b":'not connected {{what}} in one rule. This is probably an error. Equal selector types can (and should) always be written in conjunction separated by comma. Example for time ranges "12:00-13:00,15:00-18:00". Example for weekdays "Mo-We,Fr".',"selector state":"state keywords",comments:"comments","holiday ranges":"holiday ranges",months:"months",weekdays:"weekdays",ranges:"ranges","default state":"This rule which changes the default state (which is closed) for all following rules is not the first rule. The rule will overwrite all previous rules. It can be legitimate to change the default state to open for example and then only specify for which times the facility is closed.",vague:'This rule is not very explicit because there is no time selector being used. A time selector is the part specifying hours when the object is opened, for example "10:00-19:00". Please add a time selector to this rule or use a comment to make it more explicit.',"empty comment":"You have used an empty comment. Please either write something in the comment or use the keyword unknown instead.",separator_for_readability:"You have used the optional symbol <separator_for_readability> in the wrong place. Please check the syntax specification to see where it could be used or remove it.","strange 24/7":'You used 24/7 in a way that is probably not interpreted as "24 hours 7 days a week". For correctness you might want to use "open" or "closed" for this rule and then write your exceptions which should achieve the same goal and is more clear e.g. "open; Mo 12:00-14:00 off".',"public holiday":'There was no PH (public holiday) specified. This is not very explicit.{{part2}} Please either append a "PH off" rule if the amenity is closed on all public holidays or use something like "Sa,Su,PH 12:00-16:00" to say that on Saturdays, Sundays and on public holidays the amenity is open 12:00-16:00. If the amenity is open everyday including public holidays then you can make this explicit by writing "Mo-Su,PH". If you are not certain try to find it out. If you can’t then do not add PH to the value and ignore this warning.',"public holiday part2":' Unfortunately the tag key (e.g. "opening_hours", or "lit") is unknown to opening_hours.js. This warning only applies to the key {{keys}}. If your value is for that key than read on. If not you can ignore the following.',"additional_rule_separator not used after time wrapping midnight":'This rule overwrites parts of the previous rule. This happens because normal rules apply to the whole day and overwrite any definition made by previous rules. You can make this rule an additional rule by using a "," instead of the normal ";" to separate the rules. Note that the overwriting can also be desirable in which case you can ignore this warning.',"additional rule which evaluates to closed":'This rule will be evaluated as closed but it was specified as additional rule. It should be specified as normal rule using ";" as rule separator. See https://wiki.openstreetmap.org/wiki/Key:opening_hours/specification#explain:rule_modifier:closed.',switched:'The selector "{{first}}" was switched with the selector "{{second}}" for readability and compatibility reasons.',"no colon after":'Please don’t use ":" after {{token}}.',"number -5 to 5":"Number between -5 and 5 (except 0) expected.","one weekday constraint":"You can not use more than one constrained weekday in a month range","range constrained weekdays":"You can not use a range of constrained weekdays in a month range",expected:'"{{symbol}}" expected.',"range zero":"You can not use {{type}} ranges with period equals zero.","period one year+":'Please don’t use {{type}} ranges with period equals one. If you want to express that a facility is open starting from a year without limit use "<year>+".',"period one":"Please don’t use {{type}} ranges with period equals one.","month 31":"The day for {{month}} must be between 1 and 31.","month 30":"Month {{month}} doesn't have 31 days. The last day of {{month}} is day 30.","month feb":"Month {{month}} either has 28 or 29 days (leap years).","point in time":"hyphen (-) or open end (+) in time range {{calc}}expected. For working with points in time, the mode for {{libraryname}} has to be altered. Maybe wrong tag?",calculation:"calculation","time range continue":"Time range does not continue as expected","period continue":'Time period does not continue as expected. Example "/01:30".',"time range mode":'{{libraryname}} is running in "time range mode". Found point in time.',"point in time mode":'{{libraryname}} is running in "points in time mode". Found time range.',"outside current day":"Time range starts outside of the current day","two midnights":"Time spanning more than two midnights not supported","without minutes":'Time range without minutes specified. Not very explicit! Please use this syntax instead "{{syntax}}".',"outside day":"Time range starts outside of the current day","zero calculation":'Adding zero in a variable time calculation does not change the variable time. Please omit the calculation (example: "sunrise-(sunset-00:00)").',"calculation syntax":"Calculation with variable time is not in the right syntax",missing:'Missing "{{symbol}}"',"(time)":"(time)","bad range":"Bad range: {{from}}-{{to}}","] or more numbers":'"]" or more numbers expected.',"additional rule no sense":'An additional rule does not make sense here. Just use a ";" as rule separator. See https://wiki.openstreetmap.org/wiki/Key:opening_hours/specification#explain:additional_rule_separator',"unexpected token weekday range":"Unexpected token in weekday range: {{token}}","max differ":"There should be no reason to differ more than {{maxdiffer}} days from a {{name}}. If so tell us …","adding 0":"Adding 0 does not change the date. Please omit this.","unexpected token holiday":"Unexpected token (holiday parser): {{token}}","no holiday definition":"There are no holidays ({{name}}) defined for country {{cc}}.","no holiday definition state":"There are no holidays ({{name}}) defined for country {{cc}} and state {{state}}.","no country code":"Country code missing which is needed to select the correct holidays (see README how to provide it)","no SH definition":"School holiday {{name}}not defined for the year {{year}}.","movable no formula":"Movable day {{name}} can not not be calculated. Please add the formula how to calculate it.","movable not in year":"The movable day {{name}} plus {{days}} days is not in the year of the movable day anymore. Currently not supported.","year range one year":'A year range in which the start year is equal to the end year does not make sense. Please remove the end year. E.g. "{{year}} May 23"',"year range reverse":"A year range in which the start year is greater than the end year does not make sense. Please turn it over.","year past":"The year is in the past.","unexpected token year range":"Unexpected token in year range: {{token}}","week range reverse":"You have specified a week range in reverse order or leaping over a year. This is (currently) not supported.","week negative":"You have specified a week date less then one. A valid week date range is 1-53.","week exceed":"You have specified a week date greater then 53. A valid week date range is 1-53.","week period less than 2":'You have specified a week period which is less than two. If you want to select the whole range from week {{weekfrom}} to week {{weekto}} then just omit the "/{{period}}".',"week period greater than 26":'You have specified a week period which is greater than 26. 26.5 is the half of the maximum 53 week dates per year so a week date period greater than 26 would only apply once per year. Please specify the week selector as "week {{weekfrom}}" if that is what you want to express.',"unexpected token week range":"Unexpected token in week range: {{token}}","unexpected token month range":"Unexpected token in month range: {{token}}","day range reverse":"Range in wrong order. From day is greater than to day.","open end":"Specified as open end. Closing time was guessed.","date parameter needed":"Date parameter needed.","assuming ok for ko":'Assuming "{{ok}}" for "{{ko}}".',"please use ok for ko":'Please use notation "{{ok}}" for "{{ko}}".',"please use ok for similar looking ko":'Please use notation "{{ok}}" for "{{ko}}". Those characters look very similar but are not the same!',"rant degree sign used for zero":"Note that this is not a (superscript) zero but a degree sign which is misused as zero. A superscript zero is defined in Unicode (°) and would have been more appropriate/uniform here. But note that the use of none-ASCII digits is not allowed.","please use English written ok for ko":'Please use the English written "{{ok}}" for "{{ko}}".',"please use English abbreviation ok for ko":'Please use the English abbreviation "{{ok}}" for "{{ko}}".',"please use English abbreviation ok for so":'Please use the English abbreviation "{{ok}}" for "{{ko}}". Note that it might also mean Saturday in Polish.',"please use off for ko":'Please use "{{ok}}" for "{{ko}}". Example: "Mo-Fr 08:00-12:00; Tu off".',"please use ok for workday":'Assuming "{{ok}}" for "{{ko}}". Please avoid using "workday": https://wiki.openstreetmap.org/wiki/Talk:Key:opening_hours#need_syntax_for_holidays_and_workingdays',"omit hour keyword":'Please omit "{{ko}}" or use a colon instead. Example: "12:00-14:00".',"omit ko":'Please omit "{{ko}}".',"omit tag key":'Please omit "{{ko}}". The tag key must not be in the tag value.',"omit wrong keyword open end":'Please omit "{{ko}}". The tag key must not be in the tag value.',"assuming open end for ko":'Assuming "{{ok}}" (open end time) for "{{ko}}". Example: "12:00+".',"please use ok for uncertainty":'Please use notation "{{ok}}" for "{{ko}}". If there is reason to suspect uncertainty consider adding a comment. Example: 12:00-14:00 "only on sunshine".',"please use fallback rule":'Please use notation "{{ok}}" (Fallback rule) for "{{ko}}". Example: Mo-Fr 12:00-14:00; PH off || "by appointment"',"please use ok for missing data":"Please consider adding a FIXME tag instead.","please use 24 hours time for ko":"Please use time format in 24 hours notation instead of the legacy 12 hours variant. If the 12 hours variant is used you might have to convert the hours to the 24 hours notation.","please use restriction comment time for ko":'It looks like you might want to define additional restrictions. If that is the case and they can not be expressed by other syntax elements then you could use a comment together with the `open` keyword. Example: open "female only"',"please use ok for typographically correct":'Please use notation "{{ok}}" for "{{ko}}". Although using "{{ko}}" is typographical correct, it is not defined in the opening_hours syntax. Correct typography should be done on application level …'},Ze={en:{opening_hours:{pretty:{off:"closed",SH:"school holidays",PH:"public holidays"}}},de:{opening_hours:{texts:{"unexpected token":'Unerwartetes Zeichen: "{{token}}" Das bedeutet, dass die Syntax an dieser Stelle nicht erkannt werden konnte.',"no string":"Der Wert (erster Parameter) ist kein String",nothing:"Der Wert enthält nichts, was ausgewertet werden könnte.","nothing useful":"Diese Regel enthält nichts nützliches. Bitte entferne diese leere Regel.","combine rules":'Getrennte Regeln erkannt welche jeweils nur aus einer Zeit Bereichsdefinition bestehen. Diese Regeln sollten mittels "{{ok}}" zu einer Regel kombiniert werden.',"value ends with token":'Der Wert endet mit "{{token}}". Bitte ergänze den Wert nach "{{token}}" oder lösche "{{token}}".',"programmers joke":"Kann es sein, dass du ein Programmierer bist und das Hinzufügen eines Semikolons nach jedem Statement ist zwanghaft ;) ? Es ist so, dass das Semikolon in der opening_hours-Syntax als Trenner für Regeln definiert ist. Bitte verzichte an dieser Stelle auf ein Semikolon.","interpreted as year":'Die Zahl {{number}} wird als Jahr interpretiert. Vermutlich ist das nicht beabsichtigt. Uhrzeiten werden als "12:00" angegeben.',"rule before fallback empty":"Die Regel vor der Fallback-Regel enthält nichts nützliches","hour min separator":'Bitte benutze ":" als Stunden/Minuten-Trenner',"warnings severity":'Der Parameter optional_conf_parm["warnings_severity"] muss eine ganze Zahl zwischen (einschließlich) 0 und (einschließlich) 7 sein. Gegeben: {{severity}}, erwartet: Eine der Zahlen: {{allowed}}.',"optional conf parm type":"Der optional_conf_parm Parameter hat einen unbekannten Typ. Gegeben: {{given}}","conf param tag key missing":'Der optional_conf_parm["tag_key"] fehlt, ist aber notwendig wegen optional_conf_parm["map_value"].',"conf param mode invalid":'Der optional_conf_parm["mode"]-Parameter ist eine ungültige Zahl. Gegeben: {{given}}, erwartet: Eine der Zahlen: {{allowed}}.',"conf param unknown type":'Der optional_conf_parm["{{key}}"] Parameter hat einen unbekannten Typ. Gegeben: {{given}}, erwartet: {{expected}}.',"library bug":'Bei der Auswertung des Wertes "{{value}}" ist ein Fehler aufgetreten. Bitte melde diesen Fehler oder korrigiere diesen mittels eines Pull Requests oder Patches: {{-url}}.{{message}}',"library bug PR only":'Bei der Auswertung des Wertes "{{value}}" ist ein Fehler aufgetreten. Du kannst dies korrigieren, indem du das Problem löst und in Form eines Pull Requests oder Patches zum Projekt beiträgst: {{-url}}.{{message}}',"use multi":'Du hast {{count}} {{-part2}} Einzelne Regeln können mit ";" getrennt werden.',"selector multi 2a":"{{what}} in einer Regel benutzt. Du kannst nur einen davon je Regel verwenden","selector multi 2b":'nicht verbundene {{what}} in einer Regel benutzt. Das ist vermutlich ein Fehler. Gleiche Selektoren können (und sollten) immer zusammen und durch Kommas getrennt geschrieben werden. Beispiel für Zeitspannen "12:00-13:00,15:00-18:00". Beispiel für Wochentage "Mo-We,Fr".',"selector state":"Status-Schlüsselwörter (offen, geschlossen)",comments:"Kommentare",months:"Monate",weekdays:"Wochentage",ranges:"Zeitspannen","default state":"Diese Regel, welche den Standard-Status (d.h. geschlossen) für alle folgenden Regeln ändert, ist nicht die erste Regel. Diese Regel überschreibt alle vorherigen Regeln. Es kann legitim sein, den Standard-Status z.B. auf geöffnet festzulegen und dann nur die Zeiten, zu denen geschlossen ist, anzugeben.",vague:'Diese Regel ist nicht sehr aussagekräftig, da kein Zeit Selektor angegeben wurde. Ein Zeit Selektor ist die Komponente die angibt, zu welcher Tageszeit ein Objekt geöffnet hat, zum Beispiel "10:00-19:00". Bitte füge eine Zeitangabe oder einen Kommentar hinzu, um dies zu verbessern.',"empty comment":'Du hast einen leeren Kommentar verwendet." Bitte schreibe entweder einen Kommentar-Text oder benutze stattdessen das Schlüsselwort "unknown".',separator_for_readability:"Du hast das optionale Symbol <separator_for_readability> an der falschen Stelle benutzt. Bitte lies die Syntax-Spezifikation um zu sehen, wo es verwendet werden kann, oder entferne es.","strange 24/7":'Du hast 24/7 in einer Art verwendet, welche wahrscheinlich nicht als "24 Stunden, 7 Tage die Woche" interpretiert wird. Der Richtigkeit halber solltest du "open" oder "closed" für diese Regel verwenden und dann die Ausnahmen angeben um das selbe Ziel zu erreichen. So ist es klarer – zum Beispiel "open; Mo 12:00-14:00 off".',"public holiday":'Es wurde keine Regel für "PH" (feiertags) angegeben. Dies ist nicht sehr aussagekräftig.{{-part2}} Bitte füge die Regel "PH off" an, wenn die Einrichtung an allen Feiertagen geschlossen ist oder schreibe "Sa,Su,PH 12:00-16:00" um auszudrücken, dass Samstags, Sonntags und feiertags von 12:00-16:00 geöffnet ist. Falls die Einrichtung täglich und an Feiertagen geöffnet ist, kann dies explizit mittels "Mo-Su,PH" ausgedrückt werden. Wenn du dir im Unklaren bist, versuche die Öffnungszeit zu klären. Falls das nicht möglich ist, lass die Angabe weg und ignoriere diese Warnung.',"public holiday part2":' Leider ist der "tag key" (beispielsweise "opening_hours", oder "lit") in opening_hours.js nicht bekannt. Diese Warnung betrifft nur die Keys: {{keys}}. Falls deine Angabe nicht für einen dieser ist, ignoriere bitte folgenden Hinweis:',"additional_rule_separator not used after time wrapping midnight":'Diese Regel überschreibt Teile der vorherigen Regel. Der Grund dafür ist, dass normale Regeln auf den ganzen Tag zutreffen und alle Definitionen von vorhergehenden Regeln für diesen Tag überschreiben. Du kannst diese Regel als additive Regel deklarieren indem du ein "," anstelle des üblichen ";" für diese Regel verwendest. Beachte das die Überschreibung auch gewünscht sein kann und in so einem Fall diese Warnung ignoriert werden kann.',"additional rule which evaluates to closed":'Diese Regel wird als geschlossen ausgewertet aber wurde als additive Regel angegeben. Sie sollte als normale Regel mittels ";" definiert sein. Siehe https://wiki.openstreetmap.org/wiki/DE:Key:opening_hours/specification#explain:rule_modifier:closed.',switched:'Der Selektor "{{first}}" wurde für eine bessere Lesbarkeit und der Vollständigkeit halber mit "{{second}}" getauscht.',"no colon after":'Bitte Benutze kein ":" nach dem Token {{token}}.',"number -5 to 5":"Zahl zwischen -5 und 5 (außer 0) erwartet.","one weekday constraint":"Du kannst höchstens einen beschränkten Wochentag in einer Monats-Spanne verwenden","range constrained weekdays":"Du kannst keine Wochentags-Spanne als Beschränkung in einer Monats-Spanne verwenden",expected:'"{{-symbol}}" erwartet.',"range zero":'Du kannst keine {{type}}-Spanne mit Periode "0" verwenden.',"period one year+":'Bitte verwende keine {{type}}-Spannen mit Periode "1". Wenn du ausdrücken willst, das eine Einrichtung ab einem bestimmten Jahr immer offen ist, benutze bitte "<year>+".',"period one":'Bitte verwende keine {{type}}-Spannen mit Periode "1".',"month 31":"Die Tagesangabe für {{month}} muss zwischen 1 und 31 liegen.","month 30":"Der Monat {{month}} hat keine 31 Tage. Der letzte Tag von {{month}} ist Tag 30.","month feb":'"Der Monat {{month}} hat entweder 28 oder 29 Tage (Schaltjahre)."',"point in time":"Erwarte Bindestrich (-) oder offenes Ende (+) in der Zeitspanne {{calc}}. Um mit Zeitpunkten zu arbeiten, muss der Modus für  {{libraryname}} umgestellt werden. Vielleicht falsches OSM-tag verwendet?",calculation:"Berechnung","time range continue":"Die Zeitspanne geht nicht wie erwartet weiter","period continue":'Die Zeitspannen-Periode geht nicht wie erwartet weiter. Beispiel "/01:30".',"time range mode":'{{libraryname}} wurde im "Zeitspannen-Modus" aufgerufen. Zeitpunkt gefunden.',"time ranges":"Zeitspannen","holiday ranges":"Feiertagen","point in time mode":'{{libraryname}} wurde im "Zeitpunkt-Modus" aufgerufen. Zeitspanne gefunden.',"outside current day":"Zeitspanne beginnt außerhalb des aktuellen Tages","two midnights":"Zeitspanne welche mehrmals Mitternacht beinhaltet wird nicht unterstützt","without minutes":'Zeitspanne ohne Minutenangabe angegeben. Das ist nicht sehr eindeutig! Bitte verwende stattdessen folgende Syntax "{{syntax}}".',"outside day":"Die Zeitspanne beginnt außerhalb des aktuellen Tages","zero calculation":'Das Hinzufügen von 0 in einer variablen Zeitberechnung ändert die variable Zeit nicht. Bitte entferne die Zeitberechnung (Beispiel: "sunrise-(sunset-00:00)").',"calculation syntax":"Berechnung mit variabler Zeit hat nicht die korrekte Syntax",missing:'Fehlendes "{{symbol}}"',"(time)":"(Zeit)","bad range":"Ungültige Zeitspanne: {{from}}-{{to}}","] or more numbers":'"]" oder weitere Zahlen erwartet.',"additional rule no sense":'Eine weitere Regel an dieser Stelle ergibt keinen Sinn. Benutze einfach ";" als Trenner für Regeln. Siehe https://wiki.openstreetmap.org/wiki/Key:opening_hours/specification#explain:additional_rule_separator',"unexpected token weekday range":"Unerwartes Token in Tages-Spanne: {{token}}","max differ":"Es sollte keinen Grund geben, mehr als {{maxdiffer}} Tage von einem {{name}} abzuweichen. Wenn nötig, teile uns dies bitte mit …","adding 0":"Addition von 0 verändert das Datum nicht. Bitte weglassen.","unexpected token holiday":"Unerwarteter Token (in Feiertags-Auswertung): {{token}}","no holiday definition":"{{name}} ist für das Land {{cc}} nicht definiert.","no holiday definition state":"{{name}} ist für das Land {{cc}} und Bundesland {{state}} nicht definiert.","no country code":"Der Ländercode fehlt. Dieser wird benötigt um die korrekten Feiertage zu bestimmen (siehe in der README wie dieser anzugeben ist)","no SH definition":"Die Schulferien {{name}}sind für das Jahr {{year}} nicht definiert","movable no formula":"Der bewegliche Feiertag {{name}} kann nicht berechnet werden. Bitte füge eine entsprechende Formel hinzu.","movable not in year":"Der bewegliche Feiertag {{name}} plus {{days}} Tage befindet sich nicht mehr im selben Jahr. Aktuell nicht unterstützt.","year range one year":'Eine Jahres-Spanne mit gleichem Jahr als Beginn und Ende ergibt keinen Sinn. Bitte entferne das Ende-Jahr. zum Beispiel: "{{year}} May 23"',"year range reverse":"Eine Jahres-Spanne mit Beginn größer als Ende ergibt keinen Sinn. Bitte umdrehen.","year past":"Das Jahr liegt in der Vergangenheit.","unexpected token year range":"Unerwartetes Token in der Jahres-Spanne: {{token}}","week range reverse":"Du hast eine Wochen-Spanne in umgekehrter Reihenfolge oder mehrere Jahre umfassende angegeben. Dies ist aktuell nicht unterstützt.","week negative":"Du hast eine Kalenderwoche kleiner 1 angegeben. Korrekte Angaben sind 1-53.","week exceed":"Du hast eine Kalenderwoche größer als 53 angegeben. Korrekte Angaben sind 1-53.","week period less than 2":'Du hast eine Wochenperiode kleiner 2 angegeben. Wenn du die gesamte Spanne von {{weekfrom}} bis {{weekto}} angeben willst, lasse "/{{period}}" einfach weg.',"week period greater than 26":'Du hast eine Wochen-Periode größer als 26 angegeben. 26,5 ist die Hälfte des Maximums von 53 Wochen pro Jahr. Damit würde eine Periode größer als 26 nur einmal pro Jahr auftreten. Bitte gibt den Wochen-Selektor als "week {{weekfrom}}" an, wenn es das ist, was du ausdrücken möchtest.',"unexpected token week range":"Unerwartetes Token in Wochen-Spanne: {{token}}","unexpected token month range":"Unerwartetes Token in Monats-Spanne: {{token}}","day range reverse":"Zeitspanne in falscher Reihenfolge. Beginn ist größer als Ende.","open end":'Angegeben als "open end". Schließzeit wurde geraten.',"date parameter needed":"Datumsparameter nötig.","assuming ok for ko":'"{{ko}}" wird als "{{ok}}" interpretiert.',"please use ok for ko":'Bitte verwende "{{-ok}}" anstelle von "{{-ko}}".',"please use ok for similar looking ko":'Please use notation "{{ok}}" for "{{ko}}". Those characters look very similar but are not the same!',"rant degree sign used for zero":"Beachte das dies ein Gradzeichen ist, welches als (hochgestellte) Null missbraucht wurde. Eine hochgestellte Null ist in Unicode definiert (°) und wäre angebrachter/einheitlicher an dieser Stelle. Allerdings ist die Verwendung von nicht ASCII Ziffern nicht erlaubt.","please use English written ok for ko":'Bitte benutze die englische Schreibweise "{{ok}}" für "{{ko}}".',"please use English abbreviation ok for ko":'Bitte benutze die englische Abkürzung "{{ok}}" für "{{ko}}".',"please use English abbreviation ok for so":'Bitte benutze die englische Abkürzung "{{ok}}" für "{{ko}}". Beachte das Samstag in Polnisch gemeint sein kann.',"please use off for ko":'Bitte benutze "{{ok}}" für "{{ko}}". Beispiel: "Mo-Fr 08:00-12:00; Tu off".',"please use ok for workday":'"{{ko}}" wird als "{{ok}}" interpretiert. Werktag sollte nicht verwendet werden. Siehe https://wiki.openstreetmap.org/wiki/Talk:Key:opening_hours#need_syntax_for_holidays_and_workingdays',"omit hour keyword":'Bitte lasse "{{ko}}" weg oder verwende einen Doppelpunkt. Beispiel: "12:00-14:00".',"omit ko":'Bitte verzichte auf "{{ko}}".',"omit tag key":'Bitte lasse "{{ko}}" weg. Der Tag Schlüssel darf nicht im Tag Wert sein.',"omit wrong keyword open end":'Bitte lasse "{{ko}}" weg. Falls du "open end" ausdrücken möchtest verwende bitte ein "+". Beispiel: "12:00+".',"assuming open end for ko":'"{{ko}}" wird als "{{ok}}" ("open end") interpretiert. Example: "12:00+".',"please use ok for uncertainty":'Bitte verwende "{{ok}}" für "{{ko}}". Falls der begründete Verdacht der Ungewissheit vorliegt ziehe die Verwendung eines Kommentars in Betracht. Beispiel: 12:00-14:00 "only on sunshine".',"please use fallback rule":'Bitte verwende "{{ok}}" (Fallback Regel) für "{{ko}}". Beispiel: Mo-Fr 12:00-14:00; PH off || "nach Vereinbarung"',"please use ok for missing data":"Bitte verwende eine FIXME Notiz.","please use 24 hours time for ko":"Bitte verwende 24 Stunden Zeitangaben anstelle der veralteten 12 Stunden Variante. Falls die 12 Stunden Variante verwendet wird ist eventuelle eine Konvertierung notwendig.","please use restriction comment time for ko":'Es sieht so aus also möchtest du zusätzliche Einschränkungen für eine Öffnungszeit geben. Falls sich dies nicht mit der Syntax ausdrücken lässt können Kommentare verwendet werden. Zusätzlich sollte eventuell das Schlüsselwort `open` benutzt werden. Beispiel: open "Nur Frauen".',"please use ok for typographically correct":'Bitte verwende "{{-ok}}" für "{{ko}}". Auch wenn "{{ko}}" typografisch korrekt ist, ist dies in der opening_hours Syntax nicht definiert. Korrekte Typographie sollte auf Anwendungsebene sichergestellt werden …'},pretty:{off:"geschlossen",SH:"Schulferien",PH:"Feiertags"}}},eo:{opening_hours:{texts:{"assuming ok for ko":'"{{ko}}" estas interpretita kiel "{{ok}}".',"please use ok for ko":'Bonvolu uzi la esprimon "{{-ok}}" anstataŭ "{{ko}}".',"please use English abbreviation ok for ko":'Bonvolu uzi la anglan mallongigon "{{ok}}" für "{{ko}}".'},pretty:{off:"fermita",SH:"lernejaj ferioj",PH:"festotagoj"}}},fi:{opening_hours:{pretty:{off:"suljettu",SH:"koululomat",PH:"lailliset vapaapäivät"}}},fr:{opening_hours:{texts:{"assuming ok for ko":`S'il vous plaît utiliser "<ok>" pour "<ko>".`,"please use ok for ko":`S'il vous plaît utiliser "{{-ok}}" pour "{{ko}}".`,"please use English abbreviation ok for ko":`S'il vous plaît utiliser l'abréviation "{{-ok}}" pour "{{ko}}".`},pretty:{off:"fermé",SH:"vacances scolaires",PH:"vacances publiques"}}},nl:{opening_hours:{texts:{"please use English abbreviation ok for ko":'Neem de engelse afkorting "{{ok}}" voor "{{ko}}" alstublieft.'},pretty:{off:"gesloten",SH:"schoolvakantie",PH:"feestdagen"}}},ru:{opening_hours:{pretty:{off:"закрыто",SH:"каникулы",PH:"праздник"}}}};if(Ze.en,Ze.de,Ze.eo,Ze.fi,Ze.fr,Ze.nl,Ze.ru,!d.default.isInitialized)d.default.init({fallbackLng:"en",resources:Ze,getAsync:!0,useCookie:!0});else for(var Qe in Ze)d.default.addResourceBundle(Qe,"opening_hours",Ze[Qe].opening_hours,!0);function Ot(it,at,lt){var Pe={dawn:330,sunrise:360,sunset:1080,dusk:1110},Tt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Rn=["Su","Mo","Tu","We","Th","Fr","Sa"],$t={su:[0,"weekday"],mo:[1,"weekday"],tu:[2,"weekday"],we:[3,"weekday"],th:[4,"weekday"],fr:[5,"weekday"],sa:[6,"weekday"],jan:[0,"month"],feb:[1,"month"],mar:[2,"month"],apr:[3,"month"],may:[4,"month"],jun:[5,"month"],jul:[6,"month"],aug:[7,"month"],sep:[8,"month"],oct:[9,"month"],nov:[10,"month"],dec:[11,"month"],day:["day","calcday"],days:["days","calcday"],sunrise:["sunrise","timevar"],sunset:["sunset","timevar"],dawn:["dawn","timevar"],dusk:["dusk","timevar"],easter:["easter","event"],week:["week","week"],open:["open","state"],closed:["closed","state"],off:["off","state"],unknown:["unknown","state"]},te={zero_pad_hour:!0,one_zero_if_hour_zero:!1,leave_off_closed:!0,keyword_for_off_closed:"off",rule_sep_string:" ",print_semicolon:!0,leave_weekday_sep_one_day_betw:!0,sep_one_day_between:",",zero_pad_month_and_week_numbers:!0,locale:"en"},D={opening_hours:{mode:0,warn_for_PH_missing:!0},collection_times:{mode:2},"opening_hours:.+":{mode:0},".+:opening_hours":{mode:0},".+:opening_hours:.+":{mode:0},smoking_hours:{mode:0},service_times:{mode:2},happy_hours:{mode:0},lit:{mode:0,map:{yes:'sunset-sunrise open "specified as yes: At night (unknown time schedule or daylight detection)"',automatic:'unknown "specified as automatic: When someone enters the way the lights are turned on."',no:'off "specified as no: There are no lights installed."',interval:'unknown "specified as interval"',limited:'unknown "specified as limited"'}}},A=60*24,se=1e3*60*A,pe="opening_hours.js",Ee="https://github.com/opening-hours/"+pe,Te="en";typeof d.default=="object"&&(Te=d.default.language);var Me=function(M,T){if(typeof d.default=="object"&&typeof d.default.t=="function"&&typeof Te=="string"&&["de"].indexOf(Te)!==-1){var ue;d.default.language!==Te?ue=d.default.getFixedT(Te):ue=d.default.t;var ge=ue("opening_hours:texts."+M,T);return ge}var ge=be[M];return typeof ge>"u"&&(ge=M),ge.replace(/{{([^{}]*)}}/g,function(re,Se){return typeof T[Se]<"u"?T[Se]:re})},je,wt,Kt,nt;if(typeof at=="object"&&at!==null)typeof at.address=="object"&&(typeof at.address.country_code=="string"&&(je=at.address.country_code),typeof at.address.state=="string"?wt=at.address.state:typeof at.address.county=="string"&&(wt=at.address.county)),typeof at.lon=="string"&&typeof at.lat=="string"&&(Kt=at.lat,nt=at.lon);else if(at===null)je="de",wt="Baden-Württemberg",Kt="49.5400039",nt="9.7937133";else if(typeof at<"u")throw"The nominatim_object parameter is of unknown type. Given "+typeof at+", expected object.";var qt=4,Ne,nn=!1,en,It;if(typeof lt=="number")Ne=lt;else if(typeof lt=="object"){if(typeof lt.locale=="string"&&(Te=lt.locale.split("-")[0]),U("mode","number")&&(Ne=lt.mode),U("warnings_severity","number")&&(qt=lt.warnings_severity,[0,1,2,3,4,5,6,7].indexOf(qt)===-1))throw Me("warnings severity",{severity:qt,allowed:"[ 0, 1, 2, 3, 4, 5, 6, 7 ]"});U("tag_key","string")&&(en=lt.tag_key),U("map_value","boolean")&&(nn=lt.map_value)}else if(typeof lt<"u")throw Me("optional conf parm type",{given:typeof lt});if(typeof en=="string")It=J(en),nn&&typeof D[It]=="object"&&typeof D[It].map=="object"&&typeof D[It].map[it]=="string"&&(it=D[It].map[it]);else if(nn)throw Me("conf param tag key missing");if(typeof Ne>"u")typeof en=="string"&&D[It]!==void 0&&typeof D[It].mode=="number"?Ne=D[It].mode:Ne=0;else if([0,1,2].indexOf(Ne)===-1)throw Me("conf param mode invalid",{given:Ne,allowed:"[ 0, 1, 2 ]"});if(typeof it!="string")throw Me("no string");if(/^(?:\s*;?)+$/.test(it))throw Me("nothing");for(var st=[],Ft=!1,Zr=!1,Cn=!1,dn=ie(it),gi="",ln=!0,At=[],An={},et=[],ze=0;ze<dn.length;ze++){if(dn[ze][0].length===0){st.push([ze,-1,Me("nothing useful")+(ze===dn.length-1&&ze>0&&!dn[ze][1]?" "+Me("programmers joke"):"")]);continue}var St=0,cn=!1;do{if(St===dn[ze][0].length)break;var ot={time:[],wraptime:[],weekday:[],holiday:[],week:[],month:[],monthday:[],year:[],date:[],fallback:dn[ze][1],additional:!!St,meaning:!0,unknown:!1,comment:void 0,build_from_token_rule:void 0};ot.build_from_token_rule=[ze,St,et.length],St=Bt(dn[ze][0],St,ot,ze),typeof St=="object"?St=St[0]:St=0,et.push([dn[ze][0].slice(ot.build_from_token_rule[1],St===0?dn[ze][0].length:St),dn[ze][1],dn[ze][2]]),cn&&et.length>1&&et[et.length-1][0].unshift(et[et.length-2][0].pop()),cn=St!==0;var ir=["year","holiday","month","monthday","week","weekday"];if(ir.forEach(function(M){ot[M].length>0&&(ot.date.push(ot[M]),ot[M]=[])}),At.push(ot),ot.wraptime.length>0){for(var Ct={time:ot.wraptime,date:[],meaning:ot.meaning,unknown:ot.unknown,comment:ot.comment,wrapped:!0,build_from_token_rule:ot.build_from_token_rule},oe=0;oe<ot.date.length;oe++){Ct.date.push([]);for(var Q=0;Q<ot.date[oe].length;Q++)Ct.date[Ct.date.length-1].push(rt(ot.date[oe][Q],-se))}At.push(Ct)}}while(St)}function J(M){var T,ue=!1;return Object.keys(D).forEach(function(ge){ue!==!0&&(M===ge?(T=ge,ue=!0):new RegExp(ge).test(M)&&(T=ge))}),T}function U(M,T){if(typeof lt[M]===T)return!0;if(typeof lt[M]<"u")throw Me("conf param unknown type",{key:M,given:typeof lt[M],expected:T});return!1}function R(M,T,ue,ge){if(typeof ge>"u"&&(ge=dn),typeof M=="number"){var re=0;return M===-1?re=it.length-T:typeof ge[M][0][T]>"u"?typeof ge[M][0]&&T===-1?(re=it.length,typeof ge[M+1]=="object"&&typeof ge[M+1][2]=="number"?re-=ge[M+1][2]:typeof ge[M][2]=="number"&&(re-=ge[M][2])):(K("Bug in warning generation code which could not determine the exact position of the warning or error in value."),re=it.length,typeof ge[M][2]=="number"&&(re-=ge[M][2],console.warn("Last token for rule: "+JSON.stringify(ge[M])),console.log(it.substring(0,re)+" <--- ("+ue+")"),console.log(`
`)),console.warn("tokens_to_use[nrule][2] is undefined. This is ok if nrule is the last rule.")):(re=it.length,typeof ge[M][0][T+1]=="object"?re-=ge[M][0][T+1][2]:typeof ge[M][2]=="number"&&(re-=ge[M][2])),it.substring(0,re)+" <--- ("+ue+")"}else if(typeof M=="string")return M.substring(0,T)+" <--- ("+ue+")"}function K(M,T){return typeof M>"u"?M="":M=" "+M,typeof T!="string"&&(T="library bug"),M=Me(T,{value:it,url:Ee,message:M}),console.error(M),M}function ie(M){for(var T=[],ue=[],ge=!1;M!=="";){var re=M.match(/^([a-z]{2,})\b((?:[.]| before| after)?)/i),Se=void 0;if(re&&re[2]===""&&(Se=$t[re[1].toLowerCase()]),typeof Se=="object")ue.push(Se.concat([M.length])),M=M.substr(re[1].length);else if(re=M.match(/^\s+/))M=M.substr(re[0].length);else if(re=M.match(/^24\/7/))ue.push([re[0],re[0],M.length]),M=M.substr(re[0].length);else if(/^;/.test(M))T.push([ue,ge,M.length]),M=M.substr(1),ue=[],ge=!1;else if(/^[:.]/.test(M))M[0]==="."&&!Ft&&st.push([-1,M.length-1,Me("hour min separator")]),ue.push([":","timesep",M.length]),M=M.substr(1);else if(re=M.match(/^(?:PH|SH)/i))ue.push([re[0].toUpperCase(),"holiday",M.length]),M=M.substr(2);else if(re=M.match(/^[°\u2070-\u209F\u00B2\u00B3\u00B9]{1,2}/)){var fe={176:0,8304:0,185:1,178:2,179:3},Oe=re[0].split("").map(function(Le){var Ye=Le.charCodeAt(0);if(typeof fe[Ye]=="number")return fe[Ye];if(8308<=Ye&&Ye<=8313)return Ye-8304;if(8320<=Ye&&Ye<=8329)return Ye-8320}).join(""),Ge="";if(ue.length>0&&me(ue,ue.length-1,"number")&&(Ge+=":"),Ge+=Oe,!Ft){for(var Xe=0;Xe<=re[0].length;Xe++)M.charCodeAt(Xe)===176&&st.push([-1,M.length-(1+Xe),Me("rant degree sign used for zero")]);st.push([-1,M.length-re[0].length,Me("please use ok for ko",{ko:re[0],ok:Ge})])}M=Ge+M.substr(re[0].length)}else if(re=M.match(/^(&|_|→|–|−|—|ー|=|·|öffnungszeit(?:en)?:?|opening_hours\s*=|\?|~|～|：|always (?:open|closed)|24x7|24 hours 7 days a week|24 hours|7 ?days(?:(?: a |\/)week)?|7j?\/7|all days?|every day|(?:bis|till?|-|–)? ?(?:open ?end|late)|(?:(?:one )?day (?:before|after) )?(?:school|public) holidays?|days?\b|до|рм|ам|jours fériés|on work days?|sonntags?|(?:nur |an )?sonn-?(?:(?: und |\/)feiertag(?:s|en?)?)?|(?:an )?feiertag(?:s|en?)?|(?:nach|on|by) (?:appointments?|vereinbarung|absprache)|p\.m\.|a\.m\.|[_a-zäößàáéøčěíúýřПнВсо]+\b|à|á|mo|tu|we|th|fr|sa|su|jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)(\.?)/i)){var He=xe(re[1].toLowerCase(),M.length);if(typeof He=="object")ue.push([He[0],He[1],M.length]),M=M.substr(re[0].length);else if(typeof He=="string"){if(He==="am"||He==="pm"){var tt=ue.length-1,Et;tt>=0&&(tt-2>=0&&me(ue,tt-2,"number","timesep","number")?(tt-=2,Et=ue[tt]):me(ue,tt,"number")&&(Et=ue[tt]),typeof Et=="object"&&(He==="pm"&&Et[0]<12&&(Et[0]+=12),He==="am"&&Et[0]===12&&(Et[0]=0),ue[tt]=Et)),He=""}var ht=ie(He)[0];if(ht[1]===!0)throw K();for(var Xe=0;Xe<ht[0].length;Xe++)ue.push([ht[0][Xe][0],ht[0][Xe][1],M.length]);M=M.substr(re[0].length)}else ue.push([M[0].toLowerCase(),M[0].toLowerCase(),M.length-1]),M=M.substr(1);typeof re[2]=="string"&&re[2]!==""&&!Ft&&st.push([-1,M.length,Me("omit ko",{ko:re[2]})])}else if(re=M.match(/^(\d+)(?:([.])([^\d]))?/))Number(re[1])>1900?(ue.push([Number(re[1]),"year",M.length]),Number(re[1])>=2100&&st.push([-1,M.length-1,Me("interpreted as year",{number:Number(re[1])})])):ue.push([Number(re[1]),"number",M.length]),M=M.substr(re[1].length+(typeof re[2]=="string"?re[2].length:0)),typeof re[2]=="string"&&re[2]!==""&&!Ft&&st.push([-1,M.length,Me("omit ko",{ko:re[2]})]);else if(/^\|\|/.test(M)){if(ue.length===0)throw R(-1,M.length-2,Me("rule before fallback empty"));T.push([ue,ge,M.length]),ue=[],M=M.substr(2),ge=!0}else if(re=M.match(/^"([^"]+)"/))ue.push([re[1],"comment",M.length]),M=M.substr(re[0].length);else if(re=M.match(/^(["'„“‚‘’«「『])([^"'“”‘’»」』;|]*)(["'”“‘’»」』])/)){for(var Ke=1;Ke<=3;Ke+=2){var He=xe(re[Ke],M.length-(Ke===3?re[1].length+re[2].length:0));if(typeof He!="string"&&re[Ke]!=='"')throw K("A character for error tolerance was allowed in the regular expression but is not covered by word_error_correction which is needed to format a proper message for the user.")}ue.push([re[2],"comment",M.length]),M=M.substr(re[0].length)}else/^(?:␣|\s)/.test(M)||ue.push([M[0].toLowerCase(),M[0].toLowerCase(),M.length]),M=M.substr(1)}return T.push([ue,ge]),T}function xe(M,T){var ue,ge=$t[M];return typeof ge=="object"?ge:(Object.keys($e).forEach(function(re){ue||Object.keys($e[re]).forEach(function(Se){if(!ue&&new RegExp("^"+Se+"$").test(M)){var fe=$e[re][Se];Ft||st.push([-1,T-M.length,Me(re,{ko:M,ok:fe})]),ue=fe}})}),ue)}function ve(M){if(qt<4)return[];if(!Ft&&typeof M=="object"){for(var T=["year","month","week","holiday"],ue=["weekday","time","24/7","state","comment"],ge=[],re=[],Se={},fe=0;fe<et.length;fe++)if(et[fe][0].length!==0){var Oe=[0,0,void 0];ge[fe]={},re[fe]=[];do{Oe=We(et[fe][0],Oe[1]);for(var Ge=0;Ge<=Oe[1];Ge++)typeof et[fe][0][Ge]=="object"&&et[fe][0][Ge][0]==="PH"&&(Se.PH=!0);Oe[0]===Oe[1]&&et[fe][0][Oe[0]][0]==="24/7"&&(Se["24/7"]=!0),typeof ge[fe][Oe[2]]!="object"?ge[fe][Oe[2]]=[Oe[1]]:ge[fe][Oe[2]].push(Oe[1]),re[fe].push(Oe[2]),Oe[1]++}while(Oe[1]<et[fe][0].length)}for(var fe=0;fe<ge.length;fe++){Object.keys(ge[fe]).forEach(function(Je){ge[fe][Je].length>1&&(st.push([fe,ge[fe][Je][ge[fe][Je].length-1],Me("use multi",{count:ge[fe][Je].length,part2:/^(?:comment|state)/.test(Je)?Me("selector multi 2a",{what:Me(Je==="state"?"selector state":"comments")}):Me("selector multi 2b",{what:Me(Je+(/^(?:month|weekday)$/.test(Je)?"s":" ranges"))})})]),Zr=!0)}),typeof ge[fe].state=="object"&&Object.keys(ge[fe]).length===1?fe!==0&&st.push([fe,et[fe][0].length-1,Me("default state")]):typeof ge[fe].time>"u"&&(typeof ge[fe].state=="object"&&et[fe][0][ge[fe].state[0]][0]==="open"&&typeof ge[fe].comment>"u"||typeof ge[fe].comment>"u"&&typeof ge[fe].state>"u"&&typeof ge[fe]["24/7"]>"u")&&st.push([fe,et[fe][0].length-1,Me("vague")]),typeof ge[fe].comment=="object"&&et[fe][0][ge[fe].comment[0]][0].length===0&&st.push([fe,ge[fe].comment[0],Me("empty comment")]);for(var Xe=0;Xe<re[fe].length-1;Xe++){var He=re[fe][Xe],tt=re[fe][Xe+1];(T.indexOf(He)!==-1&&T.indexOf(tt)!==-1||ue.indexOf(He)!==-1&&ue.indexOf(tt)!==-1)&&et[fe][0][ge[fe][He][0]][0]===":"&&st.push([fe,ge[fe][He][0],Me("separator_for_readability")])}if(typeof An[fe]=="object"&&typeof An[fe].time_wraps_over_midnight=="boolean"&&An[fe].time_wraps_over_midnight===!0&&typeof ge[fe+1]=="object"&&typeof ge[fe+1]["rule separator"]>"u"&&et[fe+1][1]===!1){var Et=[fe,fe+1].map(function(Je){for(var Ue=0;Ue<T.length-1;Ue++)if(typeof ge[Je][T[Ue]]=="object")return!0;return!1}),ht=Et.filter(function(Je){return Je}).length,Ke=!1;if(typeof An[fe]=="object"&&typeof An[fe]=="object"&&typeof An[fe].week_days=="object"&&typeof An[fe+1]=="object"&&typeof An[fe+1].week_days=="object")for(var Xe=0;Xe<An[fe].week_days.length;Xe++){var Le=An[fe].week_days[Xe];if(An[fe+1].week_days.indexOf(Le===6?0:Le+1)!==-1){Ke=!0;break}}else Ke=!0;var Ye=(lt||{}).additional_rule_separator!==!1;ht<2&&Ke&&Ye&&st.push([fe+1,et[fe+1][0].length-1,Me("additional_rule_separator not used after time wrapping midnight"),et])}typeof et[fe][0][0]=="object"&&et[fe][0][0][0]===","&&et[fe][0][0][1]==="rule separator"&&typeof ge[fe].state=="object"&&(et[fe][0][ge[fe].state[0]][0]==="closed"||et[fe][0][ge[fe].state[0]][0]==="off")&&st.push([fe,et[fe][0].length-1,Me("additional rule which evaluates to closed"),et])}var Pt=M.advance();if(Pt===!0&&Se["24/7"]&&!Ft&&st.push([-1,0,Me("strange 24/7")]),qt>=5&&!Se.PH&&!Se["24/7"]&&!Ft&&(typeof en=="string"&&D[It].warn_for_PH_missing||typeof en!="string")){var _t=[];Object.keys(D).forEach(function(mt){D[mt].warn_for_PH_missing&&_t.push(mt)}),st.push([-1,0,Me("public holiday",{part2:typeof en!="string"?Me("public holiday part2",{keys:_t.join(", ")}):""})])}re.length>1&&re.filter(function(mt){return mt.length===1&&mt[0]==="time"}).length===re.length&&st.push([-1,0,Me("combine rules",{ok:","})]),Ae()}Ft=!0;for(var yn=[],Xe=0;Xe<st.length;Xe++)yn.push(R(st[Xe][0],st[Xe][1],st[Xe][2],st[Xe][3]));return yn}function Re(M,T){return typeof M[T][3]=="string"?3:M[T][1]==="comment"||M[T][1]==="state"||M[T][1]==="24/7"||M[T][1]==="rule separator"?1:!1}function We(M,T){for(var ue=T,ge,re;ue>=0&&(re=Re(M,ue),!re);ue--);if(ge=ue,re===1)return ge+1<M.length&&M[ge+1][0]===":"&&ge++,[ue,ge,M[ue][re]];for(ge++;ge<M.length;ge++)if(Re(M,ge))return[ue,ge-1,M[ue][re]];return[ue,ge-1,M[ue][re]]}function Ae(M){var T={},ue=!1,ge;gi="";var re=[];typeof M=="object"&&(typeof M.conf=="object"&&(T=M.conf),typeof M.rule_index=="number"&&(ge=M.rule_index),M.get_internals===!0&&(ue=!0)),Object.keys(te).forEach(function(Je){typeof T[Je]>"u"&&(T[Je]=te[Je])});for(var Se=T.locale==="en"||T.locale==="all",fe=Se?Tt:[1,2,3,4,5,6,7,8,9,10,11,12].map(function(Je){return new Date(2018,Je-1,1).toLocaleString(T.locale,{month:"short"})}),Oe=Se?Rn:[1,2,3,4,5,6,7].map(function(Je){return new Date(2017,0,Je).toLocaleString(T.locale,{weekday:"short"})}),Ge=0;Ge<et.length;Ge++)if(et[Ge][0].length!==0){if(typeof ge=="number"){if(ge!==Ge)continue}else Ge!==0&&(gi+=et[Ge][1]?T.rule_sep_string+"|| ":(et[Ge][0][0][1]==="rule separator"?",":T.print_semicolon?";":"")+T.rule_sep_string);var Xe=[0,0,void 0],He=[],tt=0;do{if(Xe=We(et[Ge][0],Xe[1]),tt>50)throw K("Infinite loop.");Xe[2]!=="rule separator"&&He.push([Xe,Fi(et[Ge][0],Xe[0],Xe[1],Xe[2],T)]),Xe[1]++,tt++}while(Xe[1]<et[Ge][0].length);var Et=He.slice();Zr||He.sort(function(Je,Ue){var vt=["year","month","week","holiday","weekday","time","24/7","state","comment"];return vt.indexOf(Je[0][2])-vt.indexOf(Ue[0][2])});var ht=gi.length;if(typeof T.locale=="string"&&T.locale!=="en"){var Ke;d.default.language!==T.locale?Ke=d.default.getFixedT(T.locale):Ke=d.default.t;for(var Le=0;Le<He.length;Le++){var Ye=He[Le][0][2];if(Ye==="weekday")Rn.forEach(function(Je,Ue){He[Le][1]=He[Le][1].replace(new RegExp(Je,"g"),Oe[Ue])});else if(Ye==="month")Tt.forEach(function(Je,Ue){He[Le][1]=He[Le][1].replace(new RegExp(Je,"g"),fe[Ue])});else{var Pt=He[Le][1].indexOf(":")===-1;Pt&&(He[Le][1]=Ke(["opening_hours:pretty."+He[Le][1],He[Le][1]]))}}}if(gi+=He.map(function(Je){return Je[1]}).join(" "),re.push(He),!Cn){for(var Le=0,_t=Et.length;Le<_t;Le++)if(Et[Le]!==He[Le]){for(var yn=Le+ht,mt=0;mt<=Le;mt++)yn+=He[mt][1].length;st.push([gi,yn,Me("switched",{first:He[Le][0][2],second:Et[Le][0][2]})])}}}return Cn=!0,ue?[re,et]:gi}function me(M,T){if(T+arguments.length-2>M.length)return!1;for(var ue=0;ue<arguments.length-2;ue++)if(M[T+ue][1]!==arguments[ue+2])return!1;return!0}function rt(M,T){return function(ue){var ge=M(new Date(ue.getTime()+T));return typeof ge[1]>"u"?ge:[ge[0],new Date(ge[1].getTime()-T)]}}function Bt(M,T,ue,ge){for(var re=!1,Se=[];T<M.length;){if(me(M,T,"weekday"))T=On(M,T,ue,void 0,ge);else if(me(M,T,"24/7"))ue.time.push(function(){return[!0]}),T++;else if(me(M,T,"holiday"))me(M,T+1,",")?T=Zn(M,T,ue,!0):T=Zn(M,T,ue,!1),ln=!1;else if(me(M,T,"month","number")||me(M,T,"month","weekday")||me(M,T,"year","month","number")||me(M,T,"year","event")||me(M,T,"event"))T=zn(M,T,ge),ln=!1;else if(me(M,T,"year"))T=Qr(M,T),ln=!1;else if(me(M,T,"month"))T=Nr(M,T);else if(me(M,T,"week"))M[T][3]="week",T=Mi(M,T);else if(T!==0&&T!==M.length-1&&M[T][0]===":"&&!(typeof Se[1]=="string"&&Se[1]==="time"))!Ft&&me(M,T-1,"holiday")&&st.push([ge,T,Me("no colon after",{token:M[T-1][1]})]),T++;else if(me(M,T,"number","timesep")||me(M,T,"timevar")||me(M,T,"(","timevar")||me(M,T,"number","-"))T=qn(M,T,ue,!1,ge),Se=[T,"time"];else if(me(M,T,"state"))M[T][0]==="open"?ue.meaning=!0:M[T][0]==="closed"||M[T][0]==="off"?ue.meaning=!1:(ue.meaning=!1,ue.unknown=!0),re=!0,T++,typeof M[T]=="object"&&M[T][0]===","&&(T=[T+1]);else if(me(M,T,"comment"))ue.comment=M[T][0],re||(ue.meaning=!1,ue.unknown=!0),re=!0,T++,typeof M[T]=="object"&&M[T][0]===","&&(T=[T+1]);else if((T===0||T===M.length-1)&&me(M,T,"rule separator"))T++;else{var fe=ve();throw R(ge,T,Me("unexpected token",{token:M[T][1]}))+(fe?" "+fe.join("; "):"")}if(typeof T=="object"){M[T[0]-1][1]="rule separator";break}typeof Se[0]=="number"&&Se[0]!==T&&(Se=[])}return T}function bt(M,T){return new Date(M.getFullYear(),M.getMonth(),M.getDate(),0,T)}function Lt(M,T){var ue=T-M.getDay();return new Date(M.getFullYear(),M.getMonth(),M.getDate()+ue+(ue<0?7:0))}function dt(M,T,ue){for(;T<M.length;T++){if(me(M,T,"number","-","number"))ue(M[T][0],M[T+2][0],T),T+=3;else if(me(M,T,"-","number"))ue(-M[T+1][0],-M[T+1][0],T),T+=2;else if(me(M,T,"number"))ue(M[T][0],M[T][0],T),T++;else throw R(ze,T+me(M,T,"-"),"Unexpected token in number range: "+M[T][1]);if(!me(M,T,","))break}return T}function pt(M,T){for(var ue=0,ge=dt(M,T,function(Se,fe,Oe){if(Se===0||Se<-5||Se>5)throw R(ze,Oe,Me("number -5 to 5"));if(Se===fe){if(ue!==0)throw R(ze,Oe,Me("one weekday constraint"));ue=Se}else throw R(ze,Oe+2,Me("range constrained weekdays"))}),re=T;re<ge;re++)M[re][4]="positive_number";if(!me(M,ge,"]"))throw R(ze,ge,Me("expected",{symbol:"]"}));return[ue,ge+1]}function mn(M,T,ue,ge){if(!Ft){if(T===0)throw R(ze,M,Me("range zero",{type:ue}));T===1&&(typeof ge=="string"&&ge==="no_end_year"?st.push([ze,M,Me("period one year+",{type:ue})]):st.push([ze,M,Me("period one",{type:ue})]))}}function fn(M,T,ue,ge,re){var Se=Lt(new Date(M,T+(ge[0]>0?0:1),1),ue);return Se.setDate(Se.getDate()+(ge[0]+(ge[0]>0?-1:0))*7),typeof re=="object"&&re[1]&&Se.setDate(Se.getDate()+re[0]),Se}function kn(M,T,ue,ge){if(T<1||T>31)throw R(ue,ge,Me("month 31",{month:Tt[M]}));if((M===3||M===5||M===8||M===10)&&T===31)throw R(ue,ge,Me("month 30",{month:Tt[M]}));if(M===1&&T===30)throw R(ue,ge,Me("month feb",{month:Tt[M]}))}function qn(M,T,ue,ge,re){for(ge||(M[T][3]="time");T<M.length;T++){var Se=[],fe=[];fe[0]=me(M,T,"number","timesep","number"),Se[0]=me(M,T,"(","timevar");var Oe,Ge;if(fe[0]||me(M,T,"timevar")||Se[0]){var Xe=!1,He=!1,tt=[0,0],Et=[],ht;fe[0]?Oe=yr(M,re,T+Se[0]):(Et[0]=M[T+Se[0]][0],Oe=Pe[Et[0]],Se[0]&&(tt[0]=Yt(M,T),Oe+=tt[0]));var Ke=T+(fe[0]?3:Se[0]?7:1)+1;if(!me(M,Ke-1,"-"))if(me(M,Ke-1,"+"))He=!0;else{if(Ne===0)throw R(re,T+(fe[0]?typeof M[T+3]=="object"?3:2:Se[0]?2:typeof M[T+1]=="object"?1:0),Me("point in time",{calc:Se[0]?Me("calculation")+" ":"",libraryname:pe}));Ge=Oe+1,Xe=!0}if(He)ge===1&&(Oe+=A),Oe>=22*60?Ge=Oe+8*60:Oe>=17*60?Ge=Oe+10*60:Ge=A;else if(!Xe){if(fe[1]=me(M,Ke,"number","timesep","number"),Se[1]=me(M,Ke,"(","timevar"),!fe[1]&&!me(M,Ke,"timevar")&&!Se[1])throw R(re,Ke-(typeof M[Ke]=="object"?0:1),Me("time range continue"));fe[1]?Ge=yr(M,re,Ke):(Et[1]=M[Ke+Se[1]][0],Ge=Pe[Et[1]]),Se[1]&&(tt[1]=Yt(M,Ke),Ge+=tt[1])}if(T=Ke+(Xe?-1:fe[1]?3:Se[1]?7:!He),me(M,T,"/","number")){if(me(M,T+2,"timesep","number"))ht=yr(M,re,T+1),T+=4;else if(ht=M[T+1][0],T+=2,me(M,T,"timesep"))throw R(re,T,Me("period continue"));if(Ne===0)throw R(re,T-1,Me("time range mode",{libraryname:pe}));Xe=!0}else if(me(M,T,"+"))qn(M,Ke,ue,Ge<Oe?1:!0,re),T++;else if(Ne===1&&!Xe)throw R(re,Ke,Me("point in time mode",{libraryname:pe}));if(typeof Kt=="string"?(!fe[0]||!(fe[1]||He||Xe))&&(ln=!1):Et=[],!ge&&Oe>=A)throw R(re,Ke-2,Me("outside current day"));if((Ge<Oe||fe[0]&&fe[1]&&Oe===Ge)&&(Ge+=A),Ge>A*2)throw R(re,Ke+(fe[1]?4:Se[1]?7:1)-2,Me("two midnights"));Oe===0&&Ge===A?ue.time.push(function(){return[!0]}):Ge>A?(ue.time.push(function(Le,Ye,Pt,_t,yn,mt,Je,Ue){return function(vt){var Jt=vt.getHours()*60+vt.getMinutes();if(Pt[0]){var Dt=u.default.getTimes(vt,Kt,nt)[Pt[0]];Le=Dt.getHours()*60+Dt.getMinutes()+_t[0]}if(Pt[1]){var Xt=u.default.getTimes(vt,Kt,nt)[Pt[1]];Ye=Xt.getHours()*60+Xt.getMinutes()+_t[1],Ye+=A}else mt&&typeof Je!="number"&&(Ye=Le+1);if(typeof Je=="number"){if(Jt<Le)return[!1,bt(vt,Le)];if(Jt<=Ye)for(var Vt=Le;Jt+Je>=Vt;Vt+=Je){if(Vt===Jt)return[!0,bt(vt,Jt+1)];if(Jt<Vt)return[!1,bt(vt,Vt)]}return[!1,bt(vt,A)]}else return Jt<Le?[!1,bt(vt,Le)]:[!0,bt(vt,Ye),yn,Ue]}}(Oe,Ge,Et,tt,He,Xe,ht,ge)),Ge-A>0&&(typeof An[re]>"u"&&(An[re]={}),An[re].time_wraps_over_midnight=!0,ue.wraptime.push(function(Le,Ye,Pt,_t,yn,mt){return function(Je){var Ue=Je.getHours()*60+Je.getMinutes();if(Ye[1]){var vt=u.default.getTimes(Je,Kt,nt)[Ye[1]];Le=vt.getHours()*60+vt.getMinutes()+Pt[1]}if(typeof yn=="number"){if(Ue<=Le)for(var Jt=0;Ue+yn>=Jt;Jt+=yn){if(Jt===Ue)return[!0,bt(Je,Ue+1)];if(Ue<Jt)return[!1,bt(Je,Jt)]}}else if(Ue<Le)return[!0,bt(Je,Le),_t,mt];return[!1,void 0]}}(Ge-A,Et,tt,He,ht,ge)))):ue.time.push(function(Le,Ye,Pt,_t,yn,mt,Je){return function(Ue){var vt=Ue.getHours()*60+Ue.getMinutes();if(Pt[0]){var Jt=u.default.getTimes(Ue,Kt,nt)[Pt[0]];Le=Jt.getHours()*60+Jt.getMinutes()+_t[0]}if(Pt[1]){var Dt=u.default.getTimes(Ue,Kt,nt)[Pt[1]];Ye=Dt.getHours()*60+Dt.getMinutes()+_t[1]}else mt&&typeof Je!="number"&&(Ye=Le+1);if(typeof Je=="number"){if(vt<Le)return[!1,bt(Ue,Le)];if(vt<=Ye)for(var Xt=Le;vt+Je>=Xt;Xt+=Je){if(Xt===vt)return[!0,bt(Ue,vt+1)];if(vt<Xt)return[!1,bt(Ue,Xt)]}return[!1,bt(Ue,A)]}else return vt<Le?[!1,bt(Ue,Le)]:vt<Ye?[!0,bt(Ue,Ye),yn]:[!1,bt(Ue,Le+A)]}}(Oe,Ge,Et,tt,He,Xe,ht))}else if(me(M,T,"number","-","number")){if(Oe=M[T][0]*60,Ge=M[T+2][0]*60,Ft||st.push([re,T+2,Me("without minutes",{syntax:(M[T][0]<10?"0":"")+M[T][0]+":00-"+(M[T+2][0]<10?"0":"")+M[T+2][0]+":00"})]),Oe>=A)throw R(re,T,Me("outside day"));if(Ge<Oe&&(Ge+=A),Ge>A*2)throw R(re,T+2,Me("two midnights"));Ge>A?(ue.time.push(function(Le,Ye){return function(Pt){var _t=Pt.getHours()*60+Pt.getMinutes();return _t<Le?[!1,bt(Pt,Le)]:[!0,bt(Pt,Ye)]}}(Oe,Ge)),Ge-A>0&&(typeof An[re]>"u"&&(An[re]={}),An[re].time_wraps_over_midnight=!0,ue.wraptime.push(function(Le){return function(Ye){var Pt=Ye.getHours()*60+Ye.getMinutes();return Pt<Le?[!0,bt(Ye,Le)]:[!1,void 0]}}(Ge-A)))):ue.time.push(function(Le,Ye){return function(Pt){var _t=Pt.getHours()*60+Pt.getMinutes();return _t<Le?[!1,bt(Pt,Le)]:_t<Ye?[!0,bt(Pt,Ye),He]:[!1,bt(Pt,Le+A)]}}(Oe,Ge)),T+=3}else{if(me(M,T,"("))throw R(re,T,'Missing variable time (e.g. sunrise) after: "'+M[T][1]+'"');if(me(M,T,"number","timesep"))throw R(re,T+1,'Missing minutes in time range after: "'+M[T+1][1]+'"');if(me(M,T,"number"))throw R(re,T+(typeof M[T+1]=="object"?1:0),'Missing time separator in time range after: "'+M[T][1]+'"');return[T]}if(!me(M,T,","))break;typeof M[T+1]>"u"&&!Ft&&st.push([re,T,Me("value ends with token",{token:M[T][1]})])}return T}function yr(M,T,ue){if(M[ue+2][0]>59)throw R(T,ue+2,"Minutes are greater than 59.");return M[ue][0]*60+M[ue+2][0]}function Yt(M,T){var ue;if(me(M,T+2,"+")||me(M,T+2,"-"))if(me(M,T+3,"number","timesep","number"))if(me(M,T+6,")")){var ge=M[T+2][0]==="+"?"1":"-1",re=yr(M,ze,T+3)*ge;return re===0&&st.push([ze,T+5,Me("zero calculation")]),re}else ue=[T+6,". "+Me("missing",{symbol:")"})+"."];else ue=[T+5," "+Me("(time)")+"."];else ue=[T+2,". "+Me("expected",{symbol:'+" or "-'})];if(ue)throw R(ze,ue[0],Me("calculation syntax")+ue[1])}function On(M,T,ue,ge,re){for(ge||(ge=!0,M[T][3]="weekday");T<M.length;T++){if(me(M,T,"weekday","[")){var Se=[],fe=dt(M,T+2,function(Le,Ye,Pt){if(Le===0||Le<-5||Le>5)throw R(re,Pt,Me("number -5 to 5"));if(Le===Ye)Se.push(Le);else if(Le<Ye)for(var _t=Le;_t<=Ye;_t++){if(_t===0||_t<-5||_t>5)throw R(re,Pt+2,Me("number -5 to 5"));Se.push(_t)}else throw R(re,Pt+2,Me("bad range",{from:Le,to:Ye}))});if(!me(M,fe,"]"))throw R(re,fe+(typeof M[fe]=="object"?0:-1),Me("] or more numbers"));var Oe=Wt(M,fe+1,6,"constrained weekdays");ln=!1;for(var Ge=0;Ge<Se.length;Ge++)ue.weekday.push(function(Le,Ye,Pt){return function(_t){var yn=Mt(_t,!1),mt=new Date(_t.getFullYear(),_t.getMonth(),1),Je=new Date(_t.getFullYear(),_t.getMonth()+1,1),Ue;Ue=fn(_t.getFullYear(),_t.getMonth(),Le,[Ye]);var vt=new Date(Ue.getFullYear(),Ue.getMonth(),Ue.getDate()+Pt);if(vt.getTime()<mt.getTime())if(Ue.getTime()>=mt.getTime())vt=Lt(new Date(_t.getFullYear(),_t.getMonth()+(Ye>0?0:1)+1,1),Le),Ue.setDate(vt.getDate()+(Ye+(Ye>0?-1:0))*7+Pt);else return[!1,Je];else if(vt.getTime()>=Je.getTime()&&Ue.getTime()>=Je.getTime())return[!1,Je];var Jt;if(Pt>0){if(Jt=Lt(new Date(_t.getFullYear(),_t.getMonth()+(Ye>0?0:1)-1,1),Le),Jt.setDate(Jt.getDate()+(Ye+(Ye>0?-1:0))*7+Pt),yn===Mt(Jt,!1))return[!0,bt(_t,A)]}else if(Pt<0)if(Jt=Lt(new Date(_t.getFullYear(),_t.getMonth()+(Ye>0?0:1)+1,1),Le),Jt.setDate(Jt.getDate()+(Ye+(Ye>0?-1:0))*7+Pt),Jt.getTime()>=Je.getTime()){if(vt.getTime()>=Je.getTime())return[!1,Jt]}else{if(vt.getTime()<Je.getTime()&&Mt(vt,!1)===yn)return[!0,bt(_t,A)];vt=Jt}return _t.getDate()===vt.getDate()?[!0,bt(_t,A)]:_t.getDate()<vt.getDate()?[!1,vt]:[!1,Je]}}(M[T][0],Se[Ge],Oe[0]));T=fe+1+Oe[1]}else if(me(M,T,"weekday")){var Xe=me(M,T+1,"-","weekday"),He=M[T][0],tt=Xe?M[T+2][0]:He,Et=!0;if(tt<He){var ht=tt;tt=He-1,He=ht+1,Et=!1}var Ke=Array.apply(0,Array(tt-He+1)).map(function(Le,Ye){return Ye+tt});typeof An[re]>"u"&&(An[re]={}),typeof An[re].week_days=="object"?Array.prototype.push.apply(An[re].week_days,Ke):An[re].week_days=Ke,tt<He?ue.weekday.push(function(){return[!0]}):ue.weekday.push(function(Le,Ye,Pt){return function(_t){var yn=_t.getDay();return yn<Le||yn>Ye?[!Pt,Lt(_t,Le)]:[Pt,Lt(_t,Ye+1)]}}(He,tt,Et)),T+=Xe?3:1}else{if(me(M,T,"holiday"))return ln=!1,Zn(M,T,ue,!0,ge);throw me(M,T-1,",")?R(re,T-1,Me("additional rule no sense")):R(re,T,Me("unexpected token weekday range",{token:M[T][1]}))}if(!me(M,T,","))break}return T}function Wt(M,T,ue,ge){var re=[0,0];if(re[0]=me(M,T,"+")||(me(M,T,"-")?-1:0),re[0]!==0&&me(M,T+1,"number","calcday")){if(M[T+1][0]>ue)throw R(ze,T+2,Me("max differ",{maxdiffer:ue,name:ge}));re[0]*=M[T+1][0],re[0]===0&&!Ft&&st.push([ze,T+2,Me("adding 0")]),re[1]=3}else re[0]=0;return re}function Zn(M,T,ue,ge,re){for(re||(ge?M[T][3]="weekday":M[T][3]="holiday");T<M.length;T++){if(me(M,T,"holiday")){if(M[T][0]==="PH"){var Se=Mn(M[T][0]),fe=Wt(M,T+1,1,"public holiday"),Oe=function(Ge,Xe){return function(He){for(var tt=Tn(Ge,He.getFullYear(),Xe),Et=Mt(He,!0),ht=0;ht<tt.length;ht++){var Ke=Mt(tt[ht][0],!0);if(Et<Ke){if(Xe[0]>0){var Le=Tn(Ge,He.getFullYear()-1,Xe),Ye=Le[Le.length-1],Pt=Mt(Ye[0],!0);if(Et<Pt)return[!1,Ye[0]];if(Et===Pt)return[!0,bt(Ye[0],A),"Day after "+Ye[1]]}return[!1,tt[ht][0]]}else if(Et===Ke)return[!0,new Date(He.getFullYear(),He.getMonth(),He.getDate()+1),(Xe[0]>0?"Day after ":Xe[0]<0?"Day before ":"")+tt[ht][1]]}if(Xe[0]<0){var _t=Tn(Ge,He.getFullYear()+1,Xe),yn=_t[0],mt=Mt(yn[0],!0);if(Et===mt)return[!0,bt(yn[0],A),"Day before "+yn[1]]}return[!1,new Date(tt[0][0].getFullYear()+1,tt[0][0].getMonth(),tt[0][0].getDate())]}}(Se,fe);ge?ue.weekday.push(Oe):ue.holiday.push(Oe),T+=1+fe[1]}else if(M[T][0]==="SH"){var Se=Mn(M[T][0]),Oe=function(He){return function(tt){for(var Et=Mt(tt),ht=0;ht<He.length;ht++){var Ke=Ci(He[ht],tt.getFullYear(),!1);if(!(typeof Ke>"u"))for(var Le=0;Le<Ke.length;Le+=4){var Ye=new Date(tt.getFullYear(),Ke[2+Le]-1,Ke[3+Le]+1),Pt=(Ke[0+Le]-1)*100+Ke[1+Le],_t=(Ke[2+Le]-1)*100+Ke[3+Le];Ye=Mt(Ye);var yn=_t<Pt;if(Et<Pt){var mt=Ci(He[He.length-1],tt.getFullYear()-1,!1);if(typeof mt=="object"){var Je=(mt[mt.length-4]-1)*100+mt[mt.length-3],Ue=(mt[mt.length-2]-1)*100+mt[mt.length-1];return Je>Ue&&Et<=Ue?[!0,new Date(tt.getFullYear(),mt[mt.length-2]-1,mt[mt.length-1]+1),He[He.length-1].name]:[!1,new Date(tt.getFullYear(),Ke[0+Le]-1,Ke[1+Le])]}else return[!1,new Date(tt.getFullYear(),Ke[0+Le]-1,Ke[1+Le])]}else{if(Pt<=Et&&(Et<=_t||yn))return[!0,new Date(tt.getFullYear()+yn,Ke[2+Le]-1,Ke[3+Le]+1),He[ht].name];if(Ye===Et)return Le+4<Ke.length?(Le+=4,[!1,new Date(tt.getFullYear(),Ke[0+Le]-1,Ke[1+Le])]):[!1,new Date(tt.getFullYear(),Ke[2+Le]-1,Ke[3+Le]+2)]}}}throw K(Me("no SH definition",{name:"",year:tt.getFullYear()}),"library bug PR only")}}(Se);ge?ue.weekday.push(Oe):ue.holiday.push(Oe),T+=1}}else{if(me(M,T,"weekday"))return On(M,T,ue,!0,ze);throw me(M,T-1,",")?R(ze,T-1,Me("additional rule no sense")):R(ze,T,Me("unexpected token holiday",{token:M[T][1]}))}if(!me(M,T,","))break}return T}function Mt(M,T){return(T?M.getFullYear()*1e4:0)+M.getMonth()*100+M.getDate()}function Ci(M,T,ue){typeof ue!="boolean"&&(ue=!0);var ge=M[T];if(typeof ge>"u"&&(ge=M.default,typeof ge>"u")){if(ue)throw K(Me("no SH definition",{name:M.name+" ",year:T}),"library bug PR only");return}return ge}function Mn(M){if(typeof je!="string")throw Me("no country code");if(!De[je])throw K(Me("no holiday definition",{name:M,cc:je}),"library bug PR only");var T=[];if(typeof wt=="string"&&typeof De[je][wt]=="object"&&typeof De[je][wt][M]=="object"){var ue=De[je][M]||[],ge=De[je][wt][M];if(M==="PH")T=ge;else if(!ue.length)T=ge;else{var re=ue.map(function(Oe){return Oe.name}),T=[];T.push.apply(T,ue),T.push.apply(T,ge.filter(function(Ge){return re.indexOf(Ge.name)===-1})),T.sort(function(Oe,Ge){var Xe=Object.keys(Oe).find(function(ht){return ht!=="name"}),He=Object.keys(Ge).find(function(ht){return ht!=="name"}),tt=Oe[Xe],Et=Ge[He];return tt[0]-Et[0]||tt[1]-Et[1]})}}else if(De[je][M]){var Se=De[je][M];switch(M){case"PH":Se.forEach(function(fe){"only_states"in fe&&fe.only_states.indexOf(wt)===-1||T.push(fe)});break;case"SH":T=Se;break}}else throw K(Me("no holiday definition state",{name:M,cc:je,state:wt}),"library bug PR only");if(T.length===0)throw K(Me("no holiday definition",{name:M,cc:je}),"library bug PR only");return T}function zt(M){var T=Math.floor(M/100),ue=M-19*Math.floor(M/19),ge=Math.floor((T-17)/25),re=T-Math.floor(T/4)-Math.floor((T-ge)/3)+19*ue+15;re=re-30*Math.floor(re/30),re=re-Math.floor(re/28)*(1-Math.floor(re/28)*Math.floor(29/(re+1))*Math.floor((21-ue)/11));var Se=M+Math.floor(M/4)+re+2-T+Math.floor(T/4);Se=Se-7*Math.floor(Se/7);var fe=re-Se,Oe=3+Math.floor((fe+40)/44),Ge=fe+28-31*Math.floor(Oe/4),Xe=M%4,He=M%7,tt=M%19,Et=(19*tt+15)%30,ht=(2*Xe+4*He-Et+34)%7,Ke=Et+ht,Le;Ke<9?Le=new Date(M,4-1,Ke+4):Ke+4<31?Le=new Date(M,4-1,Ke+4):Le=new Date(M,5-1,Ke-26);var Ye=new Date(M,2,0),Pt=Ye.getDate()-Ye.getDay(),_t=new Date(M,4,24),yn=24-(6+_t.getDay())%7,mt=new Date(M,6,1),Je=mt.getDay()===0?2:1;function Ue(Xt,Vt){var sn=new Date(M,Xt,1);return 1+(7+Vt-sn.getDay())%7}function vt(Xt,Vt){var sn=new Date(M,Xt+1,0),Er=(7+sn.getDay()-Vt)%7;return sn.getDate()-Er}function Jt(Xt,Vt){var sn=Xt-Vt.getDay();return sn<0&&(sn+=7),Vt.setDate(Vt.getDate()+sn),Vt}function Dt(Xt,Vt,sn){if(Xt>=Vt)throw K("Not implemented yet.");if(Xt<=sn.getDay()&&sn.getDay()<=Vt)return sn;var Er=Xt-sn.getDay();return Er<0&&(Er+=7),sn.setDate(sn.getDate()+Er),sn}return{easter:new Date(M,Oe-1,Ge),"orthodox easter":Le,victoriaDay:new Date(M,4,yn),canadaDay:new Date(M,6,Je),firstJanuaryMonday:new Date(M,0,Ue(0,1)),firstFebruaryMonday:new Date(M,1,Ue(1,1)),lastFebruarySunday:new Date(M,1,Pt),firstMarchMonday:new Date(M,2,Ue(2,1)),firstAprilMonday:new Date(M,3,Ue(3,1)),firstMayMonday:new Date(M,4,Ue(4,1)),firstJuneMonday:new Date(M,5,Ue(5,1)),firstJulyMonday:new Date(M,6,Ue(6,1)),firstAugustMonday:new Date(M,7,Ue(7,1)),firstSeptemberMonday:new Date(M,8,Ue(8,1)),firstSeptemberTuesday:new Date(M,8,Ue(8,2)),firstSeptemberSunday:new Date(M,8,Ue(8,0)),firstOctoberMonday:new Date(M,9,Ue(9,1)),firstNovemberMonday:new Date(M,10,Ue(10,1)),firstNovemberTuesday:new Date(M,10,Ue(10,2)),firstMarchTuesday:new Date(M,2,Ue(2,2)),firstAugustTuesday:new Date(M,7,Ue(7,2)),firstAugustFriday:new Date(M,7,Ue(7,5)),firstNovemberThursday:new Date(M,10,Ue(10,4)),lastMayMonday:new Date(M,4,vt(4,1)),lastMarchMonday:new Date(M,2,vt(2,1)),lastAprilMonday:new Date(M,3,vt(3,1)),lastAprilFriday:new Date(M,3,vt(3,5)),lastAugustMonday:new Date(M,7,vt(7,1)),lastSeptemberMonday:new Date(M,8,vt(8,1)),lastSeptemberFriday:new Date(M,8,vt(8,5)),lastOctoberMonday:new Date(M,9,vt(9,1)),lastOctoberFriday:new Date(M,9,vt(9,5)),nextSaturday20Jun:Jt(6,new Date(M,5,20)),nextSaturday31Oct:Jt(6,new Date(M,9,31)),nextWednesday16Nov:Jt(3,new Date(M,10,16)),"nextMo-Fr17March":Dt(1,5,new Date(M,2,17)),"nextMo-Sa01May":Dt(1,6,new Date(M,4,1)),"nextMo-Sa07August":Dt(1,6,new Date(M,7,7)),"nextMo-Sa25December":Dt(1,6,new Date(M,11,25))}}function Tn(M,T,ue){var ge=zt(T),re=[],Se;return M.forEach(function(fe){if("fixed_date"in fe)Se=new Date(T,fe.fixed_date[0]-1,fe.fixed_date[1]);else if("variable_date"in fe){var Oe=ge[fe.variable_date];if(!Oe)throw Me("movable no formula",{name:fe.name});var Ge=0;if("offset"in fe&&(Ge=fe.offset),Se=new Date(Oe.getFullYear(),Oe.getMonth(),Oe.getDate()+Ge),T!==Se.getFullYear())throw Me("movable not in year",{name:fe.variable_date,days:Ge})}else throw K("Unexpected object: "+JSON.stringify(fe,null,"    "));ue[0]&&Se.setDate(Se.getDate()+ue[0]),re.push([Se,fe.name])}),re=re.sort(function(fe,Oe){return fe[0].getTime()<Oe[0].getTime()?-1:fe[0].getTime()>Oe[0].getTime()?1:0}),re}function Qr(M,T){for(M[T][3]="year";T<M.length;T++){if(me(M,T,"year")){var ue=!1,ge,re;me(M,T+1,"-","year","/","number")?(ue=!0,ge=!0,re=parseInt(M[T+4][0]),mn(T+4,re,"year")):(ue=me(M,T+1,"-","year"),ge=me(M,T+1,"/","number"),ge?(re=parseInt(M[T+2][0]),mn(T+2,re,"year","no_end_year")):me(M,T+1,"+")&&(re=1,ge=2));var Se=parseInt(M[T][0]);if(ue&&M[T+2][0]<=Se)throw M[T+2][0]===Se?R(ze,T,Me("year range one year",{year:Se})):R(ze,T,Me("year range reverse"));!ue&&Se<new Date().getFullYear()&&st.push([ze,T,Me("year past")]),ue&&M[T+2][0]<new Date().getFullYear()&&st.push([ze,T+2,Me("year past")]),ot.year.push(function(fe,Oe,Ge,Xe,He,tt){return function(Et){var ht=Et.getFullYear(),Ke=Xe?parseInt(fe[Oe+2][0]):Ge;if(ht<Ge)return[!1,new Date(Ge,0,1)];if(He){if(Ge<=ht){if(Xe&&ht>Ke)return[!1];if(tt>0)return(ht-Ge)%tt===0?[!0,new Date(ht+1,0,1)]:[!1,new Date(ht+tt-1,0,1)]}}else if(Xe){if(ht<=Ke)return[!0,new Date(Ke+1,0,1)]}else if(ht===Ge)return[!0];return[!1]}}(M,T,Se,ue,ge,re)),T+=1+(ue?2:0)+(ge?ge===2?1:2:0)}else throw me(M,T-1,",")?R(ze,T-1,Me("additional rule no sense")):R(ze,T,Me("unexpected token year range",{token:M[T][1]}));if(!me(M,T,","))break}return T}function Mi(M,T){for(;T<M.length;T++){if(me(M,T,"week")&&T++,me(M,T,"number")){var ue=me(M,T+1,"-","number"),ge=0,re=M[T][0],Se=ue?M[T+2][0]:re;if(re>Se)throw R(ze,T+2,Me("week range reverse"));if(re<1)throw R(ze,T,Me("week negative"));if(Se>53)throw R(ze,ue?T+2:T,Me("week exceed"));if(ue&&(ge=me(M,T+3,"/","number"),ge)){if(ge=M[T+4][0],M[T+4][4]="positive_number",ge<2)throw R(ze,T+4,Me("week period less than 2",{weekfrom:re,weekto:Se,period:ge}));if(ge>26)throw R(ze,T+4,Me("week period greater than 26",{weekfrom:re}))}ln&&(!(re<=1&&Se>=53)||ge)&&(ln=!1),!ge&&re===1&&Se===53?ot.week.push(function(){return[!0]}):ot.week.push(function(fe,Oe,Ge){return function(Xe){var He=Be(Xe);if(He<fe)return[!1,Ht(fe,Xe)];if(He>Oe)return[!1,Ht(fe,Xe)];if(Ge){var tt=(He-fe)%Ge===0;return tt?[!0,Ht(He+1,Xe)]:[!1,Ht(He+Ge-1,Xe)]}return[!0,Ht(Oe===53?1:Oe+1,Xe)]}}(re,Se,ge)),T+=1+(ue?2:0)+(ge?2:0)}else throw me(M,T-1,",")?R(ze,T-1,Me("additional rule no sense")):R(ze,T,Me("unexpected token week range",{token:M[T][1]}));if(!me(M,T,","))break}return T}function Be(M){M=new Date(+M),M.setHours(0,0,0,0),M.setDate(M.getDate()+4-(M.getDay()||7));var T=new Date(M.getFullYear(),0,1);return Math.ceil(((M-T)/864e5+1)/7)}function kt(M,T){var ue=new Date(T,0,1+(M-1)*7),ge=ue.getDay(),re=ue;return ge<=4?re.setDate(ue.getDate()-ue.getDay()+1):re.setDate(ue.getDate()+8-ue.getDay()),re}function Ht(M,T){for(var ue,ge=-1;ge<=1;ge++)if(ue=kt(M,T.getFullYear()+ge),ue.getTime()>T.getTime())return ue;throw K()}function Nr(M,T,ue,ge){for(ge||(M[T][3]="month");T<M.length;T++){if(me(M,T,"month","number")&&!me(M,T+2,"timesep","number"))return zn(M,T,ze,!0);if(me(M,T,"month")){var re=me(M,T+1,"-","month"),Se=M[T][0],fe=re?M[T+2][0]:Se;re&&ln?Se!==(fe+1)%12&&(ln=!1):ln=!1;var Oe=!0;if(fe<Se){var Ge=fe;fe=Se-1,Se=Ge+1,Oe=!1}var Xe=function(He,tt,Et){return function(ht){var Ke=ht.getMonth();return tt<He?[!Et]:Ke<He||Ke>tt?[!Et,Ta(ht,He)]:[Et,Ta(ht,tt+1)]}}(Se,fe,Oe);ue===!0?ot.monthday.push(Xe):ot.month.push(Xe),T+=re?3:1}else throw R(ze,T,Me("unexpected token month range",{token:M[T][1]}));if(!me(M,T,","))break}return T}function Ta(M,T){return new Date(M.getFullYear(),T<M.getMonth()?T+12:T)}function zn(M,T,ue,ge){for(ge||(M[T][3]="month");T<M.length;T++){var re=[],Se=[],fe=[],Oe=[],Ge=[];re[0]=me(M,T,"year"),Se[0]=me(M,T+re[0],"month","number"),fe[0]=me(M,T+re[0],"event"),fe[0]&&(Oe[0]=Wt(M,T+re[0]+1,200,"event like easter"));var Xe;me(M,T+re[0],"month","weekday","[")?(Ge[0]=pt(M,T+re[0]+3),Oe[0]=Wt(M,Ge[0][1],6,"constrained weekdays"),Xe=Ge[0][1]+(typeof Oe[0]=="object"&&Oe[0][1]?3:0)):Xe=T+re[0]+(fe[0]?typeof Oe[0]=="object"&&Oe[0][1]?4:1:2);var He;if((Se[0]||fe[0]||Ge[0])&&me(M,Xe,"-")&&(re[1]=me(M,Xe+1,"year"),He=Xe+1+re[1],Se[1]=me(M,He,"month","number"),Se[1]||(fe[1]=me(M,He,"event"),fe[1]?Oe[1]=Wt(M,He+1,366,"event like easter"):me(M,He,"month","weekday","[")&&(Ge[1]=pt(M,He+3),Oe[1]=Wt(M,Ge[1][1],6,"constrained weekdays")))),re[0]===re[1]&&(Se[1]||fe[1]||Ge[1])){Se[0]&&kn(M[T+re[0]][0],M[T+re[0]+1][0],ue,T+re[0]+1),Se[1]&&kn(M[He][0],M[He+1][0],ue,He+1);var tt=function(mt,Je,Ue,vt,Jt,Dt,Xt,Vt){return function(sn){var Er=new Date(sn.getFullYear()+1,0,1),Bi,vr;if(Jt[0]){if(Bi=zt(vt[0]?parseInt(mt[Je][0]):sn.getFullYear()),vr=Bi[mt[Je+vt[0]][0]],typeof Dt[0]=="object"&&Dt[0][1]){var Hr=vr.getFullYear();if(vr.setDate(vr.getDate()+Dt[0][0]),Hr!==vr.getFullYear())throw R(Ue,Je+vt[0]+Dt[0][1]*3,Me("movable not in year",{name:mt[Je+vt[0]][0],days:Dt[0][0]}))}}else Vt[0]?vr=fn(vt[0]?mt[Je][0]:sn.getFullYear(),mt[Je+vt[0]][0],mt[Je+vt[0]+1][0],Vt[0],Dt[0]):vr=new Date(vt[0]?mt[Je][0]:sn.getFullYear(),mt[Je+vt[0]][0],mt[Je+vt[0]+1][0]);var Cr;if(Jt[1]){if(Bi=zt(vt[1]?parseInt(mt[Xt-1][0]):sn.getFullYear()),Cr=Bi[mt[Xt][0]],typeof Dt[1]=="object"&&Dt[1][1]){var no=Cr.getFullYear();if(Cr.setDate(Cr.getDate()+Dt[1][0]),no!==Cr.getFullYear())throw R(Ue,Xt+Dt[1][1],Me("movable not in year",{name:mt[Xt][0],days:Dt[1][0]}))}}else Vt[1]?Cr=fn(vt[1]?mt[Xt-1][0]:sn.getFullYear(),mt[Xt][0],mt[Xt+1][0],Vt[1],Dt[1]):Cr=new Date(vt[1]?mt[Xt-1][0]:sn.getFullYear(),mt[Xt][0],mt[Xt+1][0]+1);var rn=!0;if(Cr<vr){var si=Cr;Cr=vr,vr=si,rn=!1}return sn.getTime()<vr.getTime()?[!rn,vr]:sn.getTime()<Cr.getTime()?[rn,Cr]:vt[0]?[!rn]:[!rn,Er]}}(M,T,ue,re,fe,Oe,He,Ge);ge===!0?ot.month.push(tt):ot.monthday.push(tt),T=(Ge[1]?Ge[1][1]:He+(fe[1]?1:2))+(typeof Oe[1]=="object"?Oe[1][1]:0)}else if(Se[0]){re=re[0];var Et=M[T][0],ht=M[T+re][0],Ke=!0;do{var Le=M[T+1+re][0],Ye=me(M,T+2+re,"-","number"),Pt=void 0,_t=M[T+re+(Ye?3:1)][0]+1;if(Ye&&me(M,T+re+4,"/","number")&&(Pt=M[T+re+5][0],M[T+re+5][4]="positive_number",mn(T+re+5,Pt,"day")),Ke){var yn=T+re+1+(Ye?2:0)+(Pt?2:0)+!(Ye||Pt);if(me(M,yn,"timesep","number")&&(me(M,yn+2,"+")||me(M,yn+2,"-")||Ne!==0))return Nr(M,T,!0,!0)}if(_t<Le)throw R(ue,T+re+3,Me("day range reverse"));kn(ht,Le,ue,T+1+re),kn(ht,_t-1,ue,T+re+(Ye?3:1));var tt=function(Je,Ue,vt,Jt,Dt,Xt){return function(Vt){var sn=new Date(Vt.getFullYear()+1,0,1),Er=new Date(Ue?Je:Vt.getFullYear(),vt,Jt);if(vt===1&&Jt!==Er.getDate())return[!1];var Bi=new Date(Er.getFullYear(),vt,Dt);if(vt===1&&Ye&&Dt!==Bi.getDate())return[!1];if(Vt.getTime()<Er.getTime())return[!1,Er];if(Vt.getTime()>=Bi.getTime())return[!1,sn];if(!Xt)return[!0,Bi];var vr=Math.floor((Vt.getTime()-Er.getTime())/se),Hr=vr%Xt;return Hr===0?[!0,new Date(Vt.getFullYear(),Vt.getMonth(),Vt.getDate()+1)]:[!1,new Date(Vt.getFullYear(),Vt.getMonth(),Vt.getDate()+Xt-Hr)]}}(Et,re,ht,Le,_t,Pt);ge===!0?ot.month.push(tt):ot.monthday.push(tt),T+=2+re+(Ye?2:0)+(Pt?2:0),Ke=!1}while(me(M,T,",","number"))}else if(fe[0]){var tt=function(Je,Ue,vt,Jt,Dt){return function(Xt){var Vt=zt(Jt?Je[Ue][0]:Xt.getFullYear()),sn=Vt[Je[Ue+Jt][0]];if(!sn)throw Me("movable no formula",{name:Je[Ue+Jt][0]});if(Dt[0]&&(sn.setDate(sn.getDate()+Dt[0]),Xt.getFullYear()!==sn.getFullYear()))throw R(vt,Ue+Jt+Dt[1],Me("movable not in year",{name:Je[Ue+Jt][0],days:Dt[0]}));return Xt.getTime()<sn.getTime()?[!1,sn]:sn.getMonth()*100+sn.getDate()===Xt.getMonth()*100+Xt.getDate()?[!0,new Date(Xt.getFullYear(),Xt.getMonth(),Xt.getDate()+1)]:[!1,new Date(Xt.getFullYear()+1,0,1)]}}(M,T,ue,re[0],Oe[0]);ge===!0?ot.month.push(tt):ot.monthday.push(tt),T+=re[0]+fe[0]+(typeof Oe[0][1]=="number"&&Oe[0][1]?3:0)}else if(Ge[0])T=Nr(M,T);else return me(M,T,"month")?Nr(M,T,!0,!0):T;if(!me(M,T,","))break}return T}this.getStatePair=function(M){for(var T=!1,ue,ge=!1,re,Se,fe=[],Oe=0;Oe<At.length;Oe++){for(var Ge=!0,Xe=0;Xe<At[Oe].date.length;Xe++){for(var He=At[Oe].date[Xe],tt=!1,Et=0;Et<He.length;Et++){var ht=He[Et](M);ht[0]&&(tt=!0,typeof ht[2]=="string"&&(re=[ht[2],Oe])),(typeof ue>"u"||typeof ht[1]=="object"&&ht[1].getTime()<ue.getTime())&&(ue=ht[1])}if(!tt){Ge=!1;break}}Ge&&((At[Oe].date.length>0||Oe>0&&At[Oe].meaning&&At[Oe-1].date.length===0)&&(At[Oe].meaning||At[Oe].unknown)&&!At[Oe].wrapped&&!At[Oe].additional&&!At[Oe].fallback&&(fe=[]),fe.push(Oe))}for(var Oe=0;Oe<fe.length;Oe++){var Ke=fe[Oe];At[Ke].time.length===0&&(!At[Ke].fallback||At[Ke].fallback&&!(T||ge))&&(T=At[Ke].meaning,ge=At[Ke].unknown,Se=Ke);for(var Le=0;Le<At[Ke].time.length;Le++){var ht=At[Ke].time[Le](M);if(ht[0]&&(!At[Ke].fallback||At[Ke].fallback&&!(T||ge))){if(T=At[Ke].meaning,ge=At[Ke].unknown,Se=Ke,typeof re=="object"&&re[0]===Me("open end")&&(re=void 0),ht[2]===!0&&(T||ge)&&(re=[Me("open end"),Se],T=!1,ge=!0,typeof At[Ke].time[Le+1]=="function")){var Ye=At[Ke].time[Le+1](M);!Ye[0]&&typeof Ye[1]=="object"&&At[Ke].time[Le](new Date(M.getTime()-1))[0]&&(T=!1,ge=!1)}At[Ke].fallback&&(typeof ue>"u"||typeof ht[1]<"u"&&ht[1]<ue)&&(ue=ht[1])}(typeof ue>"u"||typeof ht[1]=="object"&&ht[1]<ue)&&(ue=ht[1])}}return typeof At[Se]=="object"&&typeof At[Se].comment=="string"?re=At[Se].comment:typeof re=="object"&&(re[1]===Se?re=re[0]:re=void 0),[T,ue,ge,re,Se]};function Fi(M,T,ue,ge,re){for(var Se="",fe=T;fe<=ue;)me(M,fe,"weekday")?(!re.leave_weekday_sep_one_day_betw&&fe-T>1&&(me(M,fe-1,",")||me(M,fe-1,"-"))&&me(M,fe-2,"weekday")&&M[fe][0]===(M[fe-2][0]+1)%7&&(Se=Se.substring(0,Se.length-1)+re.sep_one_day_between),Se+=Rn[M[fe][0]]):fe-T>0&&ge==="time"&&me(M,fe-1,"timesep")&&me(M,fe,"number")?Se+=(M[fe][0]<10?"0":"")+M[fe][0].toString():ge==="time"&&re.zero_pad_hour&&fe!==M.length&&me(M,fe,"number")&&me(M,fe+1,"timesep")?Se+=(M[fe][0]<10?M[fe][0]===0&&re.one_zero_if_hour_zero?"":"0":"")+M[fe][0].toString():ge==="time"&&fe+2<=ue&&me(M,fe,"number")&&me(M,fe+1,"-")&&me(M,fe+2,"number")?(Se+=(M[fe][0]<10?M[fe][0]===0&&re.one_zero_if_hour_zero?"":"0":"")+M[fe][0].toString(),Se+=":00-"+(M[fe+2][0]<10?"0":"")+M[fe+2][0].toString()+":00",fe+=2):me(M,fe,"comment")?Se+='"'+M[fe][0].toString()+'"':me(M,fe,"closed")?Se+=re.leave_off_closed?M[fe][0]:re.keyword_for_off_closed:fe-T>0&&me(M,fe,"number")&&(ge==="month"||ge==="week")?Se+=(me(M,fe-1,"month")||me(M,fe-1,"week")?" ":"")+(re.zero_pad_month_and_week_numbers&&M[fe][4]!=="positive_number"&&M[fe][0]<10?"0":"")+M[fe][0]:fe-T>0&&me(M,fe,"month")&&me(M,fe-1,"year")?Se+=" "+Tt[[M[fe][0]]]:fe-T>0&&me(M,fe,"event")&&me(M,fe-1,"year")?Se+=" "+M[fe][0]:me(M,fe,"month")?(Se+=Tt[[M[fe][0]]],fe+1<=ue&&me(M,fe+1,"weekday")&&(Se+=" ")):fe+2<=ue&&(me(M,fe,"-")||me(M,fe,"+"))&&me(M,fe+1,"number","calcday")?(Se+=" "+M[fe][0]+M[fe+1][0]+" day"+(Math.abs(M[fe+1][0])===1?"":"s"),fe+=2):fe===ue&&ge==="weekday"&&M[fe][0]===":"||fe===ue&&ge==="time"&&M[fe][0]===","||(Se+=M[fe][0].toString()),fe++;return Se}this.getState=function(M){var T=this.getIterator(M);return T.getState()},this.getUnknown=function(M){var T=this.getIterator(M);return T.getUnknown()},this.getStateString=function(M,T){var ue=this.getIterator(M);return ue.getStateString(T)},this.getComment=function(M){var T=this.getIterator(M);return T.getComment()},this.getMatchingRule=function(M){var T=this.getIterator(M);return T.getMatchingRule()},this.getWarnings=function(){var M=this.getIterator();return ve(M)},this.prettifyValue=function(M){return this.getWarnings(),Ae(M)},this.getNextChange=function(M,T){var ue=this.getIterator(M);if(ue.advance(T))return ue.getDate()},this.isWeekStable=function(){return ln},this.isEqualTo=function(M,T){if(typeof T>"u")var T=new Date;var ue;this.isWeekStable()&&M.isWeekStable()?ue=new Date(T.getTime()+se*10):ue=new Date(T.getTime()+se*366*5);for(var ge=this.getIterator(T),re=M.getIterator(T);ge.advance(ue);){re.advance(ue);var Se=[];if(ge.getDate().getTime()!==re.getDate().getTime()&&Se.push("getDate"),ge.getState()!==re.getState()&&Se.push("getState"),ge.getUnknown()!==re.getUnknown()&&Se.push("getUnknown"),ge.getComment()!==re.getComment()&&Se.push("getComment"),Se.length){var fe={};return fe[ge.getDate().getTime()]=Se,[!1,{matching_rule:ge.getMatchingRule(),matching_rule_other:re.getMatchingRule(),deviation_for_time:fe}]}}return[!0]},this.getOpenIntervals=function(M,T){var ue=[],ge=this.getIterator(M);for((ge.getState()||ge.getUnknown())&&ue.push([M,void 0,ge.getUnknown(),ge.getComment()]);ge.advance(T);)ge.getState()||ge.getUnknown()?(ue.length!==0&&typeof ue[ue.length-1][1]>"u"&&(ue[ue.length-1][1]=ge.getDate()),ue.push([ge.getDate(),void 0,ge.getUnknown(),ge.getComment()])):ue.length!==0&&typeof ue[ue.length-1][1]>"u"&&(ue[ue.length-1][1]=ge.getDate());return ue.length>0&&typeof ue[ue.length-1][1]>"u"&&(ue[ue.length-1][1]=T),ue},this.getOpenDuration=function(M,T){for(var ue=0,ge=0,re=this.getIterator(M),Se=re.getState()||re.getUnknown()?M:void 0,fe=re.getState(),Oe=re.getUnknown();re.advance(T);)re.getState()||re.getUnknown()?(typeof Se=="object"&&(Oe?ge+=re.getDate().getTime()-Se.getTime():fe&&(ue+=re.getDate().getTime()-Se.getTime())),Se=re.getDate(),fe=re.getState(),Oe=re.getUnknown()):typeof Se=="object"&&(Oe?ge+=re.getDate().getTime()-Se.getTime():ue+=re.getDate().getTime()-Se.getTime(),Se=void 0);return typeof Se=="object"&&(Oe?ge+=T.getTime()-Se.getTime():ue+=T.getTime()-Se.getTime()),[ue,ge]},this.getIterator=function(M){return new function(T){typeof M>"u"&&(M=new Date);var ue=[void 0,M,void 0,void 0,void 0],ge=T.getStatePair(M);this.getDate=function(){return ue[1]},this.setDate=function(re){if(typeof re!="object")throw Me("date parameter needed");ue=[void 0,re,void 0,void 0,void 0],ge=T.getStatePair(re)},this.getState=function(){return ge[0]},this.getUnknown=function(){return ge[2]},this.getStateString=function(re){return ge[0]?"open":ge[2]?"unknown":re?"closed":"close"},this.getComment=function(){return ge[3]},this.getMatchingRule=function(){if(!(typeof ge[4]>"u"))return At[ge[4]].build_from_token_rule[2]},this.advance=function(re){if(typeof re>"u")re=new Date(ue[1].getTime()+se*366*5);else if(re.getTime()<=ue[1].getTime())return!1;do{if(typeof ge[1]>"u")return!1;if(ge[1].getTime()<=ue[1].getTime())throw"Fatal: infinite loop in nextChange";if(ge[1].getTime()>=re.getTime())return!1;ue=ge,ge=T.getStatePair(ue[1])}while(ge[0]===ue[0]&&ge[2]===ue[2]&&ge[3]===ue[3]);return!0}}(this)}}return Ot})})(v6);const Qt=class{static hhmm(e,t){return e==24?"00:00":gt.TwoDigits(e)+":"+gt.TwoDigits(t)}static ToString(e){if(e.length==0)return"";const t=[[],[],[],[],[],[],[]];for(const g of e)t[g.weekday].push(Qt.hhmm(g.startHour,g.startMinutes)+"-"+Qt.hhmm(g.endHour,g.endMinutes));const a=t.map(g=>g.sort().join(", ")),o=[];let u=0,d=0;function c(){const g=a[u];g!==""&&(u==d-1?o.push(`${Qt.days[u]} ${g}`):o.push(`${Qt.days[u]}-${Qt.days[d-1]} ${g}`))}for(;d<7;d++)a[u]!=a[d]&&(c(),u=d);c();const h=o.join("; ");return h==="Mo-Su 00:00-00:00"?"24/7":h}static MergeTimes(e){const t=e.map(o=>{if(o.endHour===0&&o.endMinutes===0){const u={...o};return u.endHour=24,u}return o}),a=[];for(;t.length>0;){let o=t.pop(),u=!0;o.weekday==null&&(u=!1);for(let d=a.length-1;d>=0&&u;d--){let c=a[d];if(o.weekday==c.weekday){if(Qt.startTimeLiesInRange(o,c)&&Qt.endTimeLiesInRange(o,c)){u=!1;break}if(Qt.startTimeLiesInRange(c,o)&&Qt.endTimeLiesInRange(c,o)){a.splice(d,1);break}if(Qt.startTimeLiesInRange(o,c)||Qt.endTimeLiesInRange(o,c)||Qt.startTimeLiesInRange(c,o)||Qt.endTimeLiesInRange(c,o)){a.splice(d,1);let h=c.startHour,g=c.startMinutes;Qt.startTime(o)<Qt.startTime(c)&&(h=o.startHour,g=o.startMinutes);let m=c.endHour,y=c.endMinutes;Qt.endTime(o)>Qt.endTime(c)&&(m=o.endHour,y=o.endMinutes),t.push({startHour:h,startMinutes:g,endHour:m,endMinutes:y,weekday:c.weekday}),u=!1;break}}}u&&a.push(o)}return a.length!==e.length?a:e}static startTime(e){return e.startHour+e.startMinutes/60}static endTime(e){return e.endHour+e.endMinutes/60}static startTimeLiesInRange(e,t){return Qt.startTime(t)<=Qt.startTime(e)&&Qt.startTime(e)<=Qt.endTime(t)}static endTimeLiesInRange(e,t){return Qt.startTime(t)<=Qt.endTime(e)&&Qt.endTime(e)<=Qt.endTime(t)}static parseHHMMRange(e){if(e=="off")return null;const t=e.split("-"),a=Qt.parseHHMM(t[0]),o=Qt.parseHHMM(t[1]);return{startHour:a.hours,startMinutes:a.minutes,endHour:o.hours,endMinutes:o.minutes}}static ParseRule(e){try{if(e.trim()=="24/7")return Qt.multiply([0,1,2,3,4,5,6],[{startHour:0,startMinutes:0,endHour:24,endMinutes:0}]);const t=e.trim().replace(/, */g,",").split(" ");if(t.length==1){let a=Qt.ParseHhmmRanges(e),o=[0,1,2,3,4,5,6];return Qt.multiply(o,a)}if(t.length==2){const a=Qt.ParseWeekdayRanges(t[0]),o=Qt.ParseHhmmRanges(t[1]);return Qt.multiply(a,o)}return null}catch{return console.log("Could not parse weekday rule ",e),null}}static ParsePHRule(e){if(e==null||(e=e.trim(),!e.startsWith("PH")))return null;if(e=e.trim(),e.toLowerCase()==="ph off")return{mode:"off"};if(e.toLowerCase()==="ph open")return{mode:"open"};if(!e.startsWith("PH "))return null;try{const t=Qt.parseHHMMRange(e.substring(2));return t===null?null:{mode:" ",start:Qt.hhmm(t.startHour,t.startMinutes),end:Qt.hhmm(t.endHour,t.endMinutes)}}catch{return null}}static simplify(e){return Qt.ToString(Qt.MergeTimes(Qt.Parse(e)))}static Parse(e){if(e===void 0||e==="")return[];const t=[],a=e.split(";");for(const o of a)if(o!=="")try{const u=Qt.ParseRule(o);u!==null&&t.push(...u)}catch(u){console.error("Could not parse ",o,": ",u)}return t}static allChangeMoments(e){const t=[],a=[],o=[],u=[];for(const d of e)for(const c of d){if(!c.isOpen&&!c.isSpecial)continue;const h=new Date(c.startDate);h.setHours(0,0,0,0);const g=(c.startDate-h)/1e3;t.indexOf(g)<0&&(t.push(g),a.push(Qt.hhmm(c.startDate.getHours(),c.startDate.getMinutes())));let m=(c.endDate-h)/1e3;m>=24*60*60?o.indexOf(m)<0&&(o.push(m),u.push(Qt.hhmm(c.endDate.getHours(),c.endDate.getMinutes()))):t.indexOf(m)<0&&(t.push(m),a.push(Qt.hhmm(c.endDate.getHours(),c.endDate.getMinutes())))}return a.sort(),t.sort(),u.sort(),o.sort(),a.push(...u),t.push(...o),[t,a]}static CreateOhObject(e,t){return new Uf(t,{lat:e._lat,lon:e._lon,address:{country_code:e._country.toLowerCase(),state:void 0}},{tag_key:"opening_hours"})}static GetRanges(e,t,a){const o=[[],[],[],[],[],[],[]],u=new Date(t);u.setDate(t.getDate()-1);const d=e.getIterator(u);let c;for(;d.advance(a);){c&&(c.endDate=d.getDate());const h=new Date(d.getDate());h.setHours(0,0,0,0),h.setDate(h.getDate()+1);const g={isSpecial:d.getUnknown(),isOpen:d.getState(),comment:d.getComment(),startDate:d.getDate(),endDate:h};c=g,!(g.comment===void 0&&!g.isOpen&&!g.isSpecial)&&(g.startDate<t||o[(g.startDate.getDay()+6)%7].push(g))}return o}static parseHHMM(e){if(e===void 0||e==null)return null;const t=e.trim().split(":");if(t.length!=2)return null;const a={hours:Number(t[0].trim()),minutes:Number(t[1].trim())};return isNaN(a.hours)||isNaN(a.minutes)?null:a}static ParseHhmmRanges(e){return e==="off"?[]:e.split(",").map(t=>t.trim()).filter(t=>t!=="").map(Qt.parseHHMMRange).filter(t=>t!=null)}static ParseWeekday(e){return Qt.daysIndexed[e.trim().toLowerCase()]}static ParseWeekdayRange(e){const t=e.split("-");if(t.length==1){const a=Qt.ParseWeekday(e);return a==null?null:[a]}else if(t.length==2){let a=Qt.ParseWeekday(t[0]),o=Qt.ParseWeekday(t[1]);if((a??null)===null||(o??null)===null)return null;let u=[];for(let d=a;d<=o;d++)u.push(d);return u}else return null}static ParseWeekdayRanges(e){let t=[],a=e.split(",");for(const o of a){const u=Qt.ParseWeekdayRange(o);if(u==null)return null;t.push(...u)}return t}static multiply(e,t){if((e??null)==null||(t??null)==null)return null;const a=[];for(const o of t)for(const u of e)a.push({weekday:u,startHour:o.startHour,startMinutes:o.startMinutes,endHour:o.endHour,endMinutes:o.endMinutes});return a}static getMondayBefore(e){e=new Date(e);const t=e.getDay(),a=e.getDate()-t+(t==0?-6:1);return new Date(e.setDate(a))}};let xa=Qt;ae(xa,"days",["Mo","Tu","We","Th","Fr","Sa","Su"]),ae(xa,"daysIndexed",{mo:0,tu:1,we:2,th:3,fr:4,sa:5,su:6});class e8 extends sc{constructor(t,a){super();ae(this,"_oh");ae(this,"_onDelete");this._oh=t,this._onDelete=a,this.SetClass("oh-timerange")}InnerConstructElement(){const t=this.getHeight(),a=this._oh,o=new _s(gt.TwoDigits(a.startHour)+":"+gt.TwoDigits(a.startMinutes)),u=new _s(gt.TwoDigits(a.endHour)+":"+gt.TwoDigits(a.endMinutes)),d=nr.delete_icon_ui().SetClass("rounded-full w-6 h-6 block bg-black").onClick(()=>{this._onDelete()});let c;t>2?c=new un([o,d,u]).SetClass("flex flex-col h-full justify-between"):c=new un([d]).SetClass("flex flex-col h-full").SetStyle("flex-content: center; overflow-x: unset;");const h=new un([c]).ConstructElement();return h.style.top=`${100*xa.startTime(a)/24}%`,h.style.height=`${100*this.getHeight()/24}%`,h}getHeight(){const t=this._oh;let a=t.endHour;return t.endHour==0&&t.endMinutes==0&&(a=24),a-t.startHour+(t.endMinutes-t.startMinutes)/60}}const kh=class extends Qi{constructor(t){super();ae(this,"weekdayElements",gt.TimesT(7,()=>document.createElement("div")));ae(this,"source");this.source=t??new Nt([]),this.SetStyle("width:100%;height:100%;display:block;")}IsValid(t){return!0}GetValue(){return this.source}InnerConstructElement(){const t=document.createElement("table");t.classList.add("oh-table"),t.classList.add("relative");const a=14,o=document.createElement("tr");o.appendChild(document.createElement("th")),o.classList.add("relative");for(let L=0;L<kh.days.length;L++){let k=kh.days[L].Clone();const W=document.createElement("th");W.style.width="14%",W.appendChild(k.ConstructElement());const $=this.weekdayElements[L];$.classList.add("w-full","relative"),$.style.height=a*48+"px";const O=new _a(this.source.map(le=>(le??[]).filter(H=>H.weekday===L)).map(le=>new un(le.map(H=>new e8(H,()=>{this.source.data.splice(this.source.data.indexOf(H),1),this.source.ping()})))));$.appendChild(O.ConstructElement());const z=document.createElement("div");z.classList.add("absolute"),z.style.zIndex="10",z.style.width="13.5%",z.style.pointerEvents="none",z.appendChild($),W.appendChild(z),o.appendChild(W)}t.appendChild(o);const u=this;for(let L=0;L<24;L++){const k=gt.TwoDigits(L),W=document.createElement("td");W.rowSpan=2,W.classList.add("oh-left-col","oh-timecell-full","border-box"),W.appendChild(new _s(k+":00").ConstructElement());const $=document.createElement("tr");$.appendChild(W);for(let z=0;z<7;z++){const le=document.createElement("td");le.classList.add("oh-timecell","oh-timecell-full",`oh-timecell-${z}`),$.appendChild(le)}$.style.height=a+"px",$.style.maxHeight=$.style.height,$.style.minHeight=$.style.height,t.appendChild($);const O=document.createElement("tr");for(let z=0;z<7;z++){const le=document.createElement("td");le.classList.add("oh-timecell","oh-timecell-half",`oh-timecell-${z}`),O.appendChild(le)}O.style.minHeight=$.style.height,O.style.maxHeight=$.style.height,t.appendChild(O)}let d=!1,c,h;function g(L){return Math.floor(L/2)}function m(L){return L%2*30}function y(L,k){d=!0,c=[L,k],h=[L,k]}function x(){var z,le,H;if(c===void 0||!d)return;d=!1;const L=Math.min(c[1],h[1]),k=Math.max(c[1],h[1]),W=Math.min(c[0],h[0])-1,$=Math.max(c[0],h[0])-1;for(let Z=L;Z<=k;Z++){const Y={weekday:Z,startHour:g(W),startMinutes:m(W),endHour:g($+1),endMinutes:m($+1)};Y.endHour>23&&(Y.endHour=24,Y.endMinutes=0),u.source.data.push(Y)}u.source.ping();let O=t.rows[0];for(let Z=1;Z<O.cells.length;Z++)(z=O.cells[Z].classList)==null||z.remove("oh-timecol-selected");for(let Z=1;Z<t.rows.length;Z++){let Y=t.rows[Z];for(let ye=0;ye<Y.cells.length;ye++){let F=Y.cells[ye];(le=F==null?void 0:F.classList)==null||le.remove("oh-timecell-selected"),(H=Y.classList)==null||H.remove("oh-timerow-selected")}}}t.onmouseup=()=>{x()},t.onmouseleave=()=>{x()};let E,_;function w(L,k){var z,le,H,Z,Y,ye,F,b,I,B;if(E===L&&_===k)return;E=L,_=k;let W=c[0],$=c[1];if(W>L){const V=W;W=L,L=V}if($>k){const V=$;$=k,k=V}let O=t.rows[0];for(let V=1;V<O.cells.length;V++){let ee=O.cells[V];(z=ee.classList)==null||z.remove("oh-timecol-selected-round-left"),(le=ee.classList)==null||le.remove("oh-timecol-selected-round-right"),$+1<=V&&V<=k+1?((H=ee.classList)==null||H.add("oh-timecol-selected"),$+1==V&&((Z=ee.classList)==null||Z.add("oh-timecol-selected-round-left")),k+1==V&&((Y=ee.classList)==null||Y.add("oh-timecol-selected-round-right"))):(ye=ee.classList)==null||ye.remove("oh-timecol-selected")}for(let V=1;V<t.rows.length;V++){let ee=t.rows[V];W<=V&&V<=L?(F=ee.classList)==null||F.add("oh-timerow-selected"):(b=ee.classList)==null||b.remove("oh-timerow-selected");for(let ce=0;ce<ee.cells.length;ce++){let q=ee.cells[ce];if(q===void 0)continue;let ne=0;if(V%2==1){if(ce==0)continue;ne=-1}W<=V&&V<=L&&$<=ce+ne&&ce+ne<=k?(I=q==null?void 0:q.classList)==null||I.add("oh-timecell-selected"):(B=q==null?void 0:q.classList)==null||B.remove("oh-timecell-selected")}}}for(let L=1;L<t.rows.length;L++){let k=t.rows[L];for(let W=0;W<k.cells.length;W++){let $=k.cells[W],O=0;if(L%2==1){if(W==0)continue;O=-1}$.onmousedown=z=>{z.preventDefault(),y(L,W+O),w(L,W+O)},$.ontouchstart=z=>{z.preventDefault(),y(L,W+O),w(L,W+O)},$.onmouseenter=()=>{d&&(h=[L,W+O],w(L,W+O))},$.ontouchmove=z=>{z.preventDefault();for(const le in z.targetTouches){const H=z.targetTouches[le];if(H.clientX===void 0||H.clientY===void 0)continue;const Y=document.elementFromPoint(H.clientX,H.clientY).onmouseenter;Y&&Y()}},$.ontouchend=z=>{z.preventDefault(),x()}}}return t}};let Ef=kh;ae(Ef,"days",[tn.t.general.weekdays.abbreviations.monday,tn.t.general.weekdays.abbreviations.tuesday,tn.t.general.weekdays.abbreviations.wednesday,tn.t.general.weekdays.abbreviations.thursday,tn.t.general.weekdays.abbreviations.friday,tn.t.general.weekdays.abbreviations.saturday,tn.t.general.weekdays.abbreviations.sunday]);class t8 extends Qi{constructor(t=new Nt([])){super();ae(this,"IsSelected",new Nt(!1));ae(this,"_ohs");ae(this,"_backgroundTable");this._ohs=t,t.addCallback(a=>{t.setData(xa.MergeTimes(a))}),this._backgroundTable=new Ef(this._ohs),this._backgroundTable.ConstructElement()}InnerRender(){return this._backgroundTable}GetValue(){return this._ohs}IsValid(t){return!0}InnerConstructElement(){return this._backgroundTable.ConstructElement()}}class n8 extends Qi{constructor(t=new Nt("")){super();ae(this,"IsSelected",new Nt(!1));ae(this,"_value");this._value=t}GetValue(){return this._value}IsValid(t){return!0}InnerConstructElement(){const t=new _b(tn.t.general.opening_hours.open_during_ph.Clone(),[{shown:tn.t.general.opening_hours.ph_not_known.Clone(),value:""},{shown:tn.t.general.opening_hours.ph_closed.Clone(),value:"off"},{shown:tn.t.general.opening_hours.ph_open_as_usual.Clone(),value:"open"},{shown:tn.t.general.opening_hours.ph_open.Clone(),value:" "}]).SetClass("inline-block"),a=t.GetValue(),o=new vl({placeholder:"starthour",htmlType:"time"}).SetClass("inline-block"),u=new vl({placeholder:"starthour",htmlType:"time"}).SetClass("inline-block"),d=new a1(new un([tn.t.general.opening_hours.opensAt.Clone(),o,tn.t.general.opening_hours.openTill.Clone(),u]),void 0,a.map(c=>c===" "));return this.SetupDataSync(a,o.GetValue(),u.GetValue()),new un([t,d]).ConstructElement()}SetupDataSync(t,a,o){const u=this._value;u.map(d=>xa.ParsePHRule(d)).addCallbackAndRunD(d=>{d!==null&&(t.setData(d.mode),a.setData(d.start),o.setData(d.end))}),t.map(d=>{if(d===void 0||d===""){u.setData(void 0);return}if(d==="off"){u.setData("PH off");return}if(d==="open"){u.setData("PH open");return}if(a.data===void 0||o.data===void 0){u.setData(void 0);return}const c=`PH ${a.data}-${o.data}`;u.setData(c)},[a,o])}}class r8 extends Qi{constructor(t=new Nt(""),a="",o=""){var E;super();ae(this,"_value");ae(this,"_element");this._value=t;let u=t;a!==""&&o!==""&&(u=t.sync(_=>{if(_!==void 0)return _===""?"":_.startsWith(a)&&_.endsWith(o)?_.substring(a.length,_.length-o.length):_},[],_=>{if(_!==void 0)return _===""?"":_.startsWith(a)&&_.endsWith(o)?_:a+_+o}));const d=u.map(_=>{if(_===void 0)return[];const w=[],L=_.split(";");for(const k of L)xa.ParseRule(k)===null&&xa.ParsePHRule(k)===null&&w.push(k);return w});let c="";const h=((E=u.data)==null?void 0:E.split(";"))??[];for(const _ of h)if(xa.ParsePHRule(_)!==null){c=_;break}const g=new n8(new Nt(c)),m=u.sync(_=>xa.Parse(_),[d,g.GetValue()],(_,w)=>{let L=xa.ToString(_)+";";const k=g.GetValue().data;for(k&&(L+=k+";"),L+=d.data.join(";")+";",L=L.trim();L.endsWith(";");)L=L.substring(0,L.length-1);return L.startsWith(";")&&(L=L.substring(1)),L.trim(),L===w?w:L}),y=new _a(d.map(_=>_.length==0?"":new un([tn.t.general.opening_hours.not_all_rules_parsed,new _s(_.map(w=>`${w}<br/>`).join("")).SetClass("subtle")]))),x=new t8(m);this._element=new un([y,x,g])}GetValue(){return this._value}IsValid(t){return!0}InnerConstructElement(){return this._element.ConstructElement()}}class i8 extends Qi{constructor(t,a,o){super();ae(this,"IsSelected",new Nt(!1));ae(this,"_location");ae(this,"value");ae(this,"background");this._location=a,this.value=o??new Nt(void 0),this.background=t}GetValue(){return this.value}IsValid(t){const a=Number(t);return!isNaN(a)&&a>=0&&a<=360}InnerConstructElement(){let t=new _s("");gt.runningFromConsole||(t=ep.createMiniMap({background:this.background,allowMoving:!1,location:this._location}));const a=new un([nr.direction_stroke_svg().SetStyle(`position: absolute;top: 0;left: 0;width: 100%;height: 100%;transform:rotate(${this.value.data??0}deg);`).SetClass("direction-svg relative").SetStyle("z-index: 1000"),t.SetStyle("position: absolute;top: 0;left: 0;width: 100%;height: 100%;")]).SetStyle("width: min(100%, 25em); height: 0; padding-bottom: 100%").SetClass("relative block bg-white border border-black overflow-hidden rounded-full").ConstructElement();return this.value.addCallbackAndRunD(o=>{const u=a.getElementsByClassName("direction-svg")[0];u.style.transform=`rotate(${o}deg)`}),this.RegisterTriggers(a),a.style.overflow="hidden",a.style.display="block",a}RegisterTriggers(t){const a=this;function o(d,c){const h=t.getBoundingClientRect(),g=-(h.left+h.right)/2+d,m=(h.top+h.bottom)/2-c,y=180*Math.atan2(m,g)/Math.PI,x=Math.floor((450-y)%360);a.value.setData(""+x)}t.ontouchmove=d=>{o(d.touches[0].clientX,d.touches[0].clientY),d.preventDefault()},t.ontouchstart=d=>{o(d.touches[0].clientX,d.touches[0].clientY)};let u=!1;t.onmousedown=d=>{u=!0,o(d.clientX,d.clientY),d.preventDefault()},t.onmouseup=d=>{u=!1,d.preventDefault()},t.onmousemove=d=>{u&&o(d.clientX,d.clientY),d.preventDefault()}}}class a8 extends Qi{constructor(t=new Nt(void 0)){super();ae(this,"IsSelected",new Nt(!1));ae(this,"value");ae(this,"_element");this.value=t;const a=document.createElement("input");this._element=a,a.type="color",this.value.addCallbackAndRunD(o=>{a.value=o}),a.oninput=()=>{const o=a.value;t.setData(o)}}GetValue(){return this.value}IsValid(t){return!1}InnerConstructElement(){return this._element}}class s8 extends Qi{constructor(t,a,o){super();ae(this,"_location");ae(this,"value");ae(this,"background");this._location=a,this.value=o??new Nt(void 0),this.background=t,this.SetClass("block")}GetValue(){return this.value}IsValid(t){const a=Number(t);return!isNaN(a)&&a>=0}InnerConstructElement(){let t,a;gt.runningFromConsole||(t=ep.createMiniMap({background:this.background,allowMoving:!1,location:this._location,attribution:!0,leafletOptions:{tap:!0}}),a=new h_({locationControl:this._location,backgroundLayer:this.background},this.background,{allowedCategories:["map","photo"]}));const o=new un([nr.length_crosshair_svg().SetStyle(`position: absolute;top: 0;left: 0;transform:rotate(${this.value.data??0}deg);`)]).SetClass("block length-crosshair-svg relative pointer-events-none").SetStyle("z-index: 1000; visibility: hidden"),u=new un([o,a==null?void 0:a.SetStyle("position: absolute; bottom: 0.25rem; left: 0.25rem; z-index: 1000"),t==null?void 0:t.SetClass("w-full h-full block absolute top-0 left-O overflow-hidden")]).SetClass("relative block bg-white border border-black rounded-xl overflow-hidden").ConstructElement();return this.RegisterTriggers(t==null?void 0:t.ConstructElement(),t==null?void 0:t.leafletMap,o.ConstructElement()),u.style.overflow="hidden",u.style.display="block",u}RegisterTriggers(t,a,o){let u,d;const c=this;function h(g,m,y,x){if(g===void 0||m===void 0){u=void 0,d=void 0;return}const E=t.getBoundingClientRect(),_=g-E.left,w=m-E.top;if(y&&(d===void 0&&u===void 0?u=[_,w]:u!==void 0&&d===void 0?d=[_,w]:u!==void 0&&d!==void 0&&(u=[_,w],d=void 0)),u===void 0){o.style.visibility="hidden";return}const L=Math.sqrt((w-u[1])*(w-u[1])+(_-u[0])*(_-u[0]));if(x)L>15&&(d=[_,w]);else if(d!==void 0)return;o.style.visibility="unset",o.style.left=u[0]+"px",o.style.top=u[1]+"px";const W=(180*Math.atan2(u[1]-w,u[0]-_)/Math.PI+270)%360,$=o.firstChild;$.style.transform=`rotate(${W}deg)`,$.style.width=L*2+"px",$.style.marginLeft=-L+"px",$.style.marginTop=-L+"px";const O=a==null?void 0:a.data;if(O){const z=O.layerPointToLatLng(u),le=O.layerPointToLatLng([_,w]),H=Math.floor(Lr.distanceBetween([z.lng,z.lat],[le.lng,le.lat])*10)/10;c.value.setData(""+H)}}t.ontouchstart=g=>{h(g.touches[0].clientX,g.touches[0].clientY,!0),g.preventDefault()},t.ontouchmove=g=>{h(g.touches[0].clientX,g.touches[0].clientY,!1),g.preventDefault()},t.ontouchend=g=>{h(void 0,void 0,!1,!0),g.preventDefault()},t.onmousedown=g=>{h(g.clientX,g.clientY,!0),g.preventDefault()},t.onmouseup=g=>{h(g.clientX,g.clientY,!1,!0),g.preventDefault()},t.onmousemove=g=>{h(g.clientX,g.clientY,!1),g.preventDefault()}}}class o8 extends Qi{constructor(t,a,o=void 0){var d;super();ae(this,"value");ae(this,"_comparator");ae(this,"_el");this._comparator=o??((c,h)=>c==h),a instanceof Nt?this.value=a:this.value=new Nt(a),this._el=document.createElement("span");const u=(d=tn.W(t))==null?void 0:d.ConstructElement();u&&this._el.appendChild(u)}GetValue(){return this.value}IsValid(t){return this._comparator(t,this.value.data)}InnerConstructElement(){return this._el}}var Pa={shortLang:n=>n.toLowerCase().split("_")[0],forceArray:n=>(typeof n=="string"&&(n=[n]),n||[]),isPlainObject:n=>!(!n||typeof n!="object"||n instanceof Array),fixedEncodeURIComponent:n=>encodeURIComponent(n).replace(/[!'()*]/g,u8),replaceSpaceByUnderscores:n=>n.replace(/\s/g,"_"),uniq:n=>Array.from(new Set(n))};const u8=n=>"%"+n.charCodeAt(0).toString(16),kb=n=>e=>{const t={};return Object.keys(e).forEach(a=>{const o=e[a];o!=null?t[a]=n?o.map(l8):o.value:t[a]=n?[]:null}),t},l8=n=>n.value,md=kb(!1);var op={labels:md,descriptions:md,aliases:kb(!0),lemmas:md,representations:md,glosses:md},d8=n=>{typeof n=="object"&&(n=n.time);const e=n[0];let[t,a]=n.slice(1).split("T");t=t.replace(/-00/g,"-01");const o=`${t}T${a}`;return c8(e,o)};const c8=(n,e)=>{const t=e.split("-")[0];return n==="-"||t.length>4?f8(n,e,t):new Date(e)},f8=(n,e,t)=>{let a;return t.length===4?a=`${n}00${e}`:t.length===5?a=`${n}0${e}`:a=n+e,new Date(a)},up=d8,Xn={};Xn.isNumericId=n=>/^[1-9][0-9]*$/.test(n);Xn.isEntityId=n=>/^((Q|P|L)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)$/.test(n);Xn.isEntitySchemaId=n=>/^E[1-9][0-9]*$/.test(n);Xn.isItemId=n=>/^Q[1-9][0-9]*$/.test(n);Xn.isPropertyId=n=>/^P[1-9][0-9]*$/.test(n);Xn.isLexemeId=n=>/^L[1-9][0-9]*$/.test(n);Xn.isFormId=n=>/^L[1-9][0-9]*-F[1-9][0-9]*$/.test(n);Xn.isSenseId=n=>/^L[1-9][0-9]*-S[1-9][0-9]*$/.test(n);Xn.isGuid=n=>/^((Q|P|L)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n);Xn.isHash=n=>/^[0-9a-f]{40}$/.test(n);Xn.isPropertyClaimsId=n=>{const[e,t]=n.split("#");return Xn.isEntityId(e)&&Xn.isPropertyId(t)};Xn.isRevisionId=n=>/^\d+$/.test(n);Xn.isEntityPageTitle=n=>{if(typeof n!="string")return!1;let[e,t]=n.split(":");return e&&t?g8(e)&&Xn[`is${e}Id`](t):(t=e,Xn.isItemId(t))};const h8=["Item","Property","Lexeme"],g8=n=>h8.includes(n),p8=n=>/^(Q|P|L)[1-9][0-9]*$/.test(n);Xn.getNumericId=n=>{if(!p8(n))throw new Error(`invalid entity id: ${n}`);return n.replace(/^(Q|P|L)/,"")};Xn.wikibaseTimeToDateObject=up;const lp=n=>e=>{try{return n(e)}catch{e=e.time||e;const a=e[0];let[o,u]=e.slice(1).split("T");return o=o.replace(/-00/g,"-01"),`${a}${o}T${u}`}},m8=n=>up(n).getTime(),y8=n=>up(n).toISOString(),v8=n=>{if(typeof n=="object"){const{time:e,precision:t}=n;t===9?n=e.replace("-01-01T","-00-00T"):t===10?n=e.replace("-01T","-00T"):n=e}return n.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")};Xn.wikibaseTimeToEpochTime=lp(m8);Xn.wikibaseTimeToISOString=lp(y8);Xn.wikibaseTimeToSimpleDay=lp(v8);Xn.getImageUrl=(n,e)=>{let t=`https://commons.wikimedia.org/wiki/Special:FilePath/${n}`;return typeof e=="number"&&(t+=`?width=${e}`),t};Xn.getEntityIdFromGuid=n=>{const e=n.split(/[$-]/);if(e.length===6)return e[0].toUpperCase();if(e.length===7)return e.slice(0,2).join("-").toUpperCase();throw new Error(`invalid guid: ${n}`)};var ku=Xn;const{wikibaseTimeToISOString:b8,wikibaseTimeToEpochTime:x8,wikibaseTimeToSimpleDay:w8}=ku,vo=n=>n.value,_8=(n,e)=>e.keepRichValues?n.value:n.value.text,ul=(n,e)=>E8(n,e.entityPrefix),S8={item:"Q",lexeme:"L",property:"P"},E8=(n,e)=>{const{value:t}=n,a=t.id||S8[t["entity-type"]]+t["numeric-id"];return typeof e=="string"?`${e}:${a}`:a},C8=(n,e)=>{const{value:t}=n,a=parseFloat(t.amount);if(e.keepRichValues){const o={amount:parseFloat(t.amount),unit:t.unit.replace(/^https?:\/\/.*\/entity\//,"")};return t.upperBound!=null&&(o.upperBound=parseFloat(t.upperBound)),t.lowerBound!=null&&(o.lowerBound=parseFloat(t.lowerBound)),o}else return a},M8=(n,e)=>e.keepRichValues?n.value:[n.value.latitude,n.value.longitude],I8=(n,e)=>{let t;if(typeof e.timeConverter=="function"?t=e.timeConverter(n.value):t=P8(e.timeConverter)(n.value),e.keepRichValues){const{timezone:a,before:o,after:u,precision:d,calendarmodel:c}=n.value;return{time:t,timezone:a,before:o,after:u,precision:d,calendarmodel:c}}else return t},P8=(n="iso")=>{const e=N8[n];if(!e)throw new Error(`invalid converter key: ${JSON.stringify(n).substring(0,100)}`);return e},N8={iso:b8,epoch:x8,"simple-day":w8,none:n=>n.time||n},C2={commonsMedia:vo,"external-id":vo,"geo-shape":vo,"globe-coordinate":M8,math:vo,monolingualtext:_8,"musical-notation":vo,quantity:C8,string:vo,"tabular-data":vo,time:I8,url:vo,"wikibase-entityid":ul,"wikibase-form":ul,"wikibase-item":ul,"wikibase-lexeme":ul,"wikibase-property":ul,"wikibase-sense":ul};var A8={parsers:C2,parse:(n,e,t,a)=>{n=n||e.type,n=n.replace(" ","-");try{return C2[n](e,t)}catch(o){throw o.message==="parsers[datatype] is not a function"&&(o.message=`${n} claim parser isn't implemented
        Claim id: ${a}
        Please report to https://github.com/maxlath/wikibase-sdk/issues`),o}}};const Fb=n=>{const e=n.reduce($8,{});return e.preferred||e.normal||[]},D8=n=>n.filter(e=>e.rank!=="deprecated"),$8=(n,e)=>{const{rank:t}=e;return n[t]||(n[t]=[]),n[t].push(e),n},T8=n=>{const e={};return Object.keys(n).forEach(t=>{e[t]=Fb(n[t])}),e};var Bb={truthyClaims:T8,truthyPropertyClaims:Fb,nonDeprecatedPropertyClaims:D8};const{parse:R8}=A8,{uniq:O8}=Pa,{truthyPropertyClaims:L8,nonDeprecatedPropertyClaims:k8}=Bb,dp=(n,...e)=>{const{propertyPrefix:t}=fp(e),a={};for(let o in n){const u=n[o];t&&(o=t+":"+o),a[o]=cp(u,...e)}return a},cp=(n,...e)=>{if(n==null||n.length===0)return[];const{keepNonTruthy:t,keepNonDeprecated:a,areSubSnaks:o}=fp(e);return a?n=k8(n):t||o||(n=L8(n)),n=n.map(u=>h1(u,...e)).filter(F8),n[0]&&typeof n[0]!="object"?O8(n):n},F8=n=>n!==void 0,h1=(n,...e)=>{e=fp(e);const{keepQualifiers:t,keepReferences:a,keepIds:o,keepHashes:u,keepTypes:d,keepSnaktypes:c,keepRanks:h}=V8(e),{mainsnak:g,rank:m}=n;let y,x,E,_,w,L;if(g?(x=g.datatype,E=g.datavalue,_=g.snaktype):(E=n.datavalue,x=n.datatype,_=n.snaktype,n.hash?w=!0:L=!0),E)y=R8(x,E,e,n.id);else if(_==="somevalue")y=e.somevalueValue;else if(_==="novalue")y=e.novalueValue;else throw new Error("no datavalue or special snaktype found");if(w){if(!(u||d||c))return y;const $={value:y};return u&&($.hash=n.hash),d&&($.type=x),c&&($.snaktype=_),$}if(L)return d?{type:x,value:y}:y;if(!(t||a||o||d||c||h))return y;const k={value:y};d&&(k.type=x),c&&(k.snaktype=_),h&&(k.rank=m);const W=qh(e);return W.keepHashes=u,t&&(k.qualifiers=Hb(n.qualifiers,W)),a&&(n.references=n.references||[],k.references=zb(n.references,W)),o&&(k.id=n.id),k},fp=n=>{if(n==null)return{};if(n[0]&&typeof n[0]=="object")return n[0];const[e,t,a]=n;return{entityPrefix:e,propertyPrefix:t,keepQualifiers:a}},Hb=(n,e)=>dp(n,qh(e)),B8=(n,e)=>cp(n,qh(e)),zb=(n,e)=>n.map(t=>H8(t,e)),H8=(n,e)=>{const t=qh(e),a=dp(n.snaks,t);return t.keepHashes?{snaks:a,hash:n.hash}:a},qh=(n={})=>n.areSubSnaks?n:Object.assign({},n,{areSubSnaks:!0}),z8=["keepQualifiers","keepReferences","keepIds","keepHashes","keepTypes","keepSnaktypes","keepRanks","keepRichValues"],V8=n=>(n.keepAll&&z8.forEach(e=>{n[e]==null&&(n[e]=!0)}),n);var hp={simplifyClaims:dp,simplifyPropertyClaims:cp,simplifyClaim:h1,simplifyQualifiers:Hb,simplifyPropertyQualifiers:B8,simplifyQualifier:h1,simplifyReferences:zb};const{isFormId:G8}=ku,{representations:W8}=op,{simplifyClaims:U8}=hp,Vb=(n,e)=>{const{id:t,representations:a,grammaticalFeatures:o,claims:u}=n;if(!G8(t))throw new Error("invalid form object");return{id:t,representations:W8(a),grammaticalFeatures:o,claims:U8(u,e)}},q8=(n,e)=>n.map(t=>Vb(t,e));var j8={simplifyForm:Vb,simplifyForms:q8};const{isSenseId:K8}=ku,{glosses:J8}=op,{simplifyClaims:Y8}=hp,Gb=(n,e)=>{const{id:t,glosses:a,claims:o}=n;if(!K8(t))throw new Error("invalid sense object");return{id:t,glosses:J8(a),claims:Y8(o,e)}},X8=(n,e)=>n.map(t=>Gb(t,e));var Z8={simplifySense:Gb,simplifySenses:X8},Q8=["aa","ab","ace","ady","af","ak","als","alt","ami","am","ang","an","arc","ar","ary","arz","ast","as","atj","avk","av","awa","ay","azb","az","ban","bar","bat_smg","ba","bcl","be_x_old","be","bg","bh","bi","bjn","bm","bn","bo","bpy","br","bs","bug","bxr","ca","cbk_zam","cdo","ceb","ce","cho","chr","ch","chy","ckb","co","crh","cr","csb","cs","cu","cv","cy","dag","da","de","din","diq","dsb","dty","dv","dz","ee","el","eml","en","eo","es","et","eu","ext","fa","ff","fiu_vro","fi","fj","fo","frp","frr","fr","fur","fy","gag","gan","ga","gcr","gd","glk","gl","gn","gom","gor","got","gu","gv","hak","ha","haw","he","hif","hi","ho","hr","hsb","ht","hu","hy","hyw","hz","ia","id","ie","ig","ii","ik","ilo","inh","io","is","it","iu","jam","ja","jbo","jv","kaa","kab","ka","kbd","kbp","kg","ki","kj","kk","kl","km","kn","koi","ko","krc","kr","ksh","ks","ku","kv","kw","ky","lad","la","lbe","lb","lez","lfn","lg","lij","li","lld","lmo","ln","lo","lrc","ltg","lt","lv","mad","mai","map_bms","mdf","mg","mhr","mh","min","mi","mk","ml","mni","mn","mnw","mo","mrj","mr","ms","mt","mus","mwl","myv","my","mzn","nah","nap","na","nds_nl","nds","ne","new","ng","nia","nl","nn","nov","no","nqo","nrm","nso","nv","ny","oc","olo","om","or","os","pag","pam","pap","pa","pcd","pdc","pfl","pih","pi","pl","pms","pnb","pnt","ps","pt","pwn","qu","rm","rmy","rn","roa_rup","roa_tara","ro","rue","ru","rw","sah","sat","sa","scn","sco","sc","sd","se","sg","shi","shn","sh","shy","simple","si","skr","sk","sl","smn","sm","sn","sources","so","sq","srn","sr","ss","stq","st","su","sv","sw","szl","szy","ta","tay","tcy","tet","te","tg","th","ti","tk","tl","tn","to","tpi","trv","tr","ts","tt","tum","tw","tyv","ty","udm","ug","uk","ur","uz","vec","vep","ve","vi","vls","vo","war","wa","wo","wuu","xal","xh","xmf","yi","yo","yue","za","zea","zh_classical","zh_min_nan","zh_yue","zh","zu"];const{fixedEncodeURIComponent:e9,replaceSpaceByUnderscores:t9,isPlainObject:n9}=Pa,{isPropertyId:r9}=ku,M2="https://www.wikidata.org/wiki/",i9=Q8,a9=(n,e)=>{if(n9(n)&&(e=n.title,n=n.site),!n)throw new Error("missing a site");if(!e)throw new Error("missing a title");const t=n.replace(/wiki$/,""),a=I2[t]||I2[n];if(a)return a(e);const{lang:o,project:u}=gp(n);return e=e9(t9(e)),`https://${o}.${u}.org/wiki/${e}`},Qc=n=>e=>`https://${n}.wikimedia.org/wiki/${e}`,I2={commons:Qc("commons"),mediawiki:n=>`https://www.mediawiki.org/wiki/${n}`,meta:Qc("meta"),species:Qc("species"),wikidata:n=>r9(n)?`${M2}Property:${n}`:`${M2}${n}`,wikimania:Qc("wikimania")},s9=/^https?:\/\/([\w-]{2,10})\.(\w+)\.org\/\w+\/(.*)/,gp=n=>{if(n.startsWith("http")){const e=n,t=e.match(s9);if(!t)throw new Error(`invalid sitelink url: ${e}`);let[a,o,u]=t.slice(1);u=decodeURIComponent(u);let d;return a==="www"?(a="en",d=o):a==="commons"?(a="en",o=d="commons"):d=`${a}${o}`.replace("wikipedia","wiki"),{lang:a,project:o,key:d,title:u,url:e}}else{const e=n,t=o9[e];if(t)return{lang:"en",project:t,key:e};const[a,o,u]=e.split("wik");if(u!=null)throw new Error(`invalid sitelink key: ${e}`);if(i9.indexOf(a)===-1)throw new Error(`sitelink lang not found: ${a}`);const d=l9[o];if(!d)throw new Error(`sitelink project not found: ${d}`);return{lang:a,project:d,key:e}}},o9={commonswiki:"commons",mediawikiwiki:"mediawiki",metawiki:"meta",specieswiki:"specieswiki",wikidatawiki:"wikidata",wikimaniawiki:"wikimania"},u9=n=>{try{return gp(n),!0}catch{return!1}},l9={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"};var Wb={getSitelinkUrl:a9,getSitelinkData:gp,isSitelinkKey:u9};const{getSitelinkUrl:d9}=Wb;var c9=(n,e={})=>{const{addUrl:t}=e;return Object.keys(n).reduce(f9(n,t),{})};const f9=(n,e)=>(t,a)=>{if(n[a]==null)return t[a]=n[a],t;const{title:o}=n[a];return e?t[a]={title:o,url:d9(a,o)}:t[a]=o,t};var h9=(n,e={})=>{typeof n=="string"&&(n=JSON.parse(n));const{vars:t}=n.head,a=n.results.bindings;if(t.length===1&&e.minimize===!0){const c=t[0];return a.map(h=>g1(h[c])).filter(h=>h!=null)}const{richVars:o,associatedVars:u,standaloneVars:d}=x9(t);return a.map(_9(o,u,d))};const g1=n=>{if(!n)return;let{datatype:e}=n;return e=e&&e.replace("http://www.w3.org/2001/XMLSchema#",""),(g9[n.type]||p9(e))(n)},g9={uri:n=>v9(n.value),bnode:()=>null},ef=n=>parseFloat(n.value),p9=n=>(n=n&&n.replace("http://www.w3.org/2001/XMLSchema#",""),m9[n]||y9),m9={decimal:ef,integer:ef,float:ef,double:ef,boolean:n=>n.value==="true"},y9=n=>n.value,v9=n=>n.match(/http.*\/entity\/statement\//)?b9(n):n.replace(/^https?:\/\/.*\/entity\//,"").replace(/^https?:\/\/.*\/prop\/direct\//,""),b9=n=>{n=n.replace(/^https?:\/\/.*\/entity\/statement\//,"");const e=n.split("-");return e[0]+"$"+e.slice(1).join("-")},x9=n=>{let e=n.filter(u=>n.some(w9(u)));e=e.filter(u=>!e.some(d=>u!==d&&u.startsWith(d)));const t=new RegExp(`^(${e.join("|")})[A-Z]`),a=n.filter(u=>t.test(u)),o=n.filter(u=>!e.includes(u)&&!t.test(u));return{richVars:e,associatedVars:a,standaloneVars:o}},w9=n=>{const e=new RegExp(`^${n}[A-Z]\\w+`);return e.test.bind(e)},_9=(n,e,t)=>a=>{const o={};for(const u of n){const d={},c=g1(a[u]);c!=null&&(d.value=c);for(const h of e)h.startsWith(u)&&S9(a,u,h,d);Object.keys(d).length>0&&(o[u]=d)}for(const u of t)o[u]=g1(a[u]);return o},S9=(n,e,t,a)=>{let o=t.split(e)[1];o=o[0].toLowerCase()+o.slice(1),o=E9[o]||o;const u=n[t];u!=null&&(a[o]=u.value)},E9={altLabel:"aliases"},{labels:C9,descriptions:M9,aliases:I9,lemmas:P9,glosses:N9}=op,{simplifyClaim:P2,simplifyPropertyClaims:N2,simplifyClaims:A2,simplifyQualifier:A9,simplifyPropertyQualifiers:D9,simplifyQualifiers:$9,simplifyReferences:T9}=hp,{simplifyForm:R9,simplifyForms:O9}=j8,{simplifySense:L9,simplifySenses:k9}=Z8,F9=c9,B9=h9;var Ub={labels:C9,descriptions:M9,aliases:I9,claim:P2,propertyClaims:N2,claims:A2,qualifier:A9,propertyQualifiers:D9,qualifiers:$9,references:T9,sitelinks:F9,snak:P2,propertySnaks:N2,snaks:A2,lemmas:P9,glosses:N9,form:R9,forms:O9,sense:L9,senses:k9,sparqlResults:B9};const pp=Ub,mp=(n,e)=>{const{type:t}=n,a={id:n.id,type:t,modified:n.modified};return n.datatype&&(a.datatype=n.datatype),t==="item"?(ji(n,a,"labels"),ji(n,a,"descriptions"),ji(n,a,"aliases"),ji(n,a,"claims",e),ji(n,a,"sitelinks",e)):t==="property"?(a.datatype=n.datatype,ji(n,a,"labels"),ji(n,a,"descriptions"),ji(n,a,"aliases"),ji(n,a,"claims",e)):t==="lexeme"&&(ji(n,a,"lemmas"),a.lexicalCategory=n.lexicalCategory,a.language=n.language,ji(n,a,"claims",e),ji(n,a,"forms",e),ji(n,a,"senses",e)),a},ji=(n,e,t,a)=>{n[t]!=null&&(e[t]=pp[t](n[t],a))},qb=(n,e={})=>{n.entities&&(n=n.entities);const{entityPrefix:t}=e;return Object.keys(n).reduce((a,o)=>{const u=n[o];return t&&(o=`${t}:${o}`),a[o]=mp(u,e),a},{})};pp.entity=mp;pp.entities=qb;var H9={simplifyEntity:mp,simplifyEntities:qb};const{simplifyEntity:z9}=H9,D2={entities:n=>{n=n.body||n;const{entities:e}=n;return Object.keys(e).forEach(t=>{e[t]=z9(e[t])}),e},pagesTitles:n=>(n=n.body||n,n.query.search.map(e=>e.title))};var V9={wb:D2,wd:D2},ug,$2;function G9(){if($2)return ug;$2=1;const n=typeof location<"u"&&typeof document<"u";let e;return n?e=t=>new URLSearchParams(t).toString():e=Z1.stringify,ug=t=>a=>(n&&(a.origin="*"),Object.keys(a).forEach(o=>{a[o]==null&&delete a[o]}),t+"?"+e(a)),ug}var lg,T2;function W9(){if(T2)return lg;T2=1;const{isPlainObject:n}=Pa,e=["item","property","lexeme","form","sense"];return lg=t=>(a,o,u,d,c)=>{let h,g;if(n(a)){const m=a;a=m.search,o=m.language,u=m.limit,g=m.continue,d=m.format,c=m.uselang,h=m.type}if(!(a&&a.length>0))throw new Error("search can't be empty");if(o=o||"en",c=c||o,u=u||"20",d=d||"json",h=h||"item",g=g||"0",!e.includes(h))throw new Error(`invalid type: ${h}`);return t({action:"wbsearchentities",search:a,language:o,limit:u,continue:g,format:d,uselang:c,type:h})},lg}var dg,R2;function U9(){if(R2)return dg;R2=1;const{isPlainObject:n}=Pa,e=/^\d+[|\d]*$/;return dg=t=>a=>{if(!n(a))throw new Error(`expected parameters to be passed as an object, got ${a} (${typeof a})`);for(const _ in a)if(_.startsWith("sr")){const w=_.replace(/^sr/,"");if(a[w]!=null)throw new Error(`${w} and ${_} are the same`);a[w]=a[_]}const{search:o,haswbstatement:u,format:d="json",limit:c,offset:h,profile:g,sort:m}=a;let{namespace:y,prop:x}=a;if(!(o||u))throw new Error('missing "search" or "haswbstatement" parameter');let E="";if(o&&(E+=o),u){const _=u instanceof Array?u:[u];for(const w of _)w[0]==="-"?E+=` -haswbstatement:${w.slice(1)}`:E+=` haswbstatement:${w}`}if(c!=null&&(typeof c!="number"||c<1))throw new Error(`invalid limit: ${c}`);if(h!=null&&(typeof h!="number"||h<0))throw new Error(`invalid offset: ${h}`);if(y instanceof Array?y=y.join("|"):typeof y=="number"&&(y=y.toString()),y&&!e.test(y))throw new Error(`invalid namespace: ${y}`);if(g!=null&&typeof g!="string")throw new Error(`invalid profile: ${g} (${typeof g}, expected string)`);if(m!=null&&typeof m!="string")throw new Error(`invalid sort: ${m} (${typeof m}, expected string)`);if(x!=null&&(y instanceof Array&&(x=x.join("|")),typeof x!="string"))throw new Error(`invalid prop: ${x} (${typeof x}, expected string)`);return t({action:"query",list:"search",srsearch:E.trim(),format:d,srnamespace:y,srlimit:c,sroffset:h,srqiprofile:g,srsort:m,srprop:x})},dg}var cg,O2;function jh(){if(O2)return cg;O2=1;const n=ku,e=(t,a)=>o=>{if(!n[a](o))throw new Error(`invalid ${t}: ${o}`)};return cg={entityId:e("entity id","isEntityId"),propertyId:e("property id","isPropertyId"),entityPageTitle:e("entity page title","isEntityPageTitle"),revisionId:e("revision id","isRevisionId")},cg}var fg,L2;function jb(){if(L2)return fg;L2=1;const{isPlainObject:n,forceArray:e,shortLang:t}=Pa,a=jh();return fg=o=>(u,d,c,h,g)=>{if(n(u)&&({ids:u,languages:d,props:c,format:h,redirects:g}=u),h=h||"json",!(u&&u.length>0))throw new Error("no id provided");u=e(u),u.forEach(a.entityId),u.length>50&&console.warn(`getEntities accepts 50 ids max to match Wikidata API limitations:
      this request won't get all the desired entities.
      You can use getManyEntities instead to generate several request urls
      to work around this limitation`);const m={action:"wbgetentities",ids:u.join("|"),format:h};return g===!1&&(m.redirects="no"),d&&(d=e(d).map(t),m.languages=d.join("|")),c&&c.length>0&&(m.props=e(c).join("|")),o(m)},fg}var hg,k2;function q9(){if(k2)return hg;k2=1;const{isPlainObject:n}=Pa;hg=t=>{const a=jb()(t);return(o,u,d,c,h)=>{if(n(o)&&({ids:o,languages:u,props:d,format:c,redirects:h}=o),!(o instanceof Array))throw new Error("getManyEntities expects an array of ids");return e(o).map(g=>a(g,u,d,c,h))}};const e=t=>{const a=[];for(;t.length>0;){const o=t.slice(0,50);t=t.slice(50),a.push(o)}return a};return hg}var gg,F2;function j9(){if(F2)return gg;F2=1;const{forceArray:n}=Pa,e=jh();gg=o=>(u,d={})=>{u=n(u),u.forEach(e.entityPageTitle);const c=u.length===1,h={action:"query",prop:"revisions"};h.titles=u.join("|"),h.format=d.format||"json",c&&(h.rvlimit=d.limit||"max"),c&&d.start&&(h.rvstart=t(d.start)),c&&d.end&&(h.rvend=t(d.end));const{prop:g,user:m,excludeuser:y,tag:x}=d;return g?h.rvprop=n(g).join("|"):h.rvprop="ids|flags|timestamp|user|userid|size|slotsize|sha1|slotsha1|contentmodel|comment|parsedcomment|content|tags|roles|oresscores",h.rvslots="*",m&&(h.rvuser=m),y&&(h.rvexcludeuser=y),x&&(h.rvtag=x),o(h)};const t=o=>typeof o=="number"&&o<a?o:Math.trunc(new Date(o).getTime()/1e3),a=new Date("2000-01-01").getTime();return gg}var pg,B2;function K9(){if(B2)return pg;B2=1;const n=jh(),{isPlainObject:e}=Pa;return pg=(t,a)=>(o,u)=>(e(o)&&(u=o.revision,o=o.id),n.entityId(o),n.revisionId(u),`${t}/${a}/index.php?title=Special:EntityData/${o}.json&revision=${u}`),pg}var mg,H2;function J9(){if(H2)return mg;H2=1;const{isPlainObject:n,forceArray:e,shortLang:t}=Pa;mg=o=>(u,d,c,h,g,m)=>{if(n(u)){const x=u;u=x.titles,d=x.sites,c=x.languages,h=x.props,g=x.format,m=x.redirects}if(g=g||"json",!(u&&u.length>0))throw new Error("no titles provided");d&&d.length>0||(d=["enwiki"]),u=e(u),d=e(d).map(a),h=e(h);const y={action:"wbgetentities",titles:u.join("|"),sites:d.join("|"),format:g};return d.length===1&&u.length===1&&(y.normalize=!0),c&&(c=e(c).map(t),y.languages=c.join("|")),h&&h.length>0&&(y.props=h.join("|")),m===!1&&(y.redirects="no"),o(y)};const a=o=>o.length===2?`${o}wiki`:o;return mg}var yg,z2;function Kb(){if(z2)return yg;z2=1;const{fixedEncodeURIComponent:n}=Pa;return yg=e=>t=>{const a=n(t);return`${e}?format=json&query=${a}`},yg}var vg,V2;function Y9(){if(V2)return vg;V2=1;const{forceArray:n}=Pa,{isItemId:e}=ku,t=jh(),a="FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ";vg=g=>{const m=Kb()(g);return(y,x,E={})=>{const{limit:_,caseInsensitive:w,keepProperties:L}=E,k=w?c:d,W=L?"":a;let $=n(y);$.forEach(t.propertyId),$=$.map(h).join("|");let z=`SELECT DISTINCT ?subject WHERE { ${o(x,k,$,W)} }`;return _&&(z+=` LIMIT ${_}`),m(z)}};const o=(g,m,y,x)=>g instanceof Array?"{ "+g.map(u).map(_=>m(y,_,x)).join("} UNION {")+" }":m(y,u(g),x),u=g=>(e(g)?g=`wd:${g}`:typeof g=="string"&&(g=`'${g}'`),g),d=(g,m,y,x)=>`?subject ${g} ${m} .
    ${y}`,c=(g,m,y,x)=>`?subject ${g} ?value .
    FILTER (lcase(?value) = ${m.toLowerCase()})
    ${y}`,h=g=>"wdt:"+g;return vg}const{isPlainObject:X9}=Pa,Z9=Ub,Q9=V9,eS=ku,tS=Wb,nS=Bb,rS=`Tip: if you just want to access functions that don't need an instance or a sparqlEndpoint,
those are also exposed directly on the module object. Exemple:
const { isItemId, simplify } = require('wikibase-sdk')`,Jb=Object.assign({simplify:Z9,parse:Q9},eS,tS,nS),Yb=n=>{if(!X9(n))throw new Error("invalid config");const{instance:e,sparqlEndpoint:t}=n;let{wgScriptPath:a="w"}=n;if(a=a.replace(/^\//,""),!(e||t))throw new Error(`one of instance or sparqlEndpoint should be set at initialization.
${rS}`);let o,u,d;if(e){G2("instance",e),u=e.replace(/\/$/,"").replace(`/${a}/api.php`,""),d=`${u}/${a}/api.php`;const g=G9()(d);o={searchEntities:W9()(g),cirrusSearchPages:U9()(g),getEntities:jb()(g),getManyEntities:q9()(g),getRevisions:j9()(g),getEntityRevision:K9()(e,a),getEntitiesFromSitelinks:J9()(g)}}else o={searchEntities:cu("searchEntities"),cirrusSearchPages:cu("cirrusSearchPages"),getEntities:cu("getEntities"),getManyEntities:cu("getManyEntities"),getRevisions:cu("getRevisions"),getEntityRevision:cu("getEntityRevision"),getEntitiesFromSitelinks:cu("getEntitiesFromSitelinks")};let c;return t?(G2("sparqlEndpoint",t),c={sparqlQuery:Kb()(t),getReverseClaims:Y9()(t)}):c={sparqlQuery:W2("sparqlQuery"),getReverseClaims:W2("getReverseClaims")},Object.assign({instance:{root:u,apiEndpoint:d}},Jb,o,c)};Object.assign(Yb,Jb);const G2=(n,e)=>{if(!(typeof e=="string"&&e.startsWith("http")))throw new Error(`invalid ${n}: ${e}`)},Xb=n=>e=>()=>{throw new Error(`${e} requires ${n} to be set at initialization`)},W2=Xb("a sparqlEndpoint"),cu=Xb("an instance");var iS=Yb,p1=iS({instance:"https://www.wikidata.org",sparqlEndpoint:"https://query.wikidata.org/sparql"});class bl{constructor(e,t,a,o,u,d){ae(this,"id");ae(this,"labels");ae(this,"descriptions");ae(this,"claims");ae(this,"wikisites");ae(this,"commons");this.id=e,this.labels=t,this.descriptions=a,this.claims=o,this.wikisites=u,this.commons=d}static fromJson(e){const t=new Map;for(const c in e.labels)t.set(c,e.labels[c].value);const a=new Map;for(const c in e.descriptions)a.set(c,e.descriptions[c].value);const o=new Map;for(const c in e.sitelinks){const h=c.substring(0,c.length-4),g=e.sitelinks[c].title;o.set(h,g)}const u=o.get("commons");o.delete("commons");const d=bl.extractClaims(e.claims);return new bl(e.id,t,a,d,o,u)}static extractClaims(e){const t=p1.simplify.claims(e,{timeConverter:"simple-day"}),a=new Map;for(const o in t){const u=t[o];a.set(o,new Set(u))}return a}}class aS{constructor(e){ae(this,"id");ae(this,"lemma");ae(this,"senses");ae(this,"claims");this.id=e.id,this.claims=bl.extractClaims(e.claims),this.lemma=new Map;for(const t in e.lemmas)this.lemma.set(t,e.lemmas[t].value);this.senses=new Map;for(const t of e.senses){const a=t.glosses;for(const o in a){let u=this.senses.get(o);u===void 0?u="":u=u+"; ",this.senses.set(o,u+a[o].value)}}}asWikidataResponse(){return new bl(this.id,this.lemma,this.senses,this.claims,new Map,void 0)}}const Wa=class{static LoadWikidataEntry(e){const t=this.ExtractKey(e),a=Wa._cache.get(t);if(a!==void 0)return a;const o=Nt.FromPromiseWithErr(Wa.LoadWikidataEntryAsync(t));return Wa._cache.set(t,o),o}static async searchAdvanced(e,t){let a="";(t==null?void 0:t.instanceOf)!==void 0&&t.instanceOf.length>0&&(a="{"+t.instanceOf.map(m=>`{ ?item wdt:P31/wdt:P279* wd:Q${m}. }`).join(" UNION ")+"}");const u=((t==null?void 0:t.notInstanceOf)??[]).concat([17379835]).map(g=>`MINUS {?item wdt:P31/wdt:P279* wd:Q${g} .}`),d=`SELECT * WHERE {
            SERVICE wikibase:mwapi {
                bd:serviceParam wikibase:api "EntitySearch" .
                bd:serviceParam wikibase:endpoint "www.wikidata.org" .
                bd:serviceParam mwapi:search "${e}" .
                bd:serviceParam mwapi:language "${t.lang}" .
                ?item wikibase:apiOutputItem mwapi:item .
                ?num wikibase:apiOrdinal true .
                bd:serviceParam wikibase:limit ${Math.round((t.maxCount??20)*1.5)} .
                ?label wikibase:apiOutput mwapi:label .
                ?description wikibase:apiOutput "@description" .
            }
            ${a}
            ${u.join(`
    `)}
        } ORDER BY ASC(?num) LIMIT ${t.maxCount??20}`,c=p1.sparqlQuery(d);return(await gt.downloadJson(c)).results.bindings.map(({item:g,label:m,description:y,num:x})=>({relevance:x==null?void 0:x.value,id:g==null?void 0:g.value,label:m==null?void 0:m.value,description:y==null?void 0:y.value}))}static async search(e,t,a=1){const o=(t==null?void 0:t.maxCount)??20;let u=Math.min(o,50);const d=a*u-u,c=(t==null?void 0:t.lang)??"en",h="https://www.wikidata.org/w/api.php?action=wbsearchentities&search="+e+"&language="+c+"&limit="+u+"&continue="+d+"&format=json&uselang="+c+"&type=item&origin=*&props=",m=(await gt.downloadJsonCached(h,1e4)).search;if(m.length<u)return m;if(m.length<o){const y={...t};y.maxCount=o-m.length,m.push(...await Wa.search(e,y,a+1))}return m}static async searchAndFetch(e,t){const a=await Wa.searchAdvanced(e,t),o=await Promise.all(a.map(async u=>{try{return console.log("Loading ",u.id),await Wa.LoadWikidataEntry(u.id).AsPromise()}catch(d){console.error(d);return}}));return gt.NoNull(o.map(u=>u.success))}static ExtractKey(e){if(typeof e=="number")return"Q"+e;if(e===void 0){console.error("ExtractKey: value is undefined");return}e=e.trim().toLowerCase();for(const t of Wa._prefixesToRemove)e.startsWith(t)&&(e=e.substring(t.length));if(!(e.startsWith("http")&&e==="")){for(const t of Wa._identifierPrefixes)if(e.startsWith(t)){const a=e.substring(t.length);if(a==="")return;const o=Number(a);return isNaN(o)?void 0:e.toUpperCase()}if(e!==""&&!isNaN(Number(e)))return"Q"+e}}static QIdToNumber(e){if(e==null)return;if(typeof e=="number")return e;if(e=e.trim(),!e.startsWith("Q"))return;e=e.substr(1);const t=Number(e);if(!isNaN(t))return t}static IdToArticle(e){if(e.startsWith("Q"))return"https://wikidata.org/wiki/"+e;if(e.startsWith("L"))return"https://wikidata.org/wiki/Lexeme:"+e;throw"Unknown id type: "+e}static async Sparql(e,t){const a="SELECT "+e.map(d=>d.startsWith("?")?d:"?"+d).join(" ")+`
WHERE
{
`+t.map(d=>d.endsWith(".")?d:d+".").join(`
`)+`  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE]". }
}`,o=p1.sparqlQuery(a);return(await gt.downloadJsonCached(o,24*60*60*1e3)).results.bindings}static async LoadWikidataEntryAsync(e){const t=Wa.ExtractKey(e);if(t===void 0){console.warn("Could not extract a wikidata entry from",e);return}const a="https://www.wikidata.org/wiki/Special:EntityData/"+t+".json",o=(await gt.downloadJsonCached(a,1e4)).entities,u=Array.from(Object.keys(o))[0],d=o[u];return t.startsWith("L")?new aS(d).asWikidataResponse():bl.fromJson(d)}};let Yi=Wa;ae(Yi,"_identifierPrefixes",["Q","L"].map(e=>e.toLowerCase())),ae(Yi,"_prefixesToRemove",["https://www.wikidata.org/wiki/Lexeme:","https://www.wikidata.org/wiki/","http://www.wikidata.org/entity/","Lexeme:"].map(e=>e.toLowerCase())),ae(Yi,"_cache",new Map);class sS{GetRelevantUrls(e,t){const a=(t==null?void 0:t.prefixes)??this.defaultKeyPrefixes;if(a===void 0)throw"No `defaultKeyPrefixes` defined by this image provider";const o=new Nt([]),u=new Set;return e.addCallbackAndRunD(d=>{var c,h;for(const g in d){if(!a.some(y=>g.startsWith(y)))continue;const m=gt.NoEmpty(((h=(c=d[g])==null?void 0:c.split(";"))==null?void 0:h.map(y=>y.trim()))??[]);for(const y of m)u.has(y)||(u.add(y),this.ExtractUrls(g,y).then(x=>{for(const E of x??[])E!==void 0&&E.then(_=>{_!==void 0&&(o.data.push(_),o.ping())})}))}}),o}}class oS{constructor(){ae(this,"title","");ae(this,"artist","");ae(this,"license");ae(this,"licenseShortName","");ae(this,"usageTerms","");ae(this,"attributionRequired",!1);ae(this,"copyrighted",!1);ae(this,"credit","");ae(this,"description","");ae(this,"informationLocation")}}class yp{static async GetCategoryContents(e,t=10,a=void 0){var g;if(e==null||e==="")return[];e.startsWith("Category:")||(e="Category:"+e);let o="https://commons.wikimedia.org/w/api.php?action=query&list=categorymembers&format=json&&origin=*&cmtitle="+encodeURIComponent(e);a!==void 0&&(o=`${o}&cmcontinue=${a}`);const u=await gt.downloadJson(o),c=(((g=u.query)==null?void 0:g.categorymembers)??[]).map(m=>m.title);if(u.continue===void 0)return c;if(t-c.length<=0)return console.debug(`Recursive wikimedia category load stopped for ${e}`),c;const h=await yp.GetCategoryContents(e,t-c.length,u.continue.cmcontinue);return c.push(...h),c}}const Ua=class extends sS{constructor(){super();ae(this,"commons_key","wikimedia_commons");ae(this,"defaultKeyPrefixes",[this.commons_key,"image"])}static ExtractFileName(t){if(!t.startsWith("http"))return t;const a=new URL(t).pathname;return a.substring(a.lastIndexOf("/")+1)}static PrepareUrl(t){return t.toLowerCase().startsWith("https://commons.wikimedia.org/wiki/")?t:`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(t)}?width=500&height=400`}static startsWithCommonsPrefix(t){return Ua.commonsPrefixes.some(a=>t.startsWith(a))}static removeCommonsPrefix(t){if(t.startsWith("https://upload.wikimedia.org/"))return t=t.substring(t.lastIndexOf("/")+1),t=decodeURIComponent(t),t.startsWith("File:")||(t="File:"+t),t;for(const a of Ua.commonsPrefixes)if(t.startsWith(a)){let o=t.substr(a.length);return a.startsWith("http")&&(o=decodeURIComponent(o)),o}return t}SourceIcon(t){const a=nr.wikimedia_commons_white_svg().SetStyle("width:2em;height: 2em");return t===void 0?a:new vu(nr.wikimedia_commons_white_img,`https://commons.wikimedia.org/wiki/${t}`,!0)}PrepUrl(t){return Ua.startsWithCommonsPrefix(t),t=Ua.removeCommonsPrefix(t),t.startsWith("File:")?this.UrlForImage(t):this.UrlForImage("File:"+t)}async ExtractUrls(t,a){const o=Ua.startsWithCommonsPrefix(a);return t!==void 0&&t!==this.commons_key&&!o?[]:(a=Ua.removeCommonsPrefix(a),a.startsWith("Category:")?(await yp.GetCategoryContents(a)).filter(d=>d.startsWith("File:")).map(d=>Promise.resolve(this.UrlForImage(d))):a.startsWith("File:")?[Promise.resolve(this.UrlForImage(a))]:a.startsWith("http")?[]:[Promise.resolve(this.UrlForImage("File:"+a))])}async DownloadAttribution(t){var g,m,y,x,E,_,w,L,k;if(t=Ua.ExtractFileName(t),t==="")return;const a="https://en.wikipedia.org/w/api.php?action=query&prop=imageinfo&iiprop=extmetadata&titles="+t+"&format=json&origin=*",o=await gt.downloadJsonCached(a,365*24*60*60),u=new oS,d=o.query.pages[-1];if(d===void 0)return;const c=(g=(d.imageinfo??[])[0])==null?void 0:g.extmetadata;if(c===void 0){console.warn("The file",t,"has no usable metedata or license attached... Please fix the license info file yourself!");return}let h=d.title;return h.startsWith("File:")&&(h=h.substr(5)),(h.endsWith(".jpg")||h.endsWith(".png"))&&(h=h.substring(0,h.length-4)),u.title=h,u.artist=(m=c.Artist)==null?void 0:m.value,u.license=(y=c.License)==null?void 0:y.value,u.copyrighted=(x=c.Copyrighted)==null?void 0:x.value,u.attributionRequired=(E=c.AttributionRequired)==null?void 0:E.value,u.usageTerms=(_=c.UsageTerms)==null?void 0:_.value,u.licenseShortName=(w=c.LicenseShortName)==null?void 0:w.value,u.credit=(L=c.Credit)==null?void 0:L.value,u.description=(k=c.ImageDescription)==null?void 0:k.value,u.informationLocation=new URL("https://en.wikipedia.org/wiki/"+d.title),u}UrlForImage(t){return t.startsWith("File:")||(t="File:"+t),{url:Ua.PrepareUrl(t),key:void 0,provider:this}}};let Pd=Ua;ae(Pd,"singleton",new Ua),ae(Pd,"commonsPrefixes",["https://commons.wikimedia.org/wiki/","https://upload.wikimedia.org","File:"]);const Io=class extends _a{constructor(e,t){let a=!1;const o=e.stabilized(250).bind(u=>u===void 0||u===""||u==="Q"?null:(a=!0,Yi.LoadWikidataEntry(u)));super(o.map(u=>{if(u===null||!a)return t==null?void 0:t.whileLoading;if(u===void 0)return new Gd(tn.t.general.loading);if(u.error!==void 0)return new _s(u.error).SetClass("alert");const d=u.success;return Io.WikidataResponsePreview(d,t)}))}static WikidataResponsePreview(e,t){var d,c,h;let a=(d=new vu(new un([e.id,t!=null&&t.noImages?e.id:nr.wikidata_svg().SetStyle("width: 2.5rem").SetClass("block")]).SetClass("flex"),Yi.IdToArticle(e.id),!0))==null?void 0:d.SetClass("must-link"),o=new un([new un([(c=Td.fromMap(e.labels))==null?void 0:c.SetClass("font-bold"),a]).SetClass("flex justify-between"),Td.fromMap(e.descriptions),Io.QuickFacts(e,t),...(t==null?void 0:t.extraItems)??[]]).SetClass("flex flex-col link-underline"),u;return((h=e.claims.get("P18"))==null?void 0:h.size)>0&&(u=Array.from(e.claims.get("P18"))[0]),u&&!(t!=null&&t.noImages)&&(u=Pd.singleton.PrepUrl(u).url,o=new un([new j4(u).SetStyle((t==null?void 0:t.imageStyle)??"max-width: 5rem; width: unset; height: 4rem").SetClass("rounded-xl mr-2"),o.SetClass("w-full")]).SetClass("flex")),o.SetClass("p-2 w-full"),o}static QuickFacts(e,t){var o,u,d;const a=[];for(const c of Io.extraProperties){let h=!0;for(const _ of c.requires){if(!((o=e.claims)!=null&&o.has("P"+_.p))){h=!1;break}if(!((u=e.claims)!=null&&u.get("P"+_.p).has("Q"+_.q))){h=!1;break}}if(!h)continue;const g=c.property,m=(t!=null&&t.noImages?c.textMode:c.display)??c.display;if(((d=e.claims)==null?void 0:d.get(g))===void 0)continue;const y=Array.from(e.claims.get(g));if(m instanceof Td){a.push(m.Subs({value:y.join(", ")}).SetClass("m-2"));continue}const E=gt.NoNull(y.map(_=>m.get(_))).map(_=>typeof _=="string"?new _s(_):_());a.push(new un(E).SetClass("flex m-2"))}if(a.length!==0)return new un(a).SetClass("flex")}};let Cu=Io;ae(Cu,"isHuman",[{p:31,q:5}]),ae(Cu,"extraProperties",[{requires:Io.isHuman,property:"P21",display:new Map([["Q6581097",()=>nr.gender_male_svg().SetStyle("width: 1rem; height: auto")],["Q6581072",()=>nr.gender_female_svg().SetStyle("width: 1rem; height: auto")],["Q1097630",()=>nr.gender_inter_svg().SetStyle("width: 1rem; height: auto")],["Q1052281",()=>nr.gender_trans_svg().SetStyle("width: 1rem; height: auto")],["Q2449503",()=>nr.gender_trans_svg().SetStyle("width: 1rem; height: auto")],["Q48270",()=>nr.gender_queer_svg().SetStyle("width: 1rem; height: auto")]]),textMode:new Map([["Q6581097","♂️"],["Q6581072","♀️"],["Q1097630","⚥️"],["Q1052281","🏳️‍⚧️"],["Q2449503","🏳️‍⚧️"],["Q48270","🏳️‍🌈 ⚧"]])},{property:"P569",requires:Io.isHuman,display:tn.t.general.wikipedia.previewbox.born},{property:"P570",requires:Io.isHuman,display:tn.t.general.wikipedia.previewbox.died}]);const Su=class{constructor(e){ae(this,"backend");this.backend=Su.getBackendUrl(e??{})}static extractLanguageAndName(e){const t=e.match("([^:]+):(.*)");if(t==null)return;const[a,o,u]=t;return{language:o,pageName:u}}extractPageName(e){if(!e.startsWith(this.backend))return;e=e.substring(this.backend.length);const t=e.match("/?wiki/(.+)");if(t==null)return;const[a,o]=t;return o}static getBackendUrl(e){let t="en.wikipedia.org";return e.backend?t=e.backend:e.language&&(t=`${e.language??"en"}.wikipedia.org`),t.startsWith("http")||(t="https://"+t),t}GetArticle(e,t){const a=this.backend+":"+e+":"+(t.firstParagraphOnly??!1),o=Su._cache.get(a);if(o!==void 0)return o;const u=Nt.FromPromiseWithErr(this.GetArticleAsync(e,t));return Su._cache.set(a,u),u}getDataUrl(e){return`${this.backend}/w/api.php?action=parse&format=json&origin=*&prop=text&page=`+e}getPageUrl(e){return`${this.backend}/wiki/${e}`}async search(e){const t=this.backend+"/w/api.php?action=query&format=json&list=search&srsearch="+encodeURIComponent(e);return(await gt.downloadJson(t)).query.search}async searchViaIndex(e){var c,h;const t=`${this.backend}/w/index.php?search=${encodeURIComponent(e)}&ns0=1`,a=await gt.downloadAdvanced(t);if(a.redirect){const g=a.redirect;return[{title:(c=this.extractPageName(g))==null?void 0:c.trim(),url:g,snippet:""}]}if(a.error)throw"Could not download: "+JSON.stringify(a);const o=document.createElement("html");o.innerHTML=a.content.replace(/href="\//g,'href="'+this.backend+"/");const u=o.getElementsByClassName("mw-search-results");return Array.from(((h=u[0])==null?void 0:h.getElementsByClassName("mw-search-result"))??[]).map(g=>{const m=Array.from(g.getElementsByClassName("searchalttitle"));for(const y of m)y.parentElement.removeChild(y);return{title:g.getElementsByClassName("mw-search-result-heading")[0].textContent.trim(),url:g.getElementsByTagName("a")[0].href,snippet:g.getElementsByClassName("searchresult")[0].textContent}})}async GetArticleAsync(e,t){var h,g,m;const a=await gt.downloadJson(this.getDataUrl(e));if(((h=a==null?void 0:a.parse)==null?void 0:h.text)===void 0)return;const o=a.parse.text["*"];if(o===void 0)return;const u=document.createElement("div");u.innerHTML=o;const d=Array.from(u.children)[0];for(const y of Su.classesToRemove){const x=d.getElementsByClassName(y);for(const E of Array.from(x))(g=E.parentElement)==null||g.removeChild(E)}for(const y of Su.idsToRemove){const x=d.querySelector("#"+y);(m=x==null?void 0:x.parentElement)==null||m.removeChild(x)}return Array.from(d.getElementsByTagName("a")).filter(y=>{var x;return((x=y.getAttribute("href"))==null?void 0:x.startsWith("/"))??!1}).forEach(y=>{y.target="_blank",y.href=`${this.backend}${y.getAttribute("href")}`}),t!=null&&t.firstParagraphOnly?d.getElementsByTagName("p").item(0).innerHTML:d.innerHTML}};let Po=Su;ae(Po,"classesToRemove",["shortdescription","sidebar","infobox","infobox_v2","noprint","ambox","mw-editsection","mw-selflink","mw-empty-elt","hatnote"]),ae(Po,"idsToRemove",["sjabloon_zie"]),ae(Po,"_cache",new Map);class uS extends un{constructor(e,t=0,a){const o=typeof t=="number"?new Nt(t):t??new Nt(0),u=[a==null?void 0:a.leftOfHeader],d=[];for(let g=0;g<e.length;g++){let m=e[g];const y=tn.W(m.header).onClick(()=>o.setData(g));o.addCallbackAndRun(_=>{_>=e.length&&(_=0),_===g?(y.SetClass("tab-active"),y.RemoveClass("tab-non-active")):(y.SetClass("tab-non-active"),y.RemoveClass("tab-active"))});const x=tn.W(m.content);x.SetClass("relative w-full inline-block"),d.push(x);const E=y.SetClass("block tab-single-header");u.push(E)}const c=new un(u).SetClass("tabs-header-bar");a!=null&&a.styleHeader&&a.styleHeader(c);const h=new _a(o.map(g=>d[g])).SetStyle("max-height: inherit; height: inherit");super([c,h])}}class U2 extends sc{constructor(t){super();ae(this,"content");this.content=t??""}AsMarkdown(){let t;return typeof this.content!="string"?t=this.content.AsMarkdown():t=this.content,`

`+t+`

`}InnerConstructElement(){const t=document.createElement("p");return typeof this.content!="string"?t.appendChild(this.content.ConstructElement()):t.innerHTML=this.content,t}}class bu extends un{constructor(e,t){const a=[];t=t??{addHeader:!1,firstParagraphOnly:!0,noImages:!1};const o=e.map(u=>bu.createLinkedContent(u.trim(),t));if(e.length==1){const u=o[0];a.push(new un([new un([t.noImages?void 0:nr.wikipedia_ui().SetStyle("width: 1.5rem").SetClass("inline-block mr-3"),u.titleElement]).SetClass("flex"),u.linkElement]).SetClass("flex justify-between align-middle")),a.push(u.contents.SetClass("overflow-auto normal-background rounded-lg"))}else if(e.length>1){const u=new uS(o.map(d=>{const c=d.contents.SetClass("overflow-auto normal-background rounded-lg block").SetStyle("max-height: inherit; height: inherit; padding-bottom: 3.3rem");return{header:d.titleElement.SetClass("pl-2 pr-2"),content:new un([d.linkElement.SetStyle("top: 2rem; right: 2.5rem;").SetClass("absolute subtle-background rounded-full p-3 opacity-50 hover:opacity-100 transition-opacity"),c]).SetStyle("max-height: inherit; height: inherit").SetClass("relative")}}),0,{leftOfHeader:t.noImages?void 0:nr.wikipedia_svg().SetStyle("width: 1.5rem; align-self: center;").SetClass("mr-4"),styleHeader:d=>d.SetClass("subtle-background").SetStyle("height: 3.3rem")});u.SetStyle("height: inherit; max-height: inherit; overflow: hidden"),a.push(u)}super(a),this.SetClass("block rounded-xl subtle-background m-1 p-2 flex flex-col").SetStyle("max-height: inherit")}static createLinkedContent(e,t){return e.match("[qQ][0-9]+")?bu.createWikidatabox(e,t):bu.createWikipediabox(e,t)}static createWikipediabox(e,t){const a=tn.t.general.wikipedia,o=Po.extractLanguageAndName(e);if(o===void 0)return{titleElement:void 0,contents:a.noWikipediaPage,linkElement:void 0};const u=new Po({language:o.language}),d=u.getPageUrl(o.pageName),c=new vu(nr.pop_out_svg().SetStyle("width: 1.2rem").SetClass("block  "),d,!0).SetClass("flex items-center enable-links");return{titleElement:new Ti(o.pageName,3),contents:bu.createContents(o.pageName,u,t),linkElement:c}}static createWikidatabox(e,t){const a=tn.t.general.wikipedia,o=Yi.LoadWikidataEntry(e).map(h=>{if(h===void 0)return"loading";if(h.error!==void 0)return"failed";const g=h.success;if(g===void 0)return"failed";if(g.wikisites.size===0)return["no page",g];const m=[Ur.language.data,"en",Array.from(g.wikisites.keys())[0]];let y,x,E=0;do y=m[E],x=g.wikisites.get(y),E++;while(x===void 0);return[x,y,g]},[Ur.language]),u=new _a(o.map(h=>{var _;if(h==="loading")return new Gd(a.loading.Clone()).SetClass("pl-6 pt-2");if(h==="failed")return a.failed.Clone().SetClass("alert p-4");if(h[0]=="no page"){const[w,L]=h;return(_=t.currentState)==null||_.setData("loaded"),new un([Cu.WikidataResponsePreview(L),a.noWikipediaPage.Clone().SetClass("subtle")]).SetClass("flex flex-col p-4")}const[g,m,y]=h,x=new Po({language:m}),E=Cu.QuickFacts(y);return bu.createContents(g,x,{topBar:E,...t})})),d=new _a(o.map(h=>{if(typeof h!="string"){const[g,m]=h;if(g==="no page"){const y=h[1];return new Ti(Td.fromMap(y.labels),3)}return new Ti(g,3)}return new vu(new Ti(e,3),"https://www.wikidata.org/wiki/"+e,!0)})),c=new _a(o.map(h=>{if(typeof h!="string"){const[g,m]=h,y=t.noImages?"Source":nr.pop_out_svg().SetStyle("width: 1.2rem").SetClass("block");if(g==="no page"){const E=h[1];return new vu(y,"https://www.wikidata.org/wiki/"+E.id,!0)}const x=`https://${m}.wikipedia.org/wiki/${g}`;return new vu(y,x,!0)}})).SetClass("flex items-center enable-links");return{contents:u,linkElement:c,titleElement:d}}static createContents(e,t,a){var c;const o=t.GetArticle(e,a),u=tn.t.general.wikipedia,d=new _a(o.map(h=>{if(h===void 0)return new Gd(u.loading.Clone());if(h.success!==void 0){let g=new _s(h.success);return a!=null&&a.addHeader&&(g=new un([new U2(new vu(u.fromWikipedia,t.getPageUrl(e),!0)),new U2(g)])),g.SetClass("wikipedia-article")}if(h.error)return console.warn("Loading wikipage failed due to",h.error),u.failed.Clone().SetClass("alert p-4")}));return o.addCallbackAndRunD(h=>{var g,m,y;h.success!==void 0?(g=a.currentState)==null||g.setData("loaded"):h.error!==void 0?(m=a.currentState)==null||m.setData("error"):(y=a.currentState)==null||y.setData("loading")}),new un([(c=a==null?void 0:a.topBar)==null?void 0:c.SetClass("border-2 border-grey rounded-lg m-1 mb-0"),d.SetClass("block pl-6 pt-2")])}}const Fh=class extends Qi{constructor(t){super();ae(this,"IsSelected",new Nt(!1));ae(this,"wikidataId");ae(this,"searchText");ae(this,"instanceOf");ae(this,"notInstanceOf");this.searchText=t==null?void 0:t.searchText,this.wikidataId=(t==null?void 0:t.value)??new Nt(void 0),this.instanceOf=t==null?void 0:t.instanceOf,this.notInstanceOf=t==null?void 0:t.notInstanceOf}GetValue(){return this.wikidataId}IsValid(t){return t.startsWith("Q")&&!isNaN(Number(t.substring(1)))}InnerConstructElement(){const t=new vl({placeholder:tn.t.general.wikipedia.searchWikidata,value:this.searchText,inputStyle:"width: calc(100% - 0.5rem); border: 1px solid black"}),a=this.wikidataId,o=new Bf({success:void 0}),u=t.GetValue().bind(h=>{if(h.length<3)return o;const g=Ur.language.data,m=g+":"+h;let y=Fh._searchCache.get(m);return y===void 0&&(y=Yi.searchAndFetch(h,{lang:g,maxCount:5,notInstanceOf:this.notInstanceOf,instanceOf:this.instanceOf}),Fh._searchCache.set(m,y)),Sb.FromPromiseWithErr(y)}),d=new _a(u.map(h=>{if(t.GetValue().data.length===0)return tn.t.general.wikipedia.doSearch;if(t.GetValue().data.length<3)return tn.t.general.wikipedia.searchToShort;if(h===void 0)return new Gd(tn.t.general.loading);if(h.error!==void 0)return new un([tn.t.general.wikipedia.failed.Clone().SetClass("alert"),h.error]);const g=h.success;return g.length===0?tn.t.general.wikipedia.noResults.Subs({search:t.GetValue().data??""}):new un(g.map(m=>{const y=Cu.WikidataResponsePreview(m).SetClass("rounded-xl p-1 sm:p-2 md:p-3 m-px border-2 sm:border-4 transition-colors");return y.onClick(()=>{a.setData(m.id)}),a.addCallbackAndRunD(x=>{x===m.id?y.SetClass("subtle-background border-attention"):(y.RemoveClass("subtle-background"),y.RemoveClass("border-attention"))}),y})).SetClass("flex flex-col")},[t.GetValue()])),c=new un([new Ti(tn.t.general.wikipedia.searchWikidata,3).SetClass("m-2"),new un([nr.search_ui().SetStyle("width: 1.5rem"),t.SetClass("m-2 w-full")]).SetClass("flex"),d]).SetClass("flex flex-col border-2 border-black rounded-xl m-2 p-2");return new un([new _a(a.map(h=>{if(h!==void 0)return new bu(h.split(";"))})).SetStyle("max-height:12.5rem"),c]).ConstructElement()}};let Cf=Fh;ae(Cf,"_searchCache",new Map);class lS extends Qi{constructor(t,a,o,u,d=[]){super();ae(this,"_inputElement");ae(this,"isSame");ae(this,"fromX");ae(this,"toX");ae(this,"_value");this.isSame=a,this.fromX=u,this.toX=o,this._inputElement=t;const c=this;this._value=t.GetValue().sync(h=>{var y;const g=o(h),m=(y=c.GetValue())==null?void 0:y.data;return a(m,g)?m:g},d,h=>u(h))}GetValue(){return this._value}IsValid(t){if(t===void 0)return!1;const a=this.fromX(t);return a===void 0?!1:this._inputElement.IsValid(a)}InnerConstructElement(){return this._inputElement.ConstructElement()}}class Ka{constructor(e,t){ae(this,"name");ae(this,"explanation");ae(this,"inputmode");this.name=e,this.name.endsWith("textfield")&&(this.name=this.name.substr(0,this.name.length-9)),this.name.endsWith("textfielddef")&&(this.name=this.name.substr(0,this.name.length-12)),typeof t=="string"?this.explanation=t:this.explanation=t.AsMarkdown()}getFeedback(e){const t=tn.t.validation[this.name];if(t!==void 0)return t.feedback}ConstructInputElement(e={}){var d,c;e.placeholder===void 0&&(e.placeholder=((d=tn.t.validation[this.name])==null?void 0:d.description)??this.name),e.textArea=this.name==="text",this.name==="text"&&(e.htmlType="area");const t=this;e.unit!==void 0?e.isValid=h=>{const g=e.unit.findDenomination(h,e==null?void 0:e.country);if(g===void 0)return!1;const m=g[0];return t.isValid(m,e.country)}:e.isValid=h=>t.isValid(h,e.country),e.cssText="width: 100%;",e.inputMode=this.inputmode,this.inputmode==="text"&&(e.htmlType="area",e.textAreaRows=4);const a=new vl(e);let o=a;if(e.feedback&&a.GetRawValue().addCallback(h=>{t.isValid(h,e.country)?e.feedback.setData(void 0):e.feedback.setData(t.getFeedback(h))}),this.reformat&&e.unit===void 0&&o.GetValue().addCallbackAndRun(h=>{if(!e.isValid(h,e.country))return;const g=this.reformat(h,e.country);o.GetValue().setData(g)}),e.unit){const h=e.unit,g=o.GetValue().map(x=>(x==null?void 0:x.trim())==="1"),m=h.denominations.length===1?new o8(h.denominations[0].getToggledHuman(g),h.denominations[0]):new _b("",h.denominations.map(x=>({shown:x.getToggledHuman(g),value:x})));m.GetValue().setData(h.getDefaultInput(e.country)),m.SetClass("w-min");const y=h.denominations.length===1?h.denominations[0]:void 0;o=new s2(o,m,(x,E)=>E===void 0?x:E==null?void 0:E.canonicalValue(x,!0),x=>{const E=h.findDenomination(x,e==null?void 0:e.country);if(E===void 0)return[void 0,y];const[_,w]=E;return _===void 0?[void 0,y]:[_,w]}).SetClass("flex")}const u=(c=this.inputHelper(o.GetValue(),{location:e.location,mapBackgroundLayer:e.mapBackgroundLayer,args:e.args,feature:e.feature}))==null?void 0:c.SetClass("block");return u!==void 0&&(o=new s2(o,u,(h,g)=>h,h=>[h,h]).SetClass("block w-full")),this.postprocess!==void 0&&(o=new lS(o,(h,g)=>h===g,this.postprocess,this.undoPostprocess)),o}isValid(e,t){return!0}reformat(e,t){return e}postprocess(e){return e}undoPostprocess(e){return e}inputHelper(e,t){}}class dS extends Ka{constructor(){super("wikidata",new un(["A wikidata identifier, e.g. Q42.",new Ti("Helper arguments"),new jd(["name","doc"],[["key","the value of this tag will initialize search (default: name)"],["options",new un(["A JSON-object of type `{ removePrefixes: string[], removePostfixes: string[] }`.",new jd(["subarg","doc"],[["removePrefixes","remove these snippets of text from the start of the passed string to search. This is either a list OR a hash of languages to a list. The individual strings are interpreted as case ignoring regexes"],["removePostfixes","remove these snippets of text from the end of the passed string to search. This is either a list OR a hash of languages to a list. The individual strings are interpreted as case ignoring regexes."],["instanceOf","A list of Q-identifier which indicates that the search results _must_ be an entity of this type, e.g. [`Q5`](https://www.wikidata.org/wiki/Q5) for humans"],["notInstanceof","A list of Q-identifiers which indicates that the search results _must not_ be an entity of this type, e.g. [`Q79007`](https://www.wikidata.org/wiki/Q79007) to filter away all streets from the search results"]])])]]),new Ti("Example usage"),`The following is the 'freeform'-part of a layer config which will trigger a search for the wikidata item corresponding with the name of the selected feature. It will also remove '-street', '-square', ... if found at the end of the name

\`\`\`json
"freeform": {
    "key": "name:etymology:wikidata",
    "type": "wikidata",
    "helperArgs": [
        "name",
        {
            "removePostfixes": {"en": [
                "street",
                "boulevard",
                "path",
                "square",
                "plaza",
            ],
             "nl": ["straat","plein","pad","weg",laan"],
             "fr":["route (de|de la|de l'| de le)"]
             },

            "#": "Remove streets and parks from the search results:"
             "notInstanceOf": ["Q79007","Q22698"]
        }

    ]
}
\`\`\`

Another example is to search for species and trees:

\`\`\`json
 "freeform": {
        "key": "species:wikidata",
        "type": "wikidata",
        "helperArgs": [
          "species",
          {
          "instanceOf": [10884, 16521]
        }]
      }
\`\`\`
`]))}isValid(e){return e===void 0||e.length<=2?!1:!e.split(";").some(t=>Yi.ExtractKey(t)===void 0)}reformat(e){if(e===void 0)return;let t=e.split(";").map(a=>Yi.ExtractKey(a)).join("; ");return e.endsWith(";")&&(t=t+";"),t}inputHelper(e,t){var m,y;const a=t.args??[],o=a[0]??"name",u=((y=(m=t.feature)==null?void 0:m.properties[o])==null?void 0:y.toLowerCase())??"";let d=new Nt(u);const c=a[1];if(u!==void 0&&c!==void 0){const x=c.removePrefixes??[],E=c.removePostfixes??[];Ur.language.map(w=>{const L=(Array.isArray(x)?x:x[w]??[]).map($=>new RegExp("^"+$,"i")),k=(Array.isArray(E)?E:E[w]??[]).map($=>new RegExp($+"$","i"));let W=u;for(const $ of k){const O=u.match($);if(O!==null){W=u.substring(0,u.length-O[0].length);break}}for(const $ of L){const O=u.match($);if(O!==null){W=u.substring(O[0].length);break}}return W}).addCallbackAndRun(w=>d.setData(w))}let h=gt.NoNull(((c==null?void 0:c.instanceOf)??[]).map(x=>Yi.QIdToNumber(x))),g=gt.NoNull(((c==null?void 0:c.notInstanceOf)??[]).map(x=>Yi.QIdToNumber(x)));return new Cf({value:e,searchText:d,instanceOf:h,notInstanceOf:g})}}class cS extends Ka{constructor(){super("opening_hours",new un(["Has extra elements to easily input when a POI is opened.",new Ti("Helper arguments"),new jd(["name","doc"],[["options",new un(["A JSON-object of type `{ prefix: string, postfix: string }`. ",new jd(["subarg","doc"],[["prefix","Piece of text that will always be added to the front of the generated opening hours. If the OSM-data does not start with this, it will fail to parse."],["postfix","Piece of text that will always be added to the end of the generated opening hours"]])])]]),new Ti("Example usage"),`To add a conditional (based on time) access restriction:

\`\`\`

"freeform": {
    "key": "access:conditional",
    "type": "opening_hours",
    "helperArgs": [
        {
          "prefix":"no @ (",
          "postfix":")"
        }
    ]
}
\`\`\`

*Don't forget to pass the prefix and postfix in the rendering as well*: \`{opening_hours_table(opening_hours,yes @ &LPARENS, &RPARENS )\``]))}isValid(){return!0}reformat(e){return e}inputHelper(e,t){const a=(t.args??[])[0],o=(a==null?void 0:a.prefix)??"",u=(a==null?void 0:a.postfix)??"";return new r8(e,o,u)}}class fS extends Ka{constructor(){super("url","The validatedTextField will format URLs to always be valid and have a https://-header (even though the 'https'-part will be hidden from the user")}postprocess(e){if(e!==void 0)return!e.startsWith("http://")||!e.startsWith("https://")?"https://"+e:e}undoPostprocess(e){if(e!==void 0)return e.startsWith("http://")?e.substr(7):e.startsWith("https://")?e.substr(8):e}reformat(e){try{let t;!e.startsWith("http://")&&!e.startsWith("https://")&&!e.startsWith("http:")?t=new URL("https://"+e):t=new URL(e);const a=["fbclid","gclid","cmpid","agid","utm","utm_source","utm_medium","campaignid","campaign","AdGroupId","AdGroup","TargetId","msclkid"];for(const u of a)t.searchParams.delete(u.toLowerCase());let o=t.toString();return o.endsWith("/")&&!e.endsWith("/")&&(o=o.substr(0,o.length-1)),o.startsWith("https://")&&(o=o.substr(8)),o}catch(t){console.error(t);return}}isValid(e){try{!e.startsWith("http://")&&!e.startsWith("https://")&&!e.startsWith("http:")&&(e="https://"+e);const t=new URL(e);return t.host.indexOf(".")>0&&t.host[t.host.length-1]!=="."}catch{return!1}}}class hS extends Ka{constructor(){super("string","A simple piece of text")}}class gS extends Ka{constructor(){super("text","A longer piece of text. Uses an textArea instead of a textField")}}class pS extends Ka{constructor(){super("date","A date with date picker");ae(this,"isValid",t=>!isNaN(new Date(t).getTime()))}reformat(t){const a=new Date(t);let o=""+(a.getMonth()+1),u=""+a.getDate();const d=a.getFullYear();return o.length<2&&(o="0"+o),u.length<2&&(u="0"+u),[d,o,u].join("-")}inputHelper(t){return new y6(t)}}class mS extends Ka{constructor(){super("distance",'A geographical distance in meters (rounded at two points). Will give an extra minimap with a measurement tool. Arguments: [ zoomlevel, preferredBackgroundMapType (comma separated) ], e.g. `["21", "map,photo"]');ae(this,"inputMode");ae(this,"isValid",t=>{const a=Number(t);return!isNaN(a)});ae(this,"inputHelper",(t,a)=>{a=a??{},a.location=a.location??[0,0];const o=a.args??[];let u=19;if(o[0]&&(u=Number(o[0]),isNaN(u)&&(console.error("Invalid zoom level for argument at 'length'-input. The offending argument is: ",o[0]," (using 19 instead)"),u=19)),(a==null?void 0:a.feature)!==void 0&&a.feature.geometry.type!=="Point"){const g=[...a.location];g.reverse(),a.location=Lr.nearestPoint(a.feature,g).geometry.coordinates,a.location.reverse()}const d=new Nt({lat:a.location[0],lon:a.location[1],zoom:u});o[1]&&(a.mapBackgroundLayer=fs.SelectBestLayerAccordingTo(d,new Nt(o[1].split(","))));const c=a==null?void 0:a.mapBackgroundLayer,h=new s8(new Nt(c.data),d,t);return h.SetStyle("height: 20rem;"),h})}}class vp extends Ka{constructor(t,a){super(t??"float",a??"A decimal");ae(this,"inputmode","decimal")}isValid(t){return!isNaN(Number(t))&&!t.endsWith(".")&&!t.endsWith(",")}reformat(t){return""+Number(t)}getFeedback(t){if(isNaN(Number(t)))return tn.t.validation.nat.notANumber}}class bp extends vp{constructor(t,a){super(t??"int",a??"A number");ae(this,"inputMode","numeric")}isValid(t){return t=""+t,t!==void 0&&t.indexOf(".")<0&&!isNaN(Number(t))}getFeedback(t){const a=Number(t);if(isNaN(a))return tn.t.validation.nat.notANumber;if(Math.floor(a)!==a)return tn.t.validation.nat.mustBeWhole}}class Zb extends bp{constructor(t,a){super(t??"nat",a??"A positive number or zero");ae(this,"inputMode","numeric")}isValid(t){return t===void 0?!1:(t=""+t,t.indexOf(".")<0&&!isNaN(Number(t))&&Number(t)>=0)}getFeedback(t){const a=super.getFeedback(t);if(a!==void 0)return a;if(Number(t)<0)return tn.t.validation.nat.mustBePositive}}class yS extends Zb{constructor(){super("pnat","A strict positive number");ae(this,"inputmode","numeric");ae(this,"isValid",t=>super.isValid(t)?Number(t)>0:!1)}getFeedback(t){const a=super.getFeedback(t);if(a!==void 0)return a;if(Number(t)===0)return tn.t.validation.pnat.noZero}}class vS extends vp{constructor(){super("pfloat","A positive decimal (inclusive zero)");ae(this,"inputmode","decimal");ae(this,"isValid",t=>!isNaN(Number(t))&&Number(t)>=0&&!t.endsWith(".")&&!t.endsWith(","))}getFeedback(t){const a=super.getFeedback(t);if(a!==void 0)return a;if(Number(t)<0)return tn.t.validation.nat.mustBePositive}}class bS extends Ka{constructor(){super("email","An email adress");ae(this,"inputmode","email");ae(this,"isValid",t=>t===void 0?!1:(t=t.trim(),t.startsWith("mailto:")&&(t=t.substring(7)),b_(t)));ae(this,"reformat",t=>{if(t!==void 0)return t=t.trim(),t.startsWith("mailto:")&&(t=t.substring(7)),t})}getFeedback(t){return t.indexOf("@")<0?tn.t.validation.email.noAt:super.getFeedback(t)}}class xS extends Ka{constructor(){super("phone","A phone number");ae(this,"inputmode","tel");ae(this,"reformat",(t,a)=>{var o,u;return t.startsWith("tel:")&&(t=t.substring(4)),(u=a2(t,(o=a())==null?void 0:o.toUpperCase()))==null?void 0:u.formatInternational()})}isValid(t,a){var u,d;if(t===void 0)return!1;t.startsWith("tel:")&&(t=t.substring(4));let o;return a!==void 0&&(o=(u=a())==null?void 0:u.toUpperCase()),((d=a2(t,o))==null?void 0:d.isValid())??!1}}class wS extends Ka{constructor(){super("color","Shows a color picker");ae(this,"inputHelper",t=>new a8(t.map(a=>gt.ColourNameToHex(a??""),[],a=>gt.HexToColourName(a))))}}class _S extends bp{constructor(){super("direction","A geographical direction, in degrees. 0° is north, 90° is east, ... Will return a value between 0 (incl) and 360 (excl)");ae(this,"inputMode","numeric");ae(this,"inputHelper",(t,a)=>{const o=a.args??[];a.location=a.location??[0,0];let u=19;if(o[0]&&(u=Number(o[0]),isNaN(u)))throw"Invalid zoom level for argument at 'length'-input";const d=new Nt({lat:a.location[0],lon:a.location[1],zoom:u});o[1]&&(a.mapBackgroundLayer=fs.SelectBestLayerAccordingTo(d,new Nt(o[1].split(","))));const c=new i8(a.mapBackgroundLayer,d,t);return c.SetStyle("max-width: 25rem;"),c})}reformat(t){return""+Number(t)%360}}const Eu=class{static ForType(e="string"){const t=Eu.allTypes.get(e);return t===void 0?(console.warn("Something tried to load a validated text field named",e,"but this type does not exist"),this.ForType()):t}static HelpText(){const e=Eu.AllTextfieldDefs.map(t=>new un([new Ti(t.name,3),t.explanation]).SetClass("flex flex-col"));return new un([new Ti("Available types for text fields",1),"The listed types here trigger a special input element. Use them in `tagrendering.freeform.type` of your tagrendering to activate them",...e]).SetClass("flex flex-col")}static AvailableTypes(){return Eu.AllTextfieldDefs.map(e=>e.name)}static allTypesDict(){const e=new Map;for(const t of Eu.AllTextfieldDefs)e[t.name]=t,e.set(t.name,t);return e}};let tf=Eu;ae(tf,"AllTextfieldDefs",[new hS,new gS,new pS,new Zb,new bp,new mS,new _S,new dS,new yS,new vp,new vS,new bS,new fS,new xS,new cS,new wS]),ae(tf,"allTypes",Eu.allTypesDict());var lh={},SS={get exports(){return lh},set exports(n){lh=n}};/**
 * @license
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash exports="node" include="clone,merge,isEmpty,isArray,compact,each" -d`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,a="4.15.0",o=200,u="Expected a function",d="__lodash_hash_undefined__",c=1,h=2,g=1/0,m=9007199254740991,y="[object Arguments]",x="[object Array]",E="[object Boolean]",_="[object Date]",w="[object Error]",L="[object Function]",k="[object GeneratorFunction]",W="[object Map]",$="[object Number]",O="[object Object]",z="[object Promise]",le="[object RegExp]",H="[object Set]",Z="[object String]",Y="[object Symbol]",ye="[object WeakMap]",F="[object ArrayBuffer]",b="[object DataView]",I="[object Float32Array]",B="[object Float64Array]",V="[object Int8Array]",ee="[object Int16Array]",ce="[object Int32Array]",q="[object Uint8Array]",ne="[object Uint8ClampedArray]",C="[object Uint16Array]",G="[object Uint32Array]",_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,$e=/^\./,be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/[\\^$.*+?()[\]{}|]/g,Qe=/\\(\\)?/g,Ot=/\w*$/,it=/^\[object .+?Constructor\]$/,at=/^(?:0|[1-9]\d*)$/,lt={};lt[I]=lt[B]=lt[V]=lt[ee]=lt[ce]=lt[q]=lt[ne]=lt[C]=lt[G]=!0,lt[y]=lt[x]=lt[F]=lt[E]=lt[b]=lt[_]=lt[w]=lt[L]=lt[W]=lt[$]=lt[O]=lt[le]=lt[H]=lt[Z]=lt[ye]=!1;var Pe={};Pe[y]=Pe[x]=Pe[F]=Pe[b]=Pe[E]=Pe[_]=Pe[I]=Pe[B]=Pe[V]=Pe[ee]=Pe[ce]=Pe[W]=Pe[$]=Pe[O]=Pe[le]=Pe[H]=Pe[Z]=Pe[Y]=Pe[q]=Pe[ne]=Pe[C]=Pe[G]=!0,Pe[w]=Pe[L]=Pe[ye]=!1;var Tt=typeof wr=="object"&&wr&&wr.Object===Object&&wr,Rn=typeof self=="object"&&self&&self.Object===Object&&self,$t=Tt||Rn||Function("return this")(),te=e&&!e.nodeType&&e,D=te&&!0&&n&&!n.nodeType&&n,A=D&&D.exports===te,se=A&&Tt.process,pe=function(){try{return se&&se.binding("util")}catch{}}(),Ee=pe&&pe.isTypedArray;function Te(P,X){return P.set(X[0],X[1]),P}function Me(P,X){return P.add(X),P}function je(P,X,he){switch(he.length){case 0:return P.call(X);case 1:return P.call(X,he[0]);case 2:return P.call(X,he[0],he[1]);case 3:return P.call(X,he[0],he[1],he[2])}return P.apply(X,he)}function wt(P,X){for(var he=-1,Ie=P?P.length:0;++he<Ie&&X(P[he],he,P)!==!1;);return P}function Kt(P,X){for(var he=-1,Ie=X.length,ut=P.length;++he<Ie;)P[ut+he]=X[he];return P}function nt(P,X,he,Ie){var ut=-1,qe=P?P.length:0;for(Ie&&qe&&(he=P[++ut]);++ut<qe;)he=X(he,P[ut],ut,P);return he}function qt(P,X){for(var he=-1,Ie=P?P.length:0;++he<Ie;)if(X(P[he],he,P))return!0;return!1}function Ne(P){return function(X){return X==null?t:X[P]}}function nn(P,X){for(var he=-1,Ie=Array(P);++he<P;)Ie[he]=X(he);return Ie}function en(P){return function(X){return P(X)}}function It(P,X){return P==null?t:P[X]}function st(P){var X=!1;if(P!=null&&typeof P.toString!="function")try{X=!!(P+"")}catch{}return X}function Ft(P){var X=-1,he=Array(P.size);return P.forEach(function(Ie,ut){he[++X]=[ut,Ie]}),he}function Zr(P,X){return function(he){return P(X(he))}}function Cn(P){var X=-1,he=Array(P.size);return P.forEach(function(Ie){he[++X]=Ie}),he}var dn=Array.prototype,gi=Function.prototype,ln=Object.prototype,At=$t["__core-js_shared__"],An=function(){var P=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),et=gi.toString,ze=ln.hasOwnProperty,St=et.call(Object),cn=ln.toString,ot=RegExp("^"+et.call(ze).replace(Ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ir=A?$t.Buffer:t,Ct=$t.Symbol,oe=$t.Uint8Array,Q=Zr(Object.getPrototypeOf,Object),J=Object.create,U=ln.propertyIsEnumerable,R=dn.splice,K=Object.getOwnPropertySymbols,ie=ir?ir.isBuffer:t,xe=Zr(Object.keys,Object),ve=Math.max,Re=Qa($t,"DataView"),We=Qa($t,"Map"),Ae=Qa($t,"Promise"),me=Qa($t,"Set"),rt=Qa($t,"WeakMap"),Bt=Qa(Object,"create"),bt=!U.call({valueOf:1},"valueOf"),Lt=aa(Re),dt=aa(We),pt=aa(Ae),mn=aa(me),fn=aa(rt),kn=Ct?Ct.prototype:t,qn=kn?kn.valueOf:t,yr=kn?kn.toString:t;function Yt(){}function On(P){var X=-1,he=P?P.length:0;for(this.clear();++X<he;){var Ie=P[X];this.set(Ie[0],Ie[1])}}function Wt(){this.__data__=Bt?Bt(null):{}}function Zn(P){return this.has(P)&&delete this.__data__[P]}function Mt(P){var X=this.__data__;if(Bt){var he=X[P];return he===d?t:he}return ze.call(X,P)?X[P]:t}function Ci(P){var X=this.__data__;return Bt?X[P]!==t:ze.call(X,P)}function Mn(P,X){var he=this.__data__;return he[P]=Bt&&X===t?d:X,this}On.prototype.clear=Wt,On.prototype.delete=Zn,On.prototype.get=Mt,On.prototype.has=Ci,On.prototype.set=Mn;function zt(P){var X=-1,he=P?P.length:0;for(this.clear();++X<he;){var Ie=P[X];this.set(Ie[0],Ie[1])}}function Tn(){this.__data__=[]}function Qr(P){var X=this.__data__,he=ht(X,P);if(he<0)return!1;var Ie=X.length-1;return he==Ie?X.pop():R.call(X,he,1),!0}function Mi(P){var X=this.__data__,he=ht(X,P);return he<0?t:X[he][1]}function Be(P){return ht(this.__data__,P)>-1}function kt(P,X){var he=this.__data__,Ie=ht(he,P);return Ie<0?he.push([P,X]):he[Ie][1]=X,this}zt.prototype.clear=Tn,zt.prototype.delete=Qr,zt.prototype.get=Mi,zt.prototype.has=Be,zt.prototype.set=kt;function Ht(P){var X=-1,he=P?P.length:0;for(this.clear();++X<he;){var Ie=P[X];this.set(Ie[0],Ie[1])}}function Nr(){this.__data__={hash:new On,map:new(We||zt),string:new On}}function Ta(P){return oi(this,P).delete(P)}function zn(P){return oi(this,P).get(P)}function Fi(P){return oi(this,P).has(P)}function M(P,X){return oi(this,P).set(P,X),this}Ht.prototype.clear=Nr,Ht.prototype.delete=Ta,Ht.prototype.get=zn,Ht.prototype.has=Fi,Ht.prototype.set=M;function T(P){var X=-1,he=P?P.length:0;for(this.__data__=new Ht;++X<he;)this.add(P[X])}function ue(P){return this.__data__.set(P,d),this}function ge(P){return this.__data__.has(P)}T.prototype.add=T.prototype.push=ue,T.prototype.has=ge;function re(P){this.__data__=new zt(P)}function Se(){this.__data__=new zt}function fe(P){return this.__data__.delete(P)}function Oe(P){return this.__data__.get(P)}function Ge(P){return this.__data__.has(P)}function Xe(P,X){var he=this.__data__;if(he instanceof zt){var Ie=he.__data__;if(!We||Ie.length<o-1)return Ie.push([P,X]),this;he=this.__data__=new Ht(Ie)}return he.set(P,X),this}re.prototype.clear=Se,re.prototype.delete=fe,re.prototype.get=Oe,re.prototype.has=Ge,re.prototype.set=Xe;function He(P,X){var he=Dr(P)||sa(P)?nn(P.length,String):[],Ie=he.length,ut=!!Ie;for(var qe in P)(X||ze.call(P,qe))&&!(ut&&(qe=="length"||Yo(qe,Ie)))&&he.push(qe);return he}function tt(P,X,he){(he!==t&&!ts(P[X],he)||typeof X=="number"&&he===t&&!(X in P))&&(P[X]=he)}function Et(P,X,he){var Ie=P[X];(!(ze.call(P,X)&&ts(Ie,he))||he===t&&!(X in P))&&(P[X]=he)}function ht(P,X){for(var he=P.length;he--;)if(ts(P[he][0],X))return he;return-1}function Ke(P,X){return P&&Bn(X,Vr(X),P)}function Le(P,X,he,Ie,ut,qe,yt){var xt;if(Ie&&(xt=qe?Ie(P,ut,qe,yt):Ie(P)),xt!==t)return xt;if(!ft(P))return P;var Zt=Dr(P);if(Zt){if(xt=$s(P),!X)return zr(P,xt)}else{var xn=pi(P),Pn=xn==L||xn==k;if($r(P))return qo(P,X);if(xn==O||xn==y||Pn&&!qe){if(st(P))return qe?P:{};if(xt=Wu(Pn?{}:P),!X)return io(P,Ke(xt,P))}else{if(!Pe[xn])return qe?P:{};xt=so(P,xn,Le,X)}}yt||(yt=new re);var jn=yt.get(P);if(jn)return jn;if(yt.set(P,xt),!Zt)var er=he?As(P):Vr(P);return wt(er||P,function(Tr,sr){er&&(sr=Tr,Tr=P[sr]),Et(xt,sr,Le(Tr,X,he,Ie,sr,P,yt))}),xt}function Ye(P){return ft(P)?J(P):{}}var Pt=Jo(yn),_t=Za();function yn(P,X){return P&&_t(P,X,Vr)}function mt(P,X){X=Ts(X,P)?[X]:Ra(X);for(var he=0,Ie=X.length;P!=null&&he<Ie;)P=P[ar(X[he++])];return he&&he==Ie?P:t}function Je(P,X,he){var Ie=X(P);return Dr(P)?Ie:Kt(Ie,he(P))}function Ue(P){return cn.call(P)}function vt(P,X){return P!=null&&X in Object(P)}function Jt(P,X,he,Ie,ut){return P===X?!0:P==null||X==null||!ft(P)&&!Ir(X)?P!==P&&X!==X:Dt(P,X,Jt,he,Ie,ut)}function Dt(P,X,he,Ie,ut,qe){var yt=Dr(P),xt=Dr(X),Zt=x,xn=x;yt||(Zt=pi(P),Zt=Zt==y?O:Zt),xt||(xn=pi(X),xn=xn==y?O:xn);var Pn=Zt==O&&!st(P),jn=xn==O&&!st(X),er=Zt==xn;if(er&&!Pn)return qe||(qe=new re),yt||La(P)?Hi(P,X,he,Ie,ut,qe):ao(P,X,Zt,he,Ie,ut,qe);if(!(ut&h)){var Tr=Pn&&ze.call(P,"__wrapped__"),sr=jn&&ze.call(X,"__wrapped__");if(Tr||sr){var ka=Tr?P.value():P,mi=sr?X.value():X;return qe||(qe=new re),he(ka,mi,Ie,ut,qe)}}return er?(qe||(qe=new re),zi(P,X,he,Ie,ut,qe)):!1}function Xt(P,X,he,Ie){var ut=he.length,qe=ut,yt=!Ie;if(P==null)return!qe;for(P=Object(P);ut--;){var xt=he[ut];if(yt&&xt[2]?xt[1]!==P[xt[0]]:!(xt[0]in P))return!1}for(;++ut<qe;){xt=he[ut];var Zt=xt[0],xn=P[Zt],Pn=xt[1];if(yt&&xt[2]){if(xn===t&&!(Zt in P))return!1}else{var jn=new re;if(Ie)var er=Ie(xn,Pn,Zt,P,X,jn);if(!(er===t?Jt(Pn,xn,Ie,c|h,jn):er))return!1}}return!0}function Vt(P){if(!ft(P)||Uu(P))return!1;var X=Vi(P)||st(P)?ot:it;return X.test(aa(P))}function sn(P){return Ir(P)&&Os(P.length)&&!!lt[cn.call(P)]}function Er(P){return typeof P=="function"?P:P==null?oo:typeof P=="object"?Dr(P)?Cr(P[0],P[1]):Hr(P):Gr(P)}function Bi(P){if(!ia(P))return xe(P);var X=[];for(var he in Object(P))ze.call(P,he)&&he!="constructor"&&X.push(he);return X}function vr(P){if(!ft(P))return ju(P);var X=ia(P),he=[];for(var Ie in P)Ie=="constructor"&&(X||!ze.call(P,Ie))||he.push(Ie);return he}function Hr(P){var X=Vu(P);return X.length==1&&X[0][2]?Xo(X[0][0],X[0][1]):function(he){return he===P||Xt(he,P,X)}}function Cr(P,X){return Ts(P)&&qu(X)?Xo(ar(P),X):function(he){var Ie=jt(he,P);return Ie===t&&Ie===X?In(he,P):Jt(X,Ie,t,c|h)}}function no(P,X,he,Ie,ut){if(P!==X){if(!(Dr(X)||La(X)))var qe=vr(X);wt(qe||X,function(yt,xt){if(qe&&(xt=yt,yt=X[xt]),ft(yt))ut||(ut=new re),rn(P,X,xt,he,no,Ie,ut);else{var Zt=Ie?Ie(P[xt],yt,xt+"",P,X,ut):t;Zt===t&&(Zt=yt),tt(P,xt,Zt)}})}}function rn(P,X,he,Ie,ut,qe,yt){var xt=P[he],Zt=X[he],xn=yt.get(Zt);if(xn){tt(P,he,xn);return}var Pn=qe?qe(xt,Zt,he+"",P,X,yt):t,jn=Pn===t;jn&&(Pn=Zt,Dr(Zt)||La(Zt)?Dr(xt)?Pn=xt:ei(xt)?Pn=zr(xt):(jn=!1,Pn=Le(Zt,!0)):Qn(Zt)||sa(Zt)?sa(xt)?Pn=eu(xt):!ft(xt)||Ie&&Vi(xt)?(jn=!1,Pn=Le(Zt,!0)):Pn=xt:jn=!1),jn&&(yt.set(Zt,Pn),ut(Pn,Zt,Ie,qe,yt),yt.delete(Zt)),tt(P,he,Pn)}function si(P){return function(X){return mt(X,P)}}function Uo(P,X){return X=ve(X===t?P.length-1:X,0),function(){for(var he=arguments,Ie=-1,ut=ve(he.length-X,0),qe=Array(ut);++Ie<ut;)qe[Ie]=he[X+Ie];Ie=-1;for(var yt=Array(X+1);++Ie<X;)yt[Ie]=he[Ie];return yt[X]=qe,je(P,this,yt)}}function Hu(P){if(typeof P=="string")return P;if(ti(P))return yr?yr.call(P):"";var X=P+"";return X=="0"&&1/P==-g?"-0":X}function Ra(P){return Dr(P)?P:Gl(P)}function qo(P,X){if(X)return P.slice();var he=new P.constructor(P.length);return P.copy(he),he}function Ar(P){var X=new P.constructor(P.byteLength);return new oe(X).set(new oe(P)),X}function jo(P,X){var he=X?Ar(P.buffer):P.buffer;return new P.constructor(he,P.byteOffset,P.byteLength)}function Oa(P,X,he){var Ie=X?he(Ft(P),!0):Ft(P);return nt(Ie,Te,new P.constructor)}function Ko(P){var X=new P.constructor(P.source,Ot.exec(P));return X.lastIndex=P.lastIndex,X}function Ns(P,X,he){var Ie=X?he(Cn(P),!0):Cn(P);return nt(Ie,Me,new P.constructor)}function ro(P){return qn?Object(qn.call(P)):{}}function Ve(P,X){var he=X?Ar(P.buffer):P.buffer;return new P.constructor(he,P.byteOffset,P.length)}function zr(P,X){var he=-1,Ie=P.length;for(X||(X=Array(Ie));++he<Ie;)X[he]=P[he];return X}function Bn(P,X,he,Ie){he||(he={});for(var ut=-1,qe=X.length;++ut<qe;){var yt=X[ut],xt=Ie?Ie(he[yt],P[yt],yt,he,P):t;Et(he,yt,xt===t?P[yt]:xt)}return he}function io(P,X){return Bn(P,Gu(P),X)}function zu(P){return Uo(function(X,he){var Ie=-1,ut=he.length,qe=ut>1?he[ut-1]:t,yt=ut>2?he[2]:t;for(qe=P.length>3&&typeof qe=="function"?(ut--,qe):t,yt&&ra(he[0],he[1],yt)&&(qe=ut<3?t:qe,ut=1),X=Object(X);++Ie<ut;){var xt=he[Ie];xt&&P(X,xt,Ie,qe)}return X})}function Jo(P,X){return function(he,Ie){if(he==null)return he;if(!Mr(he))return P(he,Ie);for(var ut=he.length,qe=X?ut:-1,yt=Object(he);(X?qe--:++qe<ut)&&Ie(yt[qe],qe,yt)!==!1;);return he}}function Za(P){return function(X,he,Ie){for(var ut=-1,qe=Object(X),yt=Ie(X),xt=yt.length;xt--;){var Zt=yt[P?xt:++ut];if(he(qe[Zt],Zt,qe)===!1)break}return X}}function Hi(P,X,he,Ie,ut,qe){var yt=ut&h,xt=P.length,Zt=X.length;if(xt!=Zt&&!(yt&&Zt>xt))return!1;var xn=qe.get(P);if(xn&&qe.get(X))return xn==X;var Pn=-1,jn=!0,er=ut&c?new T:t;for(qe.set(P,X),qe.set(X,P);++Pn<xt;){var Tr=P[Pn],sr=X[Pn];if(Ie)var ka=yt?Ie(sr,Tr,Pn,X,P,qe):Ie(Tr,sr,Pn,P,X,qe);if(ka!==t){if(ka)continue;jn=!1;break}if(er){if(!qt(X,function(mi,Gi){if(!er.has(Gi)&&(Tr===mi||he(Tr,mi,Ie,ut,qe)))return er.add(Gi)})){jn=!1;break}}else if(!(Tr===sr||he(Tr,sr,Ie,ut,qe))){jn=!1;break}}return qe.delete(P),qe.delete(X),jn}function ao(P,X,he,Ie,ut,qe,yt){switch(he){case b:if(P.byteLength!=X.byteLength||P.byteOffset!=X.byteOffset)return!1;P=P.buffer,X=X.buffer;case F:return!(P.byteLength!=X.byteLength||!Ie(new oe(P),new oe(X)));case E:case _:case $:return ts(+P,+X);case w:return P.name==X.name&&P.message==X.message;case le:case Z:return P==X+"";case W:var xt=Ft;case H:var Zt=qe&h;if(xt||(xt=Cn),P.size!=X.size&&!Zt)return!1;var xn=yt.get(P);if(xn)return xn==X;qe|=c,yt.set(P,X);var Pn=Hi(xt(P),xt(X),Ie,ut,qe,yt);return yt.delete(P),Pn;case Y:if(qn)return qn.call(P)==qn.call(X)}return!1}function zi(P,X,he,Ie,ut,qe){var yt=ut&h,xt=Vr(P),Zt=xt.length,xn=Vr(X),Pn=xn.length;if(Zt!=Pn&&!yt)return!1;for(var jn=Zt;jn--;){var er=xt[jn];if(!(yt?er in X:ze.call(X,er)))return!1}var Tr=qe.get(P);if(Tr&&qe.get(X))return Tr==X;var sr=!0;qe.set(P,X),qe.set(X,P);for(var ka=yt;++jn<Zt;){er=xt[jn];var mi=P[er],Gi=X[er];if(Ie)var ru=yt?Ie(Gi,mi,er,X,P,qe):Ie(mi,Gi,er,P,X,qe);if(!(ru===t?mi===Gi||he(mi,Gi,Ie,ut,qe):ru)){sr=!1;break}ka||(ka=er=="constructor")}if(sr&&!ka){var on=P.constructor,uo=X.constructor;on!=uo&&"constructor"in P&&"constructor"in X&&!(typeof on=="function"&&on instanceof on&&typeof uo=="function"&&uo instanceof uo)&&(sr=!1)}return qe.delete(P),qe.delete(X),sr}function As(P){return Je(P,Vr,Gu)}function Ds(){var P=Yt.iteratee||Ii;return P=P===Ii?Er:P,arguments.length?P(arguments[0],arguments[1]):P}function oi(P,X){var he=P.__data__;return es(X)?he[typeof X=="string"?"string":"hash"]:he.map}function Vu(P){for(var X=Vr(P),he=X.length;he--;){var Ie=X[he],ut=P[Ie];X[he]=[Ie,ut,qu(ut)]}return X}function Qa(P,X){var he=It(P,X);return Vt(he)?he:t}var Gu=K?Zr(K,Object):Ls,pi=Ue;(Re&&pi(new Re(new ArrayBuffer(1)))!=b||We&&pi(new We)!=W||Ae&&pi(Ae.resolve())!=z||me&&pi(new me)!=H||rt&&pi(new rt)!=ye)&&(pi=function(P){var X=cn.call(P),he=X==O?P.constructor:t,Ie=he?aa(he):t;if(Ie)switch(Ie){case Lt:return b;case dt:return W;case pt:return z;case mn:return H;case fn:return ye}return X});function ui(P,X,he){X=Ts(X,P)?[X]:Ra(X);for(var Ie,ut=-1,yt=X.length;++ut<yt;){var qe=ar(X[ut]);if(!(Ie=P!=null&&he(P,qe)))break;P=P[qe]}if(Ie)return Ie;var yt=P?P.length:0;return!!yt&&Os(yt)&&Yo(qe,yt)&&(Dr(P)||sa(P))}function $s(P){var X=P.length,he=P.constructor(X);return X&&typeof P[0]=="string"&&ze.call(P,"index")&&(he.index=P.index,he.input=P.input),he}function Wu(P){return typeof P.constructor=="function"&&!ia(P)?Ye(Q(P)):{}}function so(P,X,he,Ie){var ut=P.constructor;switch(X){case F:return Ar(P);case E:case _:return new ut(+P);case b:return jo(P,Ie);case I:case B:case V:case ee:case ce:case q:case ne:case C:case G:return Ve(P,Ie);case W:return Oa(P,Ie,he);case $:case Z:return new ut(P);case le:return Ko(P);case H:return Ns(P,Ie,he);case Y:return ro(P)}}function Yo(P,X){return X=X??m,!!X&&(typeof P=="number"||at.test(P))&&P>-1&&P%1==0&&P<X}function ra(P,X,he){if(!ft(he))return!1;var Ie=typeof X;return(Ie=="number"?Mr(he)&&Yo(X,he.length):Ie=="string"&&X in he)?ts(he[X],P):!1}function Ts(P,X){if(Dr(P))return!1;var he=typeof P;return he=="number"||he=="symbol"||he=="boolean"||P==null||ti(P)?!0:De.test(P)||!_e.test(P)||X!=null&&P in Object(X)}function es(P){var X=typeof P;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?P!=="__proto__":P===null}function Uu(P){return!!An&&An in P}function ia(P){var X=P&&P.constructor,he=typeof X=="function"&&X.prototype||ln;return P===he}function qu(P){return P===P&&!ft(P)}function Xo(P,X){return function(he){return he==null?!1:he[P]===X&&(X!==t||P in Object(he))}}function ju(P){var X=[];if(P!=null)for(var he in Object(P))X.push(he);return X}var Gl=Rs(function(P){P=tu(P);var X=[];return $e.test(P)&&X.push(""),P.replace(be,function(he,Ie,ut,qe){X.push(ut?qe.replace(Qe,"$1"):Ie||he)}),X});function ar(P){if(typeof P=="string"||ti(P))return P;var X=P+"";return X=="0"&&1/P==-g?"-0":X}function aa(P){if(P!=null){try{return et.call(P)}catch{}try{return P+""}catch{}}return""}function Zo(P){for(var X=-1,he=P?P.length:0,Ie=0,ut=[];++X<he;){var qe=P[X];qe&&(ut[Ie++]=qe)}return ut}function Qo(P,X){var he=Dr(P)?wt:Pt;return he(P,Ds(X,3))}function Rs(P,X){if(typeof P!="function"||X&&typeof X!="function")throw new TypeError(u);var he=function(){var Ie=arguments,ut=X?X.apply(this,Ie):Ie[0],qe=he.cache;if(qe.has(ut))return qe.get(ut);var yt=P.apply(this,Ie);return he.cache=qe.set(ut,yt),yt};return he.cache=new(Rs.Cache||Ht),he}Rs.Cache=Ht;function Wl(P){return Le(P,!1,!0)}function ts(P,X){return P===X||P!==P&&X!==X}function sa(P){return ei(P)&&ze.call(P,"callee")&&(!U.call(P,"callee")||cn.call(P)==y)}var Dr=Array.isArray;function Mr(P){return P!=null&&Os(P.length)&&!Vi(P)}function ei(P){return Ir(P)&&Mr(P)}var $r=ie||nu;function ns(P){if(Mr(P)&&(Dr(P)||typeof P=="string"||typeof P.splice=="function"||$r(P)||sa(P)))return!P.length;var X=pi(P);if(X==W||X==H)return!P.size;if(bt||ia(P))return!xe(P).length;for(var he in P)if(ze.call(P,he))return!1;return!0}function Vi(P){var X=ft(P)?cn.call(P):"";return X==L||X==k}function Os(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=m}function ft(P){var X=typeof P;return!!P&&(X=="object"||X=="function")}function Ir(P){return!!P&&typeof P=="object"}function Qn(P){if(!Ir(P)||cn.call(P)!=O||st(P))return!1;var X=Q(P);if(X===null)return!0;var he=ze.call(X,"constructor")&&X.constructor;return typeof he=="function"&&he instanceof he&&et.call(he)==St}function ti(P){return typeof P=="symbol"||Ir(P)&&cn.call(P)==Y}var La=Ee?en(Ee):sn;function eu(P){return Bn(P,br(P))}function tu(P){return P==null?"":Hu(P)}function jt(P,X,he){var Ie=P==null?t:mt(P,X);return Ie===t?he:Ie}function In(P,X){return P!=null&&ui(P,X,vt)}function Vr(P){return Mr(P)?He(P):Bi(P)}function br(P){return Mr(P)?He(P,!0):vr(P)}var rs=zu(function(P,X,he){no(P,X,he)});function oo(P){return P}function Ii(P){return Er(typeof P=="function"?P:Le(P,!0))}function Gr(P){return Ts(P)?Ne(ar(P)):si(P)}function Ls(){return[]}function nu(){return!1}Yt.compact=Zo,Yt.iteratee=Ii,Yt.keys=Vr,Yt.keysIn=br,Yt.memoize=Rs,Yt.merge=rs,Yt.property=Gr,Yt.toPlainObject=eu,Yt.clone=Wl,Yt.eq=ts,Yt.forEach=Qo,Yt.get=jt,Yt.hasIn=In,Yt.identity=oo,Yt.isArguments=sa,Yt.isArray=Dr,Yt.isArrayLike=Mr,Yt.isArrayLikeObject=ei,Yt.isBuffer=$r,Yt.isEmpty=ns,Yt.isFunction=Vi,Yt.isLength=Os,Yt.isObject=ft,Yt.isObjectLike=Ir,Yt.isPlainObject=Qn,Yt.isSymbol=ti,Yt.isTypedArray=La,Yt.stubArray=Ls,Yt.stubFalse=nu,Yt.toString=tu,Yt.each=Qo,Yt.VERSION=a,D&&((D.exports=Yt)._=Yt,te._=Yt)}).call(wr)})(SS,lh);var ES=Mf;function Mf(n,e){var t=n&&n.type,a;if(t==="FeatureCollection")for(a=0;a<n.features.length;a++)Mf(n.features[a],e);else if(t==="GeometryCollection")for(a=0;a<n.geometries.length;a++)Mf(n.geometries[a],e);else if(t==="Feature")Mf(n.geometry,e);else if(t==="Polygon")q2(n.coordinates,e);else if(t==="MultiPolygon")for(a=0;a<n.coordinates.length;a++)q2(n.coordinates[a],e);return n}function q2(n,e){if(n.length!==0){j2(n[0],e);for(var t=1;t<n.length;t++)j2(n[t],!e)}}function j2(n,e){for(var t=0,a=0,o=0,u=n.length,d=u-1;o<u;d=o++){var c=(n[o][0]-n[d][0])*(n[d][1]+n[o][1]),h=t+c;a+=Math.abs(t)>=Math.abs(c)?t-h+c:c-h+t,t=h}t+a>=0!=!!e&&n.reverse()}var m1={},CS={get exports(){return m1},set exports(n){m1=n}};const MS=[{key:"building",polygon:"all"},{key:"highway",polygon:"whitelist",values:["services","rest_area","escape","elevator"]},{key:"natural",polygon:"blacklist",values:["coastline","cliff","ridge","arete","tree_row"]},{key:"landuse",polygon:"all"},{key:"waterway",polygon:"whitelist",values:["riverbank","dock","boatyard","dam"]},{key:"amenity",polygon:"all"},{key:"leisure",polygon:"all"},{key:"barrier",polygon:"whitelist",values:["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},{key:"railway",polygon:"whitelist",values:["station","turntable","roundhouse","platform"]},{key:"area",polygon:"all"},{key:"boundary",polygon:"all"},{key:"man_made",polygon:"blacklist",values:["cutline","embankment","pipeline"]},{key:"power",polygon:"whitelist",values:["plant","substation","generator","transformer"]},{key:"place",polygon:"all"},{key:"shop",polygon:"all"},{key:"aeroway",polygon:"blacklist",values:["taxiway"]},{key:"tourism",polygon:"all"},{key:"historic",polygon:"all"},{key:"public_transport",polygon:"all"},{key:"office",polygon:"all"},{key:"building:part",polygon:"all"},{key:"military",polygon:"all"},{key:"ruins",polygon:"all"},{key:"area:highway",polygon:"all"},{key:"craft",polygon:"all"},{key:"golf",polygon:"all"},{key:"indoor",polygon:"all"}];(function(n){n.exports=MS})(CS);var hn=lh,nf=ES,If={};m1.forEach(function(n){if(n.polygon==="all")If[n.key]=!0;else{var e=n.polygon==="whitelist"?"included_values":"excluded_values",t={};n.values.forEach(function(a){t[a]=!0}),If[n.key]={},If[n.key][e]=t}});function IS(n,e){return(n.version||e.version)&&n.version!==e.version?(+n.version||0)>(+e.version||0)?n:e:hn.merge(n,e)}var dh={};dh=function(n,e,t){e=hn.merge({verbose:!1,flatProperties:!0,uninterestingTags:{source:!0,source_ref:!0,"source:ref":!0,history:!0,attribution:!0,created_by:!0,"tiger:county":!0,"tiger:tlid":!0,"tiger:upload_uuid":!0},polygonFeatures:If,deduplicator:IS},e);var a;return typeof XMLDocument<"u"&&n instanceof XMLDocument||typeof XMLDocument>"u"&&n.childNodes?a=u(n):a=o(n),a;function o(h){var g=new Array,m=new Array,y=new Array;function x(z){var le=hn.clone(z);le.lat=z.center.lat,le.lon=z.center.lon,le.__is_center_placeholder=!0,g.push(le)}function E(z){var le=hn.clone(z);le.nodes=[];function H(Z,Y,ye){var F={type:"node",id:"_"+le.type+"/"+le.id+"bounds"+ye,lat:Z,lon:Y};le.nodes.push(F.id),g.push(F)}H(le.bounds.minlat,le.bounds.minlon,1),H(le.bounds.maxlat,le.bounds.minlon,2),H(le.bounds.maxlat,le.bounds.maxlon,3),H(le.bounds.minlat,le.bounds.maxlon,4),le.nodes.push(le.nodes[0]),le.__is_bounds_placeholder=!0,m.push(le)}function _(z){function le(H,Z,Y){var ye={type:"node",id:Y,lat:H,lon:Z};g.push(ye)}hn.isArray(z.nodes)||(z.nodes=z.geometry.map(function(H){return H!==null?"_anonymous@"+H.lat+"/"+H.lon:"_anonymous@unknown_location"})),z.geometry.forEach(function(H,Z){H&&le(H.lat,H.lon,z.nodes[Z])})}function w(z){function le(Z,Y,ye){var F={type:"node",id:ye,lat:Z,lon:Y};g.push(F)}function H(Z,Y){if(m.some(function(b){return b.type=="way"&&b.id==Y}))return;var ye={type:"way",id:Y,nodes:[]};function F(b,I){var B={type:"node",id:"_anonymous@"+b+"/"+I,lat:b,lon:I};ye.nodes.push(B.id),g.push(B)}Z.forEach(function(b){b?F(b.lat,b.lon):ye.nodes.push(void 0)}),m.push(ye)}z.members.forEach(function(Z,Y){Z.type=="node"?Z.lat&&le(Z.lat,Z.lon,Z.ref):Z.type=="way"&&Z.geometry&&(Z.ref="_fullGeom"+Z.ref,H(Z.geometry,Z.ref))})}for(var L=0;L<h.elements.length;L++)switch(h.elements[L].type){case"node":var k=h.elements[L];g.push(k);break;case"way":var W=hn.clone(h.elements[L]);W.nodes=hn.clone(W.nodes),m.push(W),W.center&&x(W),W.geometry?_(W):W.bounds&&E(W);break;case"relation":var $=hn.clone(h.elements[L]);$.members=hn.clone($.members),y.push($);var O=$.members&&$.members.some(function(z){return z.type=="node"&&z.lat||z.type=="way"&&z.geometry&&z.geometry.length>0});$.center&&x($),O?w($):$.bounds&&E($);break}return d(g,m,y)}function u(h){var g=new Array,m=new Array,y=new Array;function x($,O,z){$.hasAttribute(z)&&(O[z]=$.getAttribute(z))}function E($,O){var z=hn.clone($);x(O,z,"lat"),x(O,z,"lon"),z.__is_center_placeholder=!0,g.push(z)}function _($,O){var z=hn.clone($);z.nodes=[];function le(H,Z,Y){var ye={type:"node",id:"_"+z.type+"/"+z.id+"bounds"+Y,lat:H,lon:Z};z.nodes.push(ye.id),g.push(ye)}le(O.getAttribute("minlat"),O.getAttribute("minlon"),1),le(O.getAttribute("maxlat"),O.getAttribute("minlon"),2),le(O.getAttribute("maxlat"),O.getAttribute("maxlon"),3),le(O.getAttribute("minlat"),O.getAttribute("maxlon"),4),z.nodes.push(z.nodes[0]),z.__is_bounds_placeholder=!0,m.push(z)}function w($,O){function z(le,H,Z){var Y={type:"node",id:Z,lat:le,lon:H};return g.push(Y),Y.id}hn.isArray($.nodes)||($.nodes=[],hn.each(O,function(le,H){$.nodes.push("_anonymous@"+le.getAttribute("lat")+"/"+le.getAttribute("lon"))})),hn.each(O,function(le,H){le.getAttribute("lat")&&z(le.getAttribute("lat"),le.getAttribute("lon"),$.nodes[H])})}function L($,O){function z(H,Z,Y){var ye={type:"node",id:Y,lat:H,lon:Z};g.push(ye)}function le(H,Z){if(m.some(function(F){return F.type=="way"&&F.id==Z}))return;var Y={type:"way",id:Z,nodes:[]};function ye(F,b){var I={type:"node",id:"_anonymous@"+F+"/"+b,lat:F,lon:b};Y.nodes.push(I.id),g.push(I)}hn.each(H,function(F){F.getAttribute("lat")?ye(F.getAttribute("lat"),F.getAttribute("lon")):Y.nodes.push(void 0)}),m.push(Y)}hn.each(O,function(H,Z){$.members[Z].type=="node"?H.getAttribute("lat")&&z(H.getAttribute("lat"),H.getAttribute("lon"),$.members[Z].ref):$.members[Z].type=="way"&&H.getElementsByTagName("nd").length>0&&($.members[Z].ref="_fullGeom"+$.members[Z].ref,le(H.getElementsByTagName("nd"),$.members[Z].ref))})}hn.each(h.getElementsByTagName("node"),function($,O){var z={};hn.each($.getElementsByTagName("tag"),function(H){z[H.getAttribute("k")]=H.getAttribute("v")});var le={type:"node"};x($,le,"id"),x($,le,"lat"),x($,le,"lon"),x($,le,"version"),x($,le,"timestamp"),x($,le,"changeset"),x($,le,"uid"),x($,le,"user"),hn.isEmpty(z)||(le.tags=z),g.push(le)});var k,W;return hn.each(h.getElementsByTagName("way"),function($,O){var z={},le=[];hn.each($.getElementsByTagName("tag"),function(Y){z[Y.getAttribute("k")]=Y.getAttribute("v")});var H=!1;hn.each($.getElementsByTagName("nd"),function(Y,ye){var F;(F=Y.getAttribute("ref"))&&(le[ye]=F),!H&&Y.getAttribute("lat")&&(H=!0)});var Z={type:"way"};x($,Z,"id"),x($,Z,"version"),x($,Z,"timestamp"),x($,Z,"changeset"),x($,Z,"uid"),x($,Z,"user"),le.length>0&&(Z.nodes=le),hn.isEmpty(z)||(Z.tags=z),(k=$.getElementsByTagName("center")[0])&&E(Z,k),H?w(Z,$.getElementsByTagName("nd")):(W=$.getElementsByTagName("bounds")[0])&&_(Z,W),m.push(Z)}),hn.each(h.getElementsByTagName("relation"),function($,O){var z={},le=[];hn.each($.getElementsByTagName("tag"),function(Y){z[Y.getAttribute("k")]=Y.getAttribute("v")});var H=!1;hn.each($.getElementsByTagName("member"),function(Y,ye){le[ye]={},x(Y,le[ye],"ref"),x(Y,le[ye],"role"),x(Y,le[ye],"type"),(!H&&le[ye].type=="node"&&Y.getAttribute("lat")||le[ye].type=="way"&&Y.getElementsByTagName("nd").length>0)&&(H=!0)});var Z={type:"relation"};x($,Z,"id"),x($,Z,"version"),x($,Z,"timestamp"),x($,Z,"changeset"),x($,Z,"uid"),x($,Z,"user"),le.length>0&&(Z.members=le),hn.isEmpty(z)||(Z.tags=z),(k=$.getElementsByTagName("center")[0])&&E(Z,k),H?L(Z,$.getElementsByTagName("member")):(W=$.getElementsByTagName("bounds")[0])&&_(Z,W),y.push(Z)}),d(g,m,y)}function d(h,g,m){function y(_e,De){if(typeof De!="object"&&(De={}),typeof e.uninterestingTags=="function")return!e.uninterestingTags(_e,De);for(var $e in _e)if(e.uninterestingTags[$e]!==!0&&!(De[$e]===!0||De[$e]===_e[$e]))return!0;return!1}function x(_e){var De={timestamp:_e.timestamp,version:_e.version,changeset:_e.changeset,user:_e.user,uid:_e.uid};for(var $e in De)De[$e]===void 0&&delete De[$e];return De}for(var E=new Object,_=new Object,w=0;w<h.length;w++){var L=h[w];E[L.id]!==void 0&&(L=e.deduplicator(L,E[L.id])),E[L.id]=L,typeof L.tags<"u"&&y(L.tags)&&(_[L.id]=!0)}for(var w=0;w<m.length;w++)if(hn.isArray(m[w].members))for(var k=0;k<m[w].members.length;k++)m[w].members[k].type=="node"&&(_[m[w].members[k].ref]=!0);for(var W=new Object,$=new Object,w=0;w<g.length;w++){var O=g[w];if(W[O.id]&&(O=e.deduplicator(O,W[O.id])),W[O.id]=O,hn.isArray(O.nodes))for(var k=0;k<O.nodes.length;k++)typeof O.nodes[k]!="object"&&($[O.nodes[k]]=!0,O.nodes[k]=E[O.nodes[k]])}var z=new Array;for(var le in E){var L=E[le];(!$[le]||_[le])&&z.push(L)}for(var H=new Array,w=0;w<m.length;w++){var Z=m[w];H[Z.id]&&(Z=e.deduplicator(Z,H[Z.id])),H[Z.id]=Z}var Y={node:{},way:{},relation:{}};for(var le in H){var Z=H[le];if(!hn.isArray(Z.members)){e.verbose&&console.warn("Relation",Z.type+"/"+Z.id,"ignored because it has no members");continue}for(var k=0;k<Z.members.length;k++){var ye=Z.members[k].type,F=Z.members[k].ref;if(typeof F!="number"&&(F=F.replace("_fullGeom","")),!Y[ye]){e.verbose&&console.warn("Relation",Z.type+"/"+Z.id,"member",ye+"/"+F,"ignored because it has an invalid type");continue}typeof Y[ye][F]>"u"&&(Y[ye][F]=[]),Y[ye][F].push({role:Z.members[k].role,rel:Z.id,reltags:Z.tags})}}var b,I=[];for(w=0;w<z.length;w++){if(typeof z[w].lon>"u"||typeof z[w].lat>"u"){e.verbose&&console.warn("POI",z[w].type+"/"+z[w].id,"ignored because it lacks coordinates");continue}var B={type:"Feature",id:z[w].type+"/"+z[w].id,properties:{type:z[w].type,id:z[w].id,tags:z[w].tags||{},relations:Y.node[z[w].id]||[],meta:x(z[w])},geometry:{type:"Point",coordinates:[+z[w].lon,+z[w].lat]}};z[w].__is_center_placeholder&&(B.properties.geometry="center"),t?t(B):I.push(B)}for(var V=[],ee=[],w=0;w<m.length;w++)if(H[m[w].id]===m[w]){if(typeof m[w].tags<"u"&&(m[w].tags.type=="route"||m[w].tags.type=="waterway")){let De=function($e){var be=!1,Ze;Ze=$e.members.filter(function(at){return at.type==="way"}),Ze=Ze.map(function(at){var lt=W[at.ref];if(lt===void 0||lt.nodes===void 0){e.verbose&&console.warn("Route "+$e.type+"/"+$e.id,"tainted by a missing or incomplete  way",at.type+"/"+at.ref),be=!0;return}return{id:at.ref,role:at.role,way:lt,nodes:lt.nodes.filter(function(Pe){return Pe!==void 0?!0:(be=!0,e.verbose&&console.warn("Route",$e.type+"/"+$e.id,"tainted by a way",at.type+"/"+at.ref,"with a missing node"),!1)})}}),Ze=hn.compact(Ze);var Qe;Qe=bg(Ze);var Ot=[];if(Ot=hn.compact(Qe.map(function(at){return hn.compact(at.map(function(lt){return[+lt.lon,+lt.lat]}))})),Ot.length==0)return e.verbose&&console.warn("Route",$e.type+"/"+$e.id,"contains no coordinates"),!1;var it={type:"Feature",id:$e.type+"/"+$e.id,properties:{type:$e.type,id:$e.id,tags:$e.tags||{},relations:Y[$e.type][$e.id]||[],meta:x($e)},geometry:{type:Ot.length===1?"LineString":"MultiLineString",coordinates:Ot.length===1?Ot[0]:Ot}};return be&&(e.verbose&&console.warn("Route",$e.type+"/"+$e.id,"is tainted"),it.properties.tainted=!0),it};if(!hn.isArray(m[w].members)){e.verbose&&console.warn("Route",m[w].type+"/"+m[w].id,"ignored because it has no members");continue}if(m[w].members.forEach(function($e){W[$e.ref]&&!y(W[$e.ref].tags)&&(W[$e.ref].is_skippablerelationmember=!0)}),B=De(m[w]),B===!1){e.verbose&&console.warn("Route relation",m[w].type+"/"+m[w].id,"ignored because it has invalid geometry");continue}t?t(nf(B)):ee.push(B)}if(typeof m[w].tags<"u"&&(m[w].tags.type=="multipolygon"||m[w].tags.type=="boundary")){let $e=function(be,Ze){var Qe=!1,Ot=q?"way":"relation",it=typeof be.id=="number"?be.id:+be.id.replace("_fullGeom",""),at;at=Ze.members.filter(function(pe){return pe.type==="way"}),at=at.map(function(pe){var Ee=W[pe.ref];if(Ee===void 0||Ee.nodes===void 0){e.verbose&&console.warn("Multipolygon",Ot+"/"+it,"tainted by a missing or incomplete way",pe.type+"/"+pe.ref),Qe=!0;return}return{id:pe.ref,role:pe.role||"outer",way:Ee,nodes:Ee.nodes.filter(function(Te){return Te!==void 0?!0:(Qe=!0,e.verbose&&console.warn("Multipolygon",Ot+"/"+it,"tainted by a way",pe.type+"/"+pe.ref,"with a missing node"),!1)})}}),at=hn.compact(at);var lt,Pe;lt=bg(at.filter(function(pe){return pe.role==="outer"})),Pe=bg(at.filter(function(pe){return pe.role==="inner"}));var Tt;function Rn(pe){var Ee=function(Kt,nt){for(var qt=0;qt<nt.length;qt++)if(Me(nt[qt],Kt))return!0;return!1},Te=function(Kt){return Kt.map(function(nt){return[+nt.lat,+nt.lon]})},Me=function(Kt,nt){for(var qt=Kt[0],Ne=Kt[1],nn=!1,en=0,It=nt.length-1;en<nt.length;It=en++){var st=nt[en][0],Ft=nt[en][1],Zr=nt[It][0],Cn=nt[It][1],dn=Ft>Ne!=Cn>Ne&&qt<(Zr-st)*(Ne-Ft)/(Cn-Ft)+st;dn&&(nn=!nn)}return nn},je,wt;for(pe=Te(pe),je=0;je<lt.length;je++)if(wt=Te(lt[je]),Ee(wt,pe))return je}Tt=lt.map(function(pe){return[pe]});for(var $t=0;$t<Pe.length;$t++){var te=Rn(Pe[$t]);te!==void 0?Tt[te].push(Pe[$t]):e.verbose&&console.warn("Multipolygon",Ot+"/"+it,"contains an inner ring with no containing outer")}var D=[];if(D=hn.compact(Tt.map(function(pe){var Ee=hn.compact(pe.map(function(Te){if(Te.length<4){e.verbose&&console.warn("Multipolygon",Ot+"/"+it,"contains a ring with less than four nodes");return}return hn.compact(Te.map(function(Me){return[+Me.lon,+Me.lat]}))}));if(Ee.length==0){e.verbose&&console.warn("Multipolygon",Ot+"/"+it,"contains an empty ring cluster");return}return Ee})),D.length==0)return e.verbose&&console.warn("Multipolygon",Ot+"/"+it,"contains no coordinates"),!1;var A="MultiPolygon";D.length===1&&(A="Polygon",D=D[0]);var se={type:"Feature",id:be.type+"/"+it,properties:{type:be.type,id:it,tags:be.tags||{},relations:Y[be.type][be.id]||[],meta:x(be)},geometry:{type:A,coordinates:D}};return Qe&&(e.verbose&&console.warn("Multipolygon",Ot+"/"+it,"is tainted"),se.properties.tainted=!0),se};if(!hn.isArray(m[w].members)){e.verbose&&console.warn("Multipolygon",m[w].type+"/"+m[w].id,"ignored because it has no members");continue}for(var ce=0,k=0;k<m[w].members.length;k++)m[w].members[k].role=="outer"?ce++:e.verbose&&m[w].members[k].role!="inner"&&console.warn("Multipolygon",m[w].type+"/"+m[w].id,"member",m[w].members[k].type+"/"+m[w].members[k].ref,'ignored because it has an invalid role: "'+m[w].members[k].role+'"');if(m[w].members.forEach(function(be){W[be.ref]&&(be.role==="outer"&&!y(W[be.ref].tags,m[w].tags)&&(W[be.ref].is_skippablerelationmember=!0),be.role==="inner"&&!y(W[be.ref].tags)&&(W[be.ref].is_skippablerelationmember=!0))}),ce==0){e.verbose&&console.warn("Multipolygon relation",m[w].type+"/"+m[w].id,"ignored because it has no outer ways");continue}var q=!1;ce==1&&!y(m[w].tags,{type:!0})&&(q=!0);var B=null;if(!q)B=$e(m[w],m[w]);else{var ne=m[w].members.filter(function(be){return be.role==="outer"})[0];if(ne=W[ne.ref],ne===void 0){e.verbose&&console.warn("Multipolygon relation",m[w].type+"/"+m[w].id,"ignored because outer way",ne.type+"/"+ne.ref,"is missing");continue}ne.is_skippablerelationmember=!0,B=$e(ne,m[w])}if(B===!1){e.verbose&&console.warn("Multipolygon relation",m[w].type+"/"+m[w].id,"ignored because it has invalid geometry");continue}t?t(nf(B)):ee.push(B)}}for(var w=0;w<g.length;w++)if(W[g[w].id]===g[w]){if(!hn.isArray(g[w].nodes)){e.verbose&&console.warn("Way",g[w].type+"/"+g[w].id,"ignored because it has no nodes");continue}if(!g[w].is_skippablerelationmember){typeof g[w].id!="number"&&(g[w].id=+g[w].id.replace("_fullGeom","")),g[w].tainted=!1,g[w].hidden=!1;var C=new Array;for(k=0;k<g[w].nodes.length;k++)typeof g[w].nodes[k]=="object"?C.push([+g[w].nodes[k].lon,+g[w].nodes[k].lat]):(e.verbose&&console.warn("Way",g[w].type+"/"+g[w].id,"is tainted by an invalid node"),g[w].tainted=!0);if(C.length<=1){e.verbose&&console.warn("Way",g[w].type+"/"+g[w].id,"ignored because it contains too few nodes");continue}var G="LineString";typeof g[w].nodes[0]<"u"&&typeof g[w].nodes[g[w].nodes.length-1]<"u"&&g[w].nodes[0].id===g[w].nodes[g[w].nodes.length-1].id&&(typeof g[w].tags<"u"&&c(g[w].tags)||g[w].__is_bounds_placeholder)&&(G="Polygon",C=[C]);var B={type:"Feature",id:g[w].type+"/"+g[w].id,properties:{type:g[w].type,id:g[w].id,tags:g[w].tags||{},relations:Y.way[g[w].id]||[],meta:x(g[w])},geometry:{type:G,coordinates:C}};g[w].tainted&&(e.verbose&&console.warn("Way",g[w].type+"/"+g[w].id,"is tainted"),B.properties.tainted=!0),g[w].__is_bounds_placeholder&&(B.properties.geometry="bounds"),t?t(nf(B)):G=="LineString"?V.push(B):ee.push(B)}}return t?!0:(b={type:"FeatureCollection",features:[]},b.features=b.features.concat(ee),b.features=b.features.concat(V),b.features=b.features.concat(I),e.flatProperties&&b.features.forEach(function(_e){_e.properties=hn.merge(_e.properties.meta,_e.properties.tags,{id:_e.properties.type+"/"+_e.properties.id})}),b=nf(b),b)}function c(h){var g=e.polygonFeatures;if(typeof g=="function")return g(h);if(h.area==="no")return!1;for(var m in h){var y=h[m],x=g[m];if(!(typeof x>"u")&&y!=="no"&&(x===!0||x.included_values&&x.included_values[y]===!0||x.excluded_values&&x.excluded_values[y]!==!0))return!0}return!1}};function bg(n){for(var e=function(y){return y[0]},t=function(y){return y[y.length-1]},a=function(y,x){return y!==void 0&&x!==void 0&&y.id===x.id},o=[],u,d,c,h,g,m;n.length;)for(u=n.pop().nodes.slice(),o.push(u);n.length&&!a(e(u),t(u));){for(d=e(u),c=t(u),h=0;h<n.length;h++)if(m=n[h].nodes,a(c,e(m))){g=u.push,m=m.slice(1);break}else if(a(c,t(m))){g=u.push,m=m.slice(0,-1).reverse();break}else if(a(d,t(m))){g=u.unshift,m=m.slice(0,-1);break}else if(a(d,e(m))){g=u.unshift,m=m.slice(1).reverse();break}else m=g=null;if(!m)break;n.splice(h,1),g.apply(u,m)}return o}dh.toGeojson=dh;var PS=dh,Qb={},Kh={},Sa={},NS={get exports(){return Sa},set exports(n){Sa=n}},an={};function Fo(n,e){return{type:"Feature",properties:e||{},geometry:n}}an.feature=Fo;an.point=function(n,e){if(!Array.isArray(n))throw new Error("Coordinates must be an array");if(n.length<2)throw new Error("Coordinates must be at least 2 numbers long");return Fo({type:"Point",coordinates:n.slice()},e)};an.polygon=function(n,e){if(!n)throw new Error("No coordinates passed");for(var t=0;t<n.length;t++){var a=n[t];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}return Fo({type:"Polygon",coordinates:n},e)};an.lineString=function(n,e){if(!n)throw new Error("No coordinates passed");return Fo({type:"LineString",coordinates:n},e)};an.featureCollection=function(n){return{type:"FeatureCollection",features:n}};an.multiLineString=function(n,e){if(!n)throw new Error("No coordinates passed");return Fo({type:"MultiLineString",coordinates:n},e)};an.multiPoint=function(n,e){if(!n)throw new Error("No coordinates passed");return Fo({type:"MultiPoint",coordinates:n},e)};an.multiPolygon=function(n,e){if(!n)throw new Error("No coordinates passed");return Fo({type:"MultiPolygon",coordinates:n},e)};an.geometryCollection=function(n,e){return Fo({type:"GeometryCollection",geometries:n},e)};var xp={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};an.radiansToDistance=function(n,e){var t=xp[e||"kilometers"];if(t===void 0)throw new Error("Invalid unit");return n*t};an.distanceToRadians=function(n,e){var t=xp[e||"kilometers"];if(t===void 0)throw new Error("Invalid unit");return n/t};an.distanceToDegrees=function(n,e){var t=xp[e||"kilometers"];if(t===void 0)throw new Error("Invalid unit");return n/t*57.2958};var AS=an.polygon,DS=an.featureCollection,wp=function(n,e){return DS(RS(n.features.map(function(t){var a={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e&&(a.z=t.properties[e]),a})).map(function(t){return AS([[[t.a.x,t.a.y],[t.b.x,t.b.y],[t.c.x,t.c.y],[t.a.x,t.a.y]]],{a:t.a.z,b:t.b.z,c:t.c.z})}))};function K2(n,e,t){this.a=n,this.b=e,this.c=t;var a=e.x-n.x,o=e.y-n.y,u=t.x-n.x,d=t.y-n.y,c=a*(n.x+e.x)+o*(n.y+e.y),h=u*(n.x+t.x)+d*(n.y+t.y),g=2*(a*(t.y-e.y)-o*(t.x-e.x)),m,y,x,E;Math.abs(g)<1e-6?(m=Math.min(n.x,e.x,t.x),y=Math.min(n.y,e.y,t.y),x=(Math.max(n.x,e.x,t.x)-m)*.5,E=(Math.max(n.y,e.y,t.y)-y)*.5,this.x=m+x,this.y=y+E,this.r=x*x+E*E):(this.x=(d*c-o*h)/g,this.y=(a*h-u*c)/g,x=this.x-n.x,E=this.y-n.y,this.r=x*x+E*E)}function $S(n,e){return e.x-n.x}function TS(n){var e=n.length,t,a,o,u,d;e:for(;e;)for(a=n[--e],t=n[--e],o=e;o;)if(d=n[--o],u=n[--o],t===u&&a===d||t===d&&a===u){n.splice(e,2),n.splice(o,2),e-=2;continue e}}function RS(n){if(n.length<3)return[];n.sort($S);for(var e=n.length-1,t=n[e].x,a=n[0].x,o=n[e].y,u=o;e--;)n[e].y<o&&(o=n[e].y),n[e].y>u&&(u=n[e].y);var d=a-t,c=u-o,h=d>c?d:c,g=(a+t)*.5,m=(u+o)*.5,y=[new K2({x:g-20*h,y:m-h,__sentinel:!0},{x:g,y:m+20*h,__sentinel:!0},{x:g+20*h,y:m-h,__sentinel:!0})],x=[],E=[],_,w,L;for(e=n.length;e--;){for(E.length=0,_=y.length;_--;){if(d=n[e].x-y[_].x,d>0&&d*d>y[_].r){x.push(y[_]),y.splice(_,1);continue}c=n[e].y-y[_].y,!(d*d+c*c>y[_].r)&&(E.push(y[_].a,y[_].b,y[_].b,y[_].c,y[_].c,y[_].a),y.splice(_,1))}for(TS(E),_=E.length;_;)L=E[--_],w=E[--_],y.push(new K2(w,L,n[e]))}for(Array.prototype.push.apply(x,y),e=x.length;e--;)(x[e].a.__sentinel||x[e].b.__sentinel||x[e].c.__sentinel)&&x.splice(e,1);return x}var Bo={};function OS(n){if(Array.isArray(n)&&typeof n[0]=="number"&&typeof n[1]=="number")return n;if(n){if(n.type==="Feature"&&n.geometry&&n.geometry.type==="Point"&&Array.isArray(n.geometry.coordinates))return n.geometry.coordinates;if(n.type==="Point"&&Array.isArray(n.coordinates))return n.coordinates}throw new Error("A coordinate, feature, or point geometry is required")}function LS(n,e,t){if(!e||!t)throw new Error("type and name required");if(!n||n.type!==e)throw new Error("Invalid input to "+t+": must be a "+e+", given "+n.type)}function kS(n,e,t){if(!t)throw new Error(".featureOf() requires a name");if(!n||n.type!=="Feature"||!n.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+t+": must be a "+e+", given "+n.geometry.type)}function FS(n,e,t){if(!t)throw new Error(".collectionOf() requires a name");if(!n||n.type!=="FeatureCollection")throw new Error("Invalid input to "+t+", FeatureCollection required");for(var a=0;a<n.features.length;a++){var o=n.features[a];if(!o||o.type!=="Feature"||!o.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+t+": must be a "+e+", given "+o.geometry.type)}}Bo.geojsonType=LS;Bo.collectionOf=FS;Bo.featureOf=kS;Bo.getCoord=OS;var BS=Bo,$l=function(e,t){var a=BS.getCoord(e),o=t.geometry.coordinates;t.geometry.type==="Polygon"&&(o=[o]);for(var u=0,d=!1;u<o.length&&!d;u++)if(J2(a,o[u][0])){for(var c=!1,h=1;h<o[u].length&&!c;)J2(a,o[u][h])&&(c=!0),h++;c||(d=!0)}return d};function J2(n,e){for(var t=!1,a=0,o=e.length-1;a<e.length;o=a++){var u=e[a][0],d=e[a][1],c=e[o][0],h=e[o][1],g=d>n[1]!=h>n[1]&&n[0]<(c-u)*(n[1]-d)/(h-d)+u;g&&(t=!t)}return t}var HS=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},zS=function(n,e){if(!HS(n))throw new Error("Coordinates must be an array");if(n.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:n},properties:e||{}}},VS=zS,GS=function(n,e){var t=n[0],a=n[1],o=n[2];n[3];for(var u=(o-t)/e,d={type:"FeatureCollection",features:[]},c=0;c<=e;c++)for(var h=0;h<=e;h++)d.features.push(VS([c*u+t,h*u+a]));return d},Na={};function _p(n,e,t){var a,o,u,d,c,h,g,m,y,x=0,E,_=n.type==="FeatureCollection",w=n.type==="Feature",L=_?n.features.length:1;for(a=0;a<L;a++)for(y=_?n.features[a].geometry:w?n.geometry:n,E=y.type==="GeometryCollection",g=E?y.geometries.length:1,d=0;d<g;d++)if(h=E?y.geometries[d]:y,m=h.coordinates,x=t&&(h.type==="Polygon"||h.type==="MultiPolygon")?1:0,h.type==="Point")e(m);else if(h.type==="LineString"||h.type==="MultiPoint")for(o=0;o<m.length;o++)e(m[o]);else if(h.type==="Polygon"||h.type==="MultiLineString")for(o=0;o<m.length;o++)for(u=0;u<m[o].length-x;u++)e(m[o][u]);else if(h.type==="MultiPolygon")for(o=0;o<m.length;o++)for(u=0;u<m[o].length;u++)for(c=0;c<m[o][u].length-x;c++)e(m[o][u][c]);else throw new Error("Unknown Geometry Type")}Na.coordEach=_p;function WS(n,e,t,a){return _p(n,function(o){t=e(t,o)},a),t}Na.coordReduce=WS;function ex(n,e){var t;switch(n.type){case"FeatureCollection":for(t=0;t<n.features.length;t++)e(n.features[t].properties);break;case"Feature":e(n.properties);break}}Na.propEach=ex;function US(n,e,t){return ex(n,function(a){t=e(t,a)}),t}Na.propReduce=US;function qS(n,e){if(n.type==="Feature")e(n);else if(n.type==="FeatureCollection")for(var t=0;t<n.features.length;t++)e(n.features[t])}Na.featureEach=qS;function jS(n){var e=[];return _p(n,function(t){e.push(t)}),e}Na.coordAll=jS;var KS=Na.coordEach,Jh=function(n){var e=[1/0,1/0,-1/0,-1/0];return KS(n,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e},tx=function(n,e){var t=n.geometry.coordinates[0],a=n.geometry.coordinates[1],o=e.geometry.coordinates[0][0][0],u=e.geometry.coordinates[0][0][1],d=e.properties.a,c=e.geometry.coordinates[0][1][0],h=e.geometry.coordinates[0][1][1],g=e.properties.b,m=e.geometry.coordinates[0][2][0],y=e.geometry.coordinates[0][2][1],x=e.properties.c,E=(x*(t-o)*(a-h)+d*(t-c)*(a-y)+g*(t-m)*(a-u)-g*(t-o)*(a-y)-x*(t-c)*(a-u)-d*(t-m)*(a-h))/((t-o)*(a-h)+(t-c)*(a-y)+(t-m)*(a-u)-(t-o)*(a-y)-(t-c)*(a-u)-(t-m)*(a-h));return E},Y2=Bo.getCoord,JS=an.radiansToDistance,ea=function(n,e,t){var a=Math.PI/180,o=Y2(n),u=Y2(e),d=a*(u[1]-o[1]),c=a*(u[0]-o[0]),h=a*o[1],g=a*u[1],m=Math.pow(Math.sin(d/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(h)*Math.cos(g);return JS(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),t)},X2=ea,nx=function(n){var e=X2(n.slice(0,2),[n[2],n[1]],"miles"),t=X2(n.slice(0,2),[n[0],n[3]],"miles");if(e>=t){var a=(n[1]+n[3])/2;return[n[0],a-(n[2]-n[0])/2,n[2],a+(n[2]-n[0])/2]}else{var o=(n[0]+n[2])/2;return[o-(n[3]-n[1])/2,n[1],o+(n[3]-n[1])/2,n[3]]}},YS=rx,y1=1e-10;function rf(n,e){var t=n.x-e.x,a=n.y-e.y;return t*t+a*a<y1}function Z2(n){for(var e=n.head;e;){var t=e.next;e.next=e.prev,e.prev=t,e=t}var t=n.head;n.head=n.tail,n.tail=t}function Sp(n){this.level=n,this.s=null,this.count=0}Sp.prototype.remove_seq=function(n){n.prev?n.prev.next=n.next:this.s=n.next,n.next&&(n.next.prev=n.prev),--this.count};Sp.prototype.addSegment=function(n,e){for(var t=this.s,a=null,o=null,u=!1,d=!1;t&&(a==null&&(rf(n,t.head.p)?(a=t,u=!0):rf(n,t.tail.p)&&(a=t)),o==null&&(rf(e,t.head.p)?(o=t,d=!0):rf(e,t.tail.p)&&(o=t)),!(o!=null&&a!=null));)t=t.next;var c=(a!=null?1:0)|(o!=null?2:0);switch(c){case 0:var h={p:n,prev:null},g={p:e,next:null};h.next=g,g.prev=h,a={head:h,tail:g,next:this.s,prev:null,closed:!1},this.s&&(this.s.prev=a),this.s=a,++this.count;break;case 1:var m={p:e};u?(m.next=a.head,m.prev=null,a.head.prev=m,a.head=m):(m.next=null,m.prev=a.tail,a.tail.next=m,a.tail=m);break;case 2:var m={p:n};d?(m.next=o.head,m.prev=null,o.head.prev=m,o.head=m):(m.next=null,m.prev=o.tail,o.tail.next=m,o.tail=m);break;case 3:if(a===o){var m={p:a.tail.p,next:a.head,prev:null};a.head.prev=m,a.head=m,a.closed=!0;break}switch((u?1:0)|(d?2:0)){case 0:Z2(a);case 1:o.tail.next=a.head,a.head.prev=o.tail,o.tail=a.tail,this.remove_seq(a);break;case 3:Z2(a);case 2:a.tail.next=o.head,o.head.prev=a.tail,a.tail=o.tail,this.remove_seq(o);break}}};function rx(n){if(n)this.drawContour=n;else{var e=this;e.contours={},this.drawContour=function(t,a,o,u,d,c){var h=e.contours[c];h||(h=e.contours[c]=new Sp(d)),h.addSegment({x:t,y:a},{x:o,y:u})},this.contourList=function(){var t=[],a=e.contours;for(var o in a)for(var u=a[o].s,d=a[o].level;u;){var c=u.head,h=[];for(h.level=d,h.k=o;c&&c.p;)h.push(c.p),c=c.next;t.push(h),u=u.next}return t.sort(function(g,m){return g.k-m.k}),t}}this.h=new Array(5),this.sh=new Array(5),this.xh=new Array(5),this.yh=new Array(5)}rx.prototype.contour=function(n,e,t,a,o,u,d,c,h){var g=this.h,m=this.sh,y=this.xh,x=this.yh,E=this.drawContour;this.contours={};for(var _=function(ne,C){return(g[C]*y[ne]-g[ne]*y[C])/(g[C]-g[ne])},w=function(ne,C){return(g[C]*x[ne]-g[ne]*x[C])/(g[C]-g[ne])},L,k,W,$,O,z,le=0,H=0,Z=0,Y=0,ye=[0,1,1,0],F=[0,0,1,1],b=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],I=o-1;I>=a;I--)for(var B=e;B<=t-1;B++){var V,ee;if(V=Math.min(n[B][I],n[B][I+1]),ee=Math.min(n[B+1][I],n[B+1][I+1]),O=Math.min(V,ee),V=Math.max(n[B][I],n[B][I+1]),ee=Math.max(n[B+1][I],n[B+1][I+1]),z=Math.max(V,ee),z>=h[0]&&O<=h[c-1]){for(var ce=0;ce<c;ce++)if(h[ce]>=O&&h[ce]<=z){for(var q=4;q>=0;q--)q>0?(g[q]=n[B+ye[q-1]][I+F[q-1]]-h[ce],y[q]=u[B+ye[q-1]],x[q]=d[I+F[q-1]]):(g[0]=.25*(g[1]+g[2]+g[3]+g[4]),y[0]=.5*(u[B]+u[B+1]),x[0]=.5*(d[I]+d[I+1])),g[q]>y1?m[q]=1:g[q]<-y1?m[q]=-1:m[q]=0;for(q=1;q<=4;q++)if(L=q,k=0,q!=4?W=q+1:W=1,$=b[m[L]+1][m[k]+1][m[W]+1],$!=0){switch($){case 1:le=y[L],Z=x[L],H=y[k],Y=x[k];break;case 2:le=y[k],Z=x[k],H=y[W],Y=x[W];break;case 3:le=y[W],Z=x[W],H=y[L],Y=x[L];break;case 4:le=y[L],Z=x[L],H=_(k,W),Y=w(k,W);break;case 5:le=y[k],Z=x[k],H=_(W,L),Y=w(W,L);break;case 6:le=y[W],Z=x[W],H=_(L,k),Y=w(L,k);break;case 7:le=_(L,k),Z=w(L,k),H=_(k,W),Y=w(k,W);break;case 8:le=_(k,W),Z=w(k,W),H=_(W,L),Y=w(W,L);break;case 9:le=_(W,L),Z=w(W,L),H=_(L,k),Y=w(L,k);break}E(le,Z,H,Y,h[ce],ce)}}}}};var XS=wp,ZS=$l,QS=GS,e7=Jh,t7=tx,n7=an.featureCollection,r7=an.lineString,i7=nx,a7=YS,s7=function(n,e,t,a){for(var o=XS(n,e),u=e7(n),d=i7(u),c=QS(d,t),h=[],g=0;g<c.features.length;g++)for(var m=c.features[g],y=0;y<o.features.length;y++){var x=o.features[y];ZS(m,x)&&(m.properties={},m.properties[e]=t7(m,x))}for(var E=Math.sqrt(c.features.length),_=0;_<E;_++){for(var w=c.features.slice(_*E,(_+1)*E),L=[],k=0;k<w.length;k++)w[k].properties?L.push(w[k].properties[e]):L.push(0);h.push(L)}for(var W=(d[2]-d[0])/E,$=[],O=[],z=0;z<E;z++)$.push(z*W+d[0]),O.push(z*W+d[1]);var le=new a7;le.contour(h,0,t,0,t,$,O,a.length,a);var H=le.contourList(),Z=n7([]);return H.forEach(function(Y){if(Y.length>2){var ye=[];Y.forEach(function(b){ye.push([b.x,b.y])});var F=r7(ye);F.properties={},F.properties[e]=Y.level,Z.features.push(F)}}),Z},o7=u7;function u7(n){for(var e=0,t=0,a=1;a<n.length;++a)n[a][0]<n[e][0]&&(e=a),n[a][0]>n[t][0]&&(t=a);return e<t?[[e],[t]]:e>t?[[t],[e]]:[[e]]}var Yd={},l7={get exports(){return Yd},set exports(n){Yd=n}},ix=d7,Q2=+(Math.pow(2,27)+1);function d7(n,e,t){var a=n*e,o=Q2*n,u=o-n,d=o-u,c=n-d,h=Q2*e,g=h-e,m=h-g,y=e-m,x=a-d*m,E=x-c*m,_=E-d*y,w=c*y-_;return t?(t[0]=w,t[1]=a,t):[w,a]}var c7=h7;function f7(n,e){var t=n+e,a=t-n,o=t-a,u=e-a,d=n-o,c=d+u;return c?[c,t]:[t]}function h7(n,e){var t=n.length|0,a=e.length|0;if(t===1&&a===1)return f7(n[0],e[0]);var o=t+a,u=new Array(o),d=0,c=0,h=0,g=Math.abs,m=n[c],y=g(m),x=e[h],E=g(x),_,w;y<E?(w=m,c+=1,c<t&&(m=n[c],y=g(m))):(w=x,h+=1,h<a&&(x=e[h],E=g(x))),c<t&&y<E||h>=a?(_=m,c+=1,c<t&&(m=n[c],y=g(m))):(_=x,h+=1,h<a&&(x=e[h],E=g(x)));for(var L=_+w,k=L-_,W=w-k,$=W,O=L,z,le,H,Z,Y;c<t&&h<a;)y<E?(_=m,c+=1,c<t&&(m=n[c],y=g(m))):(_=x,h+=1,h<a&&(x=e[h],E=g(x))),w=$,L=_+w,k=L-_,W=w-k,W&&(u[d++]=W),z=O+L,le=z-O,H=z-le,Z=L-le,Y=O-H,$=Y+Z,O=z;for(;c<t;)_=m,w=$,L=_+w,k=L-_,W=w-k,W&&(u[d++]=W),z=O+L,le=z-O,H=z-le,Z=L-le,Y=O-H,$=Y+Z,O=z,c+=1,c<t&&(m=n[c]);for(;h<a;)_=x,w=$,L=_+w,k=L-_,W=w-k,W&&(u[d++]=W),z=O+L,le=z-O,H=z-le,Z=L-le,Y=O-H,$=Y+Z,O=z,h+=1,h<a&&(x=e[h]);return $&&(u[d++]=$),O&&(u[d++]=O),d||(u[d++]=0),u.length=d,u}var g7=p7;function p7(n,e,t){var a=n+e,o=a-n,u=a-o,d=e-o,c=n-u;return t?(t[0]=c+d,t[1]=a,t):[c+d,a]}var xg=ix,m7=g7,y7=v7;function v7(n,e){var t=n.length;if(t===1){var a=xg(n[0],e);return a[0]?a:[a[1]]}var o=new Array(2*t),u=[.1,.1],d=[.1,.1],c=0;xg(n[0],e,u),u[0]&&(o[c++]=u[0]);for(var h=1;h<t;++h){xg(n[h],e,d);var g=u[1];m7(g,d[0],u),u[0]&&(o[c++]=u[0]);var m=d[1],y=u[1],x=m+y,E=x-m,_=y-E;u[1]=x,_&&(o[c++]=_)}return u[1]&&(o[c++]=u[1]),c===0&&(o[c++]=0),o.length=c,o}var b7=w7;function x7(n,e){var t=n+e,a=t-n,o=t-a,u=e-a,d=n-o,c=d+u;return c?[c,t]:[t]}function w7(n,e){var t=n.length|0,a=e.length|0;if(t===1&&a===1)return x7(n[0],-e[0]);var o=t+a,u=new Array(o),d=0,c=0,h=0,g=Math.abs,m=n[c],y=g(m),x=-e[h],E=g(x),_,w;y<E?(w=m,c+=1,c<t&&(m=n[c],y=g(m))):(w=x,h+=1,h<a&&(x=-e[h],E=g(x))),c<t&&y<E||h>=a?(_=m,c+=1,c<t&&(m=n[c],y=g(m))):(_=x,h+=1,h<a&&(x=-e[h],E=g(x)));for(var L=_+w,k=L-_,W=w-k,$=W,O=L,z,le,H,Z,Y;c<t&&h<a;)y<E?(_=m,c+=1,c<t&&(m=n[c],y=g(m))):(_=x,h+=1,h<a&&(x=-e[h],E=g(x))),w=$,L=_+w,k=L-_,W=w-k,W&&(u[d++]=W),z=O+L,le=z-O,H=z-le,Z=L-le,Y=O-H,$=Y+Z,O=z;for(;c<t;)_=m,w=$,L=_+w,k=L-_,W=w-k,W&&(u[d++]=W),z=O+L,le=z-O,H=z-le,Z=L-le,Y=O-H,$=Y+Z,O=z,c+=1,c<t&&(m=n[c]);for(;h<a;)_=x,w=$,L=_+w,k=L-_,W=w-k,W&&(u[d++]=W),z=O+L,le=z-O,H=z-le,Z=L-le,Y=O-H,$=Y+Z,O=z,h+=1,h<a&&(x=-e[h]);return $&&(u[d++]=$),O&&(u[d++]=O),d||(u[d++]=0),u.length=d,u}(function(n){var e=ix,t=c7,a=y7,o=b7,u=5,d=11102230246251565e-32,c=(3+16*d)*d,h=(7+56*d)*d;function g($,O,z,le){return function(Z,Y,ye){var F=$($(O(Y[1],ye[0]),O(-ye[1],Y[0])),$(O(Z[1],Y[0]),O(-Y[1],Z[0]))),b=$(O(Z[1],ye[0]),O(-ye[1],Z[0])),I=le(F,b);return I[I.length-1]}}function m($,O,z,le){return function(Z,Y,ye,F){var b=$($(z($(O(ye[1],F[0]),O(-F[1],ye[0])),Y[2]),$(z($(O(Y[1],F[0]),O(-F[1],Y[0])),-ye[2]),z($(O(Y[1],ye[0]),O(-ye[1],Y[0])),F[2]))),$(z($(O(Y[1],F[0]),O(-F[1],Y[0])),Z[2]),$(z($(O(Z[1],F[0]),O(-F[1],Z[0])),-Y[2]),z($(O(Z[1],Y[0]),O(-Y[1],Z[0])),F[2])))),I=$($(z($(O(ye[1],F[0]),O(-F[1],ye[0])),Z[2]),$(z($(O(Z[1],F[0]),O(-F[1],Z[0])),-ye[2]),z($(O(Z[1],ye[0]),O(-ye[1],Z[0])),F[2]))),$(z($(O(Y[1],ye[0]),O(-ye[1],Y[0])),Z[2]),$(z($(O(Z[1],ye[0]),O(-ye[1],Z[0])),-Y[2]),z($(O(Z[1],Y[0]),O(-Y[1],Z[0])),ye[2])))),B=le(b,I);return B[B.length-1]}}function y($,O,z,le){return function(Z,Y,ye,F,b){var I=$($($(z($(z($(O(F[1],b[0]),O(-b[1],F[0])),ye[2]),$(z($(O(ye[1],b[0]),O(-b[1],ye[0])),-F[2]),z($(O(ye[1],F[0]),O(-F[1],ye[0])),b[2]))),Y[3]),$(z($(z($(O(F[1],b[0]),O(-b[1],F[0])),Y[2]),$(z($(O(Y[1],b[0]),O(-b[1],Y[0])),-F[2]),z($(O(Y[1],F[0]),O(-F[1],Y[0])),b[2]))),-ye[3]),z($(z($(O(ye[1],b[0]),O(-b[1],ye[0])),Y[2]),$(z($(O(Y[1],b[0]),O(-b[1],Y[0])),-ye[2]),z($(O(Y[1],ye[0]),O(-ye[1],Y[0])),b[2]))),F[3]))),$(z($(z($(O(ye[1],F[0]),O(-F[1],ye[0])),Y[2]),$(z($(O(Y[1],F[0]),O(-F[1],Y[0])),-ye[2]),z($(O(Y[1],ye[0]),O(-ye[1],Y[0])),F[2]))),-b[3]),$(z($(z($(O(F[1],b[0]),O(-b[1],F[0])),Y[2]),$(z($(O(Y[1],b[0]),O(-b[1],Y[0])),-F[2]),z($(O(Y[1],F[0]),O(-F[1],Y[0])),b[2]))),Z[3]),z($(z($(O(F[1],b[0]),O(-b[1],F[0])),Z[2]),$(z($(O(Z[1],b[0]),O(-b[1],Z[0])),-F[2]),z($(O(Z[1],F[0]),O(-F[1],Z[0])),b[2]))),-Y[3])))),$($(z($(z($(O(Y[1],b[0]),O(-b[1],Y[0])),Z[2]),$(z($(O(Z[1],b[0]),O(-b[1],Z[0])),-Y[2]),z($(O(Z[1],Y[0]),O(-Y[1],Z[0])),b[2]))),F[3]),$(z($(z($(O(Y[1],F[0]),O(-F[1],Y[0])),Z[2]),$(z($(O(Z[1],F[0]),O(-F[1],Z[0])),-Y[2]),z($(O(Z[1],Y[0]),O(-Y[1],Z[0])),F[2]))),-b[3]),z($(z($(O(ye[1],F[0]),O(-F[1],ye[0])),Y[2]),$(z($(O(Y[1],F[0]),O(-F[1],Y[0])),-ye[2]),z($(O(Y[1],ye[0]),O(-ye[1],Y[0])),F[2]))),Z[3]))),$(z($(z($(O(ye[1],F[0]),O(-F[1],ye[0])),Z[2]),$(z($(O(Z[1],F[0]),O(-F[1],Z[0])),-ye[2]),z($(O(Z[1],ye[0]),O(-ye[1],Z[0])),F[2]))),-Y[3]),$(z($(z($(O(Y[1],F[0]),O(-F[1],Y[0])),Z[2]),$(z($(O(Z[1],F[0]),O(-F[1],Z[0])),-Y[2]),z($(O(Z[1],Y[0]),O(-Y[1],Z[0])),F[2]))),ye[3]),z($(z($(O(Y[1],ye[0]),O(-ye[1],Y[0])),Z[2]),$(z($(O(Z[1],ye[0]),O(-ye[1],Z[0])),-Y[2]),z($(O(Z[1],Y[0]),O(-Y[1],Z[0])),ye[2]))),-F[3]))))),B=$($($(z($(z($(O(F[1],b[0]),O(-b[1],F[0])),ye[2]),$(z($(O(ye[1],b[0]),O(-b[1],ye[0])),-F[2]),z($(O(ye[1],F[0]),O(-F[1],ye[0])),b[2]))),Z[3]),z($(z($(O(F[1],b[0]),O(-b[1],F[0])),Z[2]),$(z($(O(Z[1],b[0]),O(-b[1],Z[0])),-F[2]),z($(O(Z[1],F[0]),O(-F[1],Z[0])),b[2]))),-ye[3])),$(z($(z($(O(ye[1],b[0]),O(-b[1],ye[0])),Z[2]),$(z($(O(Z[1],b[0]),O(-b[1],Z[0])),-ye[2]),z($(O(Z[1],ye[0]),O(-ye[1],Z[0])),b[2]))),F[3]),z($(z($(O(ye[1],F[0]),O(-F[1],ye[0])),Z[2]),$(z($(O(Z[1],F[0]),O(-F[1],Z[0])),-ye[2]),z($(O(Z[1],ye[0]),O(-ye[1],Z[0])),F[2]))),-b[3]))),$($(z($(z($(O(ye[1],b[0]),O(-b[1],ye[0])),Y[2]),$(z($(O(Y[1],b[0]),O(-b[1],Y[0])),-ye[2]),z($(O(Y[1],ye[0]),O(-ye[1],Y[0])),b[2]))),Z[3]),z($(z($(O(ye[1],b[0]),O(-b[1],ye[0])),Z[2]),$(z($(O(Z[1],b[0]),O(-b[1],Z[0])),-ye[2]),z($(O(Z[1],ye[0]),O(-ye[1],Z[0])),b[2]))),-Y[3])),$(z($(z($(O(Y[1],b[0]),O(-b[1],Y[0])),Z[2]),$(z($(O(Z[1],b[0]),O(-b[1],Z[0])),-Y[2]),z($(O(Z[1],Y[0]),O(-Y[1],Z[0])),b[2]))),ye[3]),z($(z($(O(Y[1],ye[0]),O(-ye[1],Y[0])),Z[2]),$(z($(O(Z[1],ye[0]),O(-ye[1],Z[0])),-Y[2]),z($(O(Z[1],Y[0]),O(-Y[1],Z[0])),ye[2]))),-b[3])))),V=le(I,B);return V[V.length-1]}}function x($){var O=$===3?g:$===4?m:y;return O(t,e,a,o)}var E=x(3),_=x(4),w=[function(){return 0},function(){return 0},function(O,z){return z[0]-O[0]},function(O,z,le){var H=(O[1]-le[1])*(z[0]-le[0]),Z=(O[0]-le[0])*(z[1]-le[1]),Y=H-Z,ye;if(H>0){if(Z<=0)return Y;ye=H+Z}else if(H<0){if(Z>=0)return Y;ye=-(H+Z)}else return Y;var F=c*ye;return Y>=F||Y<=-F?Y:E(O,z,le)},function(O,z,le,H){var Z=O[0]-H[0],Y=z[0]-H[0],ye=le[0]-H[0],F=O[1]-H[1],b=z[1]-H[1],I=le[1]-H[1],B=O[2]-H[2],V=z[2]-H[2],ee=le[2]-H[2],ce=Y*I,q=ye*b,ne=ye*F,C=Z*I,G=Z*b,_e=Y*F,De=B*(ce-q)+V*(ne-C)+ee*(G-_e),$e=(Math.abs(ce)+Math.abs(q))*Math.abs(B)+(Math.abs(ne)+Math.abs(C))*Math.abs(V)+(Math.abs(G)+Math.abs(_e))*Math.abs(ee),be=h*$e;return De>be||-De>be?De:_(O,z,le,H)}];function L($){var O=w[$.length];return O||(O=w[$.length]=x($.length)),O.apply(void 0,$)}function k($,O,z,le,H,Z,Y){return function(F,b,I,B,V){switch(arguments.length){case 0:case 1:return 0;case 2:return le(F,b);case 3:return H(F,b,I);case 4:return Z(F,b,I,B);case 5:return Y(F,b,I,B,V)}for(var ee=new Array(arguments.length),ce=0;ce<arguments.length;++ce)ee[ce]=arguments[ce];return $(ee)}}function W(){for(;w.length<=u;)w.push(x(w.length));n.exports=k.apply(void 0,[L].concat(w));for(var $=0;$<=u;++$)n.exports[$]=w[$]}W()})(l7);var _7=S7,ey=Yd[3];function S7(n){var e=n.length;if(e<3){for(var g=new Array(e),t=0;t<e;++t)g[t]=t;return e===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:g}for(var a=new Array(e),t=0;t<e;++t)a[t]=t;a.sort(function(E,_){var w=n[E][0]-n[_][0];return w||n[E][1]-n[_][1]});for(var o=[a[0],a[1]],u=[a[0],a[1]],t=2;t<e;++t){for(var d=a[t],c=n[d],h=o.length;h>1&&ey(n[o[h-2]],n[o[h-1]],c)<=0;)h-=1,o.pop();for(o.push(d),h=u.length;h>1&&ey(n[u[h-2]],n[u[h-1]],c)>=0;)h-=1,u.pop();u.push(d)}for(var g=new Array(u.length+o.length-2),m=0,t=0,y=o.length;t<y;++t)g[m++]=o[t];for(var x=u.length-2;x>0;--x)g[m++]=u[x];return g}var E7=M7,C7=_7;function M7(n){var e=C7(n),t=e.length;if(t<=2)return[];for(var a=new Array(t),o=e[t-1],u=0;u<t;++u){var d=e[u];a[u]=[o,d],o=d}return a}var ki={},mr={},Ep=32;mr.INT_BITS=Ep;mr.INT_MAX=2147483647;mr.INT_MIN=-1<<Ep-1;mr.sign=function(n){return(n>0)-(n<0)};mr.abs=function(n){var e=n>>Ep-1;return(n^e)-e};mr.min=function(n,e){return e^(n^e)&-(n<e)};mr.max=function(n,e){return n^(n^e)&-(n<e)};mr.isPow2=function(n){return!(n&n-1)&&!!n};mr.log2=function(n){var e,t;return e=(n>65535)<<4,n>>>=e,t=(n>255)<<3,n>>>=t,e|=t,t=(n>15)<<2,n>>>=t,e|=t,t=(n>3)<<1,n>>>=t,e|=t,e|n>>1};mr.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0};mr.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function ax(n){var e=32;return n&=-n,n&&e--,n&65535&&(e-=16),n&16711935&&(e-=8),n&252645135&&(e-=4),n&858993459&&(e-=2),n&1431655765&&(e-=1),e}mr.countTrailingZeros=ax;mr.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1};mr.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)};mr.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var Nd=new Array(256);(function(n){for(var e=0;e<256;++e){var t=e,a=e,o=7;for(t>>>=1;t;t>>>=1)a<<=1,a|=t&1,--o;n[e]=a<<o&255}})(Nd);mr.reverse=function(n){return Nd[n&255]<<24|Nd[n>>>8&255]<<16|Nd[n>>>16&255]<<8|Nd[n>>>24&255]};mr.interleave2=function(n,e){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1};mr.deinterleave2=function(n,e){return n=n>>>e&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16};mr.interleave3=function(n,e,t){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,n|=e<<1,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,n|t<<2};mr.deinterleave3=function(n,e){return n=n>>>e&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22};mr.nextCombination=function(n){var e=n|n-1;return e+1|(~e&-~e)-1>>>ax(n)+1};var I7=sx;function sx(n){this.roots=new Array(n),this.ranks=new Array(n);for(var e=0;e<n;++e)this.roots[e]=e,this.ranks[e]=0}var Yh=sx.prototype;Object.defineProperty(Yh,"length",{get:function(){return this.roots.length}});Yh.makeSet=function(){var n=this.roots.length;return this.roots.push(n),this.ranks.push(0),n};Yh.find=function(n){for(var e=n,t=this.roots;t[n]!==n;)n=t[n];for(;t[e]!==n;){var a=t[e];t[e]=n,e=a}return n};Yh.link=function(n,e){var t=this.find(n),a=this.find(e);if(t!==a){var o=this.ranks,u=this.roots,d=o[t],c=o[a];d<c?u[t]=a:c<d?u[a]=t:(u[a]=t,++o[t])}};var ox=mr,ux=I7;function P7(n){for(var e=0,t=Math.max,a=0,o=n.length;a<o;++a)e=t(e,n[a].length);return e-1}ki.dimension=P7;function N7(n){for(var e=-1,t=Math.max,a=0,o=n.length;a<o;++a)for(var u=n[a],d=0,c=u.length;d<c;++d)e=t(e,u[d]);return e+1}ki.countVertices=N7;function A7(n){for(var e=new Array(n.length),t=0,a=n.length;t<a;++t)e[t]=n[t].slice(0);return e}ki.cloneCells=A7;function Tl(n,e){var t=n.length,a=n.length-e.length,o=Math.min;if(a)return a;switch(t){case 0:return 0;case 1:return n[0]-e[0];case 2:var g=n[0]+n[1]-e[0]-e[1];return g||o(n[0],n[1])-o(e[0],e[1]);case 3:var u=n[0]+n[1],d=e[0]+e[1];if(g=u+n[2]-(d+e[2]),g)return g;var c=o(n[0],n[1]),h=o(e[0],e[1]),g=o(c,n[2])-o(h,e[2]);return g||o(c+n[2],u)-o(h+e[2],d);default:var m=n.slice(0);m.sort();var y=e.slice(0);y.sort();for(var x=0;x<t;++x)if(a=m[x]-y[x],a)return a;return 0}}ki.compareCells=Tl;function D7(n,e){return Tl(n[0],e[0])}function oc(n,e){if(e){for(var t=n.length,a=new Array(t),o=0;o<t;++o)a[o]=[n[o],e[o]];a.sort(D7);for(var o=0;o<t;++o)n[o]=a[o][0],e[o]=a[o][1];return n}else return n.sort(Tl),n}ki.normalize=oc;function Cp(n){if(n.length===0)return[];for(var e=1,t=n.length,a=1;a<t;++a){var o=n[a];if(Tl(o,n[a-1])){if(a===e){e++;continue}n[e++]=o}}return n.length=e,n}ki.unique=Cp;function Rd(n,e){for(var t=0,a=n.length-1,o=-1;t<=a;){var u=t+a>>1,d=Tl(n[u],e);d<=0?(d===0&&(o=u),t=u+1):d>0&&(a=u-1)}return o}ki.findCell=Rd;function lx(n,e){for(var t=new Array(n.length),a=0,o=t.length;a<o;++a)t[a]=[];for(var u=[],a=0,d=e.length;a<d;++a)for(var c=e[a],h=c.length,g=1,m=1<<h;g<m;++g){u.length=ox.popCount(g);for(var y=0,x=0;x<h;++x)g&1<<x&&(u[y++]=c[x]);var E=Rd(n,u);if(!(E<0))for(;t[E++].push(a),!(E>=n.length||Tl(n[E],u)!==0););}return t}ki.incidence=lx;function $7(n,e){if(!e)return lx(Cp(Mp(n,0)),n);for(var t=new Array(e),a=0;a<e;++a)t[a]=[];for(var a=0,o=n.length;a<o;++a)for(var u=n[a],d=0,c=u.length;d<c;++d)t[u[d]].push(a);return t}ki.dual=$7;function T7(n){for(var e=[],t=0,a=n.length;t<a;++t)for(var o=n[t],u=o.length|0,d=1,c=1<<u;d<c;++d){for(var h=[],g=0;g<u;++g)d>>>g&1&&h.push(o[g]);e.push(h)}return oc(e)}ki.explode=T7;function Mp(n,e){if(e<0)return[];for(var t=[],a=(1<<e+1)-1,o=0;o<n.length;++o)for(var u=n[o],d=a;d<1<<u.length;d=ox.nextCombination(d)){for(var c=new Array(e+1),h=0,g=0;g<u.length;++g)d&1<<g&&(c[h++]=u[g]);t.push(c)}return oc(t)}ki.skeleton=Mp;function R7(n){for(var e=[],t=0,a=n.length;t<a;++t)for(var o=n[t],u=0,d=o.length;u<d;++u){for(var c=new Array(o.length-1),h=0,g=0;h<d;++h)h!==u&&(c[g++]=o[h]);e.push(c)}return oc(e)}ki.boundary=R7;function O7(n,e){for(var t=new ux(e),a=0;a<n.length;++a)for(var o=n[a],u=0;u<o.length;++u)for(var d=u+1;d<o.length;++d)t.link(o[u],o[d]);for(var c=[],h=t.ranks,a=0;a<h.length;++a)h[a]=-1;for(var a=0;a<n.length;++a){var g=t.find(n[a][0]);h[g]<0?(h[g]=c.length,c.push([n[a].slice(0)])):c[h[g]].push(n[a].slice(0))}return c}function L7(n){for(var e=Cp(oc(Mp(n,0))),t=new ux(e.length),a=0;a<n.length;++a)for(var o=n[a],u=0;u<o.length;++u)for(var d=Rd(e,[o[u]]),c=u+1;c<o.length;++c)t.link(d,Rd(e,[o[c]]));for(var h=[],g=t.ranks,a=0;a<g.length;++a)g[a]=-1;for(var a=0;a<n.length;++a){var m=t.find(Rd(e,[n[a][0]]));g[m]<0?(g[m]=h.length,h.push([n[a].slice(0)])):h[g[m]].push(n[a].slice(0))}return h}function k7(n,e){return e?O7(n,e):L7(n)}ki.connectedComponents=k7;var F7=G7,v1=Yd,B7=ki.compareCells;function ch(n,e,t){this.vertices=n,this.adjacent=e,this.boundary=t,this.lastVisited=-1}ch.prototype.flip=function(){var n=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=n;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};function H7(n,e,t){this.vertices=n,this.cell=e,this.index=t}function z7(n,e){return B7(n.vertices,e.vertices)}function V7(n){for(var e=["function orient(){var tuple=this.tuple;return test("],t=0;t<=n;++t)t>0&&e.push(","),e.push("tuple[",t,"]");e.push(")}return orient");var a=new Function("test",e.join("")),o=v1[n+1];return o||(o=v1),a(o)}var ty=[];function dx(n,e,t){this.dimension=n,this.vertices=e,this.simplices=t,this.interior=t.filter(function(u){return!u.boundary}),this.tuple=new Array(n+1);for(var a=0;a<=n;++a)this.tuple[a]=this.vertices[a];var o=ty[n];o||(o=ty[n]=V7(n)),this.orient=o}var uc=dx.prototype;uc.handleBoundaryDegeneracy=function(n,e){var t=this.dimension,a=this.vertices.length-1,o=this.tuple,u=this.vertices,d=[n];for(n.lastVisited=-a;d.length>0;){n=d.pop(),n.vertices;for(var c=n.adjacent,h=0;h<=t;++h){var g=c[h];if(!(!g.boundary||g.lastVisited<=-a)){for(var m=g.vertices,y=0;y<=t;++y){var x=m[y];x<0?o[y]=e:o[y]=u[x]}var E=this.orient();if(E>0)return g;g.lastVisited=-a,E===0&&d.push(g)}}}return null};uc.walk=function(n,e){var t=this.vertices.length-1,a=this.dimension,o=this.vertices,u=this.tuple,d=e?this.interior.length*Math.random()|0:this.interior.length-1,c=this.interior[d];e:for(;!c.boundary;){for(var h=c.vertices,g=c.adjacent,m=0;m<=a;++m)u[m]=o[h[m]];c.lastVisited=t;for(var m=0;m<=a;++m){var y=g[m];if(!(y.lastVisited>=t)){var x=u[m];u[m]=n;var E=this.orient();if(u[m]=x,E<0){c=y;continue e}else y.boundary?y.lastVisited=-t:y.lastVisited=t}}return}return c};uc.addPeaks=function(n,e){var t=this.vertices.length-1,a=this.dimension,o=this.vertices,u=this.tuple,d=this.interior,c=this.simplices,h=[e];e.lastVisited=t,e.vertices[e.vertices.indexOf(-1)]=t,e.boundary=!1,d.push(e);for(var g=[];h.length>0;){var e=h.pop(),m=e.vertices,y=e.adjacent,x=m.indexOf(t);if(!(x<0)){for(var E=0;E<=a;++E)if(E!==x){var _=y[E];if(!(!_.boundary||_.lastVisited>=t)){var w=_.vertices;if(_.lastVisited!==-t){for(var L=0,k=0;k<=a;++k)w[k]<0?(L=k,u[k]=n):u[k]=o[w[k]];var W=this.orient();if(W>0){w[L]=t,_.boundary=!1,d.push(_),h.push(_),_.lastVisited=t;continue}else _.lastVisited=-t}var $=_.adjacent,O=m.slice(),z=y.slice(),le=new ch(O,z,!0);c.push(le);var H=$.indexOf(e);if(!(H<0)){$[H]=le,z[x]=_,O[E]=-1,z[E]=e,y[E]=le,le.flip();for(var k=0;k<=a;++k){var Z=O[k];if(!(Z<0||Z===t)){for(var Y=new Array(a-1),ye=0,F=0;F<=a;++F){var b=O[F];b<0||F===k||(Y[ye++]=b)}g.push(new H7(Y,le,k))}}}}}}}g.sort(z7);for(var E=0;E+1<g.length;E+=2){var I=g[E],B=g[E+1],V=I.index,ee=B.index;V<0||ee<0||(I.cell.adjacent[I.index]=B.cell,B.cell.adjacent[B.index]=I.cell)}};uc.insert=function(n,e){var t=this.vertices;t.push(n);var a=this.walk(n,e);if(a){for(var o=this.dimension,u=this.tuple,d=0;d<=o;++d){var c=a.vertices[d];c<0?u[d]=n:u[d]=t[c]}var h=this.orient(u);h<0||h===0&&(a=this.handleBoundaryDegeneracy(a,n),!a)||this.addPeaks(n,a)}};uc.boundary=function(){for(var n=this.dimension,e=[],t=this.simplices,a=t.length,o=0;o<a;++o){var u=t[o];if(u.boundary){for(var d=new Array(n),c=u.vertices,h=0,g=0,m=0;m<=n;++m)c[m]>=0?d[h++]=c[m]:g=m&1;if(g===(n&1)){var y=d[0];d[0]=d[1],d[1]=y}e.push(d)}}return e};function G7(n,e){var t=n.length;if(t===0)throw new Error("Must have at least d+1 points");var a=n[0].length;if(t<=a)throw new Error("Must input at least d+1 points");var o=n.slice(0,a+1),u=v1.apply(void 0,o);if(u===0)throw new Error("Input not in general position");for(var d=new Array(a+1),c=0;c<=a;++c)d[c]=c;u<0&&(d[0]=1,d[1]=0);for(var h=new ch(d,new Array(a+1),!1),g=h.adjacent,m=new Array(a+2),c=0;c<=a;++c){for(var y=d.slice(),x=0;x<=a;++x)x===c&&(y[x]=-1);var E=y[0];y[0]=y[1],y[1]=E;var _=new ch(y,new Array(a+1),!0);g[c]=_,m[c]=_}m[a+1]=h;for(var c=0;c<=a;++c)for(var y=g[c].vertices,w=g[c].adjacent,x=0;x<=a;++x){var L=y[x];if(L<0){w[x]=h;continue}for(var k=0;k<=a;++k)g[k].vertices.indexOf(L)<0&&(w[x]=g[k])}for(var W=new dx(a,o,m),$=!!e,c=a+1;c<t;++c)W.insert(n[c],$);return W.boundary()}var W7=j7,U7=Yd;function q7(n,e){for(var t=new Array(e+1),a=0;a<n.length;++a)t[a]=n[a];for(var a=0;a<=n.length;++a){for(var o=n.length;o<=e;++o){for(var u=new Array(e),d=0;d<e;++d)u[d]=Math.pow(o+1-a,d);t[o]=u}var c=U7.apply(void 0,t);if(c)return!0}return!1}function j7(n){var e=n.length;if(e===0)return[];if(e===1)return[0];for(var t=n[0].length,a=[n[0]],o=[0],u=1;u<e;++u){if(a.push(n[u]),!q7(a,t)){a.pop();continue}if(o.push(u),o.length===t+1)return o}return o}var K7=Z7,ny=F7,J7=W7;function Y7(n,e){for(var t=n.length,a=new Array(t),o=0;o<e.length;++o)a[o]=n[e[o]];for(var u=e.length,o=0;o<t;++o)e.indexOf(o)<0&&(a[u++]=n[o]);return a}function X7(n,e){for(var t=n.length,a=e.length,o=0;o<t;++o)for(var u=n[o],d=0;d<u.length;++d){var c=u[d];if(c<a)u[d]=e[c];else{c=c-a;for(var h=0;h<a;++h)c>=e[h]&&(c+=1);u[d]=c}}return n}function Z7(n,e){try{return ny(n,!0)}catch{var t=J7(n);if(t.length<=e)return[];var a=Y7(n,t),o=ny(a,!0);return X7(o,t)}}var Q7=o7,eE=E7,tE=K7,nE=rE;function rE(n){var e=n.length;if(e===0)return[];if(e===1)return[[0]];var t=n[0].length;return t===0?[]:t===1?Q7(n):t===2?eE(n):tE(n,t)}var iE=Na.coordEach,aE=nE,sE=an.polygon,oE=function(n){var e=[];iE(n,function(u){e.push(u)});var t=aE(e);if(t.length>0){for(var a=[],o=0;o<t.length;o++)a.push(e[t[o][0]]);return a.push(e[t[t.length-1][1]]),sE([a])}},uE=$l,lE=an.featureCollection,dE=function(n,e){for(var t=lE([]),a=0;a<e.features.length;a++)for(var o=0;o<n.features.length;o++){var u=uE(n.features[o],e.features[a]);u&&t.features.push(n.features[o])}return t},Du={},cE={get exports(){return Du},set exports(n){Du=n}};(function(n,e){(function(t,a){a(e)})(wr,function(t){function a(r,s){for(var l in s)s.hasOwnProperty(l)&&(r[l]=s[l])}function o(){}function u(){}function d(){}function c(){}function h(){}function g(){}function m(){}function y(r){this.message=r}function x(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r}function E(){if(arguments.length===0)y.call(this);else if(arguments.length===1){var r=arguments[0];y.call(this,r)}}function _(){}function w(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)w.call(this,0,0);else if(arguments.length===1){var r=arguments[0];w.call(this,r.x,r.y,r.z)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];w.call(this,s,l,w.NULL_ORDINATE)}else if(arguments.length===3){var f=arguments[0],p=arguments[1],v=arguments[2];this.x=f,this.y=p,this.z=v}}function L(){if(this.dimensionsToTest=2,arguments.length===0)L.call(this,2);else if(arguments.length===1){var r=arguments[0];if(r!==2&&r!==3)throw new u;this.dimensionsToTest=r}}function k(){}function W(){}function $(r){this.message=r||""}function O(){}function z(r){this.message=r||""}function le(r){this.message=r||""}function H(){this.array_=[],arguments[0]instanceof W&&this.addAll(arguments[0])}function Z(){if(H.apply(this),arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.ensureCapacity(s.length),this.add(s,l)}}}function Y(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof w){var r=arguments[0];this.init(r.x,r.x,r.y,r.y)}else if(arguments[0]instanceof Y){var s=arguments[0];this.init(s)}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];this.init(l.x,f.x,l.y,f.y)}else if(arguments.length===4){var p=arguments[0],v=arguments[1],S=arguments[2],N=arguments[3];this.init(p,v,S,N)}}function ye(){}function F(){ye.call(this,"Projective point not representable on the Cartesian plane.")}function b(){}function I(r,s){return r.interfaces_&&r.interfaces_().indexOf(s)>-1}function B(){}function V(r){this.str=r}function ee(r){this.value=r}function ce(){}function q(){if(this.hi=0,this.lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var r=arguments[0];this.init(r)}else if(arguments[0]instanceof q){var s=arguments[0];this.init(s)}else if(typeof arguments[0]=="string"){var l=arguments[0];q.call(this,q.parse(l))}}else if(arguments.length===2){var f=arguments[0],p=arguments[1];this.init(f,p)}}function ne(){}function C(){}function G(){}function _e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var r=arguments[0];this.x=r.x,this.y=r.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],l=arguments[1];this.x=s,this.y=l,this.w=1}else if(arguments[0]instanceof _e&&arguments[1]instanceof _e){var f=arguments[0],p=arguments[1];this.x=f.y*p.w-p.y*f.w,this.y=p.x*f.w-f.x*p.w,this.w=f.x*p.y-p.x*f.y}else if(arguments[0]instanceof w&&arguments[1]instanceof w){var v=arguments[0],S=arguments[1];this.x=v.y-S.y,this.y=S.x-v.x,this.w=v.x*S.y-S.x*v.y}}else if(arguments.length===3){var N=arguments[0],j=arguments[1],de=arguments[2];this.x=N,this.y=j,this.w=de}else if(arguments.length===4){var we=arguments[0],Ce=arguments[1],Fe=arguments[2],ct=arguments[3],Rt=we.y-Ce.y,Ut=Ce.x-we.x,Ln=we.x*Ce.y-Ce.x*we.y,tr=Fe.y-ct.y,ca=ct.x-Fe.x,du=Fe.x*ct.y-ct.x*Fe.y;this.x=Ut*du-ca*Ln,this.y=tr*Ln-Rt*du,this.w=Rt*ca-tr*Ut}}function De(){}function $e(){}function be(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var r=arguments[0];this.factory=r,this.SRID=r.getSRID()}function Ze(){}function Qe(){}function Ot(){}function it(){}function at(){}function lt(){}function Pe(){}function Tt(){}function Rn(){}function $t(){}function te(){}function D(){}function A(){this.array_=[],arguments[0]instanceof W&&this.addAll(arguments[0])}function se(r){return r==null?ss:r.color}function pe(r){return r==null?null:r.parent}function Ee(r,s){r!==null&&(r.color=s)}function Te(r){return r==null?null:r.left}function Me(r){return r==null?null:r.right}function je(){this.root_=null,this.size_=0}function wt(){}function Kt(){}function nt(){this.array_=[],arguments[0]instanceof W&&this.addAll(arguments[0])}function qt(){}function Ne(){}function nn(){}function en(){}function It(){this.geometries=null;var r=arguments[0],s=arguments[1];if(be.call(this,s),r===null&&(r=[]),be.hasNullElements(r))throw new u;this.geometries=r}function st(){var r=arguments[0],s=arguments[1];It.call(this,r,s)}function Ft(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,arguments.length===1){var r=arguments[0];Ft.call(this,r,Qe.MOD2_BOUNDARY_RULE)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.geom=s,this.geomFact=s.getFactory(),this.bnRule=l}}function Zr(){this.count=null}function Cn(){}function dn(){}function gi(){}function ln(){}function At(){}function An(){}function et(){}function ze(){}function St(){this.points=null;var r=arguments[0],s=arguments[1];be.call(this,s),this.init(r)}function cn(){}function ot(){this.coordinates=null;var r=arguments[0],s=arguments[1];be.call(this,s),this.init(r)}function ir(){}function Ct(){this.shell=null,this.holes=null;var r=arguments[0],s=arguments[1],l=arguments[2];if(be.call(this,l),r===null&&(r=this.getFactory().createLinearRing()),s===null&&(s=[]),be.hasNullElements(s))throw new u;if(r.isEmpty()&&be.hasNonEmptyElements(s))throw new u;this.shell=r,this.holes=s}function oe(){var r=arguments[0],s=arguments[1];It.call(this,r,s)}function Q(){if(arguments[0]instanceof w&&arguments[1]instanceof Mt){var r=arguments[0],s=arguments[1];Q.call(this,s.getCoordinateSequenceFactory().create(r),s)}else if(I(arguments[0],C)&&arguments[1]instanceof Mt){var l=arguments[0],f=arguments[1];St.call(this,l,f),this.validateConstruction()}}function J(){var r=arguments[0],s=arguments[1];It.call(this,r,s)}function U(){if(this.factory=null,this.isUserDataCopied=!1,arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.factory=r}}}function R(){}function K(){}function ie(){}function xe(){}function ve(){if(this.dimension=3,this.coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var r=arguments[0];ve.call(this,r,3)}else if(Number.isInteger(arguments[0])){var s=arguments[0];this.coordinates=new Array(s).fill(null);for(var l=0;s>l;l++)this.coordinates[l]=new w}else if(I(arguments[0],C)){var f=arguments[0];if(f===null)return this.coordinates=new Array(0).fill(null),null;this.dimension=f.getDimension(),this.coordinates=new Array(f.size()).fill(null);for(var l=0;l<this.coordinates.length;l++)this.coordinates[l]=f.getCoordinateCopy(l)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var p=arguments[0],v=arguments[1];this.coordinates=p,this.dimension=v,p===null&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var S=arguments[0],N=arguments[1];this.coordinates=new Array(S).fill(null),this.dimension=N;for(var l=0;S>l;l++)this.coordinates[l]=new w}}}function Re(){}function We(r,s){return r===s||r!==r&&s!==s}function Ae(r,s){function l(f){return this&&this.constructor===l?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=s,void(f&&me.call(this,f))):new l(f)}return s||v4(r,"size",{get:yr}),r.constructor=l,l.prototype=r,l}function me(r){this.add?r.forEach(this.add,this):r.forEach(function(s){this.set(s[0],s[1])},this)}function rt(r){return this.has(r)&&(this._keys.splice(za,1),this._values.splice(za,1),this._itp.forEach(function(s){za<s[0]&&s[0]--})),za>-1}function Bt(r){return this.has(r)?this._values[za]:void 0}function bt(r,s){if(this.objectOnly&&s!==Object(s))throw new TypeError("Invalid value used as weak collection key");if(s!==s||s===0)for(za=r.length;za--&&!We(r[za],s););else za=r.indexOf(s);return za>-1}function Lt(r){return bt.call(this,this._keys,r)}function dt(r,s){return this.has(r)?this._values[za]=s:this._values[this._keys.push(r)-1]=s,this}function pt(){(this._keys||0).length=this._values.length=0}function mn(){return qn(this._itp,this._keys)}function fn(){return qn(this._itp,this._values)}function kn(){return qn(this._itp,this._keys,this._values)}function qn(r,s,l){var f=[0],p=!1;return r.push(f),{next:function(){var v,S=f[0];return!p&&S<s.length?(v=l?[s[S],l[S]]:s[S],f[0]++):(p=!0,r.splice(r.indexOf(f),1)),{done:p,value:v}}}}function yr(){return this._values.length}function Yt(r,s){for(var l=this.entries();;){var f=l.next();if(f.done)break;r.call(s,f.value[1],f.value[0],this)}}function On(){this.map_=new x4}function Wt(){if(this.modelType=null,this.scale=null,arguments.length===0)this.modelType=Wt.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Zn){var r=arguments[0];this.modelType=r,r===Wt.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var s=arguments[0];this.modelType=Wt.FIXED,this.setScale(s)}else if(arguments[0]instanceof Wt){var l=arguments[0];this.modelType=l.modelType,this.scale=l.scale}}}function Zn(){this.name=null;var r=arguments[0];this.name=r,Zn.nameToTypeMap.put(r,this)}function Mt(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,arguments.length===0)Mt.call(this,new Wt,0);else if(arguments.length===1){if(I(arguments[0],De)){var r=arguments[0];Mt.call(this,new Wt,0,r)}else if(arguments[0]instanceof Wt){var s=arguments[0];Mt.call(this,s,0,Mt.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];Mt.call(this,l,f,Mt.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var p=arguments[0],v=arguments[1],S=arguments[2];this.precisionModel=p,this.coordinateSequenceFactory=S,this.SRID=v}}function Ci(r){this.geometryFactory=r||new Mt}function Mn(r){this.parser=new Ci(r)}function zt(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new w,this.intPt[1]=new w,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function Tn(){zt.apply(this)}function Qr(){}function Mi(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var r=arguments[0];this.p=r}function Be(){}function kt(){if(this.p0=null,this.p1=null,arguments.length===0)kt.call(this,new w,new w);else if(arguments.length===1){var r=arguments[0];kt.call(this,r.p0,r.p1)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.p0=s,this.p1=l}else if(arguments.length===4){var f=arguments[0],p=arguments[1],v=arguments[2],S=arguments[3];kt.call(this,new w(f,p),new w(v,S))}}function Ht(){if(this.matrix=null,arguments.length===0)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Ne.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var r=arguments[0];Ht.call(this),this.set(r)}else if(arguments[0]instanceof Ht){var s=arguments[0];Ht.call(this),this.matrix[b.INTERIOR][b.INTERIOR]=s.matrix[b.INTERIOR][b.INTERIOR],this.matrix[b.INTERIOR][b.BOUNDARY]=s.matrix[b.INTERIOR][b.BOUNDARY],this.matrix[b.INTERIOR][b.EXTERIOR]=s.matrix[b.INTERIOR][b.EXTERIOR],this.matrix[b.BOUNDARY][b.INTERIOR]=s.matrix[b.BOUNDARY][b.INTERIOR],this.matrix[b.BOUNDARY][b.BOUNDARY]=s.matrix[b.BOUNDARY][b.BOUNDARY],this.matrix[b.BOUNDARY][b.EXTERIOR]=s.matrix[b.BOUNDARY][b.EXTERIOR],this.matrix[b.EXTERIOR][b.INTERIOR]=s.matrix[b.EXTERIOR][b.INTERIOR],this.matrix[b.EXTERIOR][b.BOUNDARY]=s.matrix[b.EXTERIOR][b.BOUNDARY],this.matrix[b.EXTERIOR][b.EXTERIOR]=s.matrix[b.EXTERIOR][b.EXTERIOR]}}}function Nr(){this.areaBasePt=null,this.triangleCent3=new w,this.areasum2=0,this.cg3=new w,this.lineCentSum=new w,this.totalLength=0,this.ptCount=0,this.ptCentSum=new w;var r=arguments[0];this.areaBasePt=null,this.add(r)}function Ta(r){this.message=r||""}function zn(){this.array_=[]}function Fi(){this.treeSet=new nt,this.list=new H}function M(){if(this.geomFactory=null,this.inputPts=null,arguments.length===1){var r=arguments[0];M.call(this,M.extractCoordinates(r),r.getFactory())}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.inputPts=Fi.filterCoordinates(s),this.geomFactory=l}}function T(){this.origin=null;var r=arguments[0];this.origin=r}function ue(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function ge(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new kt,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof St&&typeof arguments[1]=="number"){var r=arguments[0],s=arguments[1];ge.call(this,r.getCoordinates(),s)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var l=arguments[0],f=arguments[1];this.srcPts=l,this._isClosed=ge.isClosed(l),this.snapTolerance=f}}function re(){this.srcGeom=null;var r=arguments[0];this.srcGeom=r}function Se(){if(ue.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,arguments.length===2){var r=arguments[0],s=arguments[1];this.snapTolerance=r,this.snapPts=s}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];this.snapTolerance=l,this.snapPts=f,this.isSelfSnap=p}}function fe(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function Oe(){this.commonCoord=null,this.ccFilter=new Ge}function Ge(){this.commonBitsX=new fe,this.commonBitsY=new fe}function Xe(){this.trans=null;var r=arguments[0];this.trans=r}function He(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var r=arguments[0];this.parent=r,this.atStart=!0,this.index=0,this.max=r.getNumGeometries()}function tt(){if(this.boundaryRule=Qe.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,arguments.length!==0){if(arguments.length===1){var r=arguments[0];if(r===null)throw new u;this.boundaryRule=r}}}function Et(){}function ht(){}function Ke(){this.pts=null,this.data=null;var r=arguments[0],s=arguments[1];this.pts=r,this.data=s}function Le(){}function Ye(){this.bounds=null,this.item=null;var r=arguments[0],s=arguments[1];this.bounds=r,this.item=s}function Pt(){this._size=null,this.items=null,this._size=0,this.items=new H,this.items.add(null)}function _t(){}function yn(){}function mt(){if(this.childBoundables=new H,this.bounds=null,this.level=null,arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.level=r}}}function Je(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var r=arguments[0],s=arguments[1],l=arguments[2];this.boundable1=r,this.boundable2=s,this.itemDistance=l,this._distance=this.distance()}function Ue(){if(this.root=null,this.built=!1,this.itemBoundables=new H,this.nodeCapacity=null,arguments.length===0)Ue.call(this,Ue.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var r=arguments[0];_.isTrue(r>1,"Node capacity must be greater than 1"),this.nodeCapacity=r}}function vt(){}function Jt(){}function Dt(){if(arguments.length===0)Dt.call(this,Dt.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var r=arguments[0];Ue.call(this,r)}}function Xt(){var r=arguments[0];mt.call(this,r)}function Vt(){}function sn(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var r=arguments[0],s=arguments[1],l=arguments[2],f=arguments[3];this.segString=r,this.coord=new w(s),this.segmentIndex=l,this.segmentOctant=f,this._isInterior=!s.equals2D(r.getCoordinate(l))}function Er(){this.nodeMap=new je,this.edge=null;var r=arguments[0];this.edge=r}function Bi(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var r=arguments[0];this.nodeList=r,this.edge=r.getEdge(),this.nodeIt=r.iterator(),this.readNextNode()}function vr(){}function Hr(){this.nodeList=new Er(this),this.pts=null,this.data=null;var r=arguments[0],s=arguments[1];this.pts=r,this.data=s}function Cr(){this.tempEnv1=new Y,this.tempEnv2=new Y,this.overlapSeg1=new kt,this.overlapSeg2=new kt}function no(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var r=arguments[0],s=arguments[1],l=arguments[2],f=arguments[3];this.pts=r,this.start=s,this.end=l,this.context=f}function rn(){}function si(){}function Uo(){}function Hu(){if(this.segInt=null,arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.setSegmentIntersector(r)}}}function Ra(){if(this.monoChains=new H,this.index=new Dt,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,arguments.length!==0){if(arguments.length===1){var r=arguments[0];Hu.call(this,r)}}}function qo(){Cr.apply(this),this.si=null;var r=arguments[0];this.si=r}function Ar(){if(this.pt=null,arguments.length===1){var r=arguments[0];y.call(this,r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];y.call(this,Ar.msgWithCoord(s,l)),this.pt=new w(l)}}function jo(){}function Oa(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new H,this.intersectionCount=0,this.keepIntersections=!0;var r=arguments[0];this.li=r,this.interiorIntersection=null}function Ko(){this.li=new Tn,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var r=arguments[0];this.segStrings=r}function Ns(){this.nv=null;var r=arguments[0];this.nv=new Ko(Ns.toSegmentStrings(r))}function ro(){this.mapOp=null;var r=arguments[0];this.mapOp=r}function Ve(){}function zr(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var r=arguments[0];this.init(r.length)}else if(Number.isInteger(arguments[0])){var s=arguments[0];this.init(1),this.location[Ve.ON]=s}else if(arguments[0]instanceof zr){var l=arguments[0];if(this.init(l.location.length),l!==null)for(var f=0;f<this.location.length;f++)this.location[f]=l.location[f]}}else if(arguments.length===3){var p=arguments[0],v=arguments[1],S=arguments[2];this.init(3),this.location[Ve.ON]=p,this.location[Ve.LEFT]=v,this.location[Ve.RIGHT]=S}}function Bn(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var r=arguments[0];this.elt[0]=new zr(r),this.elt[1]=new zr(r)}else if(arguments[0]instanceof Bn){var s=arguments[0];this.elt[0]=new zr(s.elt[0]),this.elt[1]=new zr(s.elt[1])}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];this.elt[0]=new zr(b.NONE),this.elt[1]=new zr(b.NONE),this.elt[l].setLocation(f)}else if(arguments.length===3){var p=arguments[0],v=arguments[1],S=arguments[2];this.elt[0]=new zr(p,v,S),this.elt[1]=new zr(p,v,S)}else if(arguments.length===4){var N=arguments[0],j=arguments[1],de=arguments[2],we=arguments[3];this.elt[0]=new zr(b.NONE,b.NONE,b.NONE),this.elt[1]=new zr(b.NONE,b.NONE,b.NONE),this.elt[N].setLocations(j,de,we)}}function io(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new H,this.pts=new H,this.label=new Bn(b.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new H,this.geometryFactory=null;var r=arguments[0],s=arguments[1];this.geometryFactory=s,this.computePoints(r),this.computeRing()}function zu(){var r=arguments[0],s=arguments[1];io.call(this,r,s)}function Jo(){var r=arguments[0],s=arguments[1];io.call(this,r,s)}function Za(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.label=r}}}function Hi(){Za.apply(this),this.coord=null,this.edges=null;var r=arguments[0],s=arguments[1];this.coord=r,this.edges=s,this.label=new Bn(0,b.NONE)}function ao(){this.nodeMap=new je,this.nodeFact=null;var r=arguments[0];this.nodeFact=r}function zi(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,arguments.length===1){var r=arguments[0];this.edge=r}else if(arguments.length===3){var s=arguments[0],l=arguments[1],f=arguments[2];zi.call(this,s,l,f,null)}else if(arguments.length===4){var p=arguments[0],v=arguments[1],S=arguments[2],N=arguments[3];zi.call(this,p),this.init(v,S),this.label=N}}function As(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var r=arguments[0],s=arguments[1];if(zi.call(this,r),this._isForward=s,s)this.init(r.getCoordinate(0),r.getCoordinate(1));else{var l=r.getNumPoints()-1;this.init(r.getCoordinate(l),r.getCoordinate(l-1))}this.computeDirectedLabel()}function Ds(){}function oi(){if(this.edges=new H,this.nodes=null,this.edgeEndList=new H,arguments.length===0)this.nodes=new ao(new Ds);else if(arguments.length===1){var r=arguments[0];this.nodes=new ao(r)}}function Vu(){this.geometryFactory=null,this.shellList=new H;var r=arguments[0];this.geometryFactory=r}function Qa(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new H,this.resultLineList=new H;var r=arguments[0],s=arguments[1],l=arguments[2];this.op=r,this.geometryFactory=s,this.ptLocator=l}function Gu(){this.op=null,this.geometryFactory=null,this.resultPointList=new H;var r=arguments[0],s=arguments[1];this.op=r,this.geometryFactory=s}function pi(){}function ui(){this.geom=null;var r=arguments[0];this.geom=r}function $s(){this.edgeMap=new je,this.edgeList=null,this.ptInAreaLocation=[b.NONE,b.NONE]}function Wu(){$s.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function so(){Ds.apply(this)}function Yo(){this.mce=null,this.chainIndex=null;var r=arguments[0],s=arguments[1];this.mce=r,this.chainIndex=s}function ra(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,arguments.length===2){var r=arguments[0],s=arguments[1];this.eventType=ra.DELETE,this.xValue=r,this.insertEvent=s}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];this.eventType=ra.INSERT,this.label=l,this.xValue=f,this.obj=p}}function Ts(){}function es(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var r=arguments[0],s=arguments[1],l=arguments[2];this.li=r,this.includeProper=s,this.recordIsolated=l}function Uu(){Ts.apply(this),this.events=new H,this.nOverlaps=null}function ia(){this.min=d.POSITIVE_INFINITY,this.max=d.NEGATIVE_INFINITY}function qu(){}function Xo(){ia.apply(this),this.item=null;var r=arguments[0],s=arguments[1],l=arguments[2];this.min=r,this.max=s,this.item=l}function ju(){ia.apply(this),this.node1=null,this.node2=null;var r=arguments[0],s=arguments[1];this.node1=r,this.node2=s,this.buildExtent(this.node1,this.node2)}function Gl(){this.leaves=new H,this.root=null,this.level=0}function ar(){if(this.lines=null,this.isForcedToLineString=!1,arguments.length===1){var r=arguments[0];this.lines=r}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.lines=s,this.isForcedToLineString=l}}function aa(){this.items=new H}function Zo(){this.index=null;var r=arguments[0];if(!I(r,ir))throw new u;this.index=new Rs(r)}function Qo(){this.counter=null;var r=arguments[0];this.counter=r}function Rs(){this.index=new Gl;var r=arguments[0];this.init(r)}function Wl(){this.coord=null,this.segmentIndex=null,this.dist=null;var r=arguments[0],s=arguments[1],l=arguments[2];this.coord=new w(r),this.segmentIndex=s,this.dist=l}function ts(){this.nodeMap=new je,this.edge=null;var r=arguments[0];this.edge=r}function sa(){}function Dr(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Y,this.env2=new Y;var r=arguments[0];this.e=r,this.pts=r.getCoordinates();var s=new sa;this.startIndex=s.getChainStartIndices(this.pts)}function Mr(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var r=0;2>r;r++)for(var s=0;3>s;s++)this.depth[r][s]=Mr.NULL_VALUE}function ei(){if(Za.apply(this),this.pts=null,this.env=null,this.eiList=new ts(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Mr,this.depthDelta=0,arguments.length===1){var r=arguments[0];ei.call(this,r,null)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.pts=s,this.label=l}}function $r(){if(oi.apply(this),this.parentGeom=null,this.lineEdgeMap=new On,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new tt,arguments.length===2){var r=arguments[0],s=arguments[1];$r.call(this,r,s,Qe.OGC_SFS_BOUNDARY_RULE)}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];this.argIndex=l,this.parentGeom=f,this.boundaryNodeRule=p,f!==null&&this.add(f)}}function ns(){if(this.li=new Tn,this.resultPrecisionModel=null,this.arg=null,arguments.length===1){var r=arguments[0];this.setComputationPrecision(r.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new $r(0,r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];ns.call(this,s,l,Qe.OGC_SFS_BOUNDARY_RULE)}else if(arguments.length===3){var f=arguments[0],p=arguments[1],v=arguments[2];f.getPrecisionModel().compareTo(p.getPrecisionModel())>=0?this.setComputationPrecision(f.getPrecisionModel()):this.setComputationPrecision(p.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new $r(0,f,v),this.arg[1]=new $r(1,p,v)}}function Vi(){this.pts=null,this._orientation=null;var r=arguments[0];this.pts=r,this._orientation=Vi.orientation(r)}function Os(){this.edges=new H,this.ocaMap=new je}function ft(){this.ptLocator=new tt,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new Os,this.resultPolyList=new H,this.resultLineList=new H,this.resultPointList=new H;var r=arguments[0],s=arguments[1];ns.call(this,r,s),this.graph=new oi(new so),this.geomFact=r.getFactory()}function Ir(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var r=arguments[0],s=arguments[1];this.geom[0]=r,this.geom[1]=s,this.computeSnapTolerance()}function Qn(){this.geom=new Array(2).fill(null);var r=arguments[0],s=arguments[1];this.geom[0]=r,this.geom[1]=s}function ti(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var r=arguments[0];this.factory=r.getFactory(),this.add(r)}function La(){this.poly=null,this.centreY=null,this.hiY=d.MAX_VALUE,this.loY=-d.MAX_VALUE;var r=arguments[0];this.poly=r,this.hiY=r.getEnvelopeInternal().getMaxY(),this.loY=r.getEnvelopeInternal().getMinY(),this.centreY=ti.avg(this.loY,this.hiY)}function eu(){this.centroid=null,this.minDistance=d.MAX_VALUE,this.interiorPoint=null;var r=arguments[0];this.centroid=r.getCentroid().getCoordinate(),this.addInterior(r),this.interiorPoint===null&&this.addEndpoints(r)}function tu(){this.centroid=null,this.minDistance=d.MAX_VALUE,this.interiorPoint=null;var r=arguments[0];this.centroid=r.getCentroid().getCoordinate(),this.add(r)}function jt(){}function In(){this.p0=null,this.p1=null,this.p2=null;var r=arguments[0],s=arguments[1],l=arguments[2];this.p0=r,this.p1=s,this.p2=l}function Vr(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var r=arguments[0];this.input=r}function br(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new kt,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,arguments.length===1){var r=arguments[0];br.call(this,r,!1)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.inputGeom=s,this.isConvex=l}}function rs(){this.inputGeom=null,this.distanceTolerance=null;var r=arguments[0];this.inputGeom=r}function oo(){ue.apply(this),this.distanceTolerance=null;var r=arguments[0];this.distanceTolerance=r}function Ii(){this._orig=null,this._sym=null,this._next=null;var r=arguments[0];this._orig=r}function Gr(){this._isMarked=!1;var r=arguments[0];Ii.call(this,r)}function Ls(){this.vertexMap=new On}function nu(){this._isStart=!1;var r=arguments[0];Gr.call(this,r)}function P(){Ls.apply(this)}function X(){this.result=null,this.factory=null,this.graph=null,this.lines=new H,this.nodeEdgeStack=new zn,this.ringStartEdge=null,this.graph=new P}function he(){this.items=new H,this.subnode=new Array(4).fill(null)}function Ie(){}function ut(r,s){var l,f,p,v,S={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},N={32:8,64:11}[r];if(v||(l=0>s||0>1/s,isFinite(s)||(v=S[r],l&&(v.d+=1<<r/4-1),f=Math.pow(2,N)-1,p=0)),!v){for(f={32:127,64:1023}[r],p=Math.abs(s);p>=2;)f++,p/=2;for(;1>p&&f>0;)f--,p*=2;0>=f&&(p/=2),r===32&&f>254&&(v={d:l?255:127,c:128,b:0,a:0},f=Math.pow(2,N)-1,p=0)}return f}function qe(){this.pt=new w,this.level=0,this.env=null;var r=arguments[0];this.computeKey(r)}function yt(){he.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var r=arguments[0],s=arguments[1];this.env=r,this.level=s,this.centrex=(r.getMinX()+r.getMaxX())/2,this.centrey=(r.getMinY()+r.getMaxY())/2}function xt(){}function Zt(){he.apply(this)}function xn(){this.root=null,this.minExtent=1,this.root=new Zt}function Pn(r){this.geometryFactory=r||new Mt}function jn(r){this.geometryFactory=r||new Mt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Pn(this.geometryFactory)}function er(){this.parser=new Pn(this.geometryFactory)}function Tr(r){this.geometryFactory=r||new Mt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ci(this.geometryFactory)}function sr(r){return[r.x,r.y]}function ka(r){this.geometryFactory=r||new Mt}function mi(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,arguments.length===2){var r=arguments[0],s=arguments[1];mi.call(this,r,s,0,0)}else if(arguments.length===4){var l=arguments[0],f=arguments[1];this.noder=l,this.scaleFactor=f,this.isScaled=!this.isIntegerPrecision()}}function Gi(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,arguments.length===1){var r=arguments[0];this.inputGeom=r}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.inputGeom=s,this.isClosedEndpointsInInterior=!l.isInBoundary(2)}}function ru(){this.pt=null,this.isClosed=null,this.degree=null;var r=arguments[0];this.pt=r,this.isClosed=!1,this.degree=0}function on(){if(this.quadrantSegments=on.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=on.CAP_ROUND,this.joinStyle=on.JOIN_ROUND,this.mitreLimit=on.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=on.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.setQuadrantSegments(r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.setQuadrantSegments(s),this.setEndCapStyle(l)}else if(arguments.length===4){var f=arguments[0],p=arguments[1],v=arguments[2],S=arguments[3];this.setQuadrantSegments(f),this.setEndCapStyle(p),this.setJoinStyle(v),this.setMitreLimit(S)}}}function uo(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function xc(){this.array_=[]}function H0(){this.finder=null,this.dirEdgeList=new H,this.nodes=new H,this.rightMostCoord=null,this.env=null,this.finder=new uo}function Rr(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=Be.COUNTERCLOCKWISE;var r=arguments[0];this.inputLine=r}function Ul(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new H}function Fa(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new kt,this.seg1=new kt,this.offset0=new kt,this.offset1=new kt,this.side=0,this._hasNarrowConcaveAngle=!1;var r=arguments[0],s=arguments[1],l=arguments[2];this.precisionModel=r,this.bufParams=s,this.li=new Tn,this.filletAngleQuantum=Math.PI/2/s.getQuadrantSegments(),s.getQuadrantSegments()>=8&&s.getJoinStyle()===on.JOIN_ROUND&&(this.closingSegLengthFactor=Fa.MAX_CLOSING_SEG_LEN_FACTOR),this.init(l)}function ql(){this.distance=0,this.precisionModel=null,this.bufParams=null;var r=arguments[0],s=arguments[1];this.precisionModel=r,this.bufParams=s}function wc(){this.subgraphs=null,this.seg=new kt,this.cga=new Be;var r=arguments[0];this.subgraphs=r}function _c(){this.upwardSeg=null,this.leftDepth=null;var r=arguments[0],s=arguments[1];this.upwardSeg=new kt(r),this.leftDepth=s}function z0(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new H;var r=arguments[0],s=arguments[1],l=arguments[2];this.inputGeom=r,this.distance=s,this.curveBuilder=l}function jl(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var r=arguments[0];this.li=r}function lo(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new Os;var r=arguments[0];this.bufParams=r}function Kl(){this.li=new Tn,this.segStrings=null;var r=arguments[0];this.segStrings=r}function Ku(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var r=arguments[0],s=arguments[1],l=arguments[2];if(this.originalPt=r,this.pt=r,this.scaleFactor=s,this.li=l,0>=s)throw new u;s!==1&&(this.pt=new w(this.scale(r.x),this.scale(r.y)),this.p0Scaled=new w,this.p1Scaled=new w),this.initCorners(this.pt)}function co(){this.tempEnv1=new Y,this.selectedSegment=new kt}function Sc(){this.index=null;var r=arguments[0];this.index=r}function Jl(){co.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var r=arguments[0],s=arguments[1],l=arguments[2];this.hotPixel=r,this.parentEdge=s,this.hotPixelVertexIndex=l}function V0(){this.li=null,this.interiorIntersections=null;var r=arguments[0];this.li=r,this.interiorIntersections=new H}function G0(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var r=arguments[0];this.pm=r,this.li=new Tn,this.li.setPrecisionModel(r),this.scaleFactor=r.getScale()}function Or(){if(this.argGeom=null,this.distance=null,this.bufParams=new on,this.resultGeometry=null,this.saveException=null,arguments.length===1){var r=arguments[0];this.argGeom=r}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.argGeom=s,this.bufParams=l}}function iu(){this.comps=null;var r=arguments[0];this.comps=r}function yi(){if(this.component=null,this.segIndex=null,this.pt=null,arguments.length===2){var r=arguments[0],s=arguments[1];yi.call(this,r,yi.INSIDE_AREA,s)}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];this.component=l,this.segIndex=f,this.pt=p}}function au(){this.pts=null;var r=arguments[0];this.pts=r}function Yl(){this.locations=null;var r=arguments[0];this.locations=r}function oa(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new tt,this.minDistanceLocation=null,this.minDistance=d.MAX_VALUE,arguments.length===2){var r=arguments[0],s=arguments[1];oa.call(this,r,s,0)}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=l,this.geom[1]=f,this.terminateDistance=p}}function W0(){this.factory=null,this.directedEdges=new H,this.coordinates=null;var r=arguments[0];this.factory=r}function Wi(){this._isMarked=!1,this._isVisited=!1,this.data=null}function Pi(){Wi.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var r=arguments[0],s=arguments[1],l=arguments[2],f=arguments[3];this.from=r,this.to=s,this.edgeDirection=f,this.p0=r.getCoordinate(),this.p1=l;var p=this.p1.x-this.p0.x,v=this.p1.y-this.p0.y;this.quadrant=rn.quadrant(p,v),this.angle=Math.atan2(v,p)}function Xl(){var r=arguments[0],s=arguments[1],l=arguments[2],f=arguments[3];Pi.call(this,r,s,l,f)}function Ba(){if(Wi.apply(this),this.dirEdge=null,arguments.length!==0){if(arguments.length===2){var r=arguments[0],s=arguments[1];this.setDirectedEdges(r,s)}}}function U0(){this.outEdges=new H,this.sorted=!1}function is(){if(Wi.apply(this),this.pt=null,this.deStar=null,arguments.length===1){var r=arguments[0];is.call(this,r,new U0)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.pt=s,this.deStar=l}}function Ec(){Ba.apply(this),this.line=null;var r=arguments[0];this.line=r}function q0(){this.nodeMap=new je}function Ju(){this.edges=new A,this.dirEdges=new A,this.nodeMap=new q0}function Cc(){Ju.apply(this)}function j0(){this.graph=new Cc,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function Zl(){this.edgeRing=null,this.next=null,this.label=-1;var r=arguments[0],s=arguments[1],l=arguments[2],f=arguments[3];Pi.call(this,r,s,l,f)}function Mc(){Ba.apply(this),this.line=null;var r=arguments[0];this.line=r}function ua(){this.factory=null,this.deList=new H,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var r=arguments[0];this.factory=r}function K0(){}function cr(){Ju.apply(this),this.factory=null;var r=arguments[0];this.factory=r}function vi(){if(this.lineStringAdder=new Ic(this),this.graph=null,this.dangles=new H,this.cutEdges=new H,this.invalidRingLines=new H,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,arguments.length===0)vi.call(this,!1);else if(arguments.length===1){var r=arguments[0];this.extractOnlyPolygonal=r}}function Ic(){this.p=null;var r=arguments[0];this.p=r}function Pc(){}function Ql(){if(this.edgeEnds=new H,arguments.length===1){var r=arguments[0];Ql.call(this,null,r)}else if(arguments.length===2){var s=arguments[1];zi.call(this,s.getEdge(),s.getCoordinate(),s.getDirectedCoordinate(),new Bn(s.getLabel())),this.insert(s)}}function Nc(){$s.apply(this)}function Ac(){var r=arguments[0],s=arguments[1];Hi.call(this,r,s)}function ed(){Ds.apply(this)}function Dc(){this.li=new Tn,this.ptLocator=new tt,this.arg=null,this.nodes=new ao(new ed),this.im=null,this.isolatedEdges=new H,this.invalidPoint=null;var r=arguments[0];this.arg=r}function td(){this.rectEnv=null;var r=arguments[0];this.rectEnv=r.getEnvelopeInternal()}function J0(){this.li=new Tn,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var r=arguments[0];this.rectEnv=r,this.diagUp0=new w(r.getMinX(),r.getMinY()),this.diagUp1=new w(r.getMaxX(),r.getMaxY()),this.diagDown0=new w(r.getMinX(),r.getMaxY()),this.diagDown1=new w(r.getMaxX(),r.getMinY())}function fo(){this._isDone=!1}function Yu(){this.rectangle=null,this.rectEnv=null;var r=arguments[0];this.rectangle=r,this.rectEnv=r.getEnvelopeInternal()}function $c(){fo.apply(this),this.rectEnv=null,this._intersects=!1;var r=arguments[0];this.rectEnv=r}function Tc(){fo.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var r=arguments[0];this.rectSeq=r.getExteriorRing().getCoordinateSequence(),this.rectEnv=r.getEnvelopeInternal()}function Rc(){fo.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new w,this.p1=new w;var r=arguments[0];this.rectEnv=r.getEnvelopeInternal(),this.rectIntersector=new J0(this.rectEnv)}function bn(){if(this._relate=null,arguments.length===2){var r=arguments[0],s=arguments[1];ns.call(this,r,s),this._relate=new Dc(this.arg)}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];ns.call(this,l,f,p),this._relate=new Dc(this.arg)}}function Ni(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var r=arguments[0];this.geomFactory=Ni.extractFactory(r),this.inputGeoms=r}function nd(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var r=arguments[0],s=arguments[1];this.pointGeom=r,this.otherGeom=s,this.geomFact=s.getFactory()}function ho(){this.sortIndex=-1,this.comps=null;var r=arguments[0],s=arguments[1];this.sortIndex=r,this.comps=s}function Ui(){this.inputPolys=null,this.geomFactory=null;var r=arguments[0];this.inputPolys=r,this.inputPolys===null&&(this.inputPolys=new H)}function go(){if(this.polygons=new H,this.lines=new H,this.points=new H,this.geomFact=null,arguments.length===1){if(I(arguments[0],W)){var r=arguments[0];this.extract(r)}else if(arguments[0]instanceof be){var s=arguments[0];this.extract(s)}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];this.geomFact=f,this.extract(l)}}function rd(){this.geometryFactory=new Mt,this.geomGraph=null,this.disconnectedRingcoord=null;var r=arguments[0];this.geomGraph=r}function Ha(){this.items=new H,this.subnode=[null,null]}function as(){if(this.min=null,this.max=null,arguments.length===0)this.min=0,this.max=0;else if(arguments.length===1){var r=arguments[0];this.init(r.min,r.max)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.init(s,l)}}function id(){this.pt=0,this.level=0,this.interval=null;var r=arguments[0];this.computeKey(r)}function ks(){Ha.apply(this),this.interval=null,this.centre=null,this.level=null;var r=arguments[0],s=arguments[1];this.interval=r,this.level=s,this.centre=(r.getMin()+r.getMax())/2}function Xu(){Ha.apply(this)}function Zu(){this.root=null,this.minExtent=1,this.root=new Xu}function Y0(){}function Oc(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new as;var r=arguments[0];this.ring=r,this.buildIndex()}function ad(){co.apply(this),this.mcp=null,this.p=null;var r=arguments[0],s=arguments[1];this.mcp=r,this.p=s}function X0(){this.nodes=new ao(new ed)}function Z0(){this.li=new Tn,this.geomGraph=null,this.nodeGraph=new X0,this.invalidPoint=null;var r=arguments[0];this.geomGraph=r}function Q0(){this.graph=null,this.rings=new H,this.totalEnv=new Y,this.index=null,this.nestedPt=null;var r=arguments[0];this.graph=r}function vn(){if(this.errorType=null,this.pt=null,arguments.length===1){var r=arguments[0];vn.call(this,r,null)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.errorType=s,l!==null&&(this.pt=l.copy())}}function qi(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var r=arguments[0];this.parentGeometry=r}function Lc(){U.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var r=arguments[0],s=arguments[1];this.targetPM=r,this.removeCollapsed=s}function su(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var r=arguments[0];this.targetPM=r}function sd(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new kt;var r=arguments[0];this.pts=r}function Qu(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var r=arguments[0];this.inputGeom=r}function od(){ue.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var r=arguments[0],s=arguments[1];this.isEnsureValidTopology=r,this.distanceTolerance=s}function ud(){if(this.parent=null,this.index=null,arguments.length===2){var r=arguments[0],s=arguments[1];ud.call(this,r,s,null,-1)}else if(arguments.length===4){var l=arguments[0],f=arguments[1],p=arguments[2],v=arguments[3];kt.call(this,l,f),this.parent=p,this.index=v}}function Fs(){if(this.parentLine=null,this.segs=null,this.resultSegs=new H,this.minimumSize=null,arguments.length===1){var r=arguments[0];Fs.call(this,r,2)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.parentLine=s,this.minimumSize=l,this.init()}}function el(){this.index=new xn}function eg(){this.querySeg=null,this.items=new H;var r=arguments[0];this.querySeg=r}function ld(){this.li=new Tn,this.inputIndex=new el,this.outputIndex=new el,this.line=null,this.linePts=null,this.distanceTolerance=0;var r=arguments[0],s=arguments[1];this.inputIndex=r,this.outputIndex=s}function tg(){this.inputIndex=new el,this.outputIndex=new el,this.distanceTolerance=0}function ou(){this.inputGeom=null,this.lineSimplifier=new tg,this.linestringMap=null;var r=arguments[0];this.inputGeom=r}function dd(){ue.apply(this),this.linestringMap=null;var r=arguments[0];this.linestringMap=r}function kc(){this.tps=null;var r=arguments[0];this.tps=r}function tl(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var r=arguments[0];this.seg=r,this.segLen=r.getLength()}function ng(){}function cd(){}function Fn(){}function Nn(){if(this.p=null,arguments.length===1){var r=arguments[0];this.p=new w(r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.p=new w(s,l)}else if(arguments.length===3){var f=arguments[0],p=arguments[1],v=arguments[2];this.p=new w(f,p,v)}}function po(){this._isOnConstraint=null,this.constraint=null;var r=arguments[0];Nn.call(this,r)}function Wn(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function fd(){this.subdiv=null,this.isUsingTolerance=!1;var r=arguments[0];this.subdiv=r,this.isUsingTolerance=r.getTolerance()>0}function rg(){}function Fc(){this.subdiv=null,this.lastEdge=null;var r=arguments[0];this.subdiv=r,this.init()}function nl(){if(this.seg=null,arguments.length===1){if(typeof arguments[0]=="string"){var r=arguments[0];y.call(this,r)}else if(arguments[0]instanceof kt){var s=arguments[0];y.call(this,"Locate failed to converge (at edge: "+s+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new kt(s)}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];y.call(this,nl.msgWithSpatial(l,f)),this.seg=new kt(f)}}function rl(){}function Ai(){this.visitedKey=0,this.quadEdges=new H,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new kt,this.triEdges=new Array(3).fill(null);var r=arguments[0],s=arguments[1];this.tolerance=s,this.edgeCoincidenceTolerance=s/Ai.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(r),this.startingEdge=this.initSubdiv(),this.locator=new Fc(this)}function Bc(){}function Hc(){this.triList=new H}function zc(){this.triList=new H}function Vc(){this.coordList=new Z,this.triCoords=new H}function uu(){if(this.ls=null,this.data=null,arguments.length===2){var r=arguments[0],s=arguments[1];this.ls=new kt(r,s)}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];this.ls=new kt(l,f),this.data=p}else if(arguments.length===6){var v=arguments[0],S=arguments[1],N=arguments[2],j=arguments[3],de=arguments[4],we=arguments[5];uu.call(this,new w(v,S,N),new w(j,de,we))}else if(arguments.length===7){var Ce=arguments[0],Fe=arguments[1],ct=arguments[2],Rt=arguments[3],Ut=arguments[4],Ln=arguments[5],tr=arguments[6];uu.call(this,new w(Ce,Fe,ct),new w(Rt,Ut,Ln),tr)}}function hd(){}function Gc(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,arguments.length===2){var r=arguments[0],s=arguments[1];this.p=new w(r),this.left=null,this.right=null,this.count=1,this.data=s}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];this.p=new w(l,f),this.left=null,this.right=null,this.count=1,this.data=p}}function lu(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,arguments.length===0)lu.call(this,0);else if(arguments.length===1){var r=arguments[0];this.tolerance=r}}function Wc(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var r=arguments[0],s=arguments[1];this.p=r,this.tolerance=s}function mo(){this.initialVertices=null,this.segVertices=null,this.segments=new H,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new cd,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var r=arguments[0],s=arguments[1];this.initialVertices=new H(r),this.tolerance=s,this.kdt=new lu(s)}function Wr(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function il(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new je}function gd(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Uc(){}Array.prototype.fill||(Array.prototype.fill=function(r){for(var s=Object(this),l=parseInt(s.length,10),f=arguments[1],p=parseInt(f,10)||0,v=0>p?Math.max(l+p,0):Math.min(p,l),S=arguments[2],N=S===void 0?l:parseInt(S,10)||0,j=0>N?Math.max(l+N,0):Math.min(N,l);j>v;v++)s[v]=r;return s}),Number.isFinite=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},Number.isInteger=Number.isInteger||function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(r){return r!==r},Math.trunc=Math.trunc||function(r){return 0>r?Math.ceil(r):Math.floor(r)},a(o.prototype,{interfaces_:function(){return[]},getClass:function(){return o}}),o.equalsWithTolerance=function(r,s,l){return Math.abs(r-s)<=l},d.isNaN=function(r){return Number.isNaN(r)},d.doubleToLongBits=function(r){return r},d.longBitsToDouble=function(r){return r},d.isInfinite=function(r){return!Number.isFinite(r)},d.MAX_VALUE=Number.MAX_VALUE,x(E,y),a(E.prototype,{interfaces_:function(){return[]},getClass:function(){return E}}),a(_.prototype,{interfaces_:function(){return[]},getClass:function(){return _}}),_.shouldNeverReachHere=function(){if(arguments.length===0)_.shouldNeverReachHere(null);else if(arguments.length===1){var r=arguments[0];throw new E("Should never reach here"+(r!==null?": "+r:""))}},_.isTrue=function(){if(arguments.length===1){var r=arguments[0];_.isTrue(r,null)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];if(!s)throw l===null?new E:new E(l)}},_.equals=function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];_.equals(r,s,null)}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];if(!f.equals(l))throw new E("Expected "+l+" but encountered "+f+(p!==null?": "+p:""))}},a(w.prototype,{setOrdinate:function(r,s){switch(r){case w.X:this.x=s;break;case w.Y:this.y=s;break;case w.Z:this.z=s;break;default:throw new u}},equals2D:function(){if(arguments.length===1){var r=arguments[0];return this.x!==r.x?!1:this.y===r.y}if(arguments.length===2){var s=arguments[0],l=arguments[1];return o.equalsWithTolerance(this.x,s.x,l)?!!o.equalsWithTolerance(this.y,s.y,l):!1}},getOrdinate:function(r){switch(r){case w.X:return this.x;case w.Y:return this.y;case w.Z:return this.z}throw new u},equals3D:function(r){return this.x===r.x&&this.y===r.y&&(this.z===r.z||d.isNaN(this.z)&&d.isNaN(r.z))},equals:function(r){return r instanceof w?this.equals2D(r):!1},equalInZ:function(r,s){return o.equalsWithTolerance(this.z,r.z,s)},compareTo:function(r){var s=r;return this.x<s.x?-1:this.x>s.x?1:this.y<s.y?-1:this.y>s.y?1:0},clone:function(){try{var r=null;return r}catch(s){if(s instanceof CloneNotSupportedException)return _.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw s}finally{}},copy:function(){return new w(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(r){var s=this.x-r.x,l=this.y-r.y,f=this.z-r.z;return Math.sqrt(s*s+l*l+f*f)},distance:function(r){var s=this.x-r.x,l=this.y-r.y;return Math.sqrt(s*s+l*l)},hashCode:function(){var r=17;return r=37*r+w.hashCode(this.x),r=37*r+w.hashCode(this.y)},setCoordinate:function(r){this.x=r.x,this.y=r.y,this.z=r.z},interfaces_:function(){return[c,h,m]},getClass:function(){return w}}),w.hashCode=function(){if(arguments.length===1){var r=arguments[0],s=d.doubleToLongBits(r);return Math.trunc(s^s>>>32)}},a(L.prototype,{compare:function(r,s){var l=r,f=s,p=L.compare(l.x,f.x);if(p!==0)return p;var v=L.compare(l.y,f.y);if(v!==0)return v;if(this.dimensionsToTest<=2)return 0;var S=L.compare(l.z,f.z);return S},interfaces_:function(){return[g]},getClass:function(){return L}}),L.compare=function(r,s){return s>r?-1:r>s?1:d.isNaN(r)?d.isNaN(s)?0:-1:d.isNaN(s)?1:0},w.DimensionalComparator=L,w.serialVersionUID=6683108902428367e3,w.NULL_ORDINATE=d.NaN,w.X=0,w.Y=1,w.Z=2,k.prototype.hasNext=function(){},k.prototype.next=function(){},k.prototype.remove=function(){},W.prototype.add=function(){},W.prototype.addAll=function(){},W.prototype.isEmpty=function(){},W.prototype.iterator=function(){},W.prototype.size=function(){},W.prototype.toArray=function(){},W.prototype.remove=function(){},$.prototype=new Error,$.prototype.name="IndexOutOfBoundsException",O.prototype=Object.create(W.prototype),O.prototype.constructor=O,O.prototype.get=function(){},O.prototype.set=function(){},O.prototype.isEmpty=function(){},z.prototype=new Error,z.prototype.name="NoSuchElementException",le.prototype=new Error,le.prototype.name="OperationNotSupported",H.prototype=Object.create(O.prototype),H.prototype.constructor=H,H.prototype.ensureCapacity=function(){},H.prototype.interfaces_=function(){return[O,W]},H.prototype.add=function(r){return this.array_.push(r),!0},H.prototype.clear=function(){this.array_=[]},H.prototype.addAll=function(r){for(var s=r.iterator();s.hasNext();)this.add(s.next());return!0},H.prototype.set=function(r,s){var l=this.array_[r];return this.array_[r]=s,l},H.prototype.iterator=function(){return new pd(this)},H.prototype.get=function(r){if(0>r||r>=this.size())throw new $;return this.array_[r]},H.prototype.isEmpty=function(){return this.array_.length===0},H.prototype.size=function(){return this.array_.length},H.prototype.toArray=function(){for(var r=[],s=0,l=this.array_.length;l>s;s++)r.push(this.array_[s]);return r},H.prototype.remove=function(r){for(var s=!1,l=0,f=this.array_.length;f>l;l++)if(this.array_[l]===r){this.array_.splice(l,1),s=!0;break}return s};var pd=function(r){this.arrayList_=r,this.position_=0};pd.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new z;return this.arrayList_.get(this.position_++)},pd.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},pd.prototype.set=function(r){return this.arrayList_.set(this.position_-1,r)},pd.prototype.remove=function(){throw new le},x(Z,H),a(Z.prototype,{getCoordinate:function(r){return this.get(r)},addAll:function(){if(arguments.length===2){for(var r=arguments[0],s=arguments[1],l=!1,f=r.iterator();f.hasNext();)this.add(f.next(),s),l=!0;return l}return H.prototype.addAll.apply(this,arguments)},clone:function(){for(var s=H.prototype.clone.call(this),l=0;l<this.size();l++)s.add(l,this.get(l).copy());return s},toCoordinateArray:function(){return this.toArray(Z.coordArrayType)},add:function(){if(arguments.length===1){var r=arguments[0];H.prototype.add.call(this,r)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var s=arguments[0],l=arguments[1];return this.add(s,l,!0),!0}if(arguments[0]instanceof w&&typeof arguments[1]=="boolean"){var f=arguments[0],p=arguments[1];if(!p&&this.size()>=1){var v=this.get(this.size()-1);if(v.equals2D(f))return null}H.prototype.add.call(this,f)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var S=arguments[0],N=arguments[1];return this.add(S,N),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var j=arguments[0],de=arguments[1],we=arguments[2];if(we)for(var Ce=0;Ce<j.length;Ce++)this.add(j[Ce],de);else for(var Ce=j.length-1;Ce>=0;Ce--)this.add(j[Ce],de);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof w){var Fe=arguments[0],ct=arguments[1],Rt=arguments[2];if(!Rt){var Ut=this.size();if(Ut>0){if(Fe>0){var Ln=this.get(Fe-1);if(Ln.equals2D(ct))return null}if(Ut>Fe){var tr=this.get(Fe);if(tr.equals2D(ct))return null}}}H.prototype.add.call(this,Fe,ct)}}else if(arguments.length===4){var ca=arguments[0],du=arguments[1],Kc=arguments[2],Jc=arguments[3],Yc=1;Kc>Jc&&(Yc=-1);for(var Ce=Kc;Ce!==Jc;Ce+=Yc)this.add(ca[Ce],du);return!0}},closeRing:function(){this.size()>0&&this.add(new w(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return Z}}),Z.coordArrayType=new Array(0).fill(null),a(Y.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(r){if(!(r instanceof Y))return!1;var s=r;return this.isNull()?s.isNull():this.maxx===s.getMaxX()&&this.maxy===s.getMaxY()&&this.minx===s.getMinX()&&this.miny===s.getMinY()},intersection:function(r){if(this.isNull()||r.isNull()||!this.intersects(r))return new Y;var s=this.minx>r.minx?this.minx:r.minx,l=this.miny>r.miny?this.miny:r.miny,f=this.maxx<r.maxx?this.maxx:r.maxx,p=this.maxy<r.maxy?this.maxy:r.maxy;return new Y(s,f,l,p)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(arguments.length===1){if(arguments[0]instanceof w){var r=arguments[0];return this.covers(r.x,r.y)}if(arguments[0]instanceof Y){var s=arguments[0];return this.isNull()||s.isNull()?!1:s.getMinX()>=this.minx&&s.getMaxX()<=this.maxx&&s.getMinY()>=this.miny&&s.getMaxY()<=this.maxy}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];return this.isNull()?!1:l>=this.minx&&l<=this.maxx&&f>=this.miny&&f<=this.maxy}},intersects:function(){if(arguments.length===1){if(arguments[0]instanceof Y){var r=arguments[0];return this.isNull()||r.isNull()?!1:!(r.minx>this.maxx||r.maxx<this.minx||r.miny>this.maxy||r.maxy<this.miny)}if(arguments[0]instanceof w){var s=arguments[0];return this.intersects(s.x,s.y)}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];return this.isNull()?!1:!(l>this.maxx||l<this.minx||f>this.maxy||f<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(arguments.length===1){if(arguments[0]instanceof w){var r=arguments[0];this.expandToInclude(r.x,r.y)}else if(arguments[0]instanceof Y){var s=arguments[0];if(s.isNull())return null;this.isNull()?(this.minx=s.getMinX(),this.maxx=s.getMaxX(),this.miny=s.getMinY(),this.maxy=s.getMaxY()):(s.minx<this.minx&&(this.minx=s.minx),s.maxx>this.maxx&&(this.maxx=s.maxx),s.miny<this.miny&&(this.miny=s.miny),s.maxy>this.maxy&&(this.maxy=s.maxy))}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];this.isNull()?(this.minx=l,this.maxx=l,this.miny=f,this.maxy=f):(l<this.minx&&(this.minx=l),l>this.maxx&&(this.maxx=l),f<this.miny&&(this.miny=f),f>this.maxy&&(this.maxy=f))}},minExtent:function(){if(this.isNull())return 0;var r=this.getWidth(),s=this.getHeight();return s>r?r:s},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(r){var s=r;return this.isNull()?s.isNull()?0:-1:s.isNull()?1:this.minx<s.minx?-1:this.minx>s.minx?1:this.miny<s.miny?-1:this.miny>s.miny?1:this.maxx<s.maxx?-1:this.maxx>s.maxx?1:this.maxy<s.maxy?-1:this.maxy>s.maxy?1:0},translate:function(r,s){return this.isNull()?null:void this.init(this.getMinX()+r,this.getMaxX()+r,this.getMinY()+s,this.getMaxY()+s)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var r=this.getWidth(),s=this.getHeight();return r>s?r:s},expandBy:function(){if(arguments.length===1){var r=arguments[0];this.expandBy(r,r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];if(this.isNull())return null;this.minx-=s,this.maxx+=s,this.miny-=l,this.maxy+=l,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(arguments.length===1){if(arguments[0]instanceof Y){var r=arguments[0];return this.covers(r)}if(arguments[0]instanceof w){var s=arguments[0];return this.covers(s)}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];return this.covers(l,f)}},centre:function(){return this.isNull()?null:new w((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof w){var r=arguments[0];this.init(r.x,r.x,r.y,r.y)}else if(arguments[0]instanceof Y){var s=arguments[0];this.minx=s.minx,this.maxx=s.maxx,this.miny=s.miny,this.maxy=s.maxy}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];this.init(l.x,f.x,l.y,f.y)}else if(arguments.length===4){var p=arguments[0],v=arguments[1],S=arguments[2],N=arguments[3];v>p?(this.minx=p,this.maxx=v):(this.minx=v,this.maxx=p),N>S?(this.miny=S,this.maxy=N):(this.miny=N,this.maxy=S)}},getMaxY:function(){return this.maxy},distance:function(r){if(this.intersects(r))return 0;var s=0;this.maxx<r.minx?s=r.minx-this.maxx:this.minx>r.maxx&&(s=this.minx-r.maxx);var l=0;return this.maxy<r.miny?l=r.miny-this.maxy:this.miny>r.maxy&&(l=this.miny-r.maxy),s===0?l:l===0?s:Math.sqrt(s*s+l*l)},hashCode:function(){var r=17;return r=37*r+w.hashCode(this.minx),r=37*r+w.hashCode(this.maxx),r=37*r+w.hashCode(this.miny),r=37*r+w.hashCode(this.maxy)},interfaces_:function(){return[c,m]},getClass:function(){return Y}}),Y.intersects=function(){if(arguments.length===3){var r=arguments[0],s=arguments[1],l=arguments[2];return l.x>=(r.x<s.x?r.x:s.x)&&l.x<=(r.x>s.x?r.x:s.x)&&l.y>=(r.y<s.y?r.y:s.y)&&l.y<=(r.y>s.y?r.y:s.y)}if(arguments.length===4){var f=arguments[0],p=arguments[1],v=arguments[2],S=arguments[3],N=Math.min(v.x,S.x),j=Math.max(v.x,S.x),de=Math.min(f.x,p.x),we=Math.max(f.x,p.x);return de>j||N>we?!1:(N=Math.min(v.y,S.y),j=Math.max(v.y,S.y),de=Math.min(f.y,p.y),we=Math.max(f.y,p.y),de>j?!1:!(N>we))}},Y.serialVersionUID=5873921885273102e3,x(F,ye),a(F.prototype,{interfaces_:function(){return[]},getClass:function(){return F}}),a(b.prototype,{interfaces_:function(){return[]},getClass:function(){return b}}),b.toLocationSymbol=function(r){switch(r){case b.EXTERIOR:return"e";case b.BOUNDARY:return"b";case b.INTERIOR:return"i";case b.NONE:return"-"}throw new u},b.INTERIOR=0,b.BOUNDARY=1,b.EXTERIOR=2,b.NONE=-1,a(B.prototype,{interfaces_:function(){return[]},getClass:function(){return B}}),B.log10=function(r){var s=Math.log(r);return d.isInfinite(s)||d.isNaN(s)?s:s/B.LOG_10},B.min=function(r,s,l,f){var p=r;return p>s&&(p=s),p>l&&(p=l),p>f&&(p=f),p},B.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var r=arguments[0],s=arguments[1],l=arguments[2];return s>r?s:r>l?l:r}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var f=arguments[0],p=arguments[1],v=arguments[2];return p>f?p:f>v?v:f}},B.wrap=function(r,s){return 0>r?s- -r%s:r%s},B.max=function(){if(arguments.length===3){var r=arguments[0],s=arguments[1],l=arguments[2],f=r;return s>f&&(f=s),l>f&&(f=l),f}if(arguments.length===4){var p=arguments[0],v=arguments[1],S=arguments[2],N=arguments[3],f=p;return v>f&&(f=v),S>f&&(f=S),N>f&&(f=N),f}},B.average=function(r,s){return(r+s)/2},B.LOG_10=Math.log(10),V.prototype.append=function(r){this.str+=r},V.prototype.setCharAt=function(r,s){return this.str.substr(0,r)+s+this.str.substr(r+1)},V.prototype.toString=function(r){return this.str},ee.prototype.intValue=function(){return this.value},ee.prototype.compareTo=function(r){return this.value<r?-1:this.value>r?1:0},ee.isNaN=function(r){return Number.isNaN(r)},ce.isWhitespace=function(r){return 32>=r&&r>=0||r==127},ce.toUpperCase=function(r){return r.toUpperCase()},a(q.prototype,{le:function(r){return this.hi<r.hi||this.hi===r.hi&&this.lo<=r.lo},extractSignificantDigits:function(r,s){var l=this.abs(),f=q.magnitude(l.hi),p=q.TEN.pow(f);l=l.divide(p),l.gt(q.TEN)?(l=l.divide(q.TEN),f+=1):l.lt(q.ONE)&&(l=l.multiply(q.TEN),f-=1);for(var v=f+1,S=new V,N=q.MAX_PRINT_DIGITS-1,j=0;N>=j;j++){r&&j===v&&S.append(".");var de=Math.trunc(l.hi);if(0>de)break;var we=!1,Ce=0;de>9?(we=!0,Ce="9"):Ce="0"+de,S.append(Ce),l=l.subtract(q.valueOf(de)).multiply(q.TEN),we&&l.selfAdd(q.TEN);var Fe=!0,ct=q.magnitude(l.hi);if(0>ct&&Math.abs(ct)>=N-j&&(Fe=!1),!Fe)break}return s[0]=f,S.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof q){var r=arguments[0];return this.add(r.negate())}if(typeof arguments[0]=="number"){var s=arguments[0];return this.add(-s)}},equals:function(){if(arguments.length===1){var r=arguments[0];return this.hi===r.hi&&this.lo===r.lo}},isZero:function(){return this.hi===0&&this.lo===0},selfSubtract:function(){if(arguments[0]instanceof q){var r=arguments[0];return this.isNaN()?this:this.selfAdd(-r.hi,-r.lo)}if(typeof arguments[0]=="number"){var s=arguments[0];return this.isNaN()?this:this.selfAdd(-s,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(r){return this.le(r)?this:r},selfDivide:function(){if(arguments.length===1){if(arguments[0]instanceof q){var r=arguments[0];return this.selfDivide(r.hi,r.lo)}if(typeof arguments[0]=="number"){var s=arguments[0];return this.selfDivide(s,0)}}else if(arguments.length===2){var l=arguments[0],f=arguments[1],p=null,v=null,S=null,N=null,j=null,de=null,we=null,Ce=null;return j=this.hi/l,de=q.SPLIT*j,p=de-j,Ce=q.SPLIT*l,p=de-p,v=j-p,S=Ce-l,we=j*l,S=Ce-S,N=l-S,Ce=p*S-we+p*N+v*S+v*N,de=(this.hi-we-Ce+this.lo-j*f)/l,Ce=j+de,this.hi=Ce,this.lo=j-Ce+de,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof q){var r=arguments[0],s=null,l=null,f=null,p=null,v=null,S=null,N=null,j=null;v=this.hi/r.hi,S=q.SPLIT*v,s=S-v,j=q.SPLIT*r.hi,s=S-s,l=v-s,f=j-r.hi,N=v*r.hi,f=j-f,p=r.hi-f,j=s*f-N+s*p+l*f+l*p,S=(this.hi-N-j+this.lo-v*r.lo)/r.hi,j=v+S;var de=j,we=v-j+S;return new q(de,we)}if(typeof arguments[0]=="number"){var Ce=arguments[0];return d.isNaN(Ce)?q.createNaN():q.copy(this).selfDivide(Ce,0)}},ge:function(r){return this.hi>r.hi||this.hi===r.hi&&this.lo>=r.lo},pow:function(r){if(r===0)return q.valueOf(1);var s=new q(this),l=q.valueOf(1),f=Math.abs(r);if(f>1)for(;f>0;)f%2===1&&l.selfMultiply(s),f/=2,f>0&&(s=s.sqr());else l=s;return 0>r?l.reciprocal():l},ceil:function(){if(this.isNaN())return q.NaN;var r=Math.ceil(this.hi),s=0;return r===this.hi&&(s=Math.ceil(this.lo)),new q(r,s)},compareTo:function(r){var s=r;return this.hi<s.hi?-1:this.hi>s.hi?1:this.lo<s.lo?-1:this.lo>s.lo?1:0},rint:function(){if(this.isNaN())return this;var r=this.add(.5);return r.floor()},setValue:function(){if(arguments[0]instanceof q){var r=arguments[0];return this.init(r),this}if(typeof arguments[0]=="number"){var s=arguments[0];return this.init(s),this}},max:function(r){return this.ge(r)?this:r},sqrt:function(){if(this.isZero())return q.valueOf(0);if(this.isNegative())return q.NaN;var r=1/Math.sqrt(this.hi),s=this.hi*r,l=q.valueOf(s),f=this.subtract(l.sqr()),p=f.hi*(.5*r);return l.add(p)},selfAdd:function(){if(arguments.length===1){if(arguments[0]instanceof q){var r=arguments[0];return this.selfAdd(r.hi,r.lo)}if(typeof arguments[0]=="number"){var s=arguments[0],l=null,f=null,p=null,v=null,S=null,N=null;return p=this.hi+s,S=p-this.hi,v=p-S,v=s-S+(this.hi-v),N=v+this.lo,l=p+N,f=N+(p-l),this.hi=l+f,this.lo=f+(l-this.hi),this}}else if(arguments.length===2){var j=arguments[0],de=arguments[1],l=null,f=null,we=null,Ce=null,p=null,v=null,S=null,N=null;p=this.hi+j,we=this.lo+de,S=p-this.hi,N=we-this.lo,v=p-S,Ce=we-N,v=j-S+(this.hi-v),Ce=de-N+(this.lo-Ce),S=v+we,l=p+S,f=S+(p-l),S=Ce+f;var Fe=l+S,ct=S+(l-Fe);return this.hi=Fe,this.lo=ct,this}},selfMultiply:function(){if(arguments.length===1){if(arguments[0]instanceof q){var r=arguments[0];return this.selfMultiply(r.hi,r.lo)}if(typeof arguments[0]=="number"){var s=arguments[0];return this.selfMultiply(s,0)}}else if(arguments.length===2){var l=arguments[0],f=arguments[1],p=null,v=null,S=null,N=null,j=null,de=null;j=q.SPLIT*this.hi,p=j-this.hi,de=q.SPLIT*l,p=j-p,v=this.hi-p,S=de-l,j=this.hi*l,S=de-S,N=l-S,de=p*S-j+p*N+v*S+v*N+(this.hi*f+this.lo*l);var we=j+de;p=j-we;var Ce=de+p;return this.hi=we,this.lo=Ce,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return q.NaN;var r=Math.floor(this.hi),s=0;return r===this.hi&&(s=Math.floor(this.lo)),new q(r,s)},negate:function(){return this.isNaN()?this:new q(-this.hi,-this.lo)},clone:function(){try{return null}catch(r){if(r instanceof CloneNotSupportedException)return null;throw r}finally{}},multiply:function(){if(arguments[0]instanceof q){var r=arguments[0];return r.isNaN()?q.createNaN():q.copy(this).selfMultiply(r)}if(typeof arguments[0]=="number"){var s=arguments[0];return d.isNaN(s)?q.createNaN():q.copy(this).selfMultiply(s,0)}},isNaN:function(){return d.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var r=q.magnitude(this.hi);return r>=-3&&20>=r?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var r=this.getSpecialNumberString();if(r!==null)return r;var s=new Array(1).fill(null),l=this.extractSignificantDigits(!0,s),f=s[0]+1,p=l;if(l.charAt(0)===".")p="0"+l;else if(0>f)p="0."+q.stringOfChar("0",-f)+l;else if(l.indexOf(".")===-1){var v=f-l.length,S=q.stringOfChar("0",v);p=l+S+".0"}return this.isNegative()?"-"+p:p},reciprocal:function(){var r=null,s=null,l=null,f=null,p=null,v=null,S=null,N=null;p=1/this.hi,v=q.SPLIT*p,r=v-p,N=q.SPLIT*this.hi,r=v-r,s=p-r,l=N-this.hi,S=p*this.hi,l=N-l,f=this.hi-l,N=r*l-S+r*f+s*l+s*f,v=(1-S-N-p*this.lo)/this.hi;var j=p+v,de=p-j+v;return new q(j,de)},toSciNotation:function(){if(this.isZero())return q.SCI_NOT_ZERO;var r=this.getSpecialNumberString();if(r!==null)return r;var s=new Array(1).fill(null),l=this.extractSignificantDigits(!1,s),f=q.SCI_NOT_EXPONENT_CHAR+s[0];if(l.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+l);var p="";l.length>1&&(p=l.substring(1));var v=l.charAt(0)+"."+p;return this.isNegative()?"-"+v+f:v+f},abs:function(){return this.isNaN()?q.NaN:this.isNegative()?this.negate():new q(this)},isPositive:function(){return this.hi>0||this.hi===0&&this.lo>0},lt:function(r){return this.hi<r.hi||this.hi===r.hi&&this.lo<r.lo},add:function(){if(arguments[0]instanceof q){var r=arguments[0];return q.copy(this).selfAdd(r)}if(typeof arguments[0]=="number"){var s=arguments[0];return q.copy(this).selfAdd(s)}},init:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var r=arguments[0];this.hi=r,this.lo=0}else if(arguments[0]instanceof q){var s=arguments[0];this.hi=s.hi,this.lo=s.lo}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];this.hi=l,this.lo=f}},gt:function(r){return this.hi>r.hi||this.hi===r.hi&&this.lo>r.lo},isNegative:function(){return this.hi<0||this.hi===0&&this.lo<0},trunc:function(){return this.isNaN()?q.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[m,c,h]},getClass:function(){return q}}),q.sqr=function(r){return q.valueOf(r).selfMultiply(r)},q.valueOf=function(){if(typeof arguments[0]=="string"){var r=arguments[0];return q.parse(r)}if(typeof arguments[0]=="number"){var s=arguments[0];return new q(s)}},q.sqrt=function(r){return q.valueOf(r).sqrt()},q.parse=function(r){for(var s=0,l=r.length;ce.isWhitespace(r.charAt(s));)s++;var f=!1;if(l>s){var p=r.charAt(s);p!=="-"&&p!=="+"||(s++,p==="-"&&(f=!0))}for(var v=new q,S=0,N=0,j=0;!(s>=l);){var de=r.charAt(s);if(s++,ce.isDigit(de)){var we=de-"0";v.selfMultiply(q.TEN),v.selfAdd(we),S++}else{if(de!=="."){if(de==="e"||de==="E"){var Ce=r.substring(s);try{j=ee.parseInt(Ce)}catch(Ut){throw Ut instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Ce+" in string "+r):Ut}finally{}break}throw new NumberFormatException("Unexpected character '"+de+"' at position "+s+" in string "+r)}N=S}}var Fe=v,ct=S-N-j;if(ct===0)Fe=v;else if(ct>0){var Rt=q.TEN.pow(ct);Fe=v.divide(Rt)}else if(0>ct){var Rt=q.TEN.pow(-ct);Fe=v.multiply(Rt)}return f?Fe.negate():Fe},q.createNaN=function(){return new q(d.NaN,d.NaN)},q.copy=function(r){return new q(r)},q.magnitude=function(r){var s=Math.abs(r),l=Math.log(s)/Math.log(10),f=Math.trunc(Math.floor(l)),p=Math.pow(10,f);return s>=10*p&&(f+=1),f},q.stringOfChar=function(r,s){for(var l=new V,f=0;s>f;f++)l.append(r);return l.toString()},q.PI=new q(3.141592653589793,12246467991473532e-32),q.TWO_PI=new q(6.283185307179586,24492935982947064e-32),q.PI_2=new q(1.5707963267948966,6123233995736766e-32),q.E=new q(2.718281828459045,14456468917292502e-32),q.NaN=new q(d.NaN,d.NaN),q.EPS=123259516440783e-46,q.SPLIT=134217729,q.MAX_PRINT_DIGITS=32,q.TEN=q.valueOf(10),q.ONE=q.valueOf(1),q.SCI_NOT_EXPONENT_CHAR="E",q.SCI_NOT_ZERO="0.0E0",a(ne.prototype,{interfaces_:function(){return[]},getClass:function(){return ne}}),ne.orientationIndex=function(r,s,l){var f=ne.orientationIndexFilter(r,s,l);if(1>=f)return f;var p=q.valueOf(s.x).selfAdd(-r.x),v=q.valueOf(s.y).selfAdd(-r.y),S=q.valueOf(l.x).selfAdd(-s.x),N=q.valueOf(l.y).selfAdd(-s.y);return p.selfMultiply(N).selfSubtract(v.selfMultiply(S)).signum()},ne.signOfDet2x2=function(r,s,l,f){var p=r.multiply(f).selfSubtract(s.multiply(l));return p.signum()},ne.intersection=function(r,s,l,f){var p=q.valueOf(f.y).selfSubtract(l.y).selfMultiply(q.valueOf(s.x).selfSubtract(r.x)),v=q.valueOf(f.x).selfSubtract(l.x).selfMultiply(q.valueOf(s.y).selfSubtract(r.y)),S=p.subtract(v),N=q.valueOf(f.x).selfSubtract(l.x).selfMultiply(q.valueOf(r.y).selfSubtract(l.y)),j=q.valueOf(f.y).selfSubtract(l.y).selfMultiply(q.valueOf(r.x).selfSubtract(l.x)),de=N.subtract(j),we=de.selfDivide(S).doubleValue(),Ce=q.valueOf(r.x).selfAdd(q.valueOf(s.x).selfSubtract(r.x).selfMultiply(we)).doubleValue(),Fe=q.valueOf(s.x).selfSubtract(r.x).selfMultiply(q.valueOf(r.y).selfSubtract(l.y)),ct=q.valueOf(s.y).selfSubtract(r.y).selfMultiply(q.valueOf(r.x).selfSubtract(l.x)),Rt=Fe.subtract(ct),Ut=Rt.selfDivide(S).doubleValue(),Ln=q.valueOf(l.y).selfAdd(q.valueOf(f.y).selfSubtract(l.y).selfMultiply(Ut)).doubleValue();return new w(Ce,Ln)},ne.orientationIndexFilter=function(r,s,l){var f=null,p=(r.x-l.x)*(s.y-l.y),v=(r.y-l.y)*(s.x-l.x),S=p-v;if(p>0){if(0>=v)return ne.signum(S);f=p+v}else{if(!(0>p)||v>=0)return ne.signum(S);f=-p-v}var N=ne.DP_SAFE_EPSILON*f;return S>=N||-S>=N?ne.signum(S):2},ne.signum=function(r){return r>0?1:0>r?-1:0},ne.DP_SAFE_EPSILON=1e-15,a(C.prototype,{setOrdinate:function(r,s,l){},size:function(){},getOrdinate:function(r,s){},getCoordinate:function(){},getCoordinateCopy:function(r){},getDimension:function(){},getX:function(r){},clone:function(){},expandEnvelope:function(r){},copy:function(){},getY:function(r){},toCoordinateArray:function(){},interfaces_:function(){return[h]},getClass:function(){return C}}),C.X=0,C.Y=1,C.Z=2,C.M=3,G.arraycopy=function(r,s,l,f,p){for(var v=0,S=s;s+p>S;S++)l[f+v]=r[S],v++},G.getProperty=function(r){return{"line.separator":`
`}[r]},a(_e.prototype,{getY:function(){var r=this.y/this.w;if(d.isNaN(r)||d.isInfinite(r))throw new F;return r},getX:function(){var r=this.x/this.w;if(d.isNaN(r)||d.isInfinite(r))throw new F;return r},getCoordinate:function(){var r=new w;return r.x=this.getX(),r.y=this.getY(),r},interfaces_:function(){return[]},getClass:function(){return _e}}),_e.intersection=function(r,s,l,f){var p=r.y-s.y,v=s.x-r.x,S=r.x*s.y-s.x*r.y,N=l.y-f.y,j=f.x-l.x,de=l.x*f.y-f.x*l.y,we=v*de-j*S,Ce=N*S-p*de,Fe=p*j-N*v,ct=we/Fe,Rt=Ce/Fe;if(d.isNaN(ct)||d.isInfinite(ct)||d.isNaN(Rt)||d.isInfinite(Rt))throw new F;return new w(ct,Rt)},a(De.prototype,{create:function(){arguments.length===1&&(arguments[0]instanceof Array||I(arguments[0],C))},interfaces_:function(){return[]},getClass:function(){return De}}),a($e.prototype,{filter:function(r){},interfaces_:function(){return[]},getClass:function(){return $e}}),a(be.prototype,{isGeometryCollection:function(){return this.getSortIndex()===be.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(r){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(arguments.length===1){if(arguments[0]instanceof be){var r=arguments[0];return r===null?!1:this.equalsTopo(r)}if(arguments[0]instanceof Object){var s=arguments[0];if(!(s instanceof be))return!1;var l=s;return this.equalsExact(l)}}},equalsExact:function(r){return this===r||this.equalsExact(r,0)},geometryChanged:function(){this.apply(be.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(r){return r===null?!1:this.norm().equalsExact(r.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(arguments.length===1){var r=arguments[0],s=r;return this.getSortIndex()!==s.getSortIndex()?this.getSortIndex()-s.getSortIndex():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(r)}if(arguments.length===2){var l=arguments[0],f=arguments[1],s=l;return this.getSortIndex()!==s.getSortIndex()?this.getSortIndex()-s.getSortIndex():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(l,f)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(r){if(r.getSortIndex()===be.SORTINDEX_GEOMETRYCOLLECTION)throw new u},equal:function(r,s,l){return l===0?r.equals(s):r.distance(s)<=l},norm:function(){var r=this.copy();return r.normalize(),r},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return this.envelope===null&&(this.envelope=this.computeEnvelopeInternal()),new Y(this.envelope)},setSRID:function(r){this.SRID=r},setUserData:function(r){this.userData=r},compare:function(r,s){for(var l=r.iterator(),f=s.iterator();l.hasNext()&&f.hasNext();){var p=l.next(),v=f.next(),S=p.compareTo(v);if(S!==0)return S}return l.hasNext()?1:f.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===be.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===be.SORTINDEX_MULTIPOINT||this.getSortIndex()===be.SORTINDEX_MULTILINESTRING||this.getSortIndex()===be.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[h,c,m]},getClass:function(){return be}}),be.hasNonEmptyElements=function(r){for(var s=0;s<r.length;s++)if(!r[s].isEmpty())return!0;return!1},be.hasNullElements=function(r){for(var s=0;s<r.length;s++)if(r[s]===null)return!0;return!1},be.serialVersionUID=8763622679187377e3,be.SORTINDEX_POINT=0,be.SORTINDEX_MULTIPOINT=1,be.SORTINDEX_LINESTRING=2,be.SORTINDEX_LINEARRING=3,be.SORTINDEX_MULTILINESTRING=4,be.SORTINDEX_POLYGON=5,be.SORTINDEX_MULTIPOLYGON=6,be.SORTINDEX_GEOMETRYCOLLECTION=7,be.geometryChangedFilter={interfaces_:function(){return[$e]},filter:function(r){r.geometryChangedAction()}},a(Ze.prototype,{filter:function(r){},interfaces_:function(){return[]},getClass:function(){return Ze}}),a(Qe.prototype,{isInBoundary:function(r){},interfaces_:function(){return[]},getClass:function(){return Qe}}),a(Ot.prototype,{isInBoundary:function(r){return r%2===1},interfaces_:function(){return[Qe]},getClass:function(){return Ot}}),a(it.prototype,{isInBoundary:function(r){return r>0},interfaces_:function(){return[Qe]},getClass:function(){return it}}),a(at.prototype,{isInBoundary:function(r){return r>1},interfaces_:function(){return[Qe]},getClass:function(){return at}}),a(lt.prototype,{isInBoundary:function(r){return r===1},interfaces_:function(){return[Qe]},getClass:function(){return lt}}),Qe.Mod2BoundaryNodeRule=Ot,Qe.EndPointBoundaryNodeRule=it,Qe.MultiValentEndPointBoundaryNodeRule=at,Qe.MonoValentEndPointBoundaryNodeRule=lt,Qe.MOD2_BOUNDARY_RULE=new Ot,Qe.ENDPOINT_BOUNDARY_RULE=new it,Qe.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new at,Qe.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new lt,Qe.OGC_SFS_BOUNDARY_RULE=Qe.MOD2_BOUNDARY_RULE,a(Pe.prototype,{interfaces_:function(){return[]},getClass:function(){return Pe}}),Pe.isRing=function(r){return r.length<4?!1:!!r[0].equals2D(r[r.length-1])},Pe.ptNotInList=function(r,s){for(var l=0;l<r.length;l++){var f=r[l];if(Pe.indexOf(f,s)<0)return f}return null},Pe.scroll=function(r,s){var l=Pe.indexOf(s,r);if(0>l)return null;var f=new Array(r.length).fill(null);G.arraycopy(r,l,f,0,r.length-l),G.arraycopy(r,0,f,r.length-l,l),G.arraycopy(f,0,r,0,r.length)},Pe.equals=function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];if(r===s)return!0;if(r===null||s===null||r.length!==s.length)return!1;for(var l=0;l<r.length;l++)if(!r[l].equals(s[l]))return!1;return!0}if(arguments.length===3){var f=arguments[0],p=arguments[1],v=arguments[2];if(f===p)return!0;if(f===null||p===null||f.length!==p.length)return!1;for(var l=0;l<f.length;l++)if(v.compare(f[l],p[l])!==0)return!1;return!0}},Pe.intersection=function(r,s){for(var l=new Z,f=0;f<r.length;f++)s.intersects(r[f])&&l.add(r[f],!0);return l.toCoordinateArray()},Pe.hasRepeatedPoints=function(r){for(var s=1;s<r.length;s++)if(r[s-1].equals(r[s]))return!0;return!1},Pe.removeRepeatedPoints=function(r){if(!Pe.hasRepeatedPoints(r))return r;var s=new Z(r,!1);return s.toCoordinateArray()},Pe.reverse=function(r){for(var s=r.length-1,l=Math.trunc(s/2),f=0;l>=f;f++){var p=r[f];r[f]=r[s-f],r[s-f]=p}},Pe.removeNull=function(r){for(var s=0,l=0;l<r.length;l++)r[l]!==null&&s++;var f=new Array(s).fill(null);if(s===0)return f;for(var p=0,l=0;l<r.length;l++)r[l]!==null&&(f[p++]=r[l]);return f},Pe.copyDeep=function(){if(arguments.length===1){for(var r=arguments[0],s=new Array(r.length).fill(null),l=0;l<r.length;l++)s[l]=new w(r[l]);return s}if(arguments.length===5)for(var f=arguments[0],p=arguments[1],v=arguments[2],S=arguments[3],N=arguments[4],l=0;N>l;l++)v[S+l]=new w(f[p+l])},Pe.isEqualReversed=function(r,s){for(var l=0;l<r.length;l++){var f=r[l],p=s[r.length-l-1];if(f.compareTo(p)!==0)return!1}return!0},Pe.envelope=function(r){for(var s=new Y,l=0;l<r.length;l++)s.expandToInclude(r[l]);return s},Pe.toCoordinateArray=function(r){return r.toArray(Pe.coordArrayType)},Pe.atLeastNCoordinatesOrNothing=function(r,s){return s.length>=r?s:[]},Pe.indexOf=function(r,s){for(var l=0;l<s.length;l++)if(r.equals(s[l]))return l;return-1},Pe.increasingDirection=function(r){for(var s=0;s<Math.trunc(r.length/2);s++){var l=r.length-1-s,f=r[s].compareTo(r[l]);if(f!==0)return f}return 1},Pe.compare=function(r,s){for(var l=0;l<r.length&&l<s.length;){var f=r[l].compareTo(s[l]);if(f!==0)return f;l++}return l<s.length?-1:l<r.length?1:0},Pe.minCoordinate=function(r){for(var s=null,l=0;l<r.length;l++)(s===null||s.compareTo(r[l])>0)&&(s=r[l]);return s},Pe.extract=function(r,s,l){s=B.clamp(s,0,r.length),l=B.clamp(l,-1,r.length);var f=l-s+1;0>l&&(f=0),s>=r.length&&(f=0),s>l&&(f=0);var p=new Array(f).fill(null);if(f===0)return p;for(var v=0,S=s;l>=S;S++)p[v++]=r[S];return p},a(Tt.prototype,{compare:function(r,s){var l=r,f=s;return Pe.compare(l,f)},interfaces_:function(){return[g]},getClass:function(){return Tt}}),a(Rn.prototype,{compare:function(r,s){var l=r,f=s;if(l.length<f.length)return-1;if(l.length>f.length)return 1;if(l.length===0)return 0;var p=Pe.compare(l,f),v=Pe.isEqualReversed(l,f);return v?0:p},OLDcompare:function(r,s){var l=r,f=s;if(l.length<f.length)return-1;if(l.length>f.length)return 1;if(l.length===0)return 0;for(var p=Pe.increasingDirection(l),v=Pe.increasingDirection(f),S=p>0?0:l.length-1,N=v>0?0:l.length-1,j=0;j<l.length;j++){var de=l[S].compareTo(f[N]);if(de!==0)return de;S+=p,N+=v}return 0},interfaces_:function(){return[g]},getClass:function(){return Rn}}),Pe.ForwardComparator=Tt,Pe.BidirectionalComparator=Rn,Pe.coordArrayType=new Array(0).fill(null),$t.prototype.get=function(){},$t.prototype.put=function(){},$t.prototype.size=function(){},$t.prototype.values=function(){},$t.prototype.entrySet=function(){},te.prototype=new $t,D.prototype=new W,D.prototype.contains=function(){},A.prototype=new D,A.prototype.contains=function(r){for(var s=0,l=this.array_.length;l>s;s++){var f=this.array_[s];if(f===r)return!0}return!1},A.prototype.add=function(r){return this.contains(r)?!1:(this.array_.push(r),!0)},A.prototype.addAll=function(r){for(var s=r.iterator();s.hasNext();)this.add(s.next());return!0},A.prototype.remove=function(r){throw new javascript.util.OperationNotSupported},A.prototype.size=function(){return this.array_.length},A.prototype.isEmpty=function(){return this.array_.length===0},A.prototype.toArray=function(){for(var r=[],s=0,l=this.array_.length;l>s;s++)r.push(this.array_[s]);return r},A.prototype.iterator=function(){return new qc(this)};var qc=function(r){this.hashSet_=r,this.position_=0};qc.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new z;return this.hashSet_.array_[this.position_++]},qc.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},qc.prototype.remove=function(){throw new le};var ss=0,yo=1;je.prototype=new te,je.prototype.get=function(r){for(var s=this.root_;s!==null;){var l=r.compareTo(s.key);if(0>l)s=s.left;else{if(!(l>0))return s.value;s=s.right}}return null},je.prototype.put=function(r,s){if(this.root_===null)return this.root_={key:r,value:s,left:null,right:null,parent:null,color:ss,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var l,f,p=this.root_;do if(l=p,f=r.compareTo(p.key),0>f)p=p.left;else{if(!(f>0)){var v=p.value;return p.value=s,v}p=p.right}while(p!==null);var S={key:r,left:null,right:null,value:s,parent:l,color:ss,getValue:function(){return this.value},getKey:function(){return this.key}};return 0>f?l.left=S:l.right=S,this.fixAfterInsertion(S),this.size_++,null},je.prototype.fixAfterInsertion=function(r){for(r.color=yo;r!=null&&r!=this.root_&&r.parent.color==yo;)if(pe(r)==Te(pe(pe(r)))){var s=Me(pe(pe(r)));se(s)==yo?(Ee(pe(r),ss),Ee(s,ss),Ee(pe(pe(r)),yo),r=pe(pe(r))):(r==Me(pe(r))&&(r=pe(r),this.rotateLeft(r)),Ee(pe(r),ss),Ee(pe(pe(r)),yo),this.rotateRight(pe(pe(r))))}else{var s=Te(pe(pe(r)));se(s)==yo?(Ee(pe(r),ss),Ee(s,ss),Ee(pe(pe(r)),yo),r=pe(pe(r))):(r==Te(pe(r))&&(r=pe(r),this.rotateRight(r)),Ee(pe(r),ss),Ee(pe(pe(r)),yo),this.rotateLeft(pe(pe(r))))}this.root_.color=ss},je.prototype.values=function(){var r=new H,s=this.getFirstEntry();if(s!==null)for(r.add(s.value);(s=je.successor(s))!==null;)r.add(s.value);return r},je.prototype.entrySet=function(){var r=new A,s=this.getFirstEntry();if(s!==null)for(r.add(s);(s=je.successor(s))!==null;)r.add(s);return r},je.prototype.rotateLeft=function(r){if(r!=null){var s=r.right;r.right=s.left,s.left!=null&&(s.left.parent=r),s.parent=r.parent,r.parent==null?this.root_=s:r.parent.left==r?r.parent.left=s:r.parent.right=s,s.left=r,r.parent=s}},je.prototype.rotateRight=function(r){if(r!=null){var s=r.left;r.left=s.right,s.right!=null&&(s.right.parent=r),s.parent=r.parent,r.parent==null?this.root_=s:r.parent.right==r?r.parent.right=s:r.parent.left=s,s.right=r,r.parent=s}},je.prototype.getFirstEntry=function(){var r=this.root_;if(r!=null)for(;r.left!=null;)r=r.left;return r},je.successor=function(r){if(r===null)return null;if(r.right!==null){for(var s=r.right;s.left!==null;)s=s.left;return s}for(var s=r.parent,l=r;s!==null&&l===s.right;)l=s,s=s.parent;return s},je.prototype.size=function(){return this.size_},a(wt.prototype,{interfaces_:function(){return[]},getClass:function(){return wt}}),Kt.prototype=new D,nt.prototype=new Kt,nt.prototype.contains=function(r){for(var s=0,l=this.array_.length;l>s;s++){var f=this.array_[s];if(f.compareTo(r)===0)return!0}return!1},nt.prototype.add=function(r){if(this.contains(r))return!1;for(var s=0,l=this.array_.length;l>s;s++){var f=this.array_[s];if(f.compareTo(r)===1)return this.array_.splice(s,0,r),!0}return this.array_.push(r),!0},nt.prototype.addAll=function(r){for(var s=r.iterator();s.hasNext();)this.add(s.next());return!0},nt.prototype.remove=function(r){throw new le},nt.prototype.size=function(){return this.array_.length},nt.prototype.isEmpty=function(){return this.array_.length===0},nt.prototype.toArray=function(){for(var r=[],s=0,l=this.array_.length;l>s;s++)r.push(this.array_[s]);return r},nt.prototype.iterator=function(){return new jc(this)};var jc=function(r){this.treeSet_=r,this.position_=0};jc.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new z;return this.treeSet_.array_[this.position_++]},jc.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},jc.prototype.remove=function(){throw new le},qt.sort=function(){var r,s,l,f,p=arguments[0];if(arguments.length===1)return f=function(S,N){return S.compareTo(N)},void p.sort(f);if(arguments.length===2)l=arguments[1],f=function(S,N){return l.compare(S,N)},p.sort(f);else{if(arguments.length===3){s=p.slice(arguments[1],arguments[2]),s.sort();var v=p.slice(0,arguments[1]).concat(s,p.slice(arguments[2],p.length));for(p.splice(0,p.length),r=0;r<v.length;r++)p.push(v[r]);return}if(arguments.length===4){for(s=p.slice(arguments[1],arguments[2]),l=arguments[3],f=function(S,N){return l.compare(S,N)},s.sort(f),v=p.slice(0,arguments[1]).concat(s,p.slice(arguments[2],p.length)),p.splice(0,p.length),r=0;r<v.length;r++)p.push(v[r]);return}}},qt.asList=function(r){for(var s=new H,l=0,f=r.length;f>l;l++)s.add(r[l]);return s},a(Ne.prototype,{interfaces_:function(){return[]},getClass:function(){return Ne}}),Ne.toDimensionSymbol=function(r){switch(r){case Ne.FALSE:return Ne.SYM_FALSE;case Ne.TRUE:return Ne.SYM_TRUE;case Ne.DONTCARE:return Ne.SYM_DONTCARE;case Ne.P:return Ne.SYM_P;case Ne.L:return Ne.SYM_L;case Ne.A:return Ne.SYM_A}throw new u},Ne.toDimensionValue=function(r){switch(ce.toUpperCase(r)){case Ne.SYM_FALSE:return Ne.FALSE;case Ne.SYM_TRUE:return Ne.TRUE;case Ne.SYM_DONTCARE:return Ne.DONTCARE;case Ne.SYM_P:return Ne.P;case Ne.SYM_L:return Ne.L;case Ne.SYM_A:return Ne.A}throw new u},Ne.P=0,Ne.L=1,Ne.A=2,Ne.FALSE=-1,Ne.TRUE=-2,Ne.DONTCARE=-3,Ne.SYM_FALSE="F",Ne.SYM_TRUE="T",Ne.SYM_DONTCARE="*",Ne.SYM_P="0",Ne.SYM_L="1",Ne.SYM_A="2",a(nn.prototype,{filter:function(r){},interfaces_:function(){return[]},getClass:function(){return nn}}),a(en.prototype,{filter:function(r,s){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return en}}),x(It,be),a(It.prototype,{computeEnvelopeInternal:function(){for(var r=new Y,s=0;s<this.geometries.length;s++)r.expandToInclude(this.geometries[s].getEnvelopeInternal());return r},getGeometryN:function(r){return this.geometries[r]},getSortIndex:function(){return be.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var r=new Array(this.getNumPoints()).fill(null),s=-1,l=0;l<this.geometries.length;l++)for(var f=this.geometries[l].getCoordinates(),p=0;p<f.length;p++)s++,r[s]=f[p];return r},getArea:function(){for(var r=0,s=0;s<this.geometries.length;s++)r+=this.geometries[s].getArea();return r},equalsExact:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];if(!this.isEquivalentClass(r))return!1;var l=r;if(this.geometries.length!==l.geometries.length)return!1;for(var f=0;f<this.geometries.length;f++)if(!this.geometries[f].equalsExact(l.geometries[f],s))return!1;return!0}return be.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var r=0;r<this.geometries.length;r++)this.geometries[r].normalize();qt.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var r=Ne.FALSE,s=0;s<this.geometries.length;s++)r=Math.max(r,this.geometries[s].getBoundaryDimension());return r},getDimension:function(){for(var r=Ne.FALSE,s=0;s<this.geometries.length;s++)r=Math.max(r,this.geometries[s].getDimension());return r},getLength:function(){for(var r=0,s=0;s<this.geometries.length;s++)r+=this.geometries[s].getLength();return r},getNumPoints:function(){for(var r=0,s=0;s<this.geometries.length;s++)r+=this.geometries[s].getNumPoints();return r},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var r=this.geometries.length,s=new Array(r).fill(null),l=0;l<this.geometries.length;l++)s[l]=this.geometries[l].reverse();return this.getFactory().createGeometryCollection(s)},compareToSameClass:function(){if(arguments.length===1){var r=arguments[0],s=new nt(qt.asList(this.geometries)),l=new nt(qt.asList(r.geometries));return this.compare(s,l)}if(arguments.length===2){for(var f=arguments[0],p=arguments[1],v=f,S=this.getNumGeometries(),N=v.getNumGeometries(),j=0;S>j&&N>j;){var de=this.getGeometryN(j),we=v.getGeometryN(j),Ce=de.compareToSameClass(we,p);if(Ce!==0)return Ce;j++}return S>j?1:N>j?-1:0}},apply:function(){if(I(arguments[0],Ze))for(var r=arguments[0],s=0;s<this.geometries.length;s++)this.geometries[s].apply(r);else if(I(arguments[0],en)){var l=arguments[0];if(this.geometries.length===0)return null;for(var s=0;s<this.geometries.length&&(this.geometries[s].apply(l),!l.isDone());s++);l.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],nn)){var f=arguments[0];f.filter(this);for(var s=0;s<this.geometries.length;s++)this.geometries[s].apply(f)}else if(I(arguments[0],$e)){var p=arguments[0];p.filter(this);for(var s=0;s<this.geometries.length;s++)this.geometries[s].apply(p)}},getBoundary:function(){return this.checkNotGeometryCollection(this),_.shouldNeverReachHere(),null},clone:function(){var r=be.prototype.clone.call(this);r.geometries=new Array(this.geometries.length).fill(null);for(var s=0;s<this.geometries.length;s++)r.geometries[s]=this.geometries[s].clone();return r},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var r=new Array(this.geometries.length).fill(null),s=0;s<r.length;s++)r[s]=this.geometries[s].copy();return new It(r,this.factory)},isEmpty:function(){for(var r=0;r<this.geometries.length;r++)if(!this.geometries[r].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return It}}),It.serialVersionUID=-5694727726395021e3,x(st,It),a(st.prototype,{getSortIndex:function(){return be.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.isEquivalentClass(r)?It.prototype.equalsExact.call(this,r,s):!1}return It.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?Ne.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var r=0;r<this.geometries.length;r++)if(!this.geometries[r].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var r=this.geometries.length,s=new Array(r).fill(null),l=0;l<this.geometries.length;l++)s[r-1-l]=this.geometries[l].reverse();return this.getFactory().createMultiLineString(s)},getBoundary:function(){return new Ft(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var r=new Array(this.geometries.length).fill(null),s=0;s<r.length;s++)r[s]=this.geometries[s].copy();return new st(r,this.factory)},interfaces_:function(){return[wt]},getClass:function(){return st}}),st.serialVersionUID=8166665132445434e3,a(Ft.prototype,{boundaryMultiLineString:function(r){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var s=this.computeBoundaryCoordinates(r);return s.length===1?this.geomFact.createPoint(s[0]):this.geomFact.createMultiPointFromCoords(s)},getBoundary:function(){return this.geom instanceof St?this.boundaryLineString(this.geom):this.geom instanceof st?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(r){if(this.geom.isEmpty())return this.getEmptyMultiPoint();if(r.isClosed()){var s=this.bnRule.isInBoundary(2);return s?r.getStartPoint():this.geomFact.createMultiPoint()}return this.geomFact.createMultiPoint([r.getStartPoint(),r.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(r){var s=new H;this.endpointMap=new je;for(var l=0;l<r.getNumGeometries();l++){var f=r.getGeometryN(l);f.getNumPoints()!==0&&(this.addEndpoint(f.getCoordinateN(0)),this.addEndpoint(f.getCoordinateN(f.getNumPoints()-1)))}for(var p=this.endpointMap.entrySet().iterator();p.hasNext();){var v=p.next(),S=v.getValue(),N=S.count;this.bnRule.isInBoundary(N)&&s.add(v.getKey())}return Pe.toCoordinateArray(s)},addEndpoint:function(r){var s=this.endpointMap.get(r);s===null&&(s=new Zr,this.endpointMap.put(r,s)),s.count++},interfaces_:function(){return[]},getClass:function(){return Ft}}),Ft.getBoundary=function(){if(arguments.length===1){var r=arguments[0],s=new Ft(r);return s.getBoundary()}if(arguments.length===2){var l=arguments[0],f=arguments[1],s=new Ft(l,f);return s.getBoundary()}},a(Zr.prototype,{interfaces_:function(){return[]},getClass:function(){return Zr}}),a(et.prototype,{interfaces_:function(){return[]},getClass:function(){return et}}),et.chars=function(r,s){for(var l=new Array(s).fill(null),f=0;s>f;f++)l[f]=r;return new String(l)},et.getStackTrace=function(){if(arguments.length===1){var r=arguments[0],s=new ln,l=new Cn;return r.printStackTrace(l),s.toString()}if(arguments.length===2){for(var f=arguments[0],p=arguments[1],v="",S=new dn(et.getStackTrace(f)),N=new An,j=0;p>j;j++)try{v+=N.readLine()+et.NEWLINE}catch(de){if(!(de instanceof At))throw de;_.shouldNeverReachHere()}finally{}return v}},et.split=function(r,s){for(var l=s.length,f=new H,p=""+r,v=p.indexOf(s);v>=0;){var S=p.substring(0,v);f.add(S),p=p.substring(v+l),v=p.indexOf(s)}p.length>0&&f.add(p);for(var N=new Array(f.size()).fill(null),j=0;j<N.length;j++)N[j]=f.get(j);return N},et.toString=function(){if(arguments.length===1){var r=arguments[0];return et.SIMPLE_ORDINATE_FORMAT.format(r)}},et.spaces=function(r){return et.chars(" ",r)},et.NEWLINE=G.getProperty("line.separator"),et.SIMPLE_ORDINATE_FORMAT=new gi,a(ze.prototype,{interfaces_:function(){return[]},getClass:function(){return ze}}),ze.copyCoord=function(r,s,l,f){for(var p=Math.min(r.getDimension(),l.getDimension()),v=0;p>v;v++)l.setOrdinate(f,v,r.getOrdinate(s,v))},ze.isRing=function(r){var s=r.size();return s===0?!0:3>=s?!1:r.getOrdinate(0,C.X)===r.getOrdinate(s-1,C.X)&&r.getOrdinate(0,C.Y)===r.getOrdinate(s-1,C.Y)},ze.isEqual=function(r,s){var l=r.size(),f=s.size();if(l!==f)return!1;for(var p=Math.min(r.getDimension(),s.getDimension()),v=0;l>v;v++)for(var S=0;p>S;S++){var N=r.getOrdinate(v,S),j=s.getOrdinate(v,S);if(!(r.getOrdinate(v,S)===s.getOrdinate(v,S)||d.isNaN(N)&&d.isNaN(j)))return!1}return!0},ze.extend=function(r,s,l){var f=r.create(l,s.getDimension()),p=s.size();if(ze.copy(s,0,f,0,p),p>0)for(var v=p;l>v;v++)ze.copy(s,p-1,f,v,1);return f},ze.reverse=function(r){for(var s=r.size()-1,l=Math.trunc(s/2),f=0;l>=f;f++)ze.swap(r,f,s-f)},ze.swap=function(r,s,l){if(s===l)return null;for(var f=0;f<r.getDimension();f++){var p=r.getOrdinate(s,f);r.setOrdinate(s,f,r.getOrdinate(l,f)),r.setOrdinate(l,f,p)}},ze.copy=function(r,s,l,f,p){for(var v=0;p>v;v++)ze.copyCoord(r,s+v,l,f+v)},ze.toString=function(){if(arguments.length===1){var r=arguments[0],s=r.size();if(s===0)return"()";var l=r.getDimension(),f=new V;f.append("(");for(var p=0;s>p;p++){p>0&&f.append(" ");for(var v=0;l>v;v++)v>0&&f.append(","),f.append(et.toString(r.getOrdinate(p,v)))}return f.append(")"),f.toString()}},ze.ensureValidRing=function(r,s){var l=s.size();if(l===0)return s;if(3>=l)return ze.createClosedRing(r,s,4);var f=s.getOrdinate(0,C.X)===s.getOrdinate(l-1,C.X)&&s.getOrdinate(0,C.Y)===s.getOrdinate(l-1,C.Y);return f?s:ze.createClosedRing(r,s,l+1)},ze.createClosedRing=function(r,s,l){var f=r.create(l,s.getDimension()),p=s.size();ze.copy(s,0,f,0,p);for(var v=p;l>v;v++)ze.copy(s,0,f,v,1);return f},x(St,be),a(St.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new Y:this.points.expandEnvelope(new Y)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return be.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];if(!this.isEquivalentClass(r))return!1;var l=r;if(this.points.size()!==l.points.size())return!1;for(var f=0;f<this.points.size();f++)if(!this.equal(this.points.getCoordinate(f),l.points.getCoordinate(f),s))return!1;return!0}return be.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var r=0;r<Math.trunc(this.points.size()/2);r++){var s=this.points.size()-1-r;if(!this.points.getCoordinate(r).equals(this.points.getCoordinate(s)))return this.points.getCoordinate(r).compareTo(this.points.getCoordinate(s))>0&&ze.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?Ne.FALSE:0},isClosed:function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return Be.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var r=this.points.copy();ze.reverse(r);var s=this.getFactory().createLineString(r);return s},compareToSameClass:function(){if(arguments.length===1){for(var r=arguments[0],s=r,l=0,f=0;l<this.points.size()&&f<s.points.size();){var p=this.points.getCoordinate(l).compareTo(s.points.getCoordinate(f));if(p!==0)return p;l++,f++}return l<this.points.size()?1:f<s.points.size()?-1:0}if(arguments.length===2){var v=arguments[0],S=arguments[1],s=v;return S.compare(this.points,s.points)}},apply:function(){if(I(arguments[0],Ze))for(var r=arguments[0],s=0;s<this.points.size();s++)r.filter(this.points.getCoordinate(s));else if(I(arguments[0],en)){var l=arguments[0];if(this.points.size()===0)return null;for(var s=0;s<this.points.size()&&(l.filter(this.points,s),!l.isDone());s++);l.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],nn)){var f=arguments[0];f.filter(this)}else if(I(arguments[0],$e)){var p=arguments[0];p.filter(this)}},getBoundary:function(){return new Ft(this).getBoundary()},isEquivalentClass:function(r){return r instanceof St},clone:function(){var r=be.prototype.clone.call(this);return r.points=this.points.clone(),r},getCoordinateN:function(r){return this.points.getCoordinate(r)},getGeometryType:function(){return"LineString"},copy:function(){return new St(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return this.points.size()===0},init:function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new u("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this.points=r},isCoordinate:function(r){for(var s=0;s<this.points.size();s++)if(this.points.getCoordinate(s).equals(r))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(r){return this.getFactory().createPoint(this.points.getCoordinate(r))},interfaces_:function(){return[wt]},getClass:function(){return St}}),St.serialVersionUID=0x2b2b51ba435c8e00,a(cn.prototype,{interfaces_:function(){return[]},getClass:function(){return cn}}),x(ot,be),a(ot.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new Y;var r=new Y;return r.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),r},getSortIndex:function(){return be.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.isEquivalentClass(r)?this.isEmpty()&&r.isEmpty()?!0:this.isEmpty()!==r.isEmpty()?!1:this.equal(r.getCoordinate(),this.getCoordinate(),s):!1}return be.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return this.coordinates.size()!==0?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return Ne.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(arguments.length===1){var r=arguments[0],s=r;return this.getCoordinate().compareTo(s.getCoordinate())}if(arguments.length===2){var l=arguments[0],f=arguments[1],s=l;return f.compare(this.coordinates,s.coordinates)}},apply:function(){if(I(arguments[0],Ze)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(I(arguments[0],en)){var s=arguments[0];if(this.isEmpty())return null;s.filter(this.coordinates,0),s.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],nn)){var l=arguments[0];l.filter(this)}else if(I(arguments[0],$e)){var f=arguments[0];f.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var r=be.prototype.clone.call(this);return r.coordinates=this.coordinates.clone(),r},getGeometryType:function(){return"Point"},copy:function(){return new ot(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return this.coordinates.size()===0},init:function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),_.isTrue(r.size()<=1),this.coordinates=r},isSimple:function(){return!0},interfaces_:function(){return[cn]},getClass:function(){return ot}}),ot.serialVersionUID=4902022702746615e3,a(ir.prototype,{interfaces_:function(){return[]},getClass:function(){return ir}}),x(Ct,be),a(Ct.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return be.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var r=new Array(this.getNumPoints()).fill(null),s=-1,l=this.shell.getCoordinates(),f=0;f<l.length;f++)s++,r[s]=l[f];for(var p=0;p<this.holes.length;p++)for(var v=this.holes[p].getCoordinates(),S=0;S<v.length;S++)s++,r[s]=v[S];return r},getArea:function(){var r=0;r+=Math.abs(Be.signedArea(this.shell.getCoordinateSequence()));for(var s=0;s<this.holes.length;s++)r-=Math.abs(Be.signedArea(this.holes[s].getCoordinateSequence()));return r},isRectangle:function(){if(this.getNumInteriorRing()!==0||this.shell===null||this.shell.getNumPoints()!==5)return!1;for(var r=this.shell.getCoordinateSequence(),s=this.getEnvelopeInternal(),l=0;5>l;l++){var f=r.getX(l);if(f!==s.getMinX()&&f!==s.getMaxX())return!1;var p=r.getY(l);if(p!==s.getMinY()&&p!==s.getMaxY())return!1}for(var v=r.getX(0),S=r.getY(0),l=1;4>=l;l++){var f=r.getX(l),p=r.getY(l),N=f!==v,j=p!==S;if(N===j)return!1;v=f,S=p}return!0},equalsExact:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];if(!this.isEquivalentClass(r))return!1;var l=r,f=this.shell,p=l.shell;if(!f.equalsExact(p,s)||this.holes.length!==l.holes.length)return!1;for(var v=0;v<this.holes.length;v++)if(!this.holes[v].equalsExact(l.holes[v],s))return!1;return!0}return be.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(arguments.length===0){this.normalize(this.shell,!0);for(var r=0;r<this.holes.length;r++)this.normalize(this.holes[r],!1);qt.sort(this.holes)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];if(s.isEmpty())return null;var f=new Array(s.getCoordinates().length-1).fill(null);G.arraycopy(s.getCoordinates(),0,f,0,f.length);var p=Pe.minCoordinate(s.getCoordinates());Pe.scroll(f,p),G.arraycopy(f,0,s.getCoordinates(),0,f.length),s.getCoordinates()[f.length]=f[0],Be.isCCW(s.getCoordinates())===l&&Pe.reverse(s.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var r=0;r+=this.shell.getLength();for(var s=0;s<this.holes.length;s++)r+=this.holes[s].getLength();return r},getNumPoints:function(){for(var r=this.shell.getNumPoints(),s=0;s<this.holes.length;s++)r+=this.holes[s].getNumPoints();return r},reverse:function(){var r=this.copy();r.shell=this.shell.copy().reverse(),r.holes=new Array(this.holes.length).fill(null);for(var s=0;s<this.holes.length;s++)r.holes[s]=this.holes[s].copy().reverse();return r},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(arguments.length===1){var r=arguments[0],s=this.shell,l=r.shell;return s.compareToSameClass(l)}if(arguments.length===2){var f=arguments[0],p=arguments[1],v=f,s=this.shell,l=v.shell,S=s.compareToSameClass(l,p);if(S!==0)return S;for(var N=this.getNumInteriorRing(),j=v.getNumInteriorRing(),de=0;N>de&&j>de;){var we=this.getInteriorRingN(de),Ce=v.getInteriorRingN(de),Fe=we.compareToSameClass(Ce,p);if(Fe!==0)return Fe;de++}return N>de?1:j>de?-1:0}},apply:function(){if(I(arguments[0],Ze)){var r=arguments[0];this.shell.apply(r);for(var s=0;s<this.holes.length;s++)this.holes[s].apply(r)}else if(I(arguments[0],en)){var l=arguments[0];if(this.shell.apply(l),!l.isDone())for(var s=0;s<this.holes.length&&(this.holes[s].apply(l),!l.isDone());s++);l.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],nn)){var f=arguments[0];f.filter(this)}else if(I(arguments[0],$e)){var p=arguments[0];p.filter(this),this.shell.apply(p);for(var s=0;s<this.holes.length;s++)this.holes[s].apply(p)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var r=new Array(this.holes.length+1).fill(null);r[0]=this.shell;for(var s=0;s<this.holes.length;s++)r[s+1]=this.holes[s];return r.length<=1?this.getFactory().createLinearRing(r[0].getCoordinateSequence()):this.getFactory().createMultiLineString(r)},clone:function(){var r=be.prototype.clone.call(this);r.shell=this.shell.clone(),r.holes=new Array(this.holes.length).fill(null);for(var s=0;s<this.holes.length;s++)r.holes[s]=this.holes[s].clone();return r},getGeometryType:function(){return"Polygon"},copy:function(){for(var r=this.shell.copy(),s=new Array(this.holes.length).fill(null),l=0;l<s.length;l++)s[l]=this.holes[l].copy();return new Ct(r,s,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(r){return this.holes[r]},interfaces_:function(){return[ir]},getClass:function(){return Ct}}),Ct.serialVersionUID=-0x307ffefd8dc97200,x(oe,It),a(oe.prototype,{getSortIndex:function(){return be.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.isEquivalentClass(r)?It.prototype.equalsExact.call(this,r,s):!1}return It.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(arguments.length===1){var r=arguments[0];return this.geometries[r].getCoordinate()}return It.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return Ne.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var r=new Array(this.geometries.length).fill(null),s=0;s<r.length;s++)r[s]=this.geometries[s].copy();return new oe(r,this.factory)},interfaces_:function(){return[cn]},getClass:function(){return oe}}),oe.serialVersionUID=-8048474874175356e3,x(Q,St),a(Q.prototype,{getSortIndex:function(){return be.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return Ne.FALSE},isClosed:function(){return this.isEmpty()?!0:St.prototype.isClosed.call(this)},reverse:function(){var r=this.points.copy();ze.reverse(r);var s=this.getFactory().createLinearRing(r);return s},validateConstruction:function(){if(!this.isEmpty()&&!St.prototype.isClosed.call(this))throw new u;if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Q.MINIMUM_VALID_SIZE)throw new u("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Q(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Q}}),Q.MINIMUM_VALID_SIZE=4,Q.serialVersionUID=-0x3b229e262367a600,x(J,It),a(J.prototype,{getSortIndex:function(){return be.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.isEquivalentClass(r)?It.prototype.equalsExact.call(this,r,s):!1}return It.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var r=this.geometries.length,s=new Array(r).fill(null),l=0;l<this.geometries.length;l++)s[l]=this.geometries[l].reverse();return this.getFactory().createMultiPolygon(s)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var r=new H,s=0;s<this.geometries.length;s++)for(var l=this.geometries[s],f=l.getBoundary(),p=0;p<f.getNumGeometries();p++)r.add(f.getGeometryN(p));var v=new Array(r.size()).fill(null);return this.getFactory().createMultiLineString(r.toArray(v))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var r=new Array(this.geometries.length).fill(null),s=0;s<r.length;s++)r[s]=this.geometries[s].copy();return new J(r,this.factory)},interfaces_:function(){return[ir]},getClass:function(){return J}}),J.serialVersionUID=-0x7a5aa1369171980,a(U.prototype,{setCopyUserData:function(r){this.isUserDataCopied=r},edit:function(r,s){if(r===null)return null;var l=this.editInternal(r,s);return this.isUserDataCopied&&l.setUserData(r.getUserData()),l},editInternal:function(r,s){return this.factory===null&&(this.factory=r.getFactory()),r instanceof It?this.editGeometryCollection(r,s):r instanceof Ct?this.editPolygon(r,s):r instanceof ot?s.edit(r,this.factory):r instanceof St?s.edit(r,this.factory):(_.shouldNeverReachHere("Unsupported Geometry class: "+r.getClass().getName()),null)},editGeometryCollection:function(r,s){for(var l=s.edit(r,this.factory),f=new H,p=0;p<l.getNumGeometries();p++){var v=this.edit(l.getGeometryN(p),s);v===null||v.isEmpty()||f.add(v)}return l.getClass()===oe?this.factory.createMultiPoint(f.toArray([])):l.getClass()===st?this.factory.createMultiLineString(f.toArray([])):l.getClass()===J?this.factory.createMultiPolygon(f.toArray([])):this.factory.createGeometryCollection(f.toArray([]))},editPolygon:function(r,s){var l=s.edit(r,this.factory);if(l===null&&(l=this.factory.createPolygon(null)),l.isEmpty())return l;var f=this.edit(l.getExteriorRing(),s);if(f===null||f.isEmpty())return this.factory.createPolygon();for(var p=new H,v=0;v<l.getNumInteriorRing();v++){var S=this.edit(l.getInteriorRingN(v),s);S===null||S.isEmpty()||p.add(S)}return this.factory.createPolygon(f,p.toArray([]))},interfaces_:function(){return[]},getClass:function(){return U}}),U.GeometryEditorOperation=R,a(K.prototype,{edit:function(r,s){return r},interfaces_:function(){return[R]},getClass:function(){return K}}),a(ie.prototype,{edit:function(r,s){if(r instanceof Q)return s.createLinearRing(this.editCoordinates(r.getCoordinates(),r));if(r instanceof St)return s.createLineString(this.editCoordinates(r.getCoordinates(),r));if(r instanceof ot){var l=this.editCoordinates(r.getCoordinates(),r);return l.length>0?s.createPoint(l[0]):s.createPoint()}return r},interfaces_:function(){return[R]},getClass:function(){return ie}}),a(xe.prototype,{edit:function(r,s){return r instanceof Q?s.createLinearRing(this.edit(r.getCoordinateSequence(),r)):r instanceof St?s.createLineString(this.edit(r.getCoordinateSequence(),r)):r instanceof ot?s.createPoint(this.edit(r.getCoordinateSequence(),r)):r},interfaces_:function(){return[R]},getClass:function(){return xe}}),U.NoOpGeometryOperation=K,U.CoordinateOperation=ie,U.CoordinateSequenceOperation=xe,a(ve.prototype,{setOrdinate:function(r,s,l){switch(s){case C.X:this.coordinates[r].x=l;break;case C.Y:this.coordinates[r].y=l;break;case C.Z:this.coordinates[r].z=l;break;default:throw new u}},size:function(){return this.coordinates.length},getOrdinate:function(r,s){switch(s){case C.X:return this.coordinates[r].x;case C.Y:return this.coordinates[r].y;case C.Z:return this.coordinates[r].z}return d.NaN},getCoordinate:function(){if(arguments.length===1){var r=arguments[0];return this.coordinates[r]}if(arguments.length===2){var s=arguments[0],l=arguments[1];l.x=this.coordinates[s].x,l.y=this.coordinates[s].y,l.z=this.coordinates[s].z}},getCoordinateCopy:function(r){return new w(this.coordinates[r])},getDimension:function(){return this.dimension},getX:function(r){return this.coordinates[r].x},clone:function(){for(var r=new Array(this.size()).fill(null),s=0;s<this.coordinates.length;s++)r[s]=this.coordinates[s].clone();return new ve(r,this.dimension)},expandEnvelope:function(r){for(var s=0;s<this.coordinates.length;s++)r.expandToInclude(this.coordinates[s]);return r},copy:function(){for(var r=new Array(this.size()).fill(null),s=0;s<this.coordinates.length;s++)r[s]=this.coordinates[s].copy();return new ve(r,this.dimension)},toString:function(){if(this.coordinates.length>0){var r=new V(17*this.coordinates.length);r.append("("),r.append(this.coordinates[0]);for(var s=1;s<this.coordinates.length;s++)r.append(", "),r.append(this.coordinates[s]);return r.append(")"),r.toString()}return"()"},getY:function(r){return this.coordinates[r].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[C,m]},getClass:function(){return ve}}),ve.serialVersionUID=-0xcb44a778db18e00,a(Re.prototype,{readResolve:function(){return Re.instance()},create:function(){if(arguments.length===1){if(arguments[0]instanceof Array){var r=arguments[0];return new ve(r)}if(I(arguments[0],C)){var s=arguments[0];return new ve(s)}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];return f>3&&(f=3),2>f?new ve(l):new ve(l,f)}},interfaces_:function(){return[De,m]},getClass:function(){return Re}}),Re.instance=function(){return Re.instanceObject},Re.serialVersionUID=-0x38e49fa6cf6f2e00,Re.instanceObject=new Re;var za,v4=Object.defineProperty,b4=Ae({delete:rt,has:Lt,get:Bt,set:dt,keys:mn,values:fn,entries:kn,forEach:Yt,clear:pt}),x4=typeof Map<"u"&&Map.prototype.values?Map:b4;On.prototype=new $t,On.prototype.get=function(r){return this.map_.get(r)||null},On.prototype.put=function(r,s){return this.map_.set(r,s),s},On.prototype.values=function(){for(var r=new H,s=this.map_.values(),l=s.next();!l.done;)r.add(l.value),l=s.next();return r},On.prototype.entrySet=function(){var r=new A;return this.map_.entries().forEach(function(s){return r.add(s)}),r},On.prototype.size=function(){return this.map_.size()},a(Wt.prototype,{equals:function(r){if(!(r instanceof Wt))return!1;var s=r;return this.modelType===s.modelType&&this.scale===s.scale},compareTo:function(r){var s=r,l=this.getMaximumSignificantDigits(),f=s.getMaximumSignificantDigits();return new ee(l).compareTo(new ee(f))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===Wt.FLOATING||this.modelType===Wt.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var r="UNKNOWN";return this.modelType===Wt.FLOATING?r="Floating":this.modelType===Wt.FLOATING_SINGLE?r="Floating-Single":this.modelType===Wt.FIXED&&(r="Fixed (Scale="+this.getScale()+")"),r},makePrecise:function(){if(typeof arguments[0]=="number"){var r=arguments[0];if(d.isNaN(r))return r;if(this.modelType===Wt.FLOATING_SINGLE){var s=r;return s}return this.modelType===Wt.FIXED?Math.round(r*this.scale)/this.scale:r}if(arguments[0]instanceof w){var l=arguments[0];if(this.modelType===Wt.FLOATING)return null;l.x=this.makePrecise(l.x),l.y=this.makePrecise(l.y)}},getMaximumSignificantDigits:function(){var r=16;return this.modelType===Wt.FLOATING?r=16:this.modelType===Wt.FLOATING_SINGLE?r=6:this.modelType===Wt.FIXED&&(r=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),r},setScale:function(r){this.scale=Math.abs(r)},interfaces_:function(){return[m,c]},getClass:function(){return Wt}}),Wt.mostPrecise=function(r,s){return r.compareTo(s)>=0?r:s},a(Zn.prototype,{readResolve:function(){return Zn.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[m]},getClass:function(){return Zn}}),Zn.serialVersionUID=-552860263173159e4,Zn.nameToTypeMap=new On,Wt.Type=Zn,Wt.serialVersionUID=7777263578777804e3,Wt.FIXED=new Zn("FIXED"),Wt.FLOATING=new Zn("FLOATING"),Wt.FLOATING_SINGLE=new Zn("FLOATING SINGLE"),Wt.maximumPreciseValue=9007199254740992,a(Mt.prototype,{toGeometry:function(r){return r.isNull()?this.createPoint(null):r.getMinX()===r.getMaxX()&&r.getMinY()===r.getMaxY()?this.createPoint(new w(r.getMinX(),r.getMinY())):r.getMinX()===r.getMaxX()||r.getMinY()===r.getMaxY()?this.createLineString([new w(r.getMinX(),r.getMinY()),new w(r.getMaxX(),r.getMaxY())]):this.createPolygon(this.createLinearRing([new w(r.getMinX(),r.getMinY()),new w(r.getMinX(),r.getMaxY()),new w(r.getMaxX(),r.getMaxY()),new w(r.getMaxX(),r.getMinY()),new w(r.getMinX(),r.getMinY())]),null)},createLineString:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var r=arguments[0];return this.createLineString(r!==null?this.getCoordinateSequenceFactory().create(r):null)}if(I(arguments[0],C)){var s=arguments[0];return new St(s,this)}}},createMultiLineString:function(){if(arguments.length===0)return new st(null,this);if(arguments.length===1){var r=arguments[0];return new st(r,this)}},buildGeometry:function(r){for(var s=null,l=!1,f=!1,p=r.iterator();p.hasNext();){var v=p.next(),S=v.getClass();s===null&&(s=S),S!==s&&(l=!0),v.isGeometryCollectionOrDerived()&&(f=!0)}if(s===null)return this.createGeometryCollection();if(l||f)return this.createGeometryCollection(Mt.toGeometryArray(r));var N=r.iterator().next(),j=r.size()>1;if(j){if(N instanceof Ct)return this.createMultiPolygon(Mt.toPolygonArray(r));if(N instanceof St)return this.createMultiLineString(Mt.toLineStringArray(r));if(N instanceof ot)return this.createMultiPoint(Mt.toPointArray(r));_.shouldNeverReachHere("Unhandled class: "+N.getClass().getName())}return N},createMultiPointFromCoords:function(r){return this.createMultiPoint(r!==null?this.getCoordinateSequenceFactory().create(r):null)},createPoint:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof w){var r=arguments[0];return this.createPoint(r!==null?this.getCoordinateSequenceFactory().create([r]):null)}if(I(arguments[0],C)){var s=arguments[0];return new ot(s,this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(arguments.length===0)return new Ct(null,null,this);if(arguments.length===1){if(I(arguments[0],C)){var r=arguments[0];return this.createPolygon(this.createLinearRing(r))}if(arguments[0]instanceof Array){var s=arguments[0];return this.createPolygon(this.createLinearRing(s))}if(arguments[0]instanceof Q){var l=arguments[0];return this.createPolygon(l,null)}}else if(arguments.length===2){var f=arguments[0],p=arguments[1];return new Ct(f,p,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(arguments.length===0)return new It(null,this);if(arguments.length===1){var r=arguments[0];return new It(r,this)}},createGeometry:function(r){var s=new U(this);return s.edit(r,{edit:function(){if(arguments.length===2){var l=arguments[0];return this.coordinateSequenceFactory.create(l)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var r=arguments[0];return this.createLinearRing(r!==null?this.getCoordinateSequenceFactory().create(r):null)}if(I(arguments[0],C)){var s=arguments[0];return new Q(s,this)}}},createMultiPolygon:function(){if(arguments.length===0)return new J(null,this);if(arguments.length===1){var r=arguments[0];return new J(r,this)}},createMultiPoint:function(){if(arguments.length===0)return new oe(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var r=arguments[0];return new oe(r,this)}if(arguments[0]instanceof Array){var s=arguments[0];return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(I(arguments[0],C)){var l=arguments[0];if(l===null)return this.createMultiPoint(new Array(0).fill(null));for(var f=new Array(l.size()).fill(null),p=0;p<l.size();p++){var v=this.getCoordinateSequenceFactory().create(1,l.getDimension());ze.copy(l,p,v,0,1),f[p]=this.createPoint(v)}return this.createMultiPoint(f)}}},interfaces_:function(){return[m]},getClass:function(){return Mt}}),Mt.toMultiPolygonArray=function(r){var s=new Array(r.size()).fill(null);return r.toArray(s)},Mt.toGeometryArray=function(r){if(r===null)return null;var s=new Array(r.size()).fill(null);return r.toArray(s)},Mt.getDefaultCoordinateSequenceFactory=function(){return Re.instance()},Mt.toMultiLineStringArray=function(r){var s=new Array(r.size()).fill(null);return r.toArray(s)},Mt.toLineStringArray=function(r){var s=new Array(r.size()).fill(null);return r.toArray(s)},Mt.toMultiPointArray=function(r){var s=new Array(r.size()).fill(null);return r.toArray(s)},Mt.toLinearRingArray=function(r){var s=new Array(r.size()).fill(null);return r.toArray(s)},Mt.toPointArray=function(r){var s=new Array(r.size()).fill(null);return r.toArray(s)},Mt.toPolygonArray=function(r){var s=new Array(r.size()).fill(null);return r.toArray(s)},Mt.createPointFromInternalCoord=function(r,s){return s.getPrecisionModel().makePrecise(r),s.getFactory().createPoint(r)},Mt.serialVersionUID=-6820524753094096e3;var la={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};a(Ci.prototype,{read:function(r){var s,l,f;r=r.replace(/[\n\r]/g," ");var p=la.typeStr.exec(r);if(r.search("EMPTY")!==-1&&(p=la.emptyTypeStr.exec(r),p[2]=void 0),p&&(l=p[1].toLowerCase(),f=p[2],al[l]&&(s=al[l].apply(this,[f]))),s===void 0)throw new Error("Could not parse WKT "+r);return s},write:function(r){return this.extractGeometry(r)},extractGeometry:function(r){var s=r.getGeometryType().toLowerCase();if(!os[s])return null;var l=s.toUpperCase();return r.isEmpty()?l+" EMPTY":l+"("+os[s].apply(this,[r])+")"}});var os={coordinate:function(r){return r.x+" "+r.y},point:function(r){return os.coordinate.call(this,r.coordinates.coordinates[0])},multipoint:function(r){for(var s=[],l=0,f=r.geometries.length;f>l;++l)s.push("("+os.point.apply(this,[r.geometries[l]])+")");return s.join(",")},linestring:function(r){for(var s=[],l=0,f=r.points.coordinates.length;f>l;++l)s.push(os.coordinate.apply(this,[r.points.coordinates[l]]));return s.join(",")},linearring:function(r){for(var s=[],l=0,f=r.points.coordinates.length;f>l;++l)s.push(os.coordinate.apply(this,[r.points.coordinates[l]]));return s.join(",")},multilinestring:function(r){for(var s=[],l=0,f=r.geometries.length;f>l;++l)s.push("("+os.linestring.apply(this,[r.geometries[l]])+")");return s.join(",")},polygon:function(r){var s=[];s.push("("+os.linestring.apply(this,[r.shell])+")");for(var l=0,f=r.holes.length;f>l;++l)s.push("("+os.linestring.apply(this,[r.holes[l]])+")");return s.join(",")},multipolygon:function(r){for(var s=[],l=0,f=r.geometries.length;f>l;++l)s.push("("+os.polygon.apply(this,[r.geometries[l]])+")");return s.join(",")},geometrycollection:function(r){for(var s=[],l=0,f=r.geometries.length;f>l;++l)s.push(this.extractGeometry(r.geometries[l]));return s.join(",")}},al={point:function(r){if(r===void 0)return this.geometryFactory.createPoint();var s=r.trim().split(la.spaces);return this.geometryFactory.createPoint(new w(Number.parseFloat(s[0]),Number.parseFloat(s[1])))},multipoint:function(r){if(r===void 0)return this.geometryFactory.createMultiPoint();for(var s,l=r.trim().split(","),f=[],p=0,v=l.length;v>p;++p)s=l[p].replace(la.trimParens,"$1"),f.push(al.point.apply(this,[s]));return this.geometryFactory.createMultiPoint(f)},linestring:function(r){if(r===void 0)return this.geometryFactory.createLineString();for(var s,l=r.trim().split(","),f=[],p=0,v=l.length;v>p;++p)s=l[p].trim().split(la.spaces),f.push(new w(Number.parseFloat(s[0]),Number.parseFloat(s[1])));return this.geometryFactory.createLineString(f)},linearring:function(r){if(r===void 0)return this.geometryFactory.createLinearRing();for(var s,l=r.trim().split(","),f=[],p=0,v=l.length;v>p;++p)s=l[p].trim().split(la.spaces),f.push(new w(Number.parseFloat(s[0]),Number.parseFloat(s[1])));return this.geometryFactory.createLinearRing(f)},multilinestring:function(r){if(r===void 0)return this.geometryFactory.createMultiLineString();for(var s,l=r.trim().split(la.parenComma),f=[],p=0,v=l.length;v>p;++p)s=l[p].replace(la.trimParens,"$1"),f.push(al.linestring.apply(this,[s]));return this.geometryFactory.createMultiLineString(f)},polygon:function(r){if(r===void 0)return this.geometryFactory.createPolygon();for(var s,l,f,p,v=r.trim().split(la.parenComma),S=[],N=0,j=v.length;j>N;++N)s=v[N].replace(la.trimParens,"$1"),l=al.linestring.apply(this,[s]),f=this.geometryFactory.createLinearRing(l.points),N===0?p=f:S.push(f);return this.geometryFactory.createPolygon(p,S)},multipolygon:function(r){if(r===void 0)return this.geometryFactory.createMultiPolygon();for(var s,l=r.trim().split(la.doubleParenComma),f=[],p=0,v=l.length;v>p;++p)s=l[p].replace(la.trimParens,"$1"),f.push(al.polygon.apply(this,[s]));return this.geometryFactory.createMultiPolygon(f)},geometrycollection:function(r){if(r===void 0)return this.geometryFactory.createGeometryCollection();r=r.replace(/,\s*([A-Za-z])/g,"|$1");for(var s=r.trim().split("|"),l=[],f=0,p=s.length;p>f;++f)l.push(this.read(s[f]));return this.geometryFactory.createGeometryCollection(l)}};a(Mn.prototype,{write:function(r){return this.parser.write(r)}}),a(Mn,{toLineString:function(r,s){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+r.x+" "+r.y+", "+s.x+" "+s.y+" )"}}),a(zt.prototype,{getIndexAlongSegment:function(r,s){return this.computeIntLineIndex(),this.intLineIndex[r][s]},getTopologySummary:function(){var r=new V;return this.isEndPoint()&&r.append(" endpoint"),this._isProper&&r.append(" proper"),this.isCollinear()&&r.append(" collinear"),r.toString()},computeIntersection:function(r,s,l,f){this.inputLines[0][0]=r,this.inputLines[0][1]=s,this.inputLines[1][0]=l,this.inputLines[1][1]=f,this.result=this.computeIntersect(r,s,l,f)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(arguments.length===0)this.intLineIndex===null&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var r=arguments[0],s=this.getEdgeDistance(r,0),l=this.getEdgeDistance(r,1);s>l?(this.intLineIndex[r][0]=0,this.intLineIndex[r][1]=1):(this.intLineIndex[r][0]=1,this.intLineIndex[r][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(r){this.precisionModel=r},isInteriorIntersection:function(){if(arguments.length===0)return this.isInteriorIntersection(0)?!0:!!this.isInteriorIntersection(1);if(arguments.length===1){for(var r=arguments[0],s=0;s<this.result;s++)if(!this.intPt[s].equals2D(this.inputLines[r][0])&&!this.intPt[s].equals2D(this.inputLines[r][1]))return!0;return!1}},getIntersection:function(r){return this.intPt[r]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==zt.NO_INTERSECTION},getEdgeDistance:function(r,s){var l=zt.computeEdgeDistance(this.intPt[s],this.inputLines[r][0],this.inputLines[r][1]);return l},isCollinear:function(){return this.result===zt.COLLINEAR_INTERSECTION},toString:function(){return Mn.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+Mn.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(r,s){return this.inputLines[r][s]},isIntersection:function(r){for(var s=0;s<this.result;s++)if(this.intPt[s].equals2D(r))return!0;return!1},getIntersectionAlongSegment:function(r,s){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[r][s]]},interfaces_:function(){return[]},getClass:function(){return zt}}),zt.computeEdgeDistance=function(r,s,l){var f=Math.abs(l.x-s.x),p=Math.abs(l.y-s.y),v=-1;if(r.equals(s))v=0;else if(r.equals(l))v=f>p?f:p;else{var S=Math.abs(r.x-s.x),N=Math.abs(r.y-s.y);v=f>p?S:N,v!==0||r.equals(s)||(v=Math.max(S,N))}return _.isTrue(!(v===0&&!r.equals(s)),"Bad distance calculation"),v},zt.nonRobustComputeEdgeDistance=function(r,s,l){var f=r.x-s.x,p=r.y-s.y,v=Math.sqrt(f*f+p*p);return _.isTrue(!(v===0&&!r.equals(s)),"Invalid distance calculation"),v},zt.DONT_INTERSECT=0,zt.DO_INTERSECT=1,zt.COLLINEAR=2,zt.NO_INTERSECTION=0,zt.POINT_INTERSECTION=1,zt.COLLINEAR_INTERSECTION=2,x(Tn,zt),a(Tn.prototype,{isInSegmentEnvelopes:function(r){var s=new Y(this.inputLines[0][0],this.inputLines[0][1]),l=new Y(this.inputLines[1][0],this.inputLines[1][1]);return s.contains(r)&&l.contains(r)},computeIntersection:function(){if(arguments.length!==3)return zt.prototype.computeIntersection.apply(this,arguments);var r=arguments[0],s=arguments[1],l=arguments[2];return this._isProper=!1,Y.intersects(s,l,r)&&Be.orientationIndex(s,l,r)===0&&Be.orientationIndex(l,s,r)===0?(this._isProper=!0,(r.equals(s)||r.equals(l))&&(this._isProper=!1),this.result=zt.POINT_INTERSECTION,null):void(this.result=zt.NO_INTERSECTION)},normalizeToMinimum:function(r,s,l,f,p){p.x=this.smallestInAbsValue(r.x,s.x,l.x,f.x),p.y=this.smallestInAbsValue(r.y,s.y,l.y,f.y),r.x-=p.x,r.y-=p.y,s.x-=p.x,s.y-=p.y,l.x-=p.x,l.y-=p.y,f.x-=p.x,f.y-=p.y},safeHCoordinateIntersection:function(r,s,l,f){var p=null;try{p=_e.intersection(r,s,l,f)}catch(v){if(!(v instanceof F))throw v;p=Tn.nearestEndpoint(r,s,l,f)}finally{}return p},intersection:function(r,s,l,f){var p=this.intersectionWithNormalization(r,s,l,f);return this.isInSegmentEnvelopes(p)||(p=new w(Tn.nearestEndpoint(r,s,l,f))),this.precisionModel!==null&&this.precisionModel.makePrecise(p),p},smallestInAbsValue:function(r,s,l,f){var p=r,v=Math.abs(p);return Math.abs(s)<v&&(p=s,v=Math.abs(s)),Math.abs(l)<v&&(p=l,v=Math.abs(l)),Math.abs(f)<v&&(p=f),p},checkDD:function(r,s,l,f,p){var v=ne.intersection(r,s,l,f),S=this.isInSegmentEnvelopes(v);G.out.println("DD in env = "+S+"  --------------------- "+v),p.distance(v)>1e-4&&G.out.println("Distance = "+p.distance(v))},intersectionWithNormalization:function(r,s,l,f){var p=new w(r),v=new w(s),S=new w(l),N=new w(f),j=new w;this.normalizeToEnvCentre(p,v,S,N,j);var de=this.safeHCoordinateIntersection(p,v,S,N);return de.x+=j.x,de.y+=j.y,de},computeCollinearIntersection:function(r,s,l,f){var p=Y.intersects(r,s,l),v=Y.intersects(r,s,f),S=Y.intersects(l,f,r),N=Y.intersects(l,f,s);return p&&v?(this.intPt[0]=l,this.intPt[1]=f,zt.COLLINEAR_INTERSECTION):S&&N?(this.intPt[0]=r,this.intPt[1]=s,zt.COLLINEAR_INTERSECTION):p&&S?(this.intPt[0]=l,this.intPt[1]=r,!l.equals(r)||v||N?zt.COLLINEAR_INTERSECTION:zt.POINT_INTERSECTION):p&&N?(this.intPt[0]=l,this.intPt[1]=s,!l.equals(s)||v||S?zt.COLLINEAR_INTERSECTION:zt.POINT_INTERSECTION):v&&S?(this.intPt[0]=f,this.intPt[1]=r,!f.equals(r)||p||N?zt.COLLINEAR_INTERSECTION:zt.POINT_INTERSECTION):v&&N?(this.intPt[0]=f,this.intPt[1]=s,!f.equals(s)||p||S?zt.COLLINEAR_INTERSECTION:zt.POINT_INTERSECTION):zt.NO_INTERSECTION},normalizeToEnvCentre:function(r,s,l,f,p){var v=r.x<s.x?r.x:s.x,S=r.y<s.y?r.y:s.y,N=r.x>s.x?r.x:s.x,j=r.y>s.y?r.y:s.y,de=l.x<f.x?l.x:f.x,we=l.y<f.y?l.y:f.y,Ce=l.x>f.x?l.x:f.x,Fe=l.y>f.y?l.y:f.y,ct=v>de?v:de,Rt=Ce>N?N:Ce,Ut=S>we?S:we,Ln=Fe>j?j:Fe,tr=(ct+Rt)/2,ca=(Ut+Ln)/2;p.x=tr,p.y=ca,r.x-=p.x,r.y-=p.y,s.x-=p.x,s.y-=p.y,l.x-=p.x,l.y-=p.y,f.x-=p.x,f.y-=p.y},computeIntersect:function(r,s,l,f){if(this._isProper=!1,!Y.intersects(r,s,l,f))return zt.NO_INTERSECTION;var p=Be.orientationIndex(r,s,l),v=Be.orientationIndex(r,s,f);if(p>0&&v>0||0>p&&0>v)return zt.NO_INTERSECTION;var S=Be.orientationIndex(l,f,r),N=Be.orientationIndex(l,f,s);if(S>0&&N>0||0>S&&0>N)return zt.NO_INTERSECTION;var j=p===0&&v===0&&S===0&&N===0;return j?this.computeCollinearIntersection(r,s,l,f):(p===0||v===0||S===0||N===0?(this._isProper=!1,r.equals2D(l)||r.equals2D(f)?this.intPt[0]=r:s.equals2D(l)||s.equals2D(f)?this.intPt[0]=s:p===0?this.intPt[0]=new w(l):v===0?this.intPt[0]=new w(f):S===0?this.intPt[0]=new w(r):N===0&&(this.intPt[0]=new w(s))):(this._isProper=!0,this.intPt[0]=this.intersection(r,s,l,f)),zt.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return Tn}}),Tn.nearestEndpoint=function(r,s,l,f){var p=r,v=Be.distancePointLine(r,l,f),S=Be.distancePointLine(s,l,f);return v>S&&(v=S,p=s),S=Be.distancePointLine(l,r,s),v>S&&(v=S,p=l),S=Be.distancePointLine(f,r,s),v>S&&(v=S,p=f),p},a(Qr.prototype,{interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.orientationIndex=function(r,s,l){var f=s.x-r.x,p=s.y-r.y,v=l.x-s.x,S=l.y-s.y;return Qr.signOfDet2x2(f,p,v,S)},Qr.signOfDet2x2=function(r,s,l,f){var p=null,v=null,S=null;if(p=1,r===0||f===0)return s===0||l===0?0:s>0?l>0?-p:p:l>0?p:-p;if(s===0||l===0)return f>0?r>0?p:-p:r>0?-p:p;if(s>0?f>0?f>=s||(p=-p,v=r,r=l,l=v,v=s,s=f,f=v):-f>=s?(p=-p,l=-l,f=-f):(v=r,r=-l,l=v,v=s,s=-f,f=v):f>0?f>=-s?(p=-p,r=-r,s=-s):(v=-r,r=l,l=v,v=-s,s=f,f=v):s>=f?(r=-r,s=-s,l=-l,f=-f):(p=-p,v=-r,r=-l,l=v,v=-s,s=-f,f=v),r>0){if(!(l>0)||!(l>=r))return p}else{if(l>0||!(r>=l))return-p;p=-p,r=-r,l=-l}for(;;){if(S=Math.floor(l/r),l-=S*r,f-=S*s,0>f)return-p;if(f>s)return p;if(r>l+l){if(f+f>s)return p}else{if(s>f+f)return-p;l=r-l,f=s-f,p=-p}if(f===0)return l===0?0:-p;if(l===0||(S=Math.floor(r/l),r-=S*l,s-=S*f,0>s))return p;if(s>f)return-p;if(l>r+r){if(s+s>f)return-p}else{if(f>s+s)return p;r=l-r,s=f-s,p=-p}if(s===0)return r===0?0:p;if(r===0)return-p}},a(Mi.prototype,{countSegment:function(r,s){if(r.x<this.p.x&&s.x<this.p.x)return null;if(this.p.x===s.x&&this.p.y===s.y)return this.isPointOnSegment=!0,null;if(r.y===this.p.y&&s.y===this.p.y){var l=r.x,f=s.x;return l>f&&(l=s.x,f=r.x),this.p.x>=l&&this.p.x<=f&&(this.isPointOnSegment=!0),null}if(r.y>this.p.y&&s.y<=this.p.y||s.y>this.p.y&&r.y<=this.p.y){var p=r.x-this.p.x,v=r.y-this.p.y,S=s.x-this.p.x,N=s.y-this.p.y,j=Qr.signOfDet2x2(p,v,S,N);if(j===0)return this.isPointOnSegment=!0,null;v>N&&(j=-j),j>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==b.EXTERIOR},getLocation:function(){return this.isPointOnSegment?b.BOUNDARY:this.crossingCount%2===1?b.INTERIOR:b.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return Mi}}),Mi.locatePointInRing=function(){if(arguments[0]instanceof w&&I(arguments[1],C)){for(var r=arguments[0],s=arguments[1],l=new Mi(r),f=new w,p=new w,v=1;v<s.size();v++)if(s.getCoordinate(v,f),s.getCoordinate(v-1,p),l.countSegment(f,p),l.isOnSegment())return l.getLocation();return l.getLocation()}if(arguments[0]instanceof w&&arguments[1]instanceof Array){for(var S=arguments[0],N=arguments[1],l=new Mi(S),v=1;v<N.length;v++){var f=N[v],p=N[v-1];if(l.countSegment(f,p),l.isOnSegment())return l.getLocation()}return l.getLocation()}},a(Be.prototype,{interfaces_:function(){return[]},getClass:function(){return Be}}),Be.orientationIndex=function(r,s,l){return ne.orientationIndex(r,s,l)},Be.signedArea=function(){if(arguments[0]instanceof Array){var r=arguments[0];if(r.length<3)return 0;for(var s=0,l=r[0].x,f=1;f<r.length-1;f++){var p=r[f].x-l,v=r[f+1].y,S=r[f-1].y;s+=p*(S-v)}return s/2}if(I(arguments[0],C)){var N=arguments[0],j=N.size();if(3>j)return 0;var de=new w,we=new w,Ce=new w;N.getCoordinate(0,we),N.getCoordinate(1,Ce);var l=we.x;Ce.x-=l;for(var s=0,f=1;j-1>f;f++)de.y=we.y,we.x=Ce.x,we.y=Ce.y,N.getCoordinate(f+1,Ce),Ce.x-=l,s+=we.x*(de.y-Ce.y);return s/2}},Be.distanceLineLine=function(r,s,l,f){if(r.equals(s))return Be.distancePointLine(r,l,f);if(l.equals(f))return Be.distancePointLine(f,r,s);var p=!1;if(Y.intersects(r,s,l,f)){var v=(s.x-r.x)*(f.y-l.y)-(s.y-r.y)*(f.x-l.x);if(v===0)p=!0;else{var S=(r.y-l.y)*(f.x-l.x)-(r.x-l.x)*(f.y-l.y),N=(r.y-l.y)*(s.x-r.x)-(r.x-l.x)*(s.y-r.y),j=N/v,de=S/v;(0>de||de>1||0>j||j>1)&&(p=!0)}}else p=!0;return p?B.min(Be.distancePointLine(r,l,f),Be.distancePointLine(s,l,f),Be.distancePointLine(l,r,s),Be.distancePointLine(f,r,s)):0},Be.isPointInRing=function(r,s){return Be.locatePointInRing(r,s)!==b.EXTERIOR},Be.computeLength=function(r){var s=r.size();if(1>=s)return 0;var l=0,f=new w;r.getCoordinate(0,f);for(var p=f.x,v=f.y,S=1;s>S;S++){r.getCoordinate(S,f);var N=f.x,j=f.y,de=N-p,we=j-v;l+=Math.sqrt(de*de+we*we),p=N,v=j}return l},Be.isCCW=function(r){var s=r.length-1;if(3>s)throw new u;for(var l=r[0],f=0,p=1;s>=p;p++){var v=r[p];v.y>l.y&&(l=v,f=p)}var S=f;do S-=1,0>S&&(S=s);while(r[S].equals2D(l)&&S!==f);var N=f;do N=(N+1)%s;while(r[N].equals2D(l)&&N!==f);var j=r[S],de=r[N];if(j.equals2D(l)||de.equals2D(l)||j.equals2D(de))return!1;var we=Be.computeOrientation(j,l,de);return we===0?j.x>de.x:we>0},Be.locatePointInRing=function(r,s){return Mi.locatePointInRing(r,s)},Be.distancePointLinePerpendicular=function(r,s,l){var f=(l.x-s.x)*(l.x-s.x)+(l.y-s.y)*(l.y-s.y),p=((s.y-r.y)*(l.x-s.x)-(s.x-r.x)*(l.y-s.y))/f;return Math.abs(p)*Math.sqrt(f)},Be.computeOrientation=function(r,s,l){return Be.orientationIndex(r,s,l)},Be.distancePointLine=function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];if(s.length===0)throw new u;for(var l=r.distance(s[0]),f=0;f<s.length-1;f++){var p=Be.distancePointLine(r,s[f],s[f+1]);l>p&&(l=p)}return l}if(arguments.length===3){var v=arguments[0],S=arguments[1],N=arguments[2];if(S.x===N.x&&S.y===N.y)return v.distance(S);var j=(N.x-S.x)*(N.x-S.x)+(N.y-S.y)*(N.y-S.y),de=((v.x-S.x)*(N.x-S.x)+(v.y-S.y)*(N.y-S.y))/j;if(0>=de)return v.distance(S);if(de>=1)return v.distance(N);var we=((S.y-v.y)*(N.x-S.x)-(S.x-v.x)*(N.y-S.y))/j;return Math.abs(we)*Math.sqrt(j)}},Be.isOnLine=function(r,s){for(var l=new Tn,f=1;f<s.length;f++){var p=s[f-1],v=s[f];if(l.computeIntersection(r,p,v),l.hasIntersection())return!0}return!1},Be.CLOCKWISE=-1,Be.RIGHT=Be.CLOCKWISE,Be.COUNTERCLOCKWISE=1,Be.LEFT=Be.COUNTERCLOCKWISE,Be.COLLINEAR=0,Be.STRAIGHT=Be.COLLINEAR,a(kt.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof kt){var r=arguments[0],s=Be.orientationIndex(this.p0,this.p1,r.p0),l=Be.orientationIndex(this.p0,this.p1,r.p1);return s>=0&&l>=0||0>=s&&0>=l?Math.max(s,l):0}if(arguments[0]instanceof w){var f=arguments[0];return Be.orientationIndex(this.p0,this.p1,f)}},toGeometry:function(r){return r.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(r){if(!(r instanceof kt))return!1;var s=r;return this.p0.equals(s.p0)&&this.p1.equals(s.p1)},intersection:function(r){var s=new Tn;return s.computeIntersection(this.p0,this.p1,r.p0,r.p1),s.hasIntersection()?s.getIntersection(0):null},project:function(){if(arguments[0]instanceof w){var r=arguments[0];if(r.equals(this.p0)||r.equals(this.p1))return new w(r);var s=this.projectionFactor(r),l=new w;return l.x=this.p0.x+s*(this.p1.x-this.p0.x),l.y=this.p0.y+s*(this.p1.y-this.p0.y),l}if(arguments[0]instanceof kt){var f=arguments[0],p=this.projectionFactor(f.p0),v=this.projectionFactor(f.p1);if(p>=1&&v>=1||0>=p&&0>=v)return null;var S=this.project(f.p0);0>p&&(S=this.p0),p>1&&(S=this.p1);var N=this.project(f.p1);return 0>v&&(N=this.p0),v>1&&(N=this.p1),new kt(S,N)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(r){return r===0?this.p0:this.p1},distancePerpendicular:function(r){return Be.distancePointLinePerpendicular(r,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return kt.midPoint(this.p0,this.p1)},projectionFactor:function(r){if(r.equals(this.p0))return 0;if(r.equals(this.p1))return 1;var s=this.p1.x-this.p0.x,l=this.p1.y-this.p0.y,f=s*s+l*l;if(0>=f)return d.NaN;var p=((r.x-this.p0.x)*s+(r.y-this.p0.y)*l)/f;return p},closestPoints:function(r){var s=this.intersection(r);if(s!==null)return[s,s];var l=new Array(2).fill(null),f=d.MAX_VALUE,p=null,v=this.closestPoint(r.p0);f=v.distance(r.p0),l[0]=v,l[1]=r.p0;var S=this.closestPoint(r.p1);p=S.distance(r.p1),f>p&&(f=p,l[0]=S,l[1]=r.p1);var N=r.closestPoint(this.p0);p=N.distance(this.p0),f>p&&(f=p,l[0]=this.p0,l[1]=N);var j=r.closestPoint(this.p1);return p=j.distance(this.p1),f>p&&(f=p,l[0]=this.p1,l[1]=j),l},closestPoint:function(r){var s=this.projectionFactor(r);if(s>0&&1>s)return this.project(r);var l=this.p0.distance(r),f=this.p1.distance(r);return f>l?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(r){var s=r,l=this.p0.compareTo(s.p0);return l!==0?l:this.p1.compareTo(s.p1)},reverse:function(){var r=this.p0;this.p0=this.p1,this.p1=r},equalsTopo:function(r){return this.p0.equals(r.p0)&&this.p1.equals(r.p1)||this.p0.equals(r.p1)&&this.p1.equals(r.p0)},lineIntersection:function(r){try{var s=_e.intersection(this.p0,this.p1,r.p0,r.p1);return s}catch(l){if(!(l instanceof F))throw l}finally{}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(r,s){var l=this.p0.x+r*(this.p1.x-this.p0.x),f=this.p0.y+r*(this.p1.y-this.p0.y),p=this.p1.x-this.p0.x,v=this.p1.y-this.p0.y,S=Math.sqrt(p*p+v*v),N=0,j=0;if(s!==0){if(0>=S)throw new IllegalStateException("Cannot compute offset from zero-length line segment");N=s*p/S,j=s*v/S}var de=l-j,we=f+N,Ce=new w(de,we);return Ce},setCoordinates:function(){if(arguments.length===1){var r=arguments[0];this.setCoordinates(r.p0,r.p1)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.p0.x=s.x,this.p0.y=s.y,this.p1.x=l.x,this.p1.y=l.y}},segmentFraction:function(r){var s=this.projectionFactor(r);return 0>s?s=0:(s>1||d.isNaN(s))&&(s=1),s},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof kt){var r=arguments[0];return Be.distanceLineLine(this.p0,this.p1,r.p0,r.p1)}if(arguments[0]instanceof w){var s=arguments[0];return Be.distancePointLine(s,this.p0,this.p1)}},pointAlong:function(r){var s=new w;return s.x=this.p0.x+r*(this.p1.x-this.p0.x),s.y=this.p0.y+r*(this.p1.y-this.p0.y),s},hashCode:function(){var r=java.lang.Double.doubleToLongBits(this.p0.x);r^=31*java.lang.Double.doubleToLongBits(this.p0.y);var s=Math.trunc(r)^Math.trunc(r>>32),l=java.lang.Double.doubleToLongBits(this.p1.x);l^=31*java.lang.Double.doubleToLongBits(this.p1.y);var f=Math.trunc(l)^Math.trunc(l>>32);return s^f},interfaces_:function(){return[c,m]},getClass:function(){return kt}}),kt.midPoint=function(r,s){return new w((r.x+s.x)/2,(r.y+s.y)/2)},kt.serialVersionUID=0x2d2172135f411c00,a(Ht.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){var r=Ht.isTrue(this.matrix[b.INTERIOR][b.INTERIOR])||Ht.isTrue(this.matrix[b.INTERIOR][b.BOUNDARY])||Ht.isTrue(this.matrix[b.BOUNDARY][b.INTERIOR])||Ht.isTrue(this.matrix[b.BOUNDARY][b.BOUNDARY]);return r&&this.matrix[b.EXTERIOR][b.INTERIOR]===Ne.FALSE&&this.matrix[b.EXTERIOR][b.BOUNDARY]===Ne.FALSE},isCoveredBy:function(){var r=Ht.isTrue(this.matrix[b.INTERIOR][b.INTERIOR])||Ht.isTrue(this.matrix[b.INTERIOR][b.BOUNDARY])||Ht.isTrue(this.matrix[b.BOUNDARY][b.INTERIOR])||Ht.isTrue(this.matrix[b.BOUNDARY][b.BOUNDARY]);return r&&this.matrix[b.INTERIOR][b.EXTERIOR]===Ne.FALSE&&this.matrix[b.BOUNDARY][b.EXTERIOR]===Ne.FALSE},set:function(){if(arguments.length===1)for(var r=arguments[0],s=0;s<r.length;s++){var l=Math.trunc(s/3),f=s%3;this.matrix[l][f]=Ne.toDimensionValue(r.charAt(s))}else if(arguments.length===3){var p=arguments[0],v=arguments[1],S=arguments[2];this.matrix[p][v]=S}},isContains:function(){return Ht.isTrue(this.matrix[b.INTERIOR][b.INTERIOR])&&this.matrix[b.EXTERIOR][b.INTERIOR]===Ne.FALSE&&this.matrix[b.EXTERIOR][b.BOUNDARY]===Ne.FALSE},setAtLeast:function(){if(arguments.length===1)for(var r=arguments[0],s=0;s<r.length;s++){var l=Math.trunc(s/3),f=s%3;this.setAtLeast(l,f,Ne.toDimensionValue(r.charAt(s)))}else if(arguments.length===3){var p=arguments[0],v=arguments[1],S=arguments[2];this.matrix[p][v]<S&&(this.matrix[p][v]=S)}},setAtLeastIfValid:function(r,s,l){r>=0&&s>=0&&this.setAtLeast(r,s,l)},isWithin:function(){return Ht.isTrue(this.matrix[b.INTERIOR][b.INTERIOR])&&this.matrix[b.INTERIOR][b.EXTERIOR]===Ne.FALSE&&this.matrix[b.BOUNDARY][b.EXTERIOR]===Ne.FALSE},isTouches:function(r,s){return r>s?this.isTouches(s,r):r===Ne.A&&s===Ne.A||r===Ne.L&&s===Ne.L||r===Ne.L&&s===Ne.A||r===Ne.P&&s===Ne.A||r===Ne.P&&s===Ne.L?this.matrix[b.INTERIOR][b.INTERIOR]===Ne.FALSE&&(Ht.isTrue(this.matrix[b.INTERIOR][b.BOUNDARY])||Ht.isTrue(this.matrix[b.BOUNDARY][b.INTERIOR])||Ht.isTrue(this.matrix[b.BOUNDARY][b.BOUNDARY])):!1},isOverlaps:function(r,s){return r===Ne.P&&s===Ne.P||r===Ne.A&&s===Ne.A?Ht.isTrue(this.matrix[b.INTERIOR][b.INTERIOR])&&Ht.isTrue(this.matrix[b.INTERIOR][b.EXTERIOR])&&Ht.isTrue(this.matrix[b.EXTERIOR][b.INTERIOR]):r===Ne.L&&s===Ne.L?this.matrix[b.INTERIOR][b.INTERIOR]===1&&Ht.isTrue(this.matrix[b.INTERIOR][b.EXTERIOR])&&Ht.isTrue(this.matrix[b.EXTERIOR][b.INTERIOR]):!1},isEquals:function(r,s){return r!==s?!1:Ht.isTrue(this.matrix[b.INTERIOR][b.INTERIOR])&&this.matrix[b.INTERIOR][b.EXTERIOR]===Ne.FALSE&&this.matrix[b.BOUNDARY][b.EXTERIOR]===Ne.FALSE&&this.matrix[b.EXTERIOR][b.INTERIOR]===Ne.FALSE&&this.matrix[b.EXTERIOR][b.BOUNDARY]===Ne.FALSE},toString:function(){for(var r=new V("123456789"),s=0;3>s;s++)for(var l=0;3>l;l++)r.setCharAt(3*s+l,Ne.toDimensionSymbol(this.matrix[s][l]));return r.toString()},setAll:function(r){for(var s=0;3>s;s++)for(var l=0;3>l;l++)this.matrix[s][l]=r},get:function(r,s){return this.matrix[r][s]},transpose:function(){var r=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=r,r=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=r,r=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=r,this},matches:function(r){if(r.length!==9)throw new u;for(var s=0;3>s;s++)for(var l=0;3>l;l++)if(!Ht.matches(this.matrix[s][l],r.charAt(3*s+l)))return!1;return!0},add:function(r){for(var s=0;3>s;s++)for(var l=0;3>l;l++)this.setAtLeast(s,l,r.get(s,l))},isDisjoint:function(){return this.matrix[b.INTERIOR][b.INTERIOR]===Ne.FALSE&&this.matrix[b.INTERIOR][b.BOUNDARY]===Ne.FALSE&&this.matrix[b.BOUNDARY][b.INTERIOR]===Ne.FALSE&&this.matrix[b.BOUNDARY][b.BOUNDARY]===Ne.FALSE},isCrosses:function(r,s){return r===Ne.P&&s===Ne.L||r===Ne.P&&s===Ne.A||r===Ne.L&&s===Ne.A?Ht.isTrue(this.matrix[b.INTERIOR][b.INTERIOR])&&Ht.isTrue(this.matrix[b.INTERIOR][b.EXTERIOR]):r===Ne.L&&s===Ne.P||r===Ne.A&&s===Ne.P||r===Ne.A&&s===Ne.L?Ht.isTrue(this.matrix[b.INTERIOR][b.INTERIOR])&&Ht.isTrue(this.matrix[b.EXTERIOR][b.INTERIOR]):r===Ne.L&&s===Ne.L?this.matrix[b.INTERIOR][b.INTERIOR]===0:!1},interfaces_:function(){return[h]},getClass:function(){return Ht}}),Ht.matches=function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var r=arguments[0],s=arguments[1];return s===Ne.SYM_DONTCARE||s===Ne.SYM_TRUE&&(r>=0||r===Ne.TRUE)||s===Ne.SYM_FALSE&&r===Ne.FALSE||s===Ne.SYM_P&&r===Ne.P||s===Ne.SYM_L&&r===Ne.L?!0:s===Ne.SYM_A&&r===Ne.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var l=arguments[0],f=arguments[1],p=new Ht(l);return p.matches(f)}},Ht.isTrue=function(r){return r>=0||r===Ne.TRUE};var w4=Object.freeze({Coordinate:w,CoordinateList:Z,Envelope:Y,LineSegment:kt,GeometryFactory:Mt,Geometry:be,Point:ot,LineString:St,LinearRing:Q,Polygon:Ct,GeometryCollection:It,MultiPoint:oe,MultiLineString:st,MultiPolygon:J,Dimension:Ne,IntersectionMatrix:Ht});a(Nr.prototype,{addPoint:function(r){this.ptCount+=1,this.ptCentSum.x+=r.x,this.ptCentSum.y+=r.y},setBasePoint:function(r){this.areaBasePt===null&&(this.areaBasePt=r)},addLineSegments:function(r){for(var s=0,l=0;l<r.length-1;l++){var f=r[l].distance(r[l+1]);if(f!==0){s+=f;var p=(r[l].x+r[l+1].x)/2;this.lineCentSum.x+=f*p;var v=(r[l].y+r[l+1].y)/2;this.lineCentSum.y+=f*v}}this.totalLength+=s,s===0&&r.length>0&&this.addPoint(r[0])},addHole:function(r){for(var s=Be.isCCW(r),l=0;l<r.length-1;l++)this.addTriangle(this.areaBasePt,r[l],r[l+1],s);this.addLineSegments(r)},getCentroid:function(){var r=new w;if(Math.abs(this.areasum2)>0)r.x=this.cg3.x/3/this.areasum2,r.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)r.x=this.lineCentSum.x/this.totalLength,r.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;r.x=this.ptCentSum.x/this.ptCount,r.y=this.ptCentSum.y/this.ptCount}return r},addShell:function(r){r.length>0&&this.setBasePoint(r[0]);for(var s=!Be.isCCW(r),l=0;l<r.length-1;l++)this.addTriangle(this.areaBasePt,r[l],r[l+1],s);this.addLineSegments(r)},addTriangle:function(r,s,l,f){var p=f?1:-1;Nr.centroid3(r,s,l,this.triangleCent3);var v=Nr.area2(r,s,l);this.cg3.x+=p*v*this.triangleCent3.x,this.cg3.y+=p*v*this.triangleCent3.y,this.areasum2+=p*v},add:function(){if(arguments[0]instanceof Ct){var r=arguments[0];this.addShell(r.getExteriorRing().getCoordinates());for(var s=0;s<r.getNumInteriorRing();s++)this.addHole(r.getInteriorRingN(s).getCoordinates())}else if(arguments[0]instanceof be){var l=arguments[0];if(l.isEmpty())return null;if(l instanceof ot)this.addPoint(l.getCoordinate());else if(l instanceof St)this.addLineSegments(l.getCoordinates());else if(l instanceof Ct){var f=l;this.add(f)}else if(l instanceof It)for(var p=l,s=0;s<p.getNumGeometries();s++)this.add(p.getGeometryN(s))}},interfaces_:function(){return[]},getClass:function(){return Nr}}),Nr.area2=function(r,s,l){return(s.x-r.x)*(l.y-r.y)-(l.x-r.x)*(s.y-r.y)},Nr.centroid3=function(r,s,l,f){return f.x=r.x+s.x+l.x,f.y=r.y+s.y+l.y,null},Nr.getCentroid=function(r){var s=new Nr(r);return s.getCentroid()},Ta.prototype=new Error,Ta.prototype.name="EmptyStackException",zn.prototype=new O,zn.prototype.add=function(r){return this.array_.push(r),!0},zn.prototype.get=function(r){if(0>r||r>=this.size())throw new IndexOutOfBoundsException;return this.array_[r]},zn.prototype.push=function(r){return this.array_.push(r),r},zn.prototype.pop=function(r){if(this.array_.length===0)throw new Ta;return this.array_.pop()},zn.prototype.peek=function(){if(this.array_.length===0)throw new Ta;return this.array_[this.array_.length-1]},zn.prototype.empty=function(){return this.array_.length===0},zn.prototype.isEmpty=function(){return this.empty()},zn.prototype.search=function(r){return this.array_.indexOf(r)},zn.prototype.size=function(){return this.array_.length},zn.prototype.toArray=function(){for(var r=[],s=0,l=this.array_.length;l>s;s++)r.push(this.array_[s]);return r},a(Fi.prototype,{filter:function(r){this.treeSet.contains(r)||(this.list.add(r),this.treeSet.add(r))},getCoordinates:function(){var r=new Array(this.list.size()).fill(null);return this.list.toArray(r)},interfaces_:function(){return[Ze]},getClass:function(){return Fi}}),Fi.filterCoordinates=function(r){for(var s=new Fi,l=0;l<r.length;l++)s.filter(r[l]);return s.getCoordinates()},a(M.prototype,{preSort:function(r){for(var s=null,l=1;l<r.length;l++)(r[l].y<r[0].y||r[l].y===r[0].y&&r[l].x<r[0].x)&&(s=r[0],r[0]=r[l],r[l]=s);return qt.sort(r,1,r.length,new T(r[0])),r},computeOctRing:function(r){var s=this.computeOctPts(r),l=new Z;return l.add(s,!1),l.size()<3?null:(l.closeRing(),l.toCoordinateArray())},lineOrPolygon:function(r){if(r=this.cleanRing(r),r.length===3)return this.geomFactory.createLineString([r[0],r[1]]);var s=this.geomFactory.createLinearRing(r);return this.geomFactory.createPolygon(s,null)},cleanRing:function(r){_.equals(r[0],r[r.length-1]);for(var s=new H,l=null,f=0;f<=r.length-2;f++){var p=r[f],v=r[f+1];p.equals(v)||l!==null&&this.isBetween(l,p,v)||(s.add(p),l=p)}s.add(r[r.length-1]);var S=new Array(s.size()).fill(null);return s.toArray(S)},isBetween:function(r,s,l){return Be.computeOrientation(r,s,l)!==0?!1:r.x!==l.x&&(r.x<=s.x&&s.x<=l.x||l.x<=s.x&&s.x<=r.x)||r.y!==l.y&&(r.y<=s.y&&s.y<=l.y||l.y<=s.y&&s.y<=r.y)},reduce:function(r){var s=this.computeOctRing(r);if(s===null)return r;for(var l=new nt,f=0;f<s.length;f++)l.add(s[f]);for(var f=0;f<r.length;f++)Be.isPointInRing(r[f],s)||l.add(r[f]);var p=Pe.toCoordinateArray(l);return p.length<3?this.padArray3(p):p},getConvexHull:function(){if(this.inputPts.length===0)return this.geomFactory.createGeometryCollection(null);if(this.inputPts.length===1)return this.geomFactory.createPoint(this.inputPts[0]);if(this.inputPts.length===2)return this.geomFactory.createLineString(this.inputPts);var r=this.inputPts;this.inputPts.length>50&&(r=this.reduce(this.inputPts));var s=this.preSort(r),l=this.grahamScan(s),f=this.toCoordinateArray(l);return this.lineOrPolygon(f)},padArray3:function(r){for(var s=new Array(3).fill(null),l=0;l<s.length;l++)l<r.length?s[l]=r[l]:s[l]=r[0];return s},computeOctPts:function(r){for(var s=new Array(8).fill(null),l=0;l<s.length;l++)s[l]=r[0];for(var f=1;f<r.length;f++)r[f].x<s[0].x&&(s[0]=r[f]),r[f].x-r[f].y<s[1].x-s[1].y&&(s[1]=r[f]),r[f].y>s[2].y&&(s[2]=r[f]),r[f].x+r[f].y>s[3].x+s[3].y&&(s[3]=r[f]),r[f].x>s[4].x&&(s[4]=r[f]),r[f].x-r[f].y>s[5].x-s[5].y&&(s[5]=r[f]),r[f].y<s[6].y&&(s[6]=r[f]),r[f].x+r[f].y<s[7].x+s[7].y&&(s[7]=r[f]);return s},toCoordinateArray:function(r){for(var s=new Array(r.size()).fill(null),l=0;l<r.size();l++){var f=r.get(l);s[l]=f}return s},grahamScan:function(r){var s=null,l=new zn;s=l.push(r[0]),s=l.push(r[1]),s=l.push(r[2]);for(var f=3;f<r.length;f++){for(s=l.pop();!l.empty()&&Be.computeOrientation(l.peek(),s,r[f])>0;)s=l.pop();s=l.push(s),s=l.push(r[f])}return s=l.push(r[0]),l},interfaces_:function(){return[]},getClass:function(){return M}}),M.extractCoordinates=function(r){var s=new Fi;return r.apply(s),s.getCoordinates()},a(T.prototype,{compare:function(r,s){var l=r,f=s;return T.polarCompare(this.origin,l,f)},interfaces_:function(){return[g]},getClass:function(){return T}}),T.polarCompare=function(r,s,l){var f=s.x-r.x,p=s.y-r.y,v=l.x-r.x,S=l.y-r.y,N=Be.computeOrientation(r,s,l);if(N===Be.COUNTERCLOCKWISE)return 1;if(N===Be.CLOCKWISE)return-1;var j=f*f+p*p,de=v*v+S*S;return de>j?-1:j>de?1:0},M.RadialComparator=T,a(ue.prototype,{transformPoint:function(r,s){return this.factory.createPoint(this.transformCoordinates(r.getCoordinateSequence(),r))},transformPolygon:function(r,s){var l=!0,f=this.transformLinearRing(r.getExteriorRing(),r);f!==null&&f instanceof Q&&!f.isEmpty()||(l=!1);for(var p=new H,v=0;v<r.getNumInteriorRing();v++){var S=this.transformLinearRing(r.getInteriorRingN(v),r);S===null||S.isEmpty()||(S instanceof Q||(l=!1),p.add(S))}if(l)return this.factory.createPolygon(f,p.toArray([]));var N=new H;return f!==null&&N.add(f),N.addAll(p),this.factory.buildGeometry(N)},createCoordinateSequence:function(r){return this.factory.getCoordinateSequenceFactory().create(r)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(r,s){for(var l=new H,f=0;f<r.getNumGeometries();f++){var p=this.transformLineString(r.getGeometryN(f),r);p!==null&&(p.isEmpty()||l.add(p))}return this.factory.buildGeometry(l)},transformCoordinates:function(r,s){return this.copy(r)},transformLineString:function(r,s){return this.factory.createLineString(this.transformCoordinates(r.getCoordinateSequence(),r))},transformMultiPoint:function(r,s){for(var l=new H,f=0;f<r.getNumGeometries();f++){var p=this.transformPoint(r.getGeometryN(f),r);p!==null&&(p.isEmpty()||l.add(p))}return this.factory.buildGeometry(l)},transformMultiPolygon:function(r,s){for(var l=new H,f=0;f<r.getNumGeometries();f++){var p=this.transformPolygon(r.getGeometryN(f),r);p!==null&&(p.isEmpty()||l.add(p))}return this.factory.buildGeometry(l)},copy:function(r){return r.copy()},transformGeometryCollection:function(r,s){for(var l=new H,f=0;f<r.getNumGeometries();f++){var p=this.transform(r.getGeometryN(f));p!==null&&(this.pruneEmptyGeometry&&p.isEmpty()||l.add(p))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(Mt.toGeometryArray(l)):this.factory.buildGeometry(l)},transform:function(r){if(this.inputGeom=r,this.factory=r.getFactory(),r instanceof ot)return this.transformPoint(r,null);if(r instanceof oe)return this.transformMultiPoint(r,null);if(r instanceof Q)return this.transformLinearRing(r,null);if(r instanceof St)return this.transformLineString(r,null);if(r instanceof st)return this.transformMultiLineString(r,null);if(r instanceof Ct)return this.transformPolygon(r,null);if(r instanceof J)return this.transformMultiPolygon(r,null);if(r instanceof It)return this.transformGeometryCollection(r,null);throw new u("Unknown Geometry subtype: "+r.getClass().getName())},transformLinearRing:function(r,s){var l=this.transformCoordinates(r.getCoordinateSequence(),r);if(l===null)return this.factory.createLinearRing(null);var f=l.size();return f>0&&4>f&&!this.preserveType?this.factory.createLineString(l):this.factory.createLinearRing(l)},interfaces_:function(){return[]},getClass:function(){return ue}}),a(ge.prototype,{snapVertices:function(r,s){for(var l=this._isClosed?r.size()-1:r.size(),f=0;l>f;f++){var p=r.get(f),v=this.findSnapForVertex(p,s);v!==null&&(r.set(f,new w(v)),f===0&&this._isClosed&&r.set(r.size()-1,new w(v)))}},findSnapForVertex:function(r,s){for(var l=0;l<s.length;l++){if(r.equals2D(s[l]))return null;if(r.distance(s[l])<this.snapTolerance)return s[l]}return null},snapTo:function(r){var s=new Z(this.srcPts);this.snapVertices(s,r),this.snapSegments(s,r);var l=s.toCoordinateArray();return l},snapSegments:function(r,s){if(s.length===0)return null;var l=s.length;s[0].equals2D(s[s.length-1])&&(l=s.length-1);for(var f=0;l>f;f++){var p=s[f],v=this.findSegmentIndexToSnap(p,r);v>=0&&r.add(v+1,new w(p),!1)}},findSegmentIndexToSnap:function(r,s){for(var l=d.MAX_VALUE,f=-1,p=0;p<s.size()-1;p++){if(this.seg.p0=s.get(p),this.seg.p1=s.get(p+1),this.seg.p0.equals2D(r)||this.seg.p1.equals2D(r)){if(this.allowSnappingToSourceVertices)continue;return-1}var v=this.seg.distance(r);v<this.snapTolerance&&l>v&&(l=v,f=p)}return f},setAllowSnappingToSourceVertices:function(r){this.allowSnappingToSourceVertices=r},interfaces_:function(){return[]},getClass:function(){return ge}}),ge.isClosed=function(r){return r.length<=1?!1:r[0].equals2D(r[r.length-1])},a(re.prototype,{snapTo:function(r,s){var l=this.extractTargetCoordinates(r),f=new Se(s,l);return f.transform(this.srcGeom)},snapToSelf:function(r,s){var l=this.extractTargetCoordinates(this.srcGeom),f=new Se(r,l,!0),p=f.transform(this.srcGeom),v=p;return s&&I(v,ir)&&(v=p.buffer(0)),v},computeSnapTolerance:function(r){var s=this.computeMinimumSegmentLength(r),l=s/10;return l},extractTargetCoordinates:function(r){for(var s=new nt,l=r.getCoordinates(),f=0;f<l.length;f++)s.add(l[f]);return s.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(r){for(var s=d.MAX_VALUE,l=0;l<r.length-1;l++){var f=r[l].distance(r[l+1]);s>f&&(s=f)}return s},interfaces_:function(){return[]},getClass:function(){return re}}),re.snap=function(r,s,l){var f=new Array(2).fill(null),p=new re(r);f[0]=p.snapTo(s,l);var v=new re(s);return f[1]=v.snapTo(f[0],l),f},re.computeOverlaySnapTolerance=function(){if(arguments.length===1){var r=arguments[0],s=re.computeSizeBasedSnapTolerance(r),l=r.getPrecisionModel();if(l.getType()===Wt.FIXED){var f=1/l.getScale()*2/1.415;f>s&&(s=f)}return s}if(arguments.length===2){var p=arguments[0],v=arguments[1];return Math.min(re.computeOverlaySnapTolerance(p),re.computeOverlaySnapTolerance(v))}},re.computeSizeBasedSnapTolerance=function(r){var s=r.getEnvelopeInternal(),l=Math.min(s.getHeight(),s.getWidth()),f=l*re.SNAP_PRECISION_FACTOR;return f},re.snapToSelf=function(r,s,l){var f=new re(r);return f.snapToSelf(s,l)},re.SNAP_PRECISION_FACTOR=1e-9,x(Se,ue),a(Se.prototype,{snapLine:function(r,s){var l=new ge(r,this.snapTolerance);return l.setAllowSnappingToSourceVertices(this.isSelfSnap),l.snapTo(s)},transformCoordinates:function(r,s){var l=r.toCoordinateArray(),f=this.snapLine(l,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(f)},interfaces_:function(){return[]},getClass:function(){return Se}}),a(fe.prototype,{getCommon:function(){return d.longBitsToDouble(this.commonBits)},add:function(r){var s=d.doubleToLongBits(r);if(this.isFirst)return this.commonBits=s,this.commonSignExp=fe.signExpBits(this.commonBits),this.isFirst=!1,null;var l=fe.signExpBits(s);return l!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=fe.numCommonMostSigMantissaBits(this.commonBits,s),void(this.commonBits=fe.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(arguments.length===1){var r=arguments[0],s=d.longBitsToDouble(r),l=Long.toBinaryString(r),f="0000000000000000000000000000000000000000000000000000000000000000"+l,p=f.substring(f.length-64),v=p.substring(0,1)+"  "+p.substring(1,12)+"(exp) "+p.substring(12)+" [ "+s+" ]";return v}},interfaces_:function(){return[]},getClass:function(){return fe}}),fe.getBit=function(r,s){var l=1<<s;return r&l?1:0},fe.signExpBits=function(r){return r>>52},fe.zeroLowerBits=function(r,s){var l=(1<<s)-1,f=~l,p=r&f;return p},fe.numCommonMostSigMantissaBits=function(r,s){for(var l=0,f=52;f>=0;f--){if(fe.getBit(r,f)!==fe.getBit(s,f))return l;l++}return 52},a(Oe.prototype,{addCommonBits:function(r){var s=new Xe(this.commonCoord);r.apply(s),r.geometryChanged()},removeCommonBits:function(r){if(this.commonCoord.x===0&&this.commonCoord.y===0)return r;var s=new w(this.commonCoord);s.x=-s.x,s.y=-s.y;var l=new Xe(s);return r.apply(l),r.geometryChanged(),r},getCommonCoordinate:function(){return this.commonCoord},add:function(r){r.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return Oe}}),a(Ge.prototype,{filter:function(r){this.commonBitsX.add(r.x),this.commonBitsY.add(r.y)},getCommonCoordinate:function(){return new w(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[Ze]},getClass:function(){return Ge}}),a(Xe.prototype,{filter:function(r,s){var l=r.getOrdinate(s,0)+this.trans.x,f=r.getOrdinate(s,1)+this.trans.y;r.setOrdinate(s,0,l),r.setOrdinate(s,1,f)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[en]},getClass:function(){return Xe}}),Oe.CommonCoordinateFilter=Ge,Oe.Translater=Xe,a(He.prototype,{next:function(){if(this.atStart)return this.atStart=!1,He.isAtomic(this.parent)&&this.index++,this.parent;if(this.subcollectionIterator!==null){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new z;var r=this.parent.getGeometryN(this.index++);return r instanceof It?(this.subcollectionIterator=new He(r),this.subcollectionIterator.next()):r},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(this.subcollectionIterator!==null){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[k]},getClass:function(){return He}}),He.isAtomic=function(r){return!(r instanceof It)},a(tt.prototype,{locateInternal:function(){if(arguments[0]instanceof w&&arguments[1]instanceof Ct){var r=arguments[0],s=arguments[1];if(s.isEmpty())return b.EXTERIOR;var l=s.getExteriorRing(),f=this.locateInPolygonRing(r,l);if(f===b.EXTERIOR)return b.EXTERIOR;if(f===b.BOUNDARY)return b.BOUNDARY;for(var p=0;p<s.getNumInteriorRing();p++){var v=s.getInteriorRingN(p),S=this.locateInPolygonRing(r,v);if(S===b.INTERIOR)return b.EXTERIOR;if(S===b.BOUNDARY)return b.BOUNDARY}return b.INTERIOR}if(arguments[0]instanceof w&&arguments[1]instanceof St){var N=arguments[0],j=arguments[1];if(!j.getEnvelopeInternal().intersects(N))return b.EXTERIOR;var de=j.getCoordinates();return j.isClosed()||!N.equals(de[0])&&!N.equals(de[de.length-1])?Be.isOnLine(N,de)?b.INTERIOR:b.EXTERIOR:b.BOUNDARY}if(arguments[0]instanceof w&&arguments[1]instanceof ot){var we=arguments[0],Ce=arguments[1],Fe=Ce.getCoordinate();return Fe.equals2D(we)?b.INTERIOR:b.EXTERIOR}},locateInPolygonRing:function(r,s){return s.getEnvelopeInternal().intersects(r)?Be.locatePointInRing(r,s.getCoordinates()):b.EXTERIOR},intersects:function(r,s){return this.locate(r,s)!==b.EXTERIOR},updateLocationInfo:function(r){r===b.INTERIOR&&(this.isIn=!0),r===b.BOUNDARY&&this.numBoundaries++},computeLocation:function(r,s){if(s instanceof ot&&this.updateLocationInfo(this.locateInternal(r,s)),s instanceof St)this.updateLocationInfo(this.locateInternal(r,s));else if(s instanceof Ct)this.updateLocationInfo(this.locateInternal(r,s));else if(s instanceof st)for(var l=s,f=0;f<l.getNumGeometries();f++){var p=l.getGeometryN(f);this.updateLocationInfo(this.locateInternal(r,p))}else if(s instanceof J)for(var v=s,f=0;f<v.getNumGeometries();f++){var S=v.getGeometryN(f);this.updateLocationInfo(this.locateInternal(r,S))}else if(s instanceof It)for(var N=new He(s);N.hasNext();){var j=N.next();j!==s&&this.computeLocation(r,j)}},locate:function(r,s){return s.isEmpty()?b.EXTERIOR:s instanceof St?this.locateInternal(r,s):s instanceof Ct?this.locateInternal(r,s):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(r,s),this.boundaryRule.isInBoundary(this.numBoundaries)?b.BOUNDARY:this.numBoundaries>0||this.isIn?b.INTERIOR:b.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return tt}}),a(Et.prototype,{interfaces_:function(){return[]},getClass:function(){return Et}}),Et.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var r=arguments[0],s=arguments[1];if(r===0&&s===0)throw new u;var l=Math.abs(r),f=Math.abs(s);return r>=0?s>=0?l>=f?0:1:l>=f?7:6:s>=0?l>=f?3:2:l>=f?4:5}if(arguments[0]instanceof w&&arguments[1]instanceof w){var p=arguments[0],v=arguments[1],S=v.x-p.x,N=v.y-p.y;if(S===0&&N===0)throw new u;return Et.octant(S,N)}},a(ht.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(r){},isClosed:function(){},setData:function(r){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return ht}}),a(Ke.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(r){return this.pts[r]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(r){return r===this.pts.length-1?-1:Et.octant(this.getCoordinate(r),this.getCoordinate(r+1))},setData:function(r){this.data=r},getData:function(){return this.data},toString:function(){return Mn.toLineString(new ve(this.pts))},interfaces_:function(){return[ht]},getClass:function(){return Ke}}),a(Le.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Le}}),a(Ye.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Le,m]},getClass:function(){return Ye}}),a(Pt.prototype,{poll:function(){if(this.isEmpty())return null;var r=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),r},size:function(){return this._size},reorder:function(r){for(var s=null,l=this.items.get(r);2*r<=this._size&&(s=2*r,s!==this._size&&this.items.get(s+1).compareTo(this.items.get(s))<0&&s++,this.items.get(s).compareTo(l)<0);r=s)this.items.set(r,this.items.get(s));this.items.set(r,l)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return this._size===0},add:function(r){this.items.add(null),this._size+=1;var s=this._size;for(this.items.set(0,r);r.compareTo(this.items.get(Math.trunc(s/2)))<0;s/=2)this.items.set(s,this.items.get(Math.trunc(s/2)));this.items.set(s,r)},interfaces_:function(){return[]},getClass:function(){return Pt}}),a(_t.prototype,{visitItem:function(r){},interfaces_:function(){return[]},getClass:function(){return _t}}),a(yn.prototype,{insert:function(r,s){},remove:function(r,s){},query:function(){},interfaces_:function(){return[]},getClass:function(){return yn}}),a(mt.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(r){_.isTrue(this.bounds===null),this.childBoundables.add(r)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return this.bounds===null&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Le,m]},getClass:function(){return mt}}),mt.serialVersionUID=6493722185909574e3;var Va={reverseOrder:function(){return{compare:function(r,s){return s.compareTo(r)}}},min:function(r){return Va.sort(r),r.get(0)},sort:function(r,s){var l=r.toArray();s?qt.sort(l,s):qt.sort(l);for(var f=r.iterator(),p=0,v=l.length;v>p;p++)f.next(),f.set(l[p])},singletonList:function(r){var s=new H;return s.add(r),s}};a(Je.prototype,{expandToQueue:function(r,s){var l=Je.isComposite(this.boundable1),f=Je.isComposite(this.boundable2);if(l&&f)return Je.area(this.boundable1)>Je.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,r,s),null):(this.expand(this.boundable2,this.boundable1,r,s),null);if(l)return this.expand(this.boundable1,this.boundable2,r,s),null;if(f)return this.expand(this.boundable2,this.boundable1,r,s),null;throw new u},isLeaves:function(){return!(Je.isComposite(this.boundable1)||Je.isComposite(this.boundable2))},compareTo:function(r){var s=r;return this._distance<s._distance?-1:this._distance>s._distance?1:0},expand:function(r,s,l,f){for(var p=r.getChildBoundables(),v=p.iterator();v.hasNext();){var S=v.next(),N=new Je(S,s,this.itemDistance);N.getDistance()<f&&l.add(N)}},getBoundable:function(r){return r===0?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[c]},getClass:function(){return Je}}),Je.area=function(r){return r.getBounds().getArea()},Je.isComposite=function(r){return r instanceof mt},a(Ue.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(r){return r.get(r.size()-1)},size:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this.root));if(arguments.length===1){for(var s=arguments[0],l=0,f=s.getChildBoundables().iterator();f.hasNext();){var p=f.next();p instanceof mt?l+=this.size(p):p instanceof Ye&&(l+=1)}return l}},removeItem:function(r,s){for(var l=null,f=r.getChildBoundables().iterator();f.hasNext();){var p=f.next();p instanceof Ye&&p.getItem()===s&&(l=p)}return l!==null?(r.getChildBoundables().remove(l),!0):!1},itemsTree:function(){if(arguments.length===0){this.build();var r=this.itemsTree(this.root);return r===null?new H:r}if(arguments.length===1){for(var s=arguments[0],l=new H,f=s.getChildBoundables().iterator();f.hasNext();){var p=f.next();if(p instanceof mt){var v=this.itemsTree(p);v!==null&&l.add(v)}else p instanceof Ye?l.add(p.getItem()):_.shouldNeverReachHere()}return l.size()<=0?null:l}},insert:function(r,s){_.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new Ye(r,s))},boundablesAtLevel:function(){if(arguments.length===1){var r=arguments[0],s=new H;return this.boundablesAtLevel(r,this.root,s),s}if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];if(_.isTrue(l>-2),f.getLevel()===l)return p.add(f),null;for(var v=f.getChildBoundables().iterator();v.hasNext();){var S=v.next();S instanceof mt?this.boundablesAtLevel(l,S,p):(_.isTrue(S instanceof Ye),l===-1&&p.add(S))}return null}},query:function(){if(arguments.length===1){var r=arguments[0];this.build();var s=new H;return this.isEmpty()||this.getIntersectsOp().intersects(this.root.getBounds(),r)&&this.query(r,this.root,s),s}if(arguments.length===2){var l=arguments[0],f=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),l)&&this.query(l,this.root,f)}else if(arguments.length===3){if(I(arguments[2],_t)&&arguments[0]instanceof Object&&arguments[1]instanceof mt)for(var p=arguments[0],v=arguments[1],S=arguments[2],N=v.getChildBoundables(),j=0;j<N.size();j++){var de=N.get(j);this.getIntersectsOp().intersects(de.getBounds(),p)&&(de instanceof mt?this.query(p,de,S):de instanceof Ye?S.visitItem(de.getItem()):_.shouldNeverReachHere())}else if(I(arguments[2],O)&&arguments[0]instanceof Object&&arguments[1]instanceof mt)for(var we=arguments[0],Ce=arguments[1],Fe=arguments[2],N=Ce.getChildBoundables(),j=0;j<N.size();j++){var de=N.get(j);this.getIntersectsOp().intersects(de.getBounds(),we)&&(de instanceof mt?this.query(we,de,Fe):de instanceof Ye?Fe.add(de.getItem()):_.shouldNeverReachHere())}}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.build(),this.getIntersectsOp().intersects(this.root.getBounds(),r)?this.remove(r,this.root,s):!1}if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2],v=this.removeItem(f,p);if(v)return!0;for(var S=null,N=f.getChildBoundables().iterator();N.hasNext();){var j=N.next();if(this.getIntersectsOp().intersects(j.getBounds(),l)&&j instanceof mt&&(v=this.remove(l,j,p))){S=j;break}}return S!==null&&S.getChildBoundables().isEmpty()&&f.getChildBoundables().remove(S),v}},createHigherLevels:function(r,s){_.isTrue(!r.isEmpty());var l=this.createParentBoundables(r,s+1);return l.size()===1?l.get(0):this.createHigherLevels(l,s+1)},depth:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(arguments.length===1){for(var r=arguments[0],s=0,l=r.getChildBoundables().iterator();l.hasNext();){var f=l.next();if(f instanceof mt){var p=this.depth(f);p>s&&(s=p)}}return s+1}},createParentBoundables:function(r,s){_.isTrue(!r.isEmpty());var l=new H;l.add(this.createNode(s));var f=new H(r);Va.sort(f,this.getComparator());for(var p=f.iterator();p.hasNext();){var v=p.next();this.lastNode(l).getChildBoundables().size()===this.getNodeCapacity()&&l.add(this.createNode(s)),this.lastNode(l).addChildBoundable(v)}return l},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[m]},getClass:function(){return Ue}}),Ue.compareDoubles=function(r,s){return r>s?1:s>r?-1:0},Ue.IntersectsOp=vt,Ue.serialVersionUID=-3886435814360241e3,Ue.DEFAULT_NODE_CAPACITY=10,a(Jt.prototype,{distance:function(r,s){},interfaces_:function(){return[]},getClass:function(){return Jt}}),x(Dt,Ue),a(Dt.prototype,{createParentBoundablesFromVerticalSlices:function(r,s){_.isTrue(r.length>0);for(var l=new H,f=0;f<r.length;f++)l.addAll(this.createParentBoundablesFromVerticalSlice(r[f],s));return l},createNode:function(r){return new Xt(r)},size:function(){return arguments.length===0?Ue.prototype.size.call(this):Ue.prototype.size.apply(this,arguments)},insert:function(){if(arguments.length!==2)return Ue.prototype.insert.apply(this,arguments);var r=arguments[0],s=arguments[1];return r.isNull()?null:void Ue.prototype.insert.call(this,r,s)},getIntersectsOp:function(){return Dt.intersectsOp},verticalSlices:function(r,s){for(var l=Math.trunc(Math.ceil(r.size()/s)),f=new Array(s).fill(null),p=r.iterator(),v=0;s>v;v++){f[v]=new H;for(var S=0;p.hasNext()&&l>S;){var N=p.next();f[v].add(N),S++}}return f},query:function(){if(arguments.length===1){var r=arguments[0];return Ue.prototype.query.call(this,r)}if(arguments.length===2){var s=arguments[0],l=arguments[1];Ue.prototype.query.call(this,s,l)}else if(arguments.length===3){if(I(arguments[2],_t)&&arguments[0]instanceof Object&&arguments[1]instanceof mt){var f=arguments[0],p=arguments[1],v=arguments[2];Ue.prototype.query.call(this,f,p,v)}else if(I(arguments[2],O)&&arguments[0]instanceof Object&&arguments[1]instanceof mt){var S=arguments[0],N=arguments[1],j=arguments[2];Ue.prototype.query.call(this,S,N,j)}}},getComparator:function(){return Dt.yComparator},createParentBoundablesFromVerticalSlice:function(r,s){return Ue.prototype.createParentBoundables.call(this,r,s)},remove:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return Ue.prototype.remove.call(this,r,s)}return Ue.prototype.remove.apply(this,arguments)},depth:function(){return arguments.length===0?Ue.prototype.depth.call(this):Ue.prototype.depth.apply(this,arguments)},createParentBoundables:function(r,s){_.isTrue(!r.isEmpty());var l=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),f=new H(r);Va.sort(f,Dt.xComparator);var p=this.verticalSlices(f,Math.trunc(Math.ceil(Math.sqrt(l))));return this.createParentBoundablesFromVerticalSlices(p,s)},nearestNeighbour:function(){if(arguments.length===1){if(I(arguments[0],Jt)){var r=arguments[0],s=new Je(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(s)}if(arguments[0]instanceof Je){var l=arguments[0];return this.nearestNeighbour(l,d.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof Dt&&I(arguments[1],Jt)){var f=arguments[0],p=arguments[1],s=new Je(this.getRoot(),f.getRoot(),p);return this.nearestNeighbour(s)}if(arguments[0]instanceof Je&&typeof arguments[1]=="number"){var v=arguments[0],S=arguments[1],N=S,j=null,de=new Pt;for(de.add(v);!de.isEmpty()&&N>0;){var we=de.poll(),Ce=we.getDistance();if(Ce>=N)break;we.isLeaves()?(N=Ce,j=we):we.expandToQueue(de,N)}return[j.getBoundable(0).getItem(),j.getBoundable(1).getItem()]}}else if(arguments.length===3){var Fe=arguments[0],ct=arguments[1],Rt=arguments[2],Ut=new Ye(Fe,ct),s=new Je(this.getRoot(),Ut,Rt);return this.nearestNeighbour(s)[0]}},interfaces_:function(){return[yn,m]},getClass:function(){return Dt}}),Dt.centreX=function(r){return Dt.avg(r.getMinX(),r.getMaxX())},Dt.avg=function(r,s){return(r+s)/2},Dt.centreY=function(r){return Dt.avg(r.getMinY(),r.getMaxY())},x(Xt,mt),a(Xt.prototype,{computeBounds:function(){for(var r=null,s=this.getChildBoundables().iterator();s.hasNext();){var l=s.next();r===null?r=new Y(l.getBounds()):r.expandToInclude(l.getBounds())}return r},interfaces_:function(){return[]},getClass:function(){return Xt}}),Dt.STRtreeNode=Xt,Dt.serialVersionUID=0x39920f7d5f261e0,Dt.xComparator={interfaces_:function(){return[g]},compare:function(r,s){return Ue.compareDoubles(Dt.centreX(r.getBounds()),Dt.centreX(s.getBounds()))}},Dt.yComparator={interfaces_:function(){return[g]},compare:function(r,s){return Ue.compareDoubles(Dt.centreY(r.getBounds()),Dt.centreY(s.getBounds()))}},Dt.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(r,s){return r.intersects(s)}},Dt.DEFAULT_NODE_CAPACITY=10,a(Vt.prototype,{interfaces_:function(){return[]},getClass:function(){return Vt}}),Vt.relativeSign=function(r,s){return s>r?-1:r>s?1:0},Vt.compare=function(r,s,l){if(s.equals2D(l))return 0;var f=Vt.relativeSign(s.x,l.x),p=Vt.relativeSign(s.y,l.y);switch(r){case 0:return Vt.compareValue(f,p);case 1:return Vt.compareValue(p,f);case 2:return Vt.compareValue(p,-f);case 3:return Vt.compareValue(-f,p);case 4:return Vt.compareValue(-f,-p);case 5:return Vt.compareValue(-p,-f);case 6:return Vt.compareValue(-p,f);case 7:return Vt.compareValue(f,-p)}return _.shouldNeverReachHere("invalid octant value"),0},Vt.compareValue=function(r,s){return 0>r?-1:r>0?1:0>s?-1:s>0?1:0},a(sn.prototype,{getCoordinate:function(){return this.coord},print:function(r){r.print(this.coord),r.print(" seg # = "+this.segmentIndex)},compareTo:function(r){var s=r;return this.segmentIndex<s.segmentIndex?-1:this.segmentIndex>s.segmentIndex?1:this.coord.equals2D(s.coord)?0:Vt.compare(this.segmentOctant,this.coord,s.coord)},isEndPoint:function(r){return this.segmentIndex!==0||this._isInterior?this.segmentIndex===r:!0},isInterior:function(){return this._isInterior},interfaces_:function(){return[c]},getClass:function(){return sn}}),a(Er.prototype,{getSplitCoordinates:function(){var r=new Z;this.addEndpoints();for(var s=this.iterator(),l=s.next();s.hasNext();){var f=s.next();this.addEdgeCoordinates(l,f,r),l=f}return r.toCoordinateArray()},addCollapsedNodes:function(){var r=new H;this.findCollapsesFromInsertedNodes(r),this.findCollapsesFromExistingVertices(r);for(var s=r.iterator();s.hasNext();){var l=s.next().intValue();this.add(this.edge.getCoordinate(l),l)}},print:function(r){r.println("Intersections:");for(var s=this.iterator();s.hasNext();){var l=s.next();l.print(r)}},findCollapsesFromExistingVertices:function(r){for(var s=0;s<this.edge.size()-2;s++){var l=this.edge.getCoordinate(s),f=(this.edge.getCoordinate(s+1),this.edge.getCoordinate(s+2));l.equals2D(f)&&r.add(new ee(s+1))}},addEdgeCoordinates:function(r,s,l){s.segmentIndex-r.segmentIndex+2;var f=this.edge.getCoordinate(s.segmentIndex),p=s.isInterior()||!s.coord.equals2D(f);l.add(new w(r.coord),!1);for(var v=r.segmentIndex+1;v<=s.segmentIndex;v++)l.add(this.edge.getCoordinate(v));p&&l.add(new w(s.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(r){this.addEndpoints(),this.addCollapsedNodes();for(var s=this.iterator(),l=s.next();s.hasNext();){var f=s.next(),p=this.createSplitEdge(l,f);r.add(p),l=f}},findCollapseIndex:function(r,s,l){if(!r.coord.equals2D(s.coord))return!1;var f=s.segmentIndex-r.segmentIndex;return s.isInterior()||f--,f===1?(l[0]=r.segmentIndex+1,!0):!1},findCollapsesFromInsertedNodes:function(r){for(var s=new Array(1).fill(null),l=this.iterator(),f=l.next();l.hasNext();){var p=l.next(),v=this.findCollapseIndex(f,p,s);v&&r.add(new ee(s[0])),f=p}},getEdge:function(){return this.edge},addEndpoints:function(){var r=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(r),r)},createSplitEdge:function(r,s){var l=s.segmentIndex-r.segmentIndex+2,f=this.edge.getCoordinate(s.segmentIndex),p=s.isInterior()||!s.coord.equals2D(f);p||l--;var v=new Array(l).fill(null),S=0;v[S++]=new w(r.coord);for(var N=r.segmentIndex+1;N<=s.segmentIndex;N++)v[S++]=this.edge.getCoordinate(N);return p&&(v[S]=new w(s.coord)),new Hr(v,this.edge.getData())},add:function(r,s){var l=new sn(this.edge,r,s,this.edge.getSegmentOctant(s)),f=this.nodeMap.get(l);return f!==null?(_.isTrue(f.coord.equals2D(r),"Found equal nodes with different coordinates"),f):(this.nodeMap.put(l,l),l)},checkSplitEdgesCorrectness:function(r){var s=this.edge.getCoordinates(),l=r.get(0),f=l.getCoordinate(0);if(!f.equals2D(s[0]))throw new y("bad split edge start point at "+f);var p=r.get(r.size()-1),v=p.getCoordinates(),S=v[v.length-1];if(!S.equals2D(s[s.length-1]))throw new y("bad split edge end point at "+S)},interfaces_:function(){return[]},getClass:function(){return Er}}),a(Bi.prototype,{next:function(){return this.currNode===null?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):this.nextNode===null?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex>this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return this.nextNode!==null},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[k]},getClass:function(){return Bi}}),a(vr.prototype,{addIntersection:function(r,s){},interfaces_:function(){return[ht]},getClass:function(){return vr}}),a(Hr.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(r){return this.pts[r]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(r){return r===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(r),this.getCoordinate(r+1))},setData:function(r){this.data=r},safeOctant:function(r,s){return r.equals2D(s)?0:Et.octant(r,s)},getData:function(){return this.data},addIntersection:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];this.addIntersectionNode(r,s)}else if(arguments.length===4){var l=arguments[0],f=arguments[1],p=arguments[3],v=new w(l.getIntersection(p));this.addIntersection(v,f)}},toString:function(){return Mn.toLineString(new ve(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(r,s){var l=s,f=l+1;if(f<this.pts.length){var p=this.pts[f];r.equals2D(p)&&(l=f)}var v=this.nodeList.add(r,l);return v},addIntersections:function(r,s,l){for(var f=0;f<r.getIntersectionNum();f++)this.addIntersection(r,s,l,f)},interfaces_:function(){return[vr]},getClass:function(){return Hr}}),Hr.getNodedSubstrings=function(){if(arguments.length===1){var r=arguments[0],s=new H;return Hr.getNodedSubstrings(r,s),s}if(arguments.length===2)for(var l=arguments[0],f=arguments[1],p=l.iterator();p.hasNext();){var v=p.next();v.getNodeList().addSplitEdges(f)}},a(Cr.prototype,{overlap:function(){if(arguments.length!==2){if(arguments.length===4){var r=arguments[0],s=arguments[1],l=arguments[2],f=arguments[3];r.getLineSegment(s,this.overlapSeg1),l.getLineSegment(f,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}}},interfaces_:function(){return[]},getClass:function(){return Cr}}),a(no.prototype,{getLineSegment:function(r,s){s.p0=this.pts[r],s.p1=this.pts[r+1]},computeSelect:function(r,s,l,f){var p=this.pts[s],v=this.pts[l];if(f.tempEnv1.init(p,v),l-s===1)return f.select(this,s),null;if(!r.intersects(f.tempEnv1))return null;var S=Math.trunc((s+l)/2);S>s&&this.computeSelect(r,s,S,f),l>S&&this.computeSelect(r,S,l,f)},getCoordinates:function(){for(var r=new Array(this.end-this.start+1).fill(null),s=0,l=this.start;l<=this.end;l++)r[s++]=this.pts[l];return r},computeOverlaps:function(r,s){this.computeOverlapsInternal(this.start,this.end,r,r.start,r.end,s)},setId:function(r){this.id=r},select:function(r,s){this.computeSelect(r,this.start,this.end,s)},getEnvelope:function(){if(this.env===null){var r=this.pts[this.start],s=this.pts[this.end];this.env=new Y(r,s)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(r,s,l,f,p,v){var S=this.pts[r],N=this.pts[s],j=l.pts[f],de=l.pts[p];if(s-r===1&&p-f===1)return v.overlap(this,r,l,f),null;if(v.tempEnv1.init(S,N),v.tempEnv2.init(j,de),!v.tempEnv1.intersects(v.tempEnv2))return null;var we=Math.trunc((r+s)/2),Ce=Math.trunc((f+p)/2);we>r&&(Ce>f&&this.computeOverlapsInternal(r,we,l,f,Ce,v),p>Ce&&this.computeOverlapsInternal(r,we,l,Ce,p,v)),s>we&&(Ce>f&&this.computeOverlapsInternal(we,s,l,f,Ce,v),p>Ce&&this.computeOverlapsInternal(we,s,l,Ce,p,v))},interfaces_:function(){return[]},getClass:function(){return no}}),a(rn.prototype,{interfaces_:function(){return[]},getClass:function(){return rn}}),rn.isNorthern=function(r){return r===rn.NE||r===rn.NW},rn.isOpposite=function(r,s){if(r===s)return!1;var l=(r-s+4)%4;return l===2},rn.commonHalfPlane=function(r,s){if(r===s)return r;var l=(r-s+4)%4;if(l===2)return-1;var f=s>r?r:s,p=r>s?r:s;return f===0&&p===3?3:f},rn.isInHalfPlane=function(r,s){return s===rn.SE?r===rn.SE||r===rn.SW:r===s||r===s+1},rn.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var r=arguments[0],s=arguments[1];if(r===0&&s===0)throw new u;return r>=0?s>=0?rn.NE:rn.SE:s>=0?rn.NW:rn.SW}if(arguments[0]instanceof w&&arguments[1]instanceof w){var l=arguments[0],f=arguments[1];if(f.x===l.x&&f.y===l.y)throw new u;return f.x>=l.x?f.y>=l.y?rn.NE:rn.SE:f.y>=l.y?rn.NW:rn.SW}},rn.NE=0,rn.NW=1,rn.SW=2,rn.SE=3,a(si.prototype,{interfaces_:function(){return[]},getClass:function(){return si}}),si.getChainStartIndices=function(r){var s=0,l=new H;l.add(new ee(s));do{var f=si.findChainEnd(r,s);l.add(new ee(f)),s=f}while(s<r.length-1);var p=si.toIntArray(l);return p},si.findChainEnd=function(r,s){for(var l=s;l<r.length-1&&r[l].equals2D(r[l+1]);)l++;if(l>=r.length-1)return r.length-1;for(var f=rn.quadrant(r[l],r[l+1]),p=s+1;p<r.length;){if(!r[p-1].equals2D(r[p])){var v=rn.quadrant(r[p-1],r[p]);if(v!==f)break}p++}return p-1},si.getChains=function(){if(arguments.length===1){var r=arguments[0];return si.getChains(r,null)}if(arguments.length===2){for(var s=arguments[0],l=arguments[1],f=new H,p=si.getChainStartIndices(s),v=0;v<p.length-1;v++){var S=new no(s,p[v],p[v+1],l);f.add(S)}return f}},si.toIntArray=function(r){for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l).intValue();return s},a(Uo.prototype,{computeNodes:function(r){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return Uo}}),a(Hu.prototype,{setSegmentIntersector:function(r){this.segInt=r},interfaces_:function(){return[Uo]},getClass:function(){return Hu}}),x(Ra,Hu),a(Ra.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return Hr.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(r){for(var s=si.getChains(r.getCoordinates(),r),l=s.iterator();l.hasNext();){var f=l.next();f.setId(this.idCounter++),this.index.insert(f.getEnvelope(),f),this.monoChains.add(f)}},computeNodes:function(r){this.nodedSegStrings=r;for(var s=r.iterator();s.hasNext();)this.add(s.next());this.intersectChains()},intersectChains:function(){for(var r=new qo(this.segInt),s=this.monoChains.iterator();s.hasNext();)for(var l=s.next(),f=this.index.query(l.getEnvelope()),p=f.iterator();p.hasNext();){var v=p.next();if(v.getId()>l.getId()&&(l.computeOverlaps(v,r),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return Ra}}),x(qo,Cr),a(qo.prototype,{overlap:function(){if(arguments.length!==4)return Cr.prototype.overlap.apply(this,arguments);var r=arguments[0],s=arguments[1],l=arguments[2],f=arguments[3],p=r.getContext(),v=l.getContext();this.si.processIntersections(p,s,v,f)},interfaces_:function(){return[]},getClass:function(){return qo}}),Ra.SegmentOverlapAction=qo,x(Ar,y),a(Ar.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Ar}}),Ar.msgWithCoord=function(r,s){return s!==null?r+" [ "+s+" ]":r},a(jo.prototype,{processIntersections:function(r,s,l,f){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return jo}}),a(Oa.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(r){this.isCheckEndSegmentsOnly=r},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(r){this.findAllIntersections=r},setKeepIntersections:function(r){this.keepIntersections=r},processIntersections:function(r,s,l,f){if(!this.findAllIntersections&&this.hasIntersection()||r===l&&s===f)return null;if(this.isCheckEndSegmentsOnly){var p=this.isEndSegment(r,s)||this.isEndSegment(l,f);if(!p)return null}var v=r.getCoordinates()[s],S=r.getCoordinates()[s+1],N=l.getCoordinates()[f],j=l.getCoordinates()[f+1];this.li.computeIntersection(v,S,N,j),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=v,this.intSegments[1]=S,this.intSegments[2]=N,this.intSegments[3]=j,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(r,s){return s===0?!0:s>=r.size()-2},hasIntersection:function(){return this.interiorIntersection!==null},isDone:function(){return this.findAllIntersections?!1:this.interiorIntersection!==null},interfaces_:function(){return[jo]},getClass:function(){return Oa}}),Oa.createAllIntersectionsFinder=function(r){var s=new Oa(r);return s.setFindAllIntersections(!0),s},Oa.createAnyIntersectionFinder=function(r){return new Oa(r)},Oa.createIntersectionCounter=function(r){var s=new Oa(r);return s.setFindAllIntersections(!0),s.setKeepIntersections(!1),s},a(Ko.prototype,{execute:function(){return this.segInt!==null?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(r){this.findAllIntersections=r},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new Oa(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var r=new Ra;return r.setSegmentIntersector(this.segInt),r.computeNodes(this.segStrings),this.segInt.hasIntersection()?(this._isValid=!1,null):void 0},checkValid:function(){if(this.execute(),!this._isValid)throw new Ar(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var r=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+Mn.toLineString(r[0],r[1])+" and "+Mn.toLineString(r[2],r[3])},interfaces_:function(){return[]},getClass:function(){return Ko}}),Ko.computeIntersections=function(r){var s=new Ko(r);return s.setFindAllIntersections(!0),s.isValid(),s.getIntersections()},a(Ns.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return Ns}}),Ns.toSegmentStrings=function(r){for(var s=new H,l=r.iterator();l.hasNext();){var f=l.next();s.add(new Ke(f.getCoordinates(),f))}return s},Ns.checkValid=function(r){var s=new Ns(r);s.checkValid()},a(ro.prototype,{map:function(r){for(var s=new H,l=0;l<r.getNumGeometries();l++){var f=this.mapOp.map(r.getGeometryN(l));f.isEmpty()||s.add(f)}return r.getFactory().createGeometryCollection(Mt.toGeometryArray(s))},interfaces_:function(){return[]},getClass:function(){return ro}}),ro.map=function(r,s){var l=new ro(s);return l.map(r)},a(Ve.prototype,{interfaces_:function(){return[]},getClass:function(){return Ve}}),Ve.opposite=function(r){return r===Ve.LEFT?Ve.RIGHT:r===Ve.RIGHT?Ve.LEFT:r},Ve.ON=0,Ve.LEFT=1,Ve.RIGHT=2,a(zr.prototype,{setAllLocations:function(r){for(var s=0;s<this.location.length;s++)this.location[s]=r},isNull:function(){for(var r=0;r<this.location.length;r++)if(this.location[r]!==b.NONE)return!1;return!0},setAllLocationsIfNull:function(r){for(var s=0;s<this.location.length;s++)this.location[s]===b.NONE&&(this.location[s]=r)},isLine:function(){return this.location.length===1},merge:function(r){if(r.location.length>this.location.length){var s=new Array(3).fill(null);s[Ve.ON]=this.location[Ve.ON],s[Ve.LEFT]=b.NONE,s[Ve.RIGHT]=b.NONE,this.location=s}for(var l=0;l<this.location.length;l++)this.location[l]===b.NONE&&l<r.location.length&&(this.location[l]=r.location[l])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var r=this.location[Ve.LEFT];this.location[Ve.LEFT]=this.location[Ve.RIGHT],this.location[Ve.RIGHT]=r},toString:function(){var r=new V;return this.location.length>1&&r.append(b.toLocationSymbol(this.location[Ve.LEFT])),r.append(b.toLocationSymbol(this.location[Ve.ON])),this.location.length>1&&r.append(b.toLocationSymbol(this.location[Ve.RIGHT])),r.toString()},setLocations:function(r,s,l){this.location[Ve.ON]=r,this.location[Ve.LEFT]=s,this.location[Ve.RIGHT]=l},get:function(r){return r<this.location.length?this.location[r]:b.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var r=0;r<this.location.length;r++)if(this.location[r]===b.NONE)return!0;return!1},setLocation:function(){if(arguments.length===1){var r=arguments[0];this.setLocation(Ve.ON,r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.location[s]=l}},init:function(r){this.location=new Array(r).fill(null),this.setAllLocations(b.NONE)},isEqualOnSide:function(r,s){return this.location[s]===r.location[s]},allPositionsEqual:function(r){for(var s=0;s<this.location.length;s++)if(this.location[s]!==r)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return zr}}),a(Bn.prototype,{getGeometryCount:function(){var r=0;return this.elt[0].isNull()||r++,this.elt[1].isNull()||r++,r},setAllLocations:function(r,s){this.elt[r].setAllLocations(s)},isNull:function(r){return this.elt[r].isNull()},setAllLocationsIfNull:function(){if(arguments.length===1){var r=arguments[0];this.setAllLocationsIfNull(0,r),this.setAllLocationsIfNull(1,r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.elt[s].setAllLocationsIfNull(l)}},isLine:function(r){return this.elt[r].isLine()},merge:function(r){for(var s=0;2>s;s++)this.elt[s]===null&&r.elt[s]!==null?this.elt[s]=new zr(r.elt[s]):this.elt[s].merge(r.elt[s])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(arguments.length===1){var r=arguments[0];return this.elt[r].get(Ve.ON)}if(arguments.length===2){var s=arguments[0],l=arguments[1];return this.elt[s].get(l)}},toString:function(){var r=new V;return this.elt[0]!==null&&(r.append("A:"),r.append(this.elt[0].toString())),this.elt[1]!==null&&(r.append(" B:"),r.append(this.elt[1].toString())),r.toString()},isArea:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var r=arguments[0];return this.elt[r].isArea()}},isAnyNull:function(r){return this.elt[r].isAnyNull()},setLocation:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];this.elt[r].setLocation(Ve.ON,s)}else if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];this.elt[l].setLocation(f,p)}},isEqualOnSide:function(r,s){return this.elt[0].isEqualOnSide(r.elt[0],s)&&this.elt[1].isEqualOnSide(r.elt[1],s)},allPositionsEqual:function(r,s){return this.elt[r].allPositionsEqual(s)},toLine:function(r){this.elt[r].isArea()&&(this.elt[r]=new zr(this.elt[r].location[0]))},interfaces_:function(){return[]},getClass:function(){return Bn}}),Bn.toLineLabel=function(r){for(var s=new Bn(b.NONE),l=0;2>l;l++)s.setLocation(l,r.getLocation(l));return s},a(io.prototype,{computeRing:function(){if(this.ring!==null)return null;for(var r=new Array(this.pts.size()).fill(null),s=0;s<this.pts.size();s++)r[s]=this.pts.get(s);this.ring=this.geometryFactory.createLinearRing(r),this._isHole=Be.isCCW(this.ring.getCoordinates())},isIsolated:function(){return this.label.getGeometryCount()===1},computePoints:function(r){this.startDe=r;var s=r,l=!0;do{if(s===null)throw new Ar("Found null DirectedEdge");if(s.getEdgeRing()===this)throw new Ar("Directed Edge visited twice during ring-building at "+s.getCoordinate());this.edges.add(s);var f=s.getLabel();_.isTrue(f.isArea()),this.mergeLabel(f),this.addPoints(s.getEdge(),s.isForward(),l),l=!1,this.setEdgeRing(s,this),s=this.getNext(s)}while(s!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(r){return this.pts.get(r)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var r=this.startDe;do{var s=r.getNode(),l=s.getEdges().getOutgoingDegree(this);l>this.maxNodeDegree&&(this.maxNodeDegree=l),r=this.getNext(r)}while(r!==this.startDe);this.maxNodeDegree*=2},addPoints:function(r,s,l){var f=r.getCoordinates();if(s){var p=1;l&&(p=0);for(var v=p;v<f.length;v++)this.pts.add(f[v])}else{var p=f.length-2;l&&(p=f.length-1);for(var v=p;v>=0;v--)this.pts.add(f[v])}},isHole:function(){return this._isHole},setInResult:function(){var r=this.startDe;do r.getEdge().setInResult(!0),r=r.getNext();while(r!==this.startDe)},containsPoint:function(r){var s=this.getLinearRing(),l=s.getEnvelopeInternal();if(!l.contains(r)||!Be.isPointInRing(r,s.getCoordinates()))return!1;for(var f=this.holes.iterator();f.hasNext();){var p=f.next();if(p.containsPoint(r))return!1}return!0},addHole:function(r){this.holes.add(r)},isShell:function(){return this.shell===null},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(arguments.length===1){var r=arguments[0];this.mergeLabel(r,0),this.mergeLabel(r,1)}else if(arguments.length===2){var s=arguments[0],l=arguments[1],f=s.getLocation(l,Ve.RIGHT);if(f===b.NONE)return null;if(this.label.getLocation(l)===b.NONE)return this.label.setLocation(l,f),null}},setShell:function(r){this.shell=r,r!==null&&r.addHole(this)},toPolygon:function(r){for(var s=new Array(this.holes.size()).fill(null),l=0;l<this.holes.size();l++)s[l]=this.holes.get(l).getLinearRing();var f=r.createPolygon(this.getLinearRing(),s);return f},interfaces_:function(){return[]},getClass:function(){return io}}),x(zu,io),a(zu.prototype,{setEdgeRing:function(r,s){r.setMinEdgeRing(s)},getNext:function(r){return r.getNextMin()},interfaces_:function(){return[]},getClass:function(){return zu}}),x(Jo,io),a(Jo.prototype,{buildMinimalRings:function(){var r=new H,s=this.startDe;do{if(s.getMinEdgeRing()===null){var l=new zu(s,this.geometryFactory);r.add(l)}s=s.getNext()}while(s!==this.startDe);return r},setEdgeRing:function(r,s){r.setEdgeRing(s)},linkDirectedEdgesForMinimalEdgeRings:function(){var r=this.startDe;do{var s=r.getNode();s.getEdges().linkMinimalDirectedEdges(this),r=r.getNext()}while(r!==this.startDe)},getNext:function(r){return r.getNext()},interfaces_:function(){return[]},getClass:function(){return Jo}}),a(Za.prototype,{setVisited:function(r){this._isVisited=r},setInResult:function(r){this._isInResult=r},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(r){this.label=r},getLabel:function(){return this.label},setCovered:function(r){this._isCovered=r,this._isCoveredSet=!0},updateIM:function(r){_.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(r)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return Za}}),x(Hi,Za),a(Hi.prototype,{isIncidentEdgeInResult:function(){for(var r=this.getEdges().getEdges().iterator();r.hasNext();){var s=r.next();if(s.getEdge().isInResult())return!0}return!1},isIsolated:function(){return this.label.getGeometryCount()===1},getCoordinate:function(){return this.coord},print:function(r){r.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(r){},computeMergedLocation:function(r,s){var l=b.NONE;if(l=this.label.getLocation(s),!r.isNull(s)){var f=r.getLocation(s);l!==b.BOUNDARY&&(l=f)}return l},setLabel:function(){if(arguments.length!==2)return Za.prototype.setLabel.apply(this,arguments);var r=arguments[0],s=arguments[1];this.label===null?this.label=new Bn(r,s):this.label.setLocation(r,s)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof Hi){var r=arguments[0];this.mergeLabel(r.label)}else if(arguments[0]instanceof Bn)for(var s=arguments[0],l=0;2>l;l++){var f=this.computeMergedLocation(s,l),p=this.label.getLocation(l);p===b.NONE&&this.label.setLocation(l,f)}},add:function(r){this.edges.insert(r),r.setNode(this)},setLabelBoundary:function(r){if(this.label===null)return null;var s=b.NONE;this.label!==null&&(s=this.label.getLocation(r));var l=null;switch(s){case b.BOUNDARY:l=b.INTERIOR;break;case b.INTERIOR:l=b.BOUNDARY;break;default:l=b.BOUNDARY}this.label.setLocation(r,l)},interfaces_:function(){return[]},getClass:function(){return Hi}}),a(ao.prototype,{find:function(r){return this.nodeMap.get(r)},addNode:function(){if(arguments[0]instanceof w){var r=arguments[0],s=this.nodeMap.get(r);return s===null&&(s=this.nodeFact.createNode(r),this.nodeMap.put(r,s)),s}if(arguments[0]instanceof Hi){var l=arguments[0],s=this.nodeMap.get(l.getCoordinate());return s===null?(this.nodeMap.put(l.getCoordinate(),l),l):(s.mergeLabel(l),s)}},print:function(r){for(var s=this.iterator();s.hasNext();){var l=s.next();l.print(r)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(r){for(var s=new H,l=this.iterator();l.hasNext();){var f=l.next();f.getLabel().getLocation(r)===b.BOUNDARY&&s.add(f)}return s},add:function(r){var s=r.getCoordinate(),l=this.addNode(s);l.add(r)},interfaces_:function(){return[]},getClass:function(){return ao}}),a(zi.prototype,{compareDirection:function(r){return this.dx===r.dx&&this.dy===r.dy?0:this.quadrant>r.quadrant?1:this.quadrant<r.quadrant?-1:Be.computeOrientation(r.p0,r.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(r){this.node=r},print:function(r){var s=Math.atan2(this.dy,this.dx),l=this.getClass().getName(),f=l.lastIndexOf("."),p=l.substring(f+1);r.print("  "+p+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+s+"   "+this.label)},compareTo:function(r){var s=r;return this.compareDirection(s)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var r=Math.atan2(this.dy,this.dx),s=this.getClass().getName(),l=s.lastIndexOf("."),f=s.substring(l+1);return"  "+f+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+r+"   "+this.label},computeLabel:function(r){},init:function(r,s){this.p0=r,this.p1=s,this.dx=s.x-r.x,this.dy=s.y-r.y,this.quadrant=rn.quadrant(this.dx,this.dy),_.isTrue(!(this.dx===0&&this.dy===0),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[c]},getClass:function(){return zi}}),x(As,zi),a(As.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(r){return this.depth[r]},setVisited:function(r){this._isVisited=r},computeDirectedLabel:function(){this.label=new Bn(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(r,s){if(this.depth[r]!==-999&&this.depth[r]!==s)throw new Ar("assigned depths do not match",this.getCoordinate());this.depth[r]=s},isInteriorAreaEdge:function(){for(var s=!0,l=0;2>l;l++)this.label.isArea(l)&&this.label.getLocation(l,Ve.LEFT)===b.INTERIOR&&this.label.getLocation(l,Ve.RIGHT)===b.INTERIOR||(s=!1);return s},setNextMin:function(r){this.nextMin=r},print:function(r){zi.prototype.print.call(this,r),r.print(" "+this.depth[Ve.LEFT]+"/"+this.depth[Ve.RIGHT]),r.print(" ("+this.getDepthDelta()+")"),this._isInResult&&r.print(" inResult")},setMinEdgeRing:function(r){this.minEdgeRing=r},isLineEdge:function(){var r=this.label.isLine(0)||this.label.isLine(1),s=!this.label.isArea(0)||this.label.allPositionsEqual(0,b.EXTERIOR),l=!this.label.isArea(1)||this.label.allPositionsEqual(1,b.EXTERIOR);return r&&s&&l},setEdgeRing:function(r){this.edgeRing=r},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var r=this.edge.getDepthDelta();return this._isForward||(r=-r),r},setInResult:function(r){this._isInResult=r},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(r){this.print(r),r.print(" "),this._isForward?this.edge.print(r):this.edge.printReverse(r)},setSym:function(r){this.sym=r},setVisitedEdge:function(r){this.setVisited(r),this.sym.setVisited(r)},setEdgeDepths:function(r,s){var l=this.getEdge().getDepthDelta();this._isForward||(l=-l);var f=1;r===Ve.LEFT&&(f=-1);var p=Ve.opposite(r),v=l*f,S=s+v;this.setDepth(r,s),this.setDepth(p,S)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(r){this.next=r},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return As}}),As.depthFactor=function(r,s){return r===b.EXTERIOR&&s===b.INTERIOR?1:r===b.INTERIOR&&s===b.EXTERIOR?-1:0},a(Ds.prototype,{createNode:function(r){return new Hi(r,null)},interfaces_:function(){return[]},getClass:function(){return Ds}}),a(oi.prototype,{printEdges:function(r){r.println("Edges:");for(var s=0;s<this.edges.size();s++){r.println("edge "+s+":");var l=this.edges.get(s);l.print(r),l.eiList.print(r)}},find:function(r){return this.nodes.find(r)},addNode:function(){if(arguments[0]instanceof Hi){var r=arguments[0];return this.nodes.addNode(r)}if(arguments[0]instanceof w){var s=arguments[0];return this.nodes.addNode(s)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var r=this.nodes.iterator();r.hasNext();){var s=r.next();s.getEdges().linkResultDirectedEdges()}},debugPrintln:function(r){G.out.println(r)},isBoundaryNode:function(r,s){var l=this.nodes.find(s);if(l===null)return!1;var f=l.getLabel();return f!==null&&f.getLocation(r)===b.BOUNDARY},linkAllDirectedEdges:function(){for(var r=this.nodes.iterator();r.hasNext();){var s=r.next();s.getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(r,s,l,f){return r.equals(l)?Be.computeOrientation(r,s,f)===Be.COLLINEAR&&rn.quadrant(r,s)===rn.quadrant(l,f):!1},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(r){G.out.print(r)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(r,s){for(var l=0;l<this.edges.size();l++){var f=this.edges.get(l),p=f.getCoordinates();if(this.matchInSameDirection(r,s,p[0],p[1])||this.matchInSameDirection(r,s,p[p.length-1],p[p.length-2]))return f}return null},insertEdge:function(r){this.edges.add(r)},findEdgeEnd:function(r){for(var s=this.getEdgeEnds().iterator();s.hasNext();){var l=s.next();if(l.getEdge()===r)return l}return null},addEdges:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();this.edges.add(l);var f=new As(l,!0),p=new As(l,!1);f.setSym(p),p.setSym(f),this.add(f),this.add(p)}},add:function(r){this.nodes.add(r),this.edgeEndList.add(r)},getNodes:function(){return this.nodes.values()},findEdge:function(r,s){for(var l=0;l<this.edges.size();l++){var f=this.edges.get(l),p=f.getCoordinates();if(r.equals(p[0])&&s.equals(p[1]))return f}return null},interfaces_:function(){return[]},getClass:function(){return oi}}),oi.linkResultDirectedEdges=function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();l.getEdges().linkResultDirectedEdges()}},a(Vu.prototype,{sortShellsAndHoles:function(r,s,l){for(var f=r.iterator();f.hasNext();){var p=f.next();p.isHole()?l.add(p):s.add(p)}},computePolygons:function(r){for(var s=new H,l=r.iterator();l.hasNext();){var f=l.next(),p=f.toPolygon(this.geometryFactory);s.add(p)}return s},placeFreeHoles:function(r,s){for(var l=s.iterator();l.hasNext();){var f=l.next();if(f.getShell()===null){var p=this.findEdgeRingContaining(f,r);if(p===null)throw new Ar("unable to assign hole to a shell",f.getCoordinate(0));f.setShell(p)}}},buildMinimalEdgeRings:function(r,s,l){for(var f=new H,p=r.iterator();p.hasNext();){var v=p.next();if(v.getMaxNodeDegree()>2){v.linkDirectedEdgesForMinimalEdgeRings();var S=v.buildMinimalRings(),N=this.findShell(S);N!==null?(this.placePolygonHoles(N,S),s.add(N)):l.addAll(S)}else f.add(v)}return f},containsPoint:function(r){for(var s=this.shellList.iterator();s.hasNext();){var l=s.next();if(l.containsPoint(r))return!0}return!1},buildMaximalEdgeRings:function(r){for(var s=new H,l=r.iterator();l.hasNext();){var f=l.next();if(f.isInResult()&&f.getLabel().isArea()&&f.getEdgeRing()===null){var p=new Jo(f,this.geometryFactory);s.add(p),p.setInResult()}}return s},placePolygonHoles:function(r,s){for(var l=s.iterator();l.hasNext();){var f=l.next();f.isHole()&&f.setShell(r)}},getPolygons:function(){var r=this.computePolygons(this.shellList);return r},findEdgeRingContaining:function(r,s){for(var l=r.getLinearRing(),f=l.getEnvelopeInternal(),p=l.getCoordinateN(0),v=null,S=null,N=s.iterator();N.hasNext();){var j=N.next(),de=j.getLinearRing(),we=de.getEnvelopeInternal();v!==null&&(S=v.getLinearRing().getEnvelopeInternal());var Ce=!1;we.contains(f)&&Be.isPointInRing(p,de.getCoordinates())&&(Ce=!0),Ce&&(v===null||S.contains(we))&&(v=j)}return v},findShell:function(r){for(var s=0,l=null,f=r.iterator();f.hasNext();){var p=f.next();p.isHole()||(l=p,s++)}return _.isTrue(1>=s,"found two shells in MinimalEdgeRing list"),l},add:function(){if(arguments.length===1){var r=arguments[0];this.add(r.getEdgeEnds(),r.getNodes())}else if(arguments.length===2){var s=arguments[0],l=arguments[1];oi.linkResultDirectedEdges(l);var f=this.buildMaximalEdgeRings(s),p=new H,v=this.buildMinimalEdgeRings(f,this.shellList,p);this.sortShellsAndHoles(v,this.shellList,p),this.placeFreeHoles(this.shellList,p)}},interfaces_:function(){return[]},getClass:function(){return Vu}}),a(Qa.prototype,{collectLines:function(r){for(var s=this.op.getGraph().getEdgeEnds().iterator();s.hasNext();){var l=s.next();this.collectLineEdge(l,r,this.lineEdgesList),this.collectBoundaryTouchEdge(l,r,this.lineEdgesList)}},labelIsolatedLine:function(r,s){var l=this.ptLocator.locate(r.getCoordinate(),this.op.getArgGeometry(s));r.getLabel().setLocation(s,l)},build:function(r){return this.findCoveredLineEdges(),this.collectLines(r),this.buildLines(r),this.resultLineList},collectLineEdge:function(r,s,l){var f=r.getLabel(),p=r.getEdge();r.isLineEdge()&&(r.isVisited()||!ft.isResultOfOp(f,s)||p.isCovered()||(l.add(p),r.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var r=this.op.getGraph().getNodes().iterator();r.hasNext();){var s=r.next();s.getEdges().findCoveredLineEdges()}for(var l=this.op.getGraph().getEdgeEnds().iterator();l.hasNext();){var f=l.next(),p=f.getEdge();if(f.isLineEdge()&&!p.isCoveredSet()){var v=this.op.isCoveredByA(f.getCoordinate());p.setCovered(v)}}},labelIsolatedLines:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next(),f=l.getLabel();l.isIsolated()&&(f.isNull(0)?this.labelIsolatedLine(l,0):this.labelIsolatedLine(l,1))}},buildLines:function(r){for(var s=this.lineEdgesList.iterator();s.hasNext();){var l=s.next(),f=(l.getLabel(),this.geometryFactory.createLineString(l.getCoordinates()));this.resultLineList.add(f),l.setInResult(!0)}},collectBoundaryTouchEdge:function(r,s,l){var f=r.getLabel();return r.isLineEdge()||r.isVisited()||r.isInteriorAreaEdge()||r.getEdge().isInResult()?null:(_.isTrue(!(r.isInResult()||r.getSym().isInResult())||!r.getEdge().isInResult()),void(ft.isResultOfOp(f,s)&&s===ft.INTERSECTION&&(l.add(r.getEdge()),r.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Qa}}),a(Gu.prototype,{filterCoveredNodeToPoint:function(r){var s=r.getCoordinate();if(!this.op.isCoveredByLA(s)){var l=this.geometryFactory.createPoint(s);this.resultPointList.add(l)}},extractNonCoveredResultNodes:function(r){for(var s=this.op.getGraph().getNodes().iterator();s.hasNext();){var l=s.next();if(!(l.isInResult()||l.isIncidentEdgeInResult()||l.getEdges().getDegree()!==0&&r!==ft.INTERSECTION)){var f=l.getLabel();ft.isResultOfOp(f,r)&&this.filterCoveredNodeToPoint(l)}}},build:function(r){return this.extractNonCoveredResultNodes(r),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return Gu}}),a(pi.prototype,{locate:function(r){},interfaces_:function(){return[]},getClass:function(){return pi}}),a(ui.prototype,{locate:function(r){return ui.locate(r,this.geom)},interfaces_:function(){return[pi]},getClass:function(){return ui}}),ui.isPointInRing=function(r,s){return s.getEnvelopeInternal().intersects(r)?Be.isPointInRing(r,s.getCoordinates()):!1},ui.containsPointInPolygon=function(r,s){if(s.isEmpty())return!1;var l=s.getExteriorRing();if(!ui.isPointInRing(r,l))return!1;for(var f=0;f<s.getNumInteriorRing();f++){var p=s.getInteriorRingN(f);if(ui.isPointInRing(r,p))return!1}return!0},ui.containsPoint=function(r,s){if(s instanceof Ct)return ui.containsPointInPolygon(r,s);if(s instanceof It)for(var l=new He(s);l.hasNext();){var f=l.next();if(f!==s&&ui.containsPoint(r,f))return!0}return!1},ui.locate=function(r,s){return s.isEmpty()?b.EXTERIOR:ui.containsPoint(r,s)?b.INTERIOR:b.EXTERIOR},a($s.prototype,{getNextCW:function(r){this.getEdges();var s=this.edgeList.indexOf(r),l=s-1;return s===0&&(l=this.edgeList.size()-1),this.edgeList.get(l)},propagateSideLabels:function(r){for(var s=b.NONE,l=this.iterator();l.hasNext();){var f=l.next(),p=f.getLabel();p.isArea(r)&&p.getLocation(r,Ve.LEFT)!==b.NONE&&(s=p.getLocation(r,Ve.LEFT))}if(s===b.NONE)return null;for(var v=s,l=this.iterator();l.hasNext();){var f=l.next(),p=f.getLabel();if(p.getLocation(r,Ve.ON)===b.NONE&&p.setLocation(r,Ve.ON,v),p.isArea(r)){var S=p.getLocation(r,Ve.LEFT),N=p.getLocation(r,Ve.RIGHT);if(N!==b.NONE){if(N!==v)throw new Ar("side location conflict",f.getCoordinate());S===b.NONE&&_.shouldNeverReachHere("found single null side (at "+f.getCoordinate()+")"),v=S}else _.isTrue(p.getLocation(r,Ve.LEFT)===b.NONE,"found single null side"),p.setLocation(r,Ve.RIGHT,v),p.setLocation(r,Ve.LEFT,v)}}},getCoordinate:function(){var r=this.iterator();if(!r.hasNext())return null;var s=r.next();return s.getCoordinate()},print:function(r){G.out.println("EdgeEndStar:   "+this.getCoordinate());for(var s=this.iterator();s.hasNext();){var l=s.next();l.print(r)}},isAreaLabelsConsistent:function(r){return this.computeEdgeEndLabels(r.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(r){var s=this.getEdges();if(s.size()<=0)return!0;var l=s.size()-1,f=s.get(l).getLabel(),p=f.getLocation(r,Ve.LEFT);_.isTrue(p!==b.NONE,"Found unlabelled area edge");for(var v=p,S=this.iterator();S.hasNext();){var N=S.next(),j=N.getLabel();_.isTrue(j.isArea(r),"Found non-area edge");var de=j.getLocation(r,Ve.LEFT),we=j.getLocation(r,Ve.RIGHT);if(de===we||we!==v)return!1;v=de}return!0},findIndex:function(r){this.iterator();for(var s=0;s<this.edgeList.size();s++){var l=this.edgeList.get(s);if(l===r)return s}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return this.edgeList===null&&(this.edgeList=new H(this.edgeMap.values())),this.edgeList},getLocation:function(r,s,l){return this.ptInAreaLocation[r]===b.NONE&&(this.ptInAreaLocation[r]=ui.locate(s,l[r].getGeometry())),this.ptInAreaLocation[r]},toString:function(){var r=new V;r.append("EdgeEndStar:   "+this.getCoordinate()),r.append(`
`);for(var s=this.iterator();s.hasNext();){var l=s.next();r.append(l),r.append(`
`)}return r.toString()},computeEdgeEndLabels:function(r){for(var s=this.iterator();s.hasNext();){var l=s.next();l.computeLabel(r)}},computeLabelling:function(r){this.computeEdgeEndLabels(r[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var s=[!1,!1],l=this.iterator();l.hasNext();)for(var f=l.next(),p=f.getLabel(),v=0;2>v;v++)p.isLine(v)&&p.getLocation(v)===b.BOUNDARY&&(s[v]=!0);for(var l=this.iterator();l.hasNext();)for(var f=l.next(),p=f.getLabel(),v=0;2>v;v++)if(p.isAnyNull(v)){var S=b.NONE;if(s[v])S=b.EXTERIOR;else{var N=f.getCoordinate();S=this.getLocation(v,N,r)}p.setAllLocationsIfNull(v,S)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(r,s){this.edgeMap.put(r,s),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return $s}}),x(Wu,$s),a(Wu.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var r=null,s=null,l=this.SCANNING_FOR_INCOMING,f=0;f<this.resultAreaEdgeList.size();f++){var p=this.resultAreaEdgeList.get(f),v=p.getSym();if(p.getLabel().isArea())switch(r===null&&p.isInResult()&&(r=p),l){case this.SCANNING_FOR_INCOMING:if(!v.isInResult())continue;s=v,l=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!p.isInResult())continue;s.setNext(p),l=this.SCANNING_FOR_INCOMING}}if(l===this.LINKING_TO_OUTGOING){if(r===null)throw new Ar("no outgoing dirEdge found",this.getCoordinate());_.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),s.setNext(r)}},insert:function(r){var s=r;this.insertEdgeEnd(s,s)},getRightmostEdge:function(){var r=this.getEdges(),s=r.size();if(1>s)return null;var l=r.get(0);if(s===1)return l;var f=r.get(s-1),p=l.getQuadrant(),v=f.getQuadrant();return rn.isNorthern(p)&&rn.isNorthern(v)?l:!rn.isNorthern(p)&&!rn.isNorthern(v)?f:l.getDy()!==0?l:f.getDy()!==0?f:(_.shouldNeverReachHere("found two horizontal edges incident on node"),null)},print:function(r){G.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var s=this.iterator();s.hasNext();){var l=s.next();r.print("out "),l.print(r),r.println(),r.print("in "),l.getSym().print(r),r.println()}},getResultAreaEdges:function(){if(this.resultAreaEdgeList!==null)return this.resultAreaEdgeList;this.resultAreaEdgeList=new H;for(var r=this.iterator();r.hasNext();){var s=r.next();(s.isInResult()||s.getSym().isInResult())&&this.resultAreaEdgeList.add(s)}return this.resultAreaEdgeList},updateLabelling:function(r){for(var s=this.iterator();s.hasNext();){var l=s.next(),f=l.getLabel();f.setAllLocationsIfNull(0,r.getLocation(0)),f.setAllLocationsIfNull(1,r.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var r=null,s=null,l=this.edgeList.size()-1;l>=0;l--){var f=this.edgeList.get(l),p=f.getSym();s===null&&(s=p),r!==null&&p.setNext(r),r=f}s.setNext(r)},computeDepths:function(){if(arguments.length===1){var r=arguments[0],s=this.findIndex(r),l=(r.getLabel(),r.getDepth(Ve.LEFT)),f=r.getDepth(Ve.RIGHT),p=this.computeDepths(s+1,this.edgeList.size(),l),v=this.computeDepths(0,s,p);if(v!==f)throw new Ar("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var S=arguments[0],N=arguments[1],j=arguments[2],de=j,we=S;N>we;we++){var Ce=this.edgeList.get(we);Ce.getLabel(),Ce.setEdgeDepths(Ve.RIGHT,de),de=Ce.getDepth(Ve.LEFT)}return de}},mergeSymLabels:function(){for(var r=this.iterator();r.hasNext();){var s=r.next(),l=s.getLabel();l.merge(s.getSym().getLabel())}},linkMinimalDirectedEdges:function(r){for(var s=null,l=null,f=this.SCANNING_FOR_INCOMING,p=this.resultAreaEdgeList.size()-1;p>=0;p--){var v=this.resultAreaEdgeList.get(p),S=v.getSym();switch(s===null&&v.getEdgeRing()===r&&(s=v),f){case this.SCANNING_FOR_INCOMING:if(S.getEdgeRing()!==r)continue;l=S,f=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(v.getEdgeRing()!==r)continue;l.setNextMin(v),f=this.SCANNING_FOR_INCOMING}}f===this.LINKING_TO_OUTGOING&&(_.isTrue(s!==null,"found null for first outgoing dirEdge"),_.isTrue(s.getEdgeRing()===r,"unable to link last incoming dirEdge"),l.setNextMin(s))},getOutgoingDegree:function(){if(arguments.length===0){for(var r=0,s=this.iterator();s.hasNext();){var l=s.next();l.isInResult()&&r++}return r}if(arguments.length===1){for(var f=arguments[0],r=0,s=this.iterator();s.hasNext();){var l=s.next();l.getEdgeRing()===f&&r++}return r}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var r=b.NONE,s=this.iterator();s.hasNext();){var l=s.next(),f=l.getSym();if(!l.isLineEdge()){if(l.isInResult()){r=b.INTERIOR;break}if(f.isInResult()){r=b.EXTERIOR;break}}}if(r===b.NONE)return null;for(var p=r,s=this.iterator();s.hasNext();){var l=s.next(),f=l.getSym();l.isLineEdge()?l.getEdge().setCovered(p===b.INTERIOR):(l.isInResult()&&(p=b.EXTERIOR),f.isInResult()&&(p=b.INTERIOR))}},computeLabelling:function(r){$s.prototype.computeLabelling.call(this,r),this.label=new Bn(b.NONE);for(var s=this.iterator();s.hasNext();)for(var l=s.next(),f=l.getEdge(),p=f.getLabel(),v=0;2>v;v++){var S=p.getLocation(v);S!==b.INTERIOR&&S!==b.BOUNDARY||this.label.setLocation(v,b.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Wu}}),x(so,Ds),a(so.prototype,{createNode:function(r){return new Hi(r,new Wu)},interfaces_:function(){return[]},getClass:function(){return so}}),a(Yo.prototype,{computeIntersections:function(r,s){this.mce.computeIntersectsForChain(this.chainIndex,r.mce,r.chainIndex,s)},interfaces_:function(){return[]},getClass:function(){return Yo}}),a(ra.prototype,{isDelete:function(){return this.eventType===ra.DELETE},setDeleteEventIndex:function(r){this.deleteEventIndex=r},getObject:function(){return this.obj},compareTo:function(r){var s=r;return this.xValue<s.xValue?-1:this.xValue>s.xValue?1:this.eventType<s.eventType?-1:this.eventType>s.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===ra.INSERT},isSameLabel:function(r){return this.label===null?!1:this.label===r.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[c]},getClass:function(){return ra}}),ra.INSERT=1,ra.DELETE=2,a(Ts.prototype,{interfaces_:function(){return[]},getClass:function(){return Ts}}),a(es.prototype,{isTrivialIntersection:function(r,s,l,f){if(r===l&&this.li.getIntersectionNum()===1){if(es.isAdjacentSegments(s,f))return!0;if(r.isClosed()){var p=r.getNumPoints()-1;if(s===0&&f===p||f===0&&s===p)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(r){this.isDoneWhenProperInt=r},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(r,s){for(var l=s.iterator();l.hasNext();){var f=l.next(),p=f.getCoordinate();if(r.isIntersection(p))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(r,s){return s===null?!1:this.isBoundaryPointInternal(r,s[0])?!0:!!this.isBoundaryPointInternal(r,s[1])},setBoundaryNodes:function(r,s){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=r,this.bdyNodes[1]=s},addIntersections:function(r,s,l,f){if(r===l&&s===f)return null;this.numTests++;var p=r.getCoordinates()[s],v=r.getCoordinates()[s+1],S=l.getCoordinates()[f],N=l.getCoordinates()[f+1];this.li.computeIntersection(p,v,S,N),this.li.hasIntersection()&&(this.recordIsolated&&(r.setIsolated(!1),l.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(r,s,l,f)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(r.addIntersections(this.li,s,0),l.addIntersections(this.li,f,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return es}}),es.isAdjacentSegments=function(r,s){return Math.abs(r-s)===1},x(Uu,Ts),a(Uu.prototype,{prepareEvents:function(){Va.sort(this.events);for(var r=0;r<this.events.size();r++){var s=this.events.get(r);s.isDelete()&&s.getInsertEvent().setDeleteEventIndex(r)}},computeIntersections:function(){if(arguments.length===1){var r=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var s=0;s<this.events.size();s++){var l=this.events.get(s);if(l.isInsert()&&this.processOverlaps(s,l.getDeleteEventIndex(),l,r),r.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof es&&I(arguments[0],O)&&I(arguments[1],O)){var f=arguments[0],p=arguments[1],v=arguments[2];this.addEdges(f,f),this.addEdges(p,p),this.computeIntersections(v)}else if(typeof arguments[2]=="boolean"&&I(arguments[0],O)&&arguments[1]instanceof es){var S=arguments[0],N=arguments[1],j=arguments[2];j?this.addEdges(S,null):this.addEdges(S),this.computeIntersections(N)}}},addEdge:function(r,s){for(var l=r.getMonotoneChainEdge(),f=l.getStartIndexes(),p=0;p<f.length-1;p++){var v=new Yo(l,p),S=new ra(s,l.getMinX(p),v);this.events.add(S),this.events.add(new ra(l.getMaxX(p),S))}},processOverlaps:function(r,s,l,f){for(var p=l.getObject(),v=r;s>v;v++){var S=this.events.get(v);if(S.isInsert()){var N=S.getObject();l.isSameLabel(S)||(p.computeIntersections(N,f),this.nOverlaps++)}}},addEdges:function(){if(arguments.length===1)for(var r=arguments[0],s=r.iterator();s.hasNext();){var l=s.next();this.addEdge(l,l)}else if(arguments.length===2)for(var f=arguments[0],p=arguments[1],s=f.iterator();s.hasNext();){var l=s.next();this.addEdge(l,p)}},interfaces_:function(){return[]},getClass:function(){return Uu}}),a(ia.prototype,{getMin:function(){return this.min},intersects:function(r,s){return!(this.min>s||this.max<r)},getMax:function(){return this.max},toString:function(){return Mn.toLineString(new w(this.min,0),new w(this.max,0))},interfaces_:function(){return[]},getClass:function(){return ia}}),a(qu.prototype,{compare:function(r,s){var l=r,f=s,p=(l.min+l.max)/2,v=(f.min+f.max)/2;return v>p?-1:p>v?1:0},interfaces_:function(){return[g]},getClass:function(){return qu}}),ia.NodeComparator=qu,x(Xo,ia),a(Xo.prototype,{query:function(r,s,l){return this.intersects(r,s)?void l.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return Xo}}),x(ju,ia),a(ju.prototype,{buildExtent:function(r,s){this.min=Math.min(r.min,s.min),this.max=Math.max(r.max,s.max)},query:function(r,s,l){return this.intersects(r,s)?(this.node1!==null&&this.node1.query(r,s,l),void(this.node2!==null&&this.node2.query(r,s,l))):null},interfaces_:function(){return[]},getClass:function(){return ju}}),a(Gl.prototype,{buildTree:function(){Va.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var r=this.leaves,s=null,l=new H;;){if(this.buildLevel(r,l),l.size()===1)return l.get(0);s=r,r=l,l=s}},insert:function(r,s,l){if(this.root!==null)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new Xo(r,s,l))},query:function(r,s,l){this.init(),this.root.query(r,s,l)},buildRoot:function(){return this.root!==null?null:void(this.root=this.buildTree())},printNode:function(r){G.out.println(Mn.toLineString(new w(r.min,this.level),new w(r.max,this.level)))},init:function(){return this.root!==null?null:void this.buildRoot()},buildLevel:function(r,s){this.level++,s.clear();for(var l=0;l<r.size();l+=2){var f=r.get(l),p=l+1<r.size()?r.get(l):null;if(p===null)s.add(f);else{var v=new ju(r.get(l),r.get(l+1));s.add(v)}}},interfaces_:function(){return[]},getClass:function(){return Gl}}),a(ar.prototype,{filter:function(r){if(this.isForcedToLineString&&r instanceof Q){var s=r.getFactory().createLineString(r.getCoordinateSequence());return this.lines.add(s),null}r instanceof St&&this.lines.add(r)},setForceToLineString:function(r){this.isForcedToLineString=r},interfaces_:function(){return[$e]},getClass:function(){return ar}}),ar.getGeometry=function(){if(arguments.length===1){var r=arguments[0];return r.getFactory().buildGeometry(ar.getLines(r))}if(arguments.length===2){var s=arguments[0],l=arguments[1];return s.getFactory().buildGeometry(ar.getLines(s,l))}},ar.getLines=function(){if(arguments.length===1){var r=arguments[0];return ar.getLines(r,!1)}if(arguments.length===2){if(I(arguments[0],W)&&I(arguments[1],W)){for(var s=arguments[0],l=arguments[1],f=s.iterator();f.hasNext();){var p=f.next();ar.getLines(p,l)}return l}if(arguments[0]instanceof be&&typeof arguments[1]=="boolean"){var v=arguments[0],S=arguments[1],N=new H;return v.apply(new ar(N,S)),N}if(arguments[0]instanceof be&&I(arguments[1],W)){var j=arguments[0],de=arguments[1];return j instanceof St?de.add(j):j.apply(new ar(de)),de}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&I(arguments[0],W)&&I(arguments[1],W)){for(var we=arguments[0],Ce=arguments[1],Fe=arguments[2],f=we.iterator();f.hasNext();){var p=f.next();ar.getLines(p,Ce,Fe)}return Ce}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof be&&I(arguments[1],W)){var ct=arguments[0],Rt=arguments[1],Ut=arguments[2];return ct.apply(new ar(Rt,Ut)),Rt}}},a(aa.prototype,{visitItem:function(r){this.items.add(r)},getItems:function(){return this.items},interfaces_:function(){return[_t]},getClass:function(){return aa}}),a(Zo.prototype,{locate:function(r){var s=new Mi(r),l=new Qo(s);return this.index.query(r.y,r.y,l),s.getLocation()},interfaces_:function(){return[pi]},getClass:function(){return Zo}}),a(Qo.prototype,{visitItem:function(r){var s=r;this.counter.countSegment(s.getCoordinate(0),s.getCoordinate(1))},interfaces_:function(){return[_t]},getClass:function(){return Qo}}),a(Rs.prototype,{init:function(r){for(var s=ar.getLines(r),l=s.iterator();l.hasNext();){var f=l.next(),p=f.getCoordinates();this.addLine(p)}},addLine:function(r){for(var s=1;s<r.length;s++){var l=new kt(r[s-1],r[s]),f=Math.min(l.p0.y,l.p1.y),p=Math.max(l.p0.y,l.p1.y);this.index.insert(f,p,l)}},query:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1],l=new aa;return this.index.query(r,s,l),l.getItems()}if(arguments.length===3){var f=arguments[0],p=arguments[1],v=arguments[2];this.index.query(f,p,v)}},interfaces_:function(){return[]},getClass:function(){return Rs}}),Zo.SegmentVisitor=Qo,Zo.IntervalIndexedGeometry=Rs,a(Wl.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(r){r.print(this.coord),r.print(" seg # = "+this.segmentIndex),r.println(" dist = "+this.dist)},compareTo:function(r){var s=r;return this.compare(s.segmentIndex,s.dist)},isEndPoint:function(r){return this.segmentIndex===0&&this.dist===0?!0:this.segmentIndex===r},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(r,s){return this.segmentIndex<r?-1:this.segmentIndex>r?1:this.dist<s?-1:this.dist>s?1:0},interfaces_:function(){return[c]},getClass:function(){return Wl}}),a(ts.prototype,{print:function(r){r.println("Intersections:");for(var s=this.iterator();s.hasNext();){var l=s.next();l.print(r)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(r){this.addEndpoints();for(var s=this.iterator(),l=s.next();s.hasNext();){var f=s.next(),p=this.createSplitEdge(l,f);r.add(p),l=f}},addEndpoints:function(){var r=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[r],r,0)},createSplitEdge:function(r,s){var l=s.segmentIndex-r.segmentIndex+2,f=this.edge.pts[s.segmentIndex],p=s.dist>0||!s.coord.equals2D(f);p||l--;var v=new Array(l).fill(null),S=0;v[S++]=new w(r.coord);for(var N=r.segmentIndex+1;N<=s.segmentIndex;N++)v[S++]=this.edge.pts[N];return p&&(v[S]=s.coord),new ei(v,new Bn(this.edge.label))},add:function(r,s,l){var f=new Wl(r,s,l),p=this.nodeMap.get(f);return p!==null?p:(this.nodeMap.put(f,f),f)},isIntersection:function(r){for(var s=this.iterator();s.hasNext();){var l=s.next();if(l.coord.equals(r))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return ts}}),a(sa.prototype,{getChainStartIndices:function(r){var s=0,l=new H;l.add(new ee(s));do{var f=this.findChainEnd(r,s);l.add(new ee(f)),s=f}while(s<r.length-1);var p=sa.toIntArray(l);return p},findChainEnd:function(r,s){for(var l=rn.quadrant(r[s],r[s+1]),f=s+1;f<r.length;){var p=rn.quadrant(r[f-1],r[f]);if(p!==l)break;f++}return f-1},interfaces_:function(){return[]},getClass:function(){return sa}}),sa.toIntArray=function(r){for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l).intValue();return s},a(Dr.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(r){var s=this.pts[this.startIndex[r]].x,l=this.pts[this.startIndex[r+1]].x;return s>l?s:l},getMinX:function(r){var s=this.pts[this.startIndex[r]].x,l=this.pts[this.startIndex[r+1]].x;return l>s?s:l},computeIntersectsForChain:function(){if(arguments.length===4){var r=arguments[0],s=arguments[1],l=arguments[2],f=arguments[3];this.computeIntersectsForChain(this.startIndex[r],this.startIndex[r+1],s,s.startIndex[l],s.startIndex[l+1],f)}else if(arguments.length===6){var p=arguments[0],v=arguments[1],S=arguments[2],N=arguments[3],j=arguments[4],de=arguments[5],we=this.pts[p],Ce=this.pts[v],Fe=S.pts[N],ct=S.pts[j];if(v-p===1&&j-N===1)return de.addIntersections(this.e,p,S.e,N),null;if(this.env1.init(we,Ce),this.env2.init(Fe,ct),!this.env1.intersects(this.env2))return null;var Rt=Math.trunc((p+v)/2),Ut=Math.trunc((N+j)/2);Rt>p&&(Ut>N&&this.computeIntersectsForChain(p,Rt,S,N,Ut,de),j>Ut&&this.computeIntersectsForChain(p,Rt,S,Ut,j,de)),v>Rt&&(Ut>N&&this.computeIntersectsForChain(Rt,v,S,N,Ut,de),j>Ut&&this.computeIntersectsForChain(Rt,v,S,Ut,j,de))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(r,s){for(var l=0;l<this.startIndex.length-1;l++)for(var f=0;f<r.startIndex.length-1;f++)this.computeIntersectsForChain(l,r,f,s)},interfaces_:function(){return[]},getClass:function(){return Dr}}),a(Mr.prototype,{getDepth:function(r,s){return this.depth[r][s]},setDepth:function(r,s,l){this.depth[r][s]=l},isNull:function(){if(arguments.length===0){for(var r=0;2>r;r++)for(var s=0;3>s;s++)if(this.depth[r][s]!==Mr.NULL_VALUE)return!1;return!0}if(arguments.length===1){var l=arguments[0];return this.depth[l][1]===Mr.NULL_VALUE}if(arguments.length===2){var f=arguments[0],p=arguments[1];return this.depth[f][p]===Mr.NULL_VALUE}},normalize:function(){for(var r=0;2>r;r++)if(!this.isNull(r)){var s=this.depth[r][1];this.depth[r][2]<s&&(s=this.depth[r][2]),0>s&&(s=0);for(var l=1;3>l;l++){var f=0;this.depth[r][l]>s&&(f=1),this.depth[r][l]=f}}},getDelta:function(r){return this.depth[r][Ve.RIGHT]-this.depth[r][Ve.LEFT]},getLocation:function(r,s){return this.depth[r][s]<=0?b.EXTERIOR:b.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(arguments.length===1)for(var r=arguments[0],s=0;2>s;s++)for(var l=1;3>l;l++){var f=r.getLocation(s,l);f!==b.EXTERIOR&&f!==b.INTERIOR||(this.isNull(s,l)?this.depth[s][l]=Mr.depthAtLocation(f):this.depth[s][l]+=Mr.depthAtLocation(f))}else if(arguments.length===3){var p=arguments[0],v=arguments[1],S=arguments[2];S===b.INTERIOR&&this.depth[p][v]++}},interfaces_:function(){return[]},getClass:function(){return Mr}}),Mr.depthAtLocation=function(r){return r===b.EXTERIOR?0:r===b.INTERIOR?1:Mr.NULL_VALUE},Mr.NULL_VALUE=-1,x(ei,Za),a(ei.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var r=new Array(2).fill(null);r[0]=this.pts[0],r[1]=this.pts[1];var s=new ei(r,Bn.toLineLabel(this.label));return s},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(r){this._isIsolated=r},setName:function(r){this.name=r},equals:function(r){if(!(r instanceof ei))return!1;var s=r;if(this.pts.length!==s.pts.length)return!1;for(var l=!0,f=!0,p=this.pts.length,v=0;v<this.pts.length;v++)if(this.pts[v].equals2D(s.pts[v])||(l=!1),this.pts[v].equals2D(s.pts[--p])||(f=!1),!l&&!f)return!1;return!0},getCoordinate:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var r=arguments[0];return this.pts[r]}},print:function(r){r.print("edge "+this.name+": "),r.print("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&r.print(","),r.print(this.pts[s].x+" "+this.pts[s].y);r.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(r){ei.updateIM(this.label,r)},isCollapsed:function(){return this.label.isArea()?this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2]):!1},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(r){r.print("edge "+this.name+": ");for(var s=this.pts.length-1;s>=0;s--)r.print(this.pts[s]+" ");r.println("")},getMonotoneChainEdge:function(){return this.mce===null&&(this.mce=new Dr(this)),this.mce},getEnvelope:function(){if(this.env===null){this.env=new Y;for(var r=0;r<this.pts.length;r++)this.env.expandToInclude(this.pts[r])}return this.env},addIntersection:function(r,s,l,f){var p=new w(r.getIntersection(f)),v=s,S=r.getEdgeDistance(l,f),N=v+1;if(N<this.pts.length){var j=this.pts[N];p.equals2D(j)&&(v=N,S=0)}this.eiList.add(p,v,S)},toString:function(){var r=new V;r.append("edge "+this.name+": "),r.append("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&r.append(","),r.append(this.pts[s].x+" "+this.pts[s].y);return r.append(")  "+this.label+" "+this.depthDelta),r.toString()},isPointwiseEqual:function(r){if(this.pts.length!==r.pts.length)return!1;for(var s=0;s<this.pts.length;s++)if(!this.pts[s].equals2D(r.pts[s]))return!1;return!0},setDepthDelta:function(r){this.depthDelta=r},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(r,s,l){for(var f=0;f<r.getIntersectionNum();f++)this.addIntersection(r,s,l,f)},interfaces_:function(){return[]},getClass:function(){return ei}}),ei.updateIM=function(){if(arguments.length!==2)return Za.prototype.updateIM.apply(this,arguments);var r=arguments[0],s=arguments[1];s.setAtLeastIfValid(r.getLocation(0,Ve.ON),r.getLocation(1,Ve.ON),1),r.isArea()&&(s.setAtLeastIfValid(r.getLocation(0,Ve.LEFT),r.getLocation(1,Ve.LEFT),2),s.setAtLeastIfValid(r.getLocation(0,Ve.RIGHT),r.getLocation(1,Ve.RIGHT),2))},x($r,oi),a($r.prototype,{insertBoundaryPoint:function(r,s){var l=this.nodes.addNode(s),f=l.getLabel(),p=1,v=b.NONE;v=f.getLocation(r,Ve.ON),v===b.BOUNDARY&&p++;var S=$r.determineBoundary(this.boundaryNodeRule,p);f.setLocation(r,S)},computeSelfNodes:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return this.computeSelfNodes(r,s,!1)}if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2],v=new es(l,!0,!1);v.setIsDoneIfProperInt(p);var S=this.createEdgeSetIntersector(),N=this.parentGeom instanceof Q||this.parentGeom instanceof Ct||this.parentGeom instanceof J,j=f||!N;return S.computeIntersections(this.edges,v,j),this.addSelfIntersectionNodes(this.argIndex),v}},computeSplitEdges:function(r){for(var s=this.edges.iterator();s.hasNext();){var l=s.next();l.eiList.addSplitEdges(r)}},computeEdgeIntersections:function(r,s,l){var f=new es(s,l,!0);f.setBoundaryNodes(this.getBoundaryNodes(),r.getBoundaryNodes());var p=this.createEdgeSetIntersector();return p.computeIntersections(this.edges,r.edges,f),f},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof ot){var r=arguments[0],s=r.getCoordinate();this.insertPoint(this.argIndex,s,b.INTERIOR)}else if(arguments[0]instanceof w){var l=arguments[0];this.insertPoint(this.argIndex,l,b.INTERIOR)}},addPolygon:function(r){this.addPolygonRing(r.getExteriorRing(),b.EXTERIOR,b.INTERIOR);for(var s=0;s<r.getNumInteriorRing();s++){var l=r.getInteriorRingN(s);this.addPolygonRing(l,b.INTERIOR,b.EXTERIOR)}},addEdge:function(r){this.insertEdge(r);var s=r.getCoordinates();this.insertPoint(this.argIndex,s[0],b.BOUNDARY),this.insertPoint(this.argIndex,s[s.length-1],b.BOUNDARY)},addLineString:function(r){var s=Pe.removeRepeatedPoints(r.getCoordinates());if(s.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=s[0],null;var l=new ei(s,new Bn(this.argIndex,b.INTERIOR));this.lineEdgeMap.put(r,l),this.insertEdge(l),_.isTrue(s.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,s[0]),this.insertBoundaryPoint(this.argIndex,s[s.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var r=this.getBoundaryNodes(),s=new Array(r.size()).fill(null),l=0,f=r.iterator();f.hasNext();){var p=f.next();s[l++]=p.getCoordinate().copy()}return s},getBoundaryNodes:function(){return this.boundaryNodes===null&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(r,s,l){return this.isBoundaryNode(r,s)?null:void(l===b.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(r,s):this.insertPoint(r,s,l))},addPolygonRing:function(r,s,l){if(r.isEmpty())return null;var f=Pe.removeRepeatedPoints(r.getCoordinates());if(f.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=f[0],null;var p=s,v=l;Be.isCCW(f)&&(p=l,v=s);var S=new ei(f,new Bn(this.argIndex,b.BOUNDARY,p,v));this.lineEdgeMap.put(r,S),this.insertEdge(S),this.insertPoint(this.argIndex,f[0],b.BOUNDARY)},insertPoint:function(r,s,l){var f=this.nodes.addNode(s),p=f.getLabel();p===null?f.label=new Bn(r,l):p.setLocation(r,l)},createEdgeSetIntersector:function(){return new Uu},addSelfIntersectionNodes:function(r){for(var s=this.edges.iterator();s.hasNext();)for(var l=s.next(),f=l.getLabel().getLocation(r),p=l.eiList.iterator();p.hasNext();){var v=p.next();this.addSelfIntersectionNode(r,v.coord,f)}},add:function(){if(arguments.length!==1)return oi.prototype.add.apply(this,arguments);var r=arguments[0];if(r.isEmpty())return null;if(r instanceof J&&(this.useBoundaryDeterminationRule=!1),r instanceof Ct)this.addPolygon(r);else if(r instanceof St)this.addLineString(r);else if(r instanceof ot)this.addPoint(r);else if(r instanceof oe)this.addCollection(r);else if(r instanceof st)this.addCollection(r);else if(r instanceof J)this.addCollection(r);else{if(!(r instanceof It))throw new UnsupportedOperationException(r.getClass().getName());this.addCollection(r)}},addCollection:function(r){for(var s=0;s<r.getNumGeometries();s++){var l=r.getGeometryN(s);this.add(l)}},locate:function(r){return I(this.parentGeom,ir)&&this.parentGeom.getNumGeometries()>50?(this.areaPtLocator===null&&(this.areaPtLocator=new Zo(this.parentGeom)),this.areaPtLocator.locate(r)):this.ptLocator.locate(r,this.parentGeom)},findEdge:function(){if(arguments.length===1){var r=arguments[0];return this.lineEdgeMap.get(r)}return oi.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.determineBoundary=function(r,s){return r.isInBoundary(s)?b.BOUNDARY:b.INTERIOR},a(ns.prototype,{getArgGeometry:function(r){return this.arg[r].getGeometry()},setComputationPrecision:function(r){this.resultPrecisionModel=r,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return ns}}),a(Vi.prototype,{compareTo:function(r){var s=r,l=Vi.compareOriented(this.pts,this._orientation,s.pts,s._orientation);return l},interfaces_:function(){return[c]},getClass:function(){return Vi}}),Vi.orientation=function(r){return Pe.increasingDirection(r)===1},Vi.compareOriented=function(r,s,l,f){for(var p=s?1:-1,v=f?1:-1,S=s?r.length:-1,N=f?l.length:-1,j=s?0:r.length-1,de=f?0:l.length-1;;){var we=r[j].compareTo(l[de]);if(we!==0)return we;j+=p,de+=v;var Ce=j===S,Fe=de===N;if(Ce&&!Fe)return-1;if(!Ce&&Fe)return 1;if(Ce&&Fe)return 0}},a(Os.prototype,{print:function(r){r.print("MULTILINESTRING ( ");for(var s=0;s<this.edges.size();s++){var l=this.edges.get(s);s>0&&r.print(","),r.print("(");for(var f=l.getCoordinates(),p=0;p<f.length;p++)p>0&&r.print(","),r.print(f[p].x+" "+f[p].y);r.println(")")}r.print(")  ")},addAll:function(r){for(var s=r.iterator();s.hasNext();)this.add(s.next())},findEdgeIndex:function(r){for(var s=0;s<this.edges.size();s++)if(this.edges.get(s).equals(r))return s;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(r){return this.edges.get(r)},findEqualEdge:function(r){var s=new Vi(r.getCoordinates()),l=this.ocaMap.get(s);return l},add:function(r){this.edges.add(r);var s=new Vi(r.getCoordinates());this.ocaMap.put(s,r)},interfaces_:function(){return[]},getClass:function(){return Os}}),x(ft,ns),a(ft.prototype,{insertUniqueEdge:function(r){var s=this.edgeList.findEqualEdge(r);if(s!==null){var l=s.getLabel(),f=r.getLabel();s.isPointwiseEqual(r)||(f=new Bn(r.getLabel()),f.flip());var p=s.getDepth();p.isNull()&&p.add(l),p.add(f),l.merge(f)}else this.edgeList.add(r)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var r=this.graph.getEdgeEnds().iterator();r.hasNext();){var s=r.next(),l=s.getSym();s.isInResult()&&l.isInResult()&&(s.setInResult(!1),l.setInResult(!1))}},isCoveredByLA:function(r){return this.isCovered(r,this.resultLineList)?!0:!!this.isCovered(r,this.resultPolyList)},computeGeometry:function(r,s,l,f){var p=new H;return p.addAll(r),p.addAll(s),p.addAll(l),p.isEmpty()?ft.createEmptyResult(f,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(p)},mergeSymLabels:function(){for(var r=this.graph.getNodes().iterator();r.hasNext();){var s=r.next();s.getEdges().mergeSymLabels()}},isCovered:function(r,s){for(var l=s.iterator();l.hasNext();){var f=l.next(),p=this.ptLocator.locate(r,f);if(p!==b.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var r=new H,s=this.edgeList.iterator();s.hasNext();){var l=s.next();l.isCollapsed()&&(s.remove(),r.add(l.getCollapsedEdge()))}this.edgeList.addAll(r)},updateNodeLabelling:function(){for(var r=this.graph.getNodes().iterator();r.hasNext();){var s=r.next(),l=s.getEdges().getLabel();s.getLabel().merge(l)}},getResultGeometry:function(r){return this.computeOverlay(r),this.resultGeom},insertUniqueEdges:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();this.insertUniqueEdge(l)}},computeOverlay:function(r){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var s=new H;this.arg[0].computeSplitEdges(s),this.arg[1].computeSplitEdges(s),this.insertUniqueEdges(s),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ns.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(r),this.cancelDuplicateResultEdges();var l=new Vu(this.geomFact);l.add(this.graph),this.resultPolyList=l.getPolygons();var f=new Qa(this,this.geomFact,this.ptLocator);this.resultLineList=f.build(r);var p=new Gu(this,this.geomFact,this.ptLocator);this.resultPointList=p.build(r),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,r)},labelIncompleteNode:function(r,s){var l=this.ptLocator.locate(r.getCoordinate(),this.arg[s].getGeometry());r.getLabel().setLocation(s,l)},copyPoints:function(r){for(var s=this.arg[r].getNodeIterator();s.hasNext();){var l=s.next(),f=this.graph.addNode(l.getCoordinate());f.setLabel(r,l.getLabel().getLocation(r))}},findResultAreaEdges:function(r){for(var s=this.graph.getEdgeEnds().iterator();s.hasNext();){var l=s.next(),f=l.getLabel();f.isArea()&&!l.isInteriorAreaEdge()&&ft.isResultOfOp(f.getLocation(0,Ve.RIGHT),f.getLocation(1,Ve.RIGHT),r)&&l.setInResult(!0)}},computeLabelsFromDepths:function(){for(var r=this.edgeList.iterator();r.hasNext();){var s=r.next(),l=s.getLabel(),f=s.getDepth();if(!f.isNull()){f.normalize();for(var p=0;2>p;p++)l.isNull(p)||!l.isArea()||f.isNull(p)||(f.getDelta(p)===0?l.toLine(p):(_.isTrue(!f.isNull(p,Ve.LEFT),"depth of LEFT side has not been initialized"),l.setLocation(p,Ve.LEFT,f.getLocation(p,Ve.LEFT)),_.isTrue(!f.isNull(p,Ve.RIGHT),"depth of RIGHT side has not been initialized"),l.setLocation(p,Ve.RIGHT,f.getLocation(p,Ve.RIGHT))))}}},computeLabelling:function(){for(var r=this.graph.getNodes().iterator();r.hasNext();){var s=r.next();s.getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var r=0,s=this.graph.getNodes().iterator();s.hasNext();){var l=s.next(),f=l.getLabel();l.isIsolated()&&(r++,f.isNull(0)?this.labelIncompleteNode(l,0):this.labelIncompleteNode(l,1)),l.getEdges().updateLabelling(f)}},isCoveredByA:function(r){return!!this.isCovered(r,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return ft}}),ft.overlayOp=function(r,s,l){var f=new ft(r,s),p=f.getResultGeometry(l);return p},ft.intersection=function(r,s){if(r.isEmpty()||s.isEmpty())return ft.createEmptyResult(ft.INTERSECTION,r,s,r.getFactory());if(r.isGeometryCollection()){var l=s;return ro.map(r,{interfaces_:function(){return[MapOp]},map:function(f){return f.intersection(l)}})}return r.checkNotGeometryCollection(r),r.checkNotGeometryCollection(s),Qn.overlayOp(r,s,ft.INTERSECTION)},ft.symDifference=function(r,s){if(r.isEmpty()||s.isEmpty()){if(r.isEmpty()&&s.isEmpty())return ft.createEmptyResult(ft.SYMDIFFERENCE,r,s,r.getFactory());if(r.isEmpty())return s.copy();if(s.isEmpty())return r.copy()}return r.checkNotGeometryCollection(r),r.checkNotGeometryCollection(s),Qn.overlayOp(r,s,ft.SYMDIFFERENCE)},ft.resultDimension=function(r,s,l){var f=s.getDimension(),p=l.getDimension(),v=-1;switch(r){case ft.INTERSECTION:v=Math.min(f,p);break;case ft.UNION:v=Math.max(f,p);break;case ft.DIFFERENCE:v=f;break;case ft.SYMDIFFERENCE:v=Math.max(f,p)}return v},ft.createEmptyResult=function(r,s,l,f){var p=null;switch(ft.resultDimension(r,s,l)){case-1:p=f.createGeometryCollection(new Array(0).fill(null));break;case 0:p=f.createPoint();break;case 1:p=f.createLineString();break;case 2:p=f.createPolygon()}return p},ft.difference=function(r,s){return r.isEmpty()?ft.createEmptyResult(ft.DIFFERENCE,r,s,r.getFactory()):s.isEmpty()?r.copy():(r.checkNotGeometryCollection(r),r.checkNotGeometryCollection(s),Qn.overlayOp(r,s,ft.DIFFERENCE))},ft.isResultOfOp=function(){if(arguments.length===2){var r=arguments[0],s=arguments[1],l=r.getLocation(0),f=r.getLocation(1);return ft.isResultOfOp(l,f,s)}if(arguments.length===3){var p=arguments[0],v=arguments[1],S=arguments[2];switch(p===b.BOUNDARY&&(p=b.INTERIOR),v===b.BOUNDARY&&(v=b.INTERIOR),S){case ft.INTERSECTION:return p===b.INTERIOR&&v===b.INTERIOR;case ft.UNION:return p===b.INTERIOR||v===b.INTERIOR;case ft.DIFFERENCE:return p===b.INTERIOR&&v!==b.INTERIOR;case ft.SYMDIFFERENCE:return p===b.INTERIOR&&v!==b.INTERIOR||p!==b.INTERIOR&&v===b.INTERIOR}return!1}},ft.INTERSECTION=1,ft.UNION=2,ft.DIFFERENCE=3,ft.SYMDIFFERENCE=4,a(Ir.prototype,{selfSnap:function(r){var s=new re(r),l=s.snapTo(r,this.snapTolerance);return l},removeCommonBits:function(r){this.cbr=new Oe,this.cbr.add(r[0]),this.cbr.add(r[1]);var s=new Array(2).fill(null);return s[0]=this.cbr.removeCommonBits(r[0].copy()),s[1]=this.cbr.removeCommonBits(r[1].copy()),s},prepareResult:function(r){return this.cbr.addCommonBits(r),r},getResultGeometry:function(r){var s=this.snap(this.geom),l=ft.overlayOp(s[0],s[1],r);return this.prepareResult(l)},checkValid:function(r){r.isValid()||G.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=re.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(r){var s=this.removeCommonBits(r),l=re.snap(s[0],s[1],this.snapTolerance);return l},interfaces_:function(){return[]},getClass:function(){return Ir}}),Ir.overlayOp=function(r,s,l){var f=new Ir(r,s);return f.getResultGeometry(l)},Ir.union=function(r,s){return Ir.overlayOp(r,s,ft.UNION)},Ir.intersection=function(r,s){return Ir.overlayOp(r,s,ft.INTERSECTION)},Ir.symDifference=function(r,s){return Ir.overlayOp(r,s,ft.SYMDIFFERENCE)},Ir.difference=function(r,s){return Ir.overlayOp(r,s,ft.DIFFERENCE)},a(Qn.prototype,{getResultGeometry:function(r){var s=null,l=!1,f=null;try{s=ft.overlayOp(this.geom[0],this.geom[1],r);var p=!0;p&&(l=!0)}catch(v){if(!(v instanceof y))throw v;f=v}finally{}if(!l)try{s=Ir.overlayOp(this.geom[0],this.geom[1],r)}catch(v){throw v instanceof y?f:v}finally{}return s},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.overlayOp=function(r,s,l){var f=new Qn(r,s);return f.getResultGeometry(l)},Qn.union=function(r,s){return Qn.overlayOp(r,s,ft.UNION)},Qn.intersection=function(r,s){return Qn.overlayOp(r,s,ft.INTERSECTION)},Qn.symDifference=function(r,s){return Qn.overlayOp(r,s,ft.SYMDIFFERENCE)},Qn.difference=function(r,s){return Qn.overlayOp(r,s,ft.DIFFERENCE)},a(ti.prototype,{addPolygon:function(r){if(r.isEmpty())return null;var s=null,l=0,f=this.horizontalBisector(r);if(f.getLength()===0)l=0,s=f.getCoordinate();else{var p=Qn.overlayOp(f,r,ft.INTERSECTION),v=this.widestGeometry(p);l=v.getEnvelopeInternal().getWidth(),s=ti.centre(v.getEnvelopeInternal())}(this.interiorPoint===null||l>this.maxWidth)&&(this.interiorPoint=s,this.maxWidth=l)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof It){var s=arguments[0];if(s.isEmpty())return s;for(var l=s.getGeometryN(0),f=1;f<s.getNumGeometries();f++)s.getGeometryN(f).getEnvelopeInternal().getWidth()>l.getEnvelopeInternal().getWidth()&&(l=s.getGeometryN(f));return l}if(arguments[0]instanceof be){var p=arguments[0];return p instanceof It?this.widestGeometry(p):p}},horizontalBisector:function(r){var s=r.getEnvelopeInternal(),l=La.getBisectorY(r);return this.factory.createLineString([new w(s.getMinX(),l),new w(s.getMaxX(),l)])},add:function(r){if(r instanceof Ct)this.addPolygon(r);else if(r instanceof It)for(var s=r,l=0;l<s.getNumGeometries();l++)this.add(s.getGeometryN(l))},interfaces_:function(){return[]},getClass:function(){return ti}}),ti.centre=function(r){return new w(ti.avg(r.getMinX(),r.getMaxX()),ti.avg(r.getMinY(),r.getMaxY()))},ti.avg=function(r,s){return(r+s)/2},a(La.prototype,{updateInterval:function(r){r<=this.centreY?r>this.loY&&(this.loY=r):r>this.centreY&&r<this.hiY&&(this.hiY=r)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var r=0;r<this.poly.getNumInteriorRing();r++)this.process(this.poly.getInteriorRingN(r));var s=ti.avg(this.hiY,this.loY);return s},process:function(r){for(var s=r.getCoordinateSequence(),l=0;l<s.size();l++){var f=s.getY(l);this.updateInterval(f)}},interfaces_:function(){return[]},getClass:function(){return La}}),La.getBisectorY=function(r){var s=new La(r);return s.getBisectorY()},ti.SafeBisectorFinder=La,a(eu.prototype,{addEndpoints:function(){if(arguments[0]instanceof be){var r=arguments[0];if(r instanceof St)this.addEndpoints(r.getCoordinates());else if(r instanceof It)for(var s=r,l=0;l<s.getNumGeometries();l++)this.addEndpoints(s.getGeometryN(l))}else if(arguments[0]instanceof Array){var f=arguments[0];this.add(f[0]),this.add(f[f.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof be){var r=arguments[0];if(r instanceof St)this.addInterior(r.getCoordinates());else if(r instanceof It)for(var s=r,l=0;l<s.getNumGeometries();l++)this.addInterior(s.getGeometryN(l))}else if(arguments[0]instanceof Array)for(var f=arguments[0],l=1;l<f.length-1;l++)this.add(f[l])},add:function(r){var s=r.distance(this.centroid);s<this.minDistance&&(this.interiorPoint=new w(r),this.minDistance=s)},interfaces_:function(){return[]},getClass:function(){return eu}}),a(tu.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof be){var r=arguments[0];if(r instanceof ot)this.add(r.getCoordinate());else if(r instanceof It)for(var s=r,l=0;l<s.getNumGeometries();l++)this.add(s.getGeometryN(l))}else if(arguments[0]instanceof w){var f=arguments[0],p=f.distance(this.centroid);p<this.minDistance&&(this.interiorPoint=new w(f),this.minDistance=p)}},interfaces_:function(){return[]},getClass:function(){return tu}}),a(jt.prototype,{interfaces_:function(){return[]},getClass:function(){return jt}}),jt.toDegrees=function(r){return 180*r/Math.PI},jt.normalize=function(r){for(;r>Math.PI;)r-=jt.PI_TIMES_2;for(;r<=-Math.PI;)r+=jt.PI_TIMES_2;return r},jt.angle=function(){if(arguments.length===1){var r=arguments[0];return Math.atan2(r.y,r.x)}if(arguments.length===2){var s=arguments[0],l=arguments[1],f=l.x-s.x,p=l.y-s.y;return Math.atan2(p,f)}},jt.isAcute=function(r,s,l){var f=r.x-s.x,p=r.y-s.y,v=l.x-s.x,S=l.y-s.y,N=f*v+p*S;return N>0},jt.isObtuse=function(r,s,l){var f=r.x-s.x,p=r.y-s.y,v=l.x-s.x,S=l.y-s.y,N=f*v+p*S;return 0>N},jt.interiorAngle=function(r,s,l){var f=jt.angle(s,r),p=jt.angle(s,l);return Math.abs(p-f)},jt.normalizePositive=function(r){if(0>r){for(;0>r;)r+=jt.PI_TIMES_2;r>=jt.PI_TIMES_2&&(r=0)}else{for(;r>=jt.PI_TIMES_2;)r-=jt.PI_TIMES_2;0>r&&(r=0)}return r},jt.angleBetween=function(r,s,l){var f=jt.angle(s,r),p=jt.angle(s,l);return jt.diff(f,p)},jt.diff=function(r,s){var l=null;return l=s>r?s-r:r-s,l>Math.PI&&(l=2*Math.PI-l),l},jt.toRadians=function(r){return r*Math.PI/180},jt.getTurn=function(r,s){var l=Math.sin(s-r);return l>0?jt.COUNTERCLOCKWISE:0>l?jt.CLOCKWISE:jt.NONE},jt.angleBetweenOriented=function(r,s,l){var f=jt.angle(s,r),p=jt.angle(s,l),v=p-f;return v<=-Math.PI?v+jt.PI_TIMES_2:v>Math.PI?v-jt.PI_TIMES_2:v},jt.PI_TIMES_2=2*Math.PI,jt.PI_OVER_2=Math.PI/2,jt.PI_OVER_4=Math.PI/4,jt.COUNTERCLOCKWISE=Be.COUNTERCLOCKWISE,jt.CLOCKWISE=Be.CLOCKWISE,jt.NONE=Be.COLLINEAR,a(In.prototype,{area:function(){return In.area(this.p0,this.p1,this.p2)},signedArea:function(){return In.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(r){if(r===null)throw new u;return In.interpolateZ(r,this.p0,this.p1,this.p2)},longestSideLength:function(){return In.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return In.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return In.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return In.area3D(this.p0,this.p1,this.p2)},centroid:function(){return In.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return In.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return In}}),In.area=function(r,s,l){return Math.abs(((l.x-r.x)*(s.y-r.y)-(s.x-r.x)*(l.y-r.y))/2)},In.signedArea=function(r,s,l){return((l.x-r.x)*(s.y-r.y)-(s.x-r.x)*(l.y-r.y))/2},In.det=function(r,s,l,f){return r*f-s*l},In.interpolateZ=function(r,s,l,f){var p=s.x,v=s.y,S=l.x-p,N=f.x-p,j=l.y-v,de=f.y-v,we=S*de-N*j,Ce=r.x-p,Fe=r.y-v,ct=(de*Ce-N*Fe)/we,Rt=(-j*Ce+S*Fe)/we,Ut=s.z+ct*(l.z-s.z)+Rt*(f.z-s.z);return Ut},In.longestSideLength=function(r,s,l){var f=r.distance(s),p=s.distance(l),v=l.distance(r),S=f;return p>S&&(S=p),v>S&&(S=v),S},In.isAcute=function(r,s,l){return jt.isAcute(r,s,l)&&jt.isAcute(s,l,r)?!!jt.isAcute(l,r,s):!1},In.circumcentre=function(r,s,l){var f=l.x,p=l.y,v=r.x-f,S=r.y-p,N=s.x-f,j=s.y-p,de=2*In.det(v,S,N,j),we=In.det(S,v*v+S*S,j,N*N+j*j),Ce=In.det(v,v*v+S*S,N,N*N+j*j),Fe=f-we/de,ct=p+Ce/de;return new w(Fe,ct)},In.perpendicularBisector=function(r,s){var l=s.x-r.x,f=s.y-r.y,p=new _e(r.x+l/2,r.y+f/2,1),v=new _e(r.x-f+l/2,r.y+l+f/2,1);return new _e(p,v)},In.angleBisector=function(r,s,l){var f=s.distance(r),p=s.distance(l),v=f/(f+p),S=l.x-r.x,N=l.y-r.y,j=new w(r.x+v*S,r.y+v*N);return j},In.area3D=function(r,s,l){var f=s.x-r.x,p=s.y-r.y,v=s.z-r.z,S=l.x-r.x,N=l.y-r.y,j=l.z-r.z,de=p*j-v*N,we=v*S-f*j,Ce=f*N-p*S,Fe=de*de+we*we+Ce*Ce,ct=Math.sqrt(Fe)/2;return ct},In.centroid=function(r,s,l){var f=(r.x+s.x+l.x)/3,p=(r.y+s.y+l.y)/3;return new w(f,p)},In.inCentre=function(r,s,l){var f=s.distance(l),p=r.distance(l),v=r.distance(s),S=f+p+v,N=(f*r.x+p*s.x+v*l.x)/S,j=(f*r.y+p*s.y+v*l.y)/S;return new w(N,j)},a(Vr.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var r=this.extremalPts[0],s=this.extremalPts[1];return this.input.getFactory().createLineString([r,s])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(this.input.getNumPoints()===1){var l=this.input.getCoordinates();return this.extremalPts=[new w(l[0])],null}var r=this.input.convexHull(),s=r.getCoordinates(),l=s;if(s[0].equals2D(s[s.length-1])&&(l=new Array(s.length-1).fill(null),Pe.copyDeep(s,0,l,0,s.length-1)),l.length<=2)return this.extremalPts=Pe.copyDeep(l),null;for(var f=Vr.lowestPoint(l),p=Vr.pointWitMinAngleWithX(l,f),v=0;v<l.length;v++){var S=Vr.pointWithMinAngleWithSegment(l,f,p);if(jt.isObtuse(f,S,p))return this.extremalPts=[new w(f),new w(p)],null;if(jt.isObtuse(S,f,p))f=S;else{if(!jt.isObtuse(S,p,f))return this.extremalPts=[new w(f),new w(p),new w(S)],null;p=S}}_.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return this.extremalPts!==null?null:(this.computeCirclePoints(),this.computeCentre(),void(this.centre!==null&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var r=this.extremalPts[0],s=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([r,s])},getCircle:function(){if(this.compute(),this.centre===null)return this.input.getFactory().createPolygon();var r=this.input.getFactory().createPoint(this.centre);return this.radius===0?r:r.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new w((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=In.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return Vr}}),Vr.pointWitMinAngleWithX=function(r,s){for(var l=d.MAX_VALUE,f=null,p=0;p<r.length;p++){var v=r[p];if(v!==s){var S=v.x-s.x,N=v.y-s.y;0>N&&(N=-N);var j=Math.sqrt(S*S+N*N),de=N/j;l>de&&(l=de,f=v)}}return f},Vr.lowestPoint=function(r){for(var s=r[0],l=1;l<r.length;l++)r[l].y<s.y&&(s=r[l]);return s},Vr.pointWithMinAngleWithSegment=function(r,s,l){for(var f=d.MAX_VALUE,p=null,v=0;v<r.length;v++){var S=r[v];if(S!==s&&S!==l){var N=jt.angleBetween(s,S,l);f>N&&(f=N,p=S)}}return p},a(br.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),this.minWidthPt===null)return this.inputGeom.getFactory().createLineString(null);var r=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([r,this.minWidthPt])},computeWidthConvex:function(r){r instanceof Ct?this.convexHullPts=r.getExteriorRing().getCoordinates():this.convexHullPts=r.getCoordinates(),this.convexHullPts.length===0?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):this.convexHullPts.length===1?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):this.convexHullPts.length===2||this.convexHullPts.length===3?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(r){this.minWidth=d.MAX_VALUE;for(var s=1,l=new kt,f=0;f<r.length-1;f++)l.p0=r[f],l.p1=r[f+1],s=this.findMaxPerpDistance(r,l,s)},computeMinimumDiameter:function(){if(this.minWidthPt!==null)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var r=new M(this.inputGeom).getConvexHull();this.computeWidthConvex(r)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(r,s,l){for(var f=s.distancePerpendicular(r[l]),p=f,v=l,S=v;p>=f;)f=p,v=S,S=br.nextIndex(r,v),p=s.distancePerpendicular(r[S]);return f<this.minWidth&&(this.minPtIndex=v,this.minWidth=f,this.minWidthPt=r[this.minPtIndex],this.minBaseSeg=new kt(s)),v},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),this.minWidth===0)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var r=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,s=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,l=d.MAX_VALUE,f=-d.MAX_VALUE,p=d.MAX_VALUE,v=-d.MAX_VALUE,S=0;S<this.convexHullPts.length;S++){var N=br.computeC(r,s,this.convexHullPts[S]);N>f&&(f=N),l>N&&(l=N);var j=br.computeC(-s,r,this.convexHullPts[S]);j>v&&(v=j),p>j&&(p=j)}var de=br.computeSegmentForLine(-r,-s,v),we=br.computeSegmentForLine(-r,-s,p),Ce=br.computeSegmentForLine(-s,r,f),Fe=br.computeSegmentForLine(-s,r,l),ct=Ce.lineIntersection(de),Rt=Fe.lineIntersection(de),Ut=Fe.lineIntersection(we),Ln=Ce.lineIntersection(we),tr=this.inputGeom.getFactory().createLinearRing([ct,Rt,Ut,Ln,ct]);return this.inputGeom.getFactory().createPolygon(tr,null)},interfaces_:function(){return[]},getClass:function(){return br}}),br.nextIndex=function(r,s){return s++,s>=r.length&&(s=0),s},br.computeC=function(r,s,l){return r*l.y-s*l.x},br.getMinimumDiameter=function(r){return new br(r).getDiameter()},br.getMinimumRectangle=function(r){return new br(r).getMinimumRectangle()},br.computeSegmentForLine=function(r,s,l){var f=null,p=null;return Math.abs(s)>Math.abs(r)?(f=new w(0,l/s),p=new w(1,l/s-r/s)):(f=new w(l/r,0),p=new w(l/r-s/r,1)),new kt(f,p)};var _4=Object.freeze({Centroid:Nr,CGAlgorithms:Be,ConvexHull:M,InteriorPointArea:ti,InteriorPointLine:eu,InteriorPointPoint:tu,RobustLineIntersector:Tn,MinimumBoundingCircle:Vr,MinimumDiameter:br});a(rs.prototype,{getResultGeometry:function(){return new oo(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(r){if(0>=r)throw new u;this.distanceTolerance=r},interfaces_:function(){return[]},getClass:function(){return rs}}),rs.densifyPoints=function(r,s,l){for(var f=new kt,p=new Z,v=0;v<r.length-1;v++){f.p0=r[v],f.p1=r[v+1],p.add(f.p0,!1);var S=f.getLength(),N=Math.trunc(S/s)+1;if(N>1)for(var j=S/N,de=1;N>de;de++){var we=de*j/S,Ce=f.pointAlong(we);l.makePrecise(Ce),p.add(Ce,!1)}}return p.add(r[r.length-1],!1),p.toCoordinateArray()},rs.densify=function(r,s){var l=new rs(r);return l.setDistanceTolerance(s),l.getResultGeometry()},x(oo,ue),a(oo.prototype,{transformMultiPolygon:function(r,s){var l=ue.prototype.transformMultiPolygon.call(this,r,s);return this.createValidArea(l)},transformPolygon:function(r,s){var l=ue.prototype.transformPolygon.call(this,r,s);return s instanceof J?l:this.createValidArea(l)},transformCoordinates:function(r,s){var l=r.toCoordinateArray(),f=rs.densifyPoints(l,this.distanceTolerance,s.getPrecisionModel());return s instanceof St&&f.length===1&&(f=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(f)},createValidArea:function(r){return r.buffer(0)},interfaces_:function(){return[]},getClass:function(){return oo}}),rs.DensifyTransformer=oo;var S4=Object.freeze({Densifier:rs});a(Ii.prototype,{find:function(r){var s=this;do{if(s===null)return null;if(s.dest().equals2D(r))return s;s=s.oNext()}while(s!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(r){if(this.oNext()===this)return this.insertAfter(r),null;var s=this.compareTo(r),l=this;do{var f=l.oNext(),p=f.compareTo(r);if(p!==s||f===this)return l.insertAfter(r),null;l=f}while(l!==this);_.shouldNeverReachHere()},insertAfter:function(r){_.equals(this._orig,r.orig());var s=this.oNext();this._sym.setNext(r),r.sym().setNext(s)},degree:function(){var s=0,l=this;do s++,l=l.oNext();while(l!==this);return s},equals:function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return this._orig.equals2D(r)&&this._sym._orig.equals(s)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(r){var s=this.deltaX(),l=this.deltaY(),f=r.deltaX(),p=r.deltaY();if(s===f&&l===p)return 0;var v=rn.quadrant(s,l),S=rn.quadrant(f,p);return v>S?1:S>v?-1:Be.computeOrientation(r._orig,r.dest(),this.dest())},prevNode:function(){for(var r=this;r.degree()===2;)if(r=r.prev(),r===this)return null;return r},compareTo:function(r){var s=r,l=this.compareAngularDirection(s);return l},next:function(){return this._next},setSym:function(r){this._sym=r},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(r){this._next=r},init:function(r){this.setSym(r),r.setSym(this),this.setNext(r),r.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return Ii}}),Ii.init=function(r,s){if(r._sym!==null||s._sym!==null||r._next!==null||s._next!==null)throw new IllegalStateException("Edges are already initialized");return r.init(s),r},Ii.create=function(r,s){var l=new Ii(r),f=new Ii(s);return l.init(f),l},x(Gr,Ii),a(Gr.prototype,{mark:function(){this._isMarked=!0},setMark:function(r){this._isMarked=r},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return Gr}}),Gr.setMarkBoth=function(r,s){r.setMark(s),r.sym().setMark(s)},Gr.isMarked=function(r){return r.isMarked()},Gr.setMark=function(r,s){r.setMark(s)},Gr.markBoth=function(r){r.mark(),r.sym().mark()},Gr.mark=function(r){r.mark()},a(Ls.prototype,{insert:function(r,s,l){var f=this.create(r,s);l!==null?l.insert(f):this.vertexMap.put(r,f);var p=this.vertexMap.get(s);return p!==null?p.insert(f.sym()):this.vertexMap.put(s,f.sym()),f},create:function(r,s){var l=this.createEdge(r),f=this.createEdge(s);return Ii.init(l,f),l},createEdge:function(r){return new Ii(r)},addEdge:function(r,s){if(!Ls.isValidEdge(r,s))return null;var l=this.vertexMap.get(r),f=null;if(l!==null&&(f=l.find(s)),f!==null)return f;var p=this.insert(r,s,l);return p},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(r,s){var l=this.vertexMap.get(r);return l===null?null:l.find(s)},interfaces_:function(){return[]},getClass:function(){return Ls}}),Ls.isValidEdge=function(r,s){var l=s.compareTo(r);return l!==0},x(nu,Gr),a(nu.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return nu}}),x(P,Ls),a(P.prototype,{createEdge:function(r){return new nu(r)},interfaces_:function(){return[]},getClass:function(){return P}}),a(X.prototype,{addLine:function(r){this.lines.add(this.factory.createLineString(r.toCoordinateArray()))},updateRingStartEdge:function(r){return r.isStart()||(r=r.sym(),r.isStart())?this.ringStartEdge===null?(this.ringStartEdge=r,null):void(r.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=r)):null},getResult:function(){return this.result===null&&this.computeResult(),this.result},process:function(r){var s=r.prevNode();s===null&&(s=r),this.stackEdges(s),this.buildLines()},buildRing:function(r){var s=new Z,l=r;for(s.add(l.orig().copy(),!1);l.sym().degree()===2;){var f=l.next();if(f===r)break;s.add(f.orig().copy(),!1),l=f}s.add(l.dest().copy(),!1),this.addLine(s)},buildLine:function(r){var s=new Z,l=r;for(this.ringStartEdge=null,Gr.markBoth(l),s.add(l.orig().copy(),!1);l.sym().degree()===2;){this.updateRingStartEdge(l);var f=l.next();if(f===r)return this.buildRing(this.ringStartEdge),null;s.add(f.orig().copy(),!1),l=f,Gr.markBoth(l)}s.add(l.dest().copy(),!1),this.stackEdges(l.sym()),this.addLine(s)},stackEdges:function(r){var s=r;do Gr.isMarked(s)||this.nodeEdgeStack.add(s),s=s.oNext();while(s!==r)},computeResult:function(){for(var r=this.graph.getVertexEdges(),s=r.iterator();s.hasNext();){var l=s.next();Gr.isMarked(l)||this.process(l)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var r=this.nodeEdgeStack.pop();Gr.isMarked(r)||this.buildLine(r)}},add:function(){if(arguments[0]instanceof be){var r=arguments[0];r.apply({interfaces_:function(){return[$e]},filter:function(j){j instanceof St&&this.add(j)}})}else if(I(arguments[0],W))for(var s=arguments[0],l=s.iterator();l.hasNext();){var f=l.next();this.add(f)}else if(arguments[0]instanceof St){var p=arguments[0];this.factory===null&&(this.factory=p.getFactory());for(var v=p.getCoordinateSequence(),S=!1,l=1;l<v.size();l++){var N=this.graph.addEdge(v.getCoordinate(l-1),v.getCoordinate(l));N!==null&&(S||(N.setStart(),S=!0))}}},interfaces_:function(){return[]},getClass:function(){return X}}),X.dissolve=function(r){var s=new X;return s.add(r),s.getResult()};var E4=Object.freeze({LineDissolver:X});a(he.prototype,{hasChildren:function(){for(var r=0;4>r;r++)if(this.subnode[r]!==null)return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(r){r.addAll(this.items);for(var s=0;4>s;s++)this.subnode[s]!==null&&this.subnode[s].addAllItems(r);return r},getNodeCount:function(){for(var r=0,s=0;4>s;s++)this.subnode[s]!==null&&(r+=this.subnode[s].size());return r+1},size:function(){for(var r=0,s=0;4>s;s++)this.subnode[s]!==null&&(r+=this.subnode[s].size());return r+this.items.size()},addAllItemsFromOverlapping:function(r,s){if(!this.isSearchMatch(r))return null;s.addAll(this.items);for(var l=0;4>l;l++)this.subnode[l]!==null&&this.subnode[l].addAllItemsFromOverlapping(r,s)},visitItems:function(r,s){for(var l=this.items.iterator();l.hasNext();)s.visitItem(l.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(r,s){if(!this.isSearchMatch(r))return!1;for(var l=!1,f=0;4>f;f++)if(this.subnode[f]!==null&&(l=this.subnode[f].remove(r,s))){this.subnode[f].isPrunable()&&(this.subnode[f]=null);break}return l||(l=this.items.remove(s))},visit:function(r,s){if(!this.isSearchMatch(r))return null;this.visitItems(r,s);for(var l=0;4>l;l++)this.subnode[l]!==null&&this.subnode[l].visit(r,s)},getItems:function(){return this.items},depth:function(){for(var r=0,s=0;4>s;s++)if(this.subnode[s]!==null){var l=this.subnode[s].depth();l>r&&(r=l)}return r+1},isEmpty:function(){var s=!0;this.items.isEmpty()||(s=!1);for(var l=0;4>l;l++)this.subnode[l]!==null&&(this.subnode[l].isEmpty()||(s=!1));return s},add:function(r){this.items.add(r)},interfaces_:function(){return[m]},getClass:function(){return he}}),he.getSubnodeIndex=function(r,s,l){var f=-1;return r.getMinX()>=s&&(r.getMinY()>=l&&(f=3),r.getMaxY()<=l&&(f=1)),r.getMaxX()<=s&&(r.getMinY()>=l&&(f=2),r.getMaxY()<=l&&(f=0)),f},Ie.exponent=function(r){return ut(64,r)-1023},Ie.powerOf2=function(r){return Math.pow(2,r)},a(qe.prototype,{getLevel:function(){return this.level},computeKey:function(){if(arguments.length===1){var r=arguments[0];for(this.level=qe.computeQuadLevel(r),this.env=new Y,this.computeKey(this.level,r);!this.env.contains(r);)this.level+=1,this.computeKey(this.level,r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1],f=Ie.powerOf2(s);this.pt.x=Math.floor(l.getMinX()/f)*f,this.pt.y=Math.floor(l.getMinY()/f)*f,this.env.init(this.pt.x,this.pt.x+f,this.pt.y,this.pt.y+f)}},getEnvelope:function(){return this.env},getCentre:function(){return new w((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return qe}}),qe.computeQuadLevel=function(r){var s=r.getWidth(),l=r.getHeight(),f=s>l?s:l,p=Ie.exponent(f)+1;return p},x(yt,he),a(yt.prototype,{find:function(r){var s=he.getSubnodeIndex(r,this.centrex,this.centrey);if(s===-1)return this;if(this.subnode[s]!==null){var l=this.subnode[s];return l.find(r)}return this},isSearchMatch:function(r){return this.env.intersects(r)},getSubnode:function(r){return this.subnode[r]===null&&(this.subnode[r]=this.createSubnode(r)),this.subnode[r]},getEnvelope:function(){return this.env},getNode:function(r){var s=he.getSubnodeIndex(r,this.centrex,this.centrey);if(s!==-1){var l=this.getSubnode(s);return l.getNode(r)}return this},createSubnode:function(r){var s=0,l=0,f=0,p=0;switch(r){case 0:s=this.env.getMinX(),l=this.centrex,f=this.env.getMinY(),p=this.centrey;break;case 1:s=this.centrex,l=this.env.getMaxX(),f=this.env.getMinY(),p=this.centrey;break;case 2:s=this.env.getMinX(),l=this.centrex,f=this.centrey,p=this.env.getMaxY();break;case 3:s=this.centrex,l=this.env.getMaxX(),f=this.centrey,p=this.env.getMaxY()}var v=new Y(s,l,f,p),S=new yt(v,this.level-1);return S},insertNode:function(r){_.isTrue(this.env===null||this.env.contains(r.env));var s=he.getSubnodeIndex(r.env,this.centrex,this.centrey);if(r.level===this.level-1)this.subnode[s]=r;else{var l=this.createSubnode(s);l.insertNode(r),this.subnode[s]=l}},interfaces_:function(){return[]},getClass:function(){return yt}}),yt.createNode=function(r){var s=new qe(r),l=new yt(s.getEnvelope(),s.getLevel());return l},yt.createExpanded=function(r,s){var l=new Y(s);r!==null&&l.expandToInclude(r.env);var f=yt.createNode(l);return r!==null&&f.insertNode(r),f},a(xt.prototype,{interfaces_:function(){return[]},getClass:function(){return xt}}),xt.isZeroWidth=function(r,s){var l=s-r;if(l===0)return!0;var f=Math.max(Math.abs(r),Math.abs(s)),p=l/f,v=Ie.exponent(p);return v<=xt.MIN_BINARY_EXPONENT},xt.MIN_BINARY_EXPONENT=-50,x(Zt,he),a(Zt.prototype,{insert:function(r,s){var l=he.getSubnodeIndex(r,Zt.origin.x,Zt.origin.y);if(l===-1)return this.add(s),null;var f=this.subnode[l];if(f===null||!f.getEnvelope().contains(r)){var p=yt.createExpanded(f,r);this.subnode[l]=p}this.insertContained(this.subnode[l],r,s)},isSearchMatch:function(r){return!0},insertContained:function(r,s,l){_.isTrue(r.getEnvelope().contains(s));var f=xt.isZeroWidth(s.getMinX(),s.getMaxX()),p=xt.isZeroWidth(s.getMinY(),s.getMaxY()),v=null;v=f||p?r.find(s):r.getNode(s),v.add(l)},interfaces_:function(){return[]},getClass:function(){return Zt}}),Zt.origin=new w(0,0),a(xn.prototype,{size:function(){return this.root!==null?this.root.size():0},insert:function(r,s){this.collectStats(r);var l=xn.ensureExtent(r,this.minExtent);this.root.insert(l,s)},query:function(){if(arguments.length===1){var r=arguments[0],s=new aa;return this.query(r,s),s.getItems()}if(arguments.length===2){var l=arguments[0],f=arguments[1];this.root.visit(l,f)}},queryAll:function(){var r=new H;return this.root.addAllItems(r),r},remove:function(r,s){var l=xn.ensureExtent(r,this.minExtent);return this.root.remove(l,s)},collectStats:function(r){var s=r.getWidth();s<this.minExtent&&s>0&&(this.minExtent=s);var l=r.getHeight();l<this.minExtent&&l>0&&(this.minExtent=l)},depth:function(){return this.root!==null?this.root.depth():0},isEmpty:function(){return this.root===null},interfaces_:function(){return[yn,m]},getClass:function(){return xn}}),xn.ensureExtent=function(r,s){var l=r.getMinX(),f=r.getMaxX(),p=r.getMinY(),v=r.getMaxY();return l!==f&&p!==v?r:(l===f&&(l-=s/2,f=l+s/2),p===v&&(p-=s/2,v=p+s/2),new Y(l,f,p,v))},xn.serialVersionUID=-7461163625812743e3;var C4=Object.freeze({Quadtree:xn}),M4=Object.freeze({STRtree:Dt}),I4=Object.freeze({quadtree:C4,strtree:M4}),P4=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];a(Pn.prototype,{read:function(r){var s=void 0;s=typeof r=="string"?JSON.parse(r):r;var l=s.type;if(!da[l])throw new Error("Unknown GeoJSON type: "+s.type);return P4.indexOf(l)!==-1?da[l].apply(this,[s.coordinates]):l==="GeometryCollection"?da[l].apply(this,[s.geometries]):da[l].apply(this,[s])},write:function(r){var s=r.getGeometryType();if(!us[s])throw new Error("Geometry is not supported");return us[s].apply(this,[r])}});var da={Feature:function(r){var s={};for(var l in r)s[l]=r[l];if(r.geometry){var f=r.geometry.type;if(!da[f])throw new Error("Unknown GeoJSON type: "+r.type);s.geometry=this.read(r.geometry)}return r.bbox&&(s.bbox=da.bbox.apply(this,[r.bbox])),s},FeatureCollection:function(r){var s={};if(r.features){s.features=[];for(var l=0;l<r.features.length;++l)s.features.push(this.read(r.features[l]))}return r.bbox&&(s.bbox=this.parse.bbox.apply(this,[r.bbox])),s},coordinates:function(s){for(var l=[],f=0;f<s.length;++f){var p=s[f];l.push(new w(p[0],p[1]))}return l},bbox:function(r){return this.geometryFactory.createLinearRing([new w(r[0],r[1]),new w(r[2],r[1]),new w(r[2],r[3]),new w(r[0],r[3]),new w(r[0],r[1])])},Point:function(r){var s=new w(r[0],r[1]);return this.geometryFactory.createPoint(s)},MultiPoint:function(r){for(var s=[],l=0;l<r.length;++l)s.push(da.Point.apply(this,[r[l]]));return this.geometryFactory.createMultiPoint(s)},LineString:function(r){var s=da.coordinates.apply(this,[r]);return this.geometryFactory.createLineString(s)},MultiLineString:function(r){for(var s=[],l=0;l<r.length;++l)s.push(da.LineString.apply(this,[r[l]]));return this.geometryFactory.createMultiLineString(s)},Polygon:function(r){for(var s=da.coordinates.apply(this,[r[0]]),l=this.geometryFactory.createLinearRing(s),f=[],p=1;p<r.length;++p){var v=r[p],S=da.coordinates.apply(this,[v]),N=this.geometryFactory.createLinearRing(S);f.push(N)}return this.geometryFactory.createPolygon(l,f)},MultiPolygon:function(r){for(var s=[],l=0;l<r.length;++l){var f=r[l];s.push(da.Polygon.apply(this,[f]))}return this.geometryFactory.createMultiPolygon(s)},GeometryCollection:function(r){for(var s=[],l=0;l<r.length;++l){var f=r[l];s.push(this.read(f))}return this.geometryFactory.createGeometryCollection(s)}},us={coordinate:function(r){return[r.x,r.y]},Point:function(r){var s=us.coordinate.apply(this,[r.getCoordinate()]);return{type:"Point",coordinates:s}},MultiPoint:function(r){for(var s=[],l=0;l<r.geometries.length;++l){var f=r.geometries[l],p=us.Point.apply(this,[f]);s.push(p.coordinates)}return{type:"MultiPoint",coordinates:s}},LineString:function(r){for(var s=[],l=r.getCoordinates(),f=0;f<l.length;++f){var p=l[f];s.push(us.coordinate.apply(this,[p]))}return{type:"LineString",coordinates:s}},MultiLineString:function(r){for(var s=[],l=0;l<r.geometries.length;++l){var f=r.geometries[l],p=us.LineString.apply(this,[f]);s.push(p.coordinates)}return{type:"MultiLineString",coordinates:s}},Polygon:function(r){var s=[],l=us.LineString.apply(this,[r.shell]);s.push(l.coordinates);for(var f=0;f<r.holes.length;++f){var p=r.holes[f],v=us.LineString.apply(this,[p]);s.push(v.coordinates)}return{type:"Polygon",coordinates:s}},MultiPolygon:function(r){for(var s=[],l=0;l<r.geometries.length;++l){var f=r.geometries[l],p=us.Polygon.apply(this,[f]);s.push(p.coordinates)}return{type:"MultiPolygon",coordinates:s}},GeometryCollection:function(r){for(var s=[],l=0;l<r.geometries.length;++l){var f=r.geometries[l],p=f.getGeometryType();s.push(us[p].apply(this,[f]))}return{type:"GeometryCollection",geometries:s}}};a(jn.prototype,{read:function(r){var s=this.parser.read(r);return this.precisionModel.getType()===Wt.FIXED&&this.reducePrecision(s),s},reducePrecision:function(r){var s,l;if(r.coordinate)this.precisionModel.makePrecise(r.coordinate);else if(r.points)for(s=0,l=r.points.length;l>s;s++)this.precisionModel.makePrecise(r.points[s]);else if(r.geometries)for(s=0,l=r.geometries.length;l>s;s++)this.reducePrecision(r.geometries[s])}}),a(er.prototype,{write:function(r){return this.parser.write(r)}}),a(Tr.prototype,{read:function(r){var s=this.parser.read(r);return this.precisionModel.getType()===Wt.FIXED&&this.reducePrecision(s),s},reducePrecision:function(r){if(r.coordinate)this.precisionModel.makePrecise(r.coordinate);else if(r.points)for(var s=0,l=r.points.coordinates.length;l>s;s++)this.precisionModel.makePrecise(r.points.coordinates[s]);else if(r.geometries)for(var f=0,p=r.geometries.length;p>f;f++)this.reducePrecision(r.geometries[f])}}),a(ka.prototype,{read:function(r){return r instanceof ol.geom.Point?this.convertFromPoint(r):r instanceof ol.geom.LineString?this.convertFromLineString(r):r instanceof ol.geom.LinearRing?this.convertFromLinearRing(r):r instanceof ol.geom.Polygon?this.convertFromPolygon(r):r instanceof ol.geom.MultiPoint?this.convertFromMultiPoint(r):r instanceof ol.geom.MultiLineString?this.convertFromMultiLineString(r):r instanceof ol.geom.MultiPolygon?this.convertFromMultiPolygon(r):r instanceof ol.geom.GeometryCollection?this.convertFromCollection(r):void 0},convertFromPoint:function(r){var s=r.getCoordinates();return this.geometryFactory.createPoint(new w(s[0],s[1]))},convertFromLineString:function(r){return this.geometryFactory.createLineString(r.getCoordinates().map(function(s){return new w(s[0],s[1])}))},convertFromLinearRing:function(r){return this.geometryFactory.createLinearRing(r.getCoordinates().map(function(s){return new w(s[0],s[1])}))},convertFromPolygon:function(r){for(var s=r.getLinearRings(),l=null,f=[],p=0;p<s.length;p++){var v=this.convertFromLinearRing(s[p]);p===0?l=v:f.push(v)}return this.geometryFactory.createPolygon(l,f)},convertFromMultiPoint:function(r){var s=r.getPoints().map(function(l){return this.convertFromPoint(l)},this);return this.geometryFactory.createMultiPoint(s)},convertFromMultiLineString:function(r){var s=r.getLineStrings().map(function(l){return this.convertFromLineString(l)},this);return this.geometryFactory.createMultiLineString(s)},convertFromMultiPolygon:function(r){var s=r.getPolygons().map(function(l){return this.convertFromPolygon(l)},this);return this.geometryFactory.createMultiPolygon(s)},convertFromCollection:function(r){var s=r.getGeometries().map(function(l){return this.read(l)},this);return this.geometryFactory.createGeometryCollection(s)},write:function(r){return r.getGeometryType()==="Point"?this.convertToPoint(r.getCoordinate()):r.getGeometryType()==="LineString"?this.convertToLineString(r):r.getGeometryType()==="LinearRing"?this.convertToLinearRing(r):r.getGeometryType()==="Polygon"?this.convertToPolygon(r):r.getGeometryType()==="MultiPoint"?this.convertToMultiPoint(r):r.getGeometryType()==="MultiLineString"?this.convertToMultiLineString(r):r.getGeometryType()==="MultiPolygon"?this.convertToMultiPolygon(r):r.getGeometryType()==="GeometryCollection"?this.convertToCollection(r):void 0},convertToPoint:function(r){return new ol.geom.Point([r.x,r.y])},convertToLineString:function(r){var s=r.points.coordinates.map(sr);return new ol.geom.LineString(s)},convertToLinearRing:function(r){var s=r.points.coordinates.map(sr);return new ol.geom.LinearRing(s)},convertToPolygon:function(r){for(var s=[r.shell.points.coordinates.map(sr)],l=0;l<r.holes.length;l++)s.push(r.holes[l].points.coordinates.map(sr));return new ol.geom.Polygon(s)},convertToMultiPoint:function(r){return new ol.geom.MultiPoint(r.getCoordinates().map(sr))},convertToMultiLineString:function(r){for(var s=[],l=0;l<r.geometries.length;l++)s.push(this.convertToLineString(r.geometries[l]).getCoordinates());return new ol.geom.MultiLineString(s)},convertToMultiPolygon:function(r){for(var s=[],l=0;l<r.geometries.length;l++)s.push(this.convertToPolygon(r.geometries[l]).getCoordinates());return new ol.geom.MultiPolygon(s)},convertToCollection:function(r){for(var s=[],l=0;l<r.geometries.length;l++){var f=r.geometries[l];s.push(this.write(f))}return new ol.geom.GeometryCollection(s)}});var N4=Object.freeze({GeoJSONReader:jn,GeoJSONWriter:er,OL3Parser:ka,WKTReader:Tr,WKTWriter:Mn});a(mi.prototype,{rescale:function(){if(I(arguments[0],W))for(var r=arguments[0],s=r.iterator();s.hasNext();){var l=s.next();this.rescale(l.getCoordinates())}else if(arguments[0]instanceof Array){var f=arguments[0];f.length===2&&(new w(f[0]),new w(f[1]));for(var s=0;s<f.length;s++)f[s].x=f[s].x/this.scaleFactor+this.offsetX,f[s].y=f[s].y/this.scaleFactor+this.offsetY;f.length===2&&f[0].equals2D(f[1])&&G.out.println(f)}},scale:function(){if(I(arguments[0],W)){for(var r=arguments[0],s=new H,l=r.iterator();l.hasNext();){var f=l.next();s.add(new Hr(this.scale(f.getCoordinates()),f.getData()))}return s}if(arguments[0]instanceof Array){for(var p=arguments[0],v=new Array(p.length).fill(null),l=0;l<p.length;l++)v[l]=new w(Math.round((p[l].x-this.offsetX)*this.scaleFactor),Math.round((p[l].y-this.offsetY)*this.scaleFactor),p[l].z);var S=Pe.removeRepeatedPoints(v);return S}},isIntegerPrecision:function(){return this.scaleFactor===1},getNodedSubstrings:function(){var r=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(r),r},computeNodes:function(r){var s=r;this.isScaled&&(s=this.scale(r)),this.noder.computeNodes(s)},interfaces_:function(){return[Uo]},getClass:function(){return mi}});var A4=Object.freeze({MCIndexNoder:Ra,ScaledNoder:mi,SegmentString:ht});a(Gi.prototype,{isSimpleMultiPoint:function(r){if(r.isEmpty())return!0;for(var s=new nt,l=0;l<r.getNumGeometries();l++){var f=r.getGeometryN(l),p=f.getCoordinate();if(s.contains(p))return this.nonSimpleLocation=p,!1;s.add(p)}return!0},isSimplePolygonal:function(r){for(var s=ar.getLines(r),l=s.iterator();l.hasNext();){var f=l.next();if(!this.isSimpleLinearGeometry(f))return!1}return!0},hasClosedEndpointIntersection:function(r){for(var s=new je,l=r.getEdgeIterator();l.hasNext();){var f=l.next(),p=(f.getMaximumSegmentIndex(),f.isClosed()),v=f.getCoordinate(0);this.addEndpoint(s,v,p);var S=f.getCoordinate(f.getNumPoints()-1);this.addEndpoint(s,S,p)}for(var l=s.values().iterator();l.hasNext();){var N=l.next();if(N.isClosed&&N.degree!==2)return this.nonSimpleLocation=N.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(r){if(r.isEmpty())return!0;var s=new $r(0,r),l=new Tn,f=s.computeSelfNodes(l,!0);return f.hasIntersection()?f.hasProperIntersection()?(this.nonSimpleLocation=f.getProperIntersectionPoint(),!1):this.hasNonEndpointIntersection(s)?!1:!this.isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(s):!0},hasNonEndpointIntersection:function(r){for(var s=r.getEdgeIterator();s.hasNext();)for(var l=s.next(),f=l.getMaximumSegmentIndex(),p=l.getEdgeIntersectionList().iterator();p.hasNext();){var v=p.next();if(!v.isEndPoint(f))return this.nonSimpleLocation=v.getCoordinate(),!0}return!1},addEndpoint:function(r,s,l){var f=r.get(s);f===null&&(f=new ru(s),r.put(s,f)),f.addEndpoint(l)},computeSimple:function(r){return this.nonSimpleLocation=null,r.isEmpty()?!0:r instanceof St?this.isSimpleLinearGeometry(r):r instanceof st?this.isSimpleLinearGeometry(r):r instanceof oe?this.isSimpleMultiPoint(r):I(r,ir)?this.isSimplePolygonal(r):r instanceof It?this.isSimpleGeometryCollection(r):!0},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(r){for(var s=0;s<r.getNumGeometries();s++){var l=r.getGeometryN(s);if(!this.computeSimple(l))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Gi}}),a(ru.prototype,{addEndpoint:function(r){this.degree++,this.isClosed|=r},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return ru}}),Gi.EndpointInfo=ru,a(on.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(r){this.quadrantSegments=r,this.quadrantSegments===0&&(this.joinStyle=on.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=on.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),0>=r&&(this.quadrantSegments=1),this.joinStyle!==on.JOIN_ROUND&&(this.quadrantSegments=on.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(r){this.joinStyle=r},setSimplifyFactor:function(r){this.simplifyFactor=0>r?0:r},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(r){this.endCapStyle=r},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(r){this.mitreLimit=r},setSingleSided:function(r){this._isSingleSided=r},interfaces_:function(){return[]},getClass:function(){return on}}),on.bufferDistanceError=function(r){var s=Math.PI/2/r;return 1-Math.cos(s/2)},on.CAP_ROUND=1,on.CAP_FLAT=2,on.CAP_SQUARE=3,on.JOIN_ROUND=1,on.JOIN_MITRE=2,on.JOIN_BEVEL=3,on.DEFAULT_QUADRANT_SEGMENTS=8,on.DEFAULT_MITRE_LIMIT=5,on.DEFAULT_SIMPLIFY_FACTOR=.01,a(uo.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(r,s){var l=this.getRightmostSideOfSegment(r,s);return 0>l&&(l=this.getRightmostSideOfSegment(r,s-1)),0>l&&(this.minCoord=null,this.checkForRightmostCoordinate(r)),l},findRightmostEdgeAtVertex:function(){var r=this.minDe.getEdge().getCoordinates();_.isTrue(this.minIndex>0&&this.minIndex<r.length,"rightmost point expected to be interior vertex of edge");var s=r[this.minIndex-1],l=r[this.minIndex+1],f=Be.computeOrientation(this.minCoord,l,s),p=!1;(s.y<this.minCoord.y&&l.y<this.minCoord.y&&f===Be.COUNTERCLOCKWISE||s.y>this.minCoord.y&&l.y>this.minCoord.y&&f===Be.CLOCKWISE)&&(p=!0),p&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(r,s){var l=r.getEdge(),f=l.getCoordinates();if(0>s||s+1>=f.length||f[s].y===f[s+1].y)return-1;var p=Ve.LEFT;return f[s].y<f[s+1].y&&(p=Ve.RIGHT),p},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(r){for(var s=r.getEdge().getCoordinates(),l=0;l<s.length-1;l++)(this.minCoord===null||s[l].x>this.minCoord.x)&&(this.minDe=r,this.minIndex=l,this.minCoord=s[l])},findRightmostEdgeAtNode:function(){var r=this.minDe.getNode(),s=r.getEdges();this.minDe=s.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();l.isForward()&&this.checkForRightmostCoordinate(l)}_.isTrue(this.minIndex!==0||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),this.minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe;var f=this.getRightmostSide(this.minDe,this.minIndex);f===Ve.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return uo}}),xc.prototype.addLast=function(r){this.array_.push(r)},xc.prototype.removeFirst=function(){return this.array_.shift()},xc.prototype.isEmpty=function(){return this.array_.length===0},a(H0.prototype,{clearVisitedEdges:function(){for(var r=this.dirEdgeList.iterator();r.hasNext();){var s=r.next();s.setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(r){for(var s=null,l=r.getEdges().iterator();l.hasNext();){var f=l.next();if(f.isVisited()||f.getSym().isVisited()){s=f;break}}if(s===null)throw new Ar("unable to find edge to compute depths at "+r.getCoordinate());r.getEdges().computeDepths(s);for(var l=r.getEdges().iterator();l.hasNext();){var f=l.next();f.setVisited(!0),this.copySymDepths(f)}},computeDepth:function(r){this.clearVisitedEdges();var s=this.finder.getEdge();s.getNode(),s.getLabel(),s.setEdgeDepths(Ve.RIGHT,r),this.copySymDepths(s),this.computeDepths(s)},create:function(r){this.addReachable(r),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var r=this.dirEdgeList.iterator();r.hasNext();){var s=r.next();s.getDepth(Ve.RIGHT)>=1&&s.getDepth(Ve.LEFT)<=0&&!s.isInteriorAreaEdge()&&s.setInResult(!0)}},computeDepths:function(r){var s=new A,l=new xc,f=r.getNode();for(l.addLast(f),s.add(f),r.setVisited(!0);!l.isEmpty();){var p=l.removeFirst();s.add(p),this.computeNodeDepth(p);for(var v=p.getEdges().iterator();v.hasNext();){var S=v.next(),N=S.getSym();if(!N.isVisited()){var j=N.getNode();s.contains(j)||(l.addLast(j),s.add(j))}}}},compareTo:function(r){var s=r;return this.rightMostCoord.x<s.rightMostCoord.x?-1:this.rightMostCoord.x>s.rightMostCoord.x?1:0},getEnvelope:function(){if(this.env===null){for(var r=new Y,s=this.dirEdgeList.iterator();s.hasNext();)for(var l=s.next(),f=l.getEdge().getCoordinates(),p=0;p<f.length-1;p++)r.expandToInclude(f[p]);this.env=r}return this.env},addReachable:function(r){var s=new zn;for(s.add(r);!s.empty();){var l=s.pop();this.add(l,s)}},copySymDepths:function(r){var s=r.getSym();s.setDepth(Ve.LEFT,r.getDepth(Ve.RIGHT)),s.setDepth(Ve.RIGHT,r.getDepth(Ve.LEFT))},add:function(r,s){r.setVisited(!0),this.nodes.add(r);for(var l=r.getEdges().iterator();l.hasNext();){var f=l.next();this.dirEdgeList.add(f);var p=f.getSym(),v=p.getNode();v.isVisited()||s.push(v)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[c]},getClass:function(){return H0}}),a(Rr.prototype,{isDeletable:function(r,s,l,f){var p=this.inputLine[r],v=this.inputLine[s],S=this.inputLine[l];return this.isConcave(p,v,S)&&this.isShallow(p,v,S,f)?this.isShallowSampled(p,v,r,l,f):!1},deleteShallowConcavities:function(){for(var r=1,s=(this.inputLine.length-1,this.findNextNonDeletedIndex(r)),l=this.findNextNonDeletedIndex(s),f=!1;l<this.inputLine.length;){var p=!1;this.isDeletable(r,s,l,this.distanceTol)&&(this.isDeleted[s]=Rr.DELETE,p=!0,f=!0),r=p?l:s,s=this.findNextNonDeletedIndex(r),l=this.findNextNonDeletedIndex(s)}return f},isShallowConcavity:function(r,s,l,f){var p=Be.computeOrientation(r,s,l),v=p===this.angleOrientation;if(!v)return!1;var S=Be.distancePointLine(s,r,l);return f>S},isShallowSampled:function(r,s,l,f,p){var v=Math.trunc((f-l)/Rr.NUM_PTS_TO_CHECK);0>=v&&(v=1);for(var S=l;f>S;S+=v)if(!this.isShallow(r,s,this.inputLine[S],p))return!1;return!0},isConcave:function(s,l,f){var p=Be.computeOrientation(s,l,f),v=p===this.angleOrientation;return v},simplify:function(r){this.distanceTol=Math.abs(r),0>r&&(this.angleOrientation=Be.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var s=!1;do s=this.deleteShallowConcavities();while(s);return this.collapseLine()},findNextNonDeletedIndex:function(r){for(var s=r+1;s<this.inputLine.length&&this.isDeleted[s]===Rr.DELETE;)s++;return s},isShallow:function(r,s,l,f){var p=Be.distancePointLine(s,r,l);return f>p},collapseLine:function(){for(var r=new Z,s=0;s<this.inputLine.length;s++)this.isDeleted[s]!==Rr.DELETE&&r.add(this.inputLine[s]);return r.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Rr}}),Rr.simplify=function(r,s){var l=new Rr(r);return l.simplify(s)},Rr.INIT=0,Rr.DELETE=1,Rr.KEEP=1,Rr.NUM_PTS_TO_CHECK=10,a(Ul.prototype,{getCoordinates:function(){var r=this.ptList.toArray(Ul.COORDINATE_ARRAY_TYPE);return r},setPrecisionModel:function(r){this.precisionModel=r},addPt:function(r){var s=new w(r);return this.precisionModel.makePrecise(s),this.isRedundant(s)?null:void this.ptList.add(s)},reverse:function(){},addPts:function(r,s){if(s)for(var l=0;l<r.length;l++)this.addPt(r[l]);else for(var l=r.length-1;l>=0;l--)this.addPt(r[l])},isRedundant:function(r){if(this.ptList.size()<1)return!1;var s=this.ptList.get(this.ptList.size()-1),l=r.distance(s);return l<this.minimimVertexDistance},toString:function(){var r=new Mt,s=r.createLineString(this.getCoordinates());return s.toString()},closeRing:function(){if(this.ptList.size()<1)return null;var r=new w(this.ptList.get(0)),s=this.ptList.get(this.ptList.size()-1);return this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),r.equals(s)?null:void this.ptList.add(r)},setMinimumVertexDistance:function(r){this.minimimVertexDistance=r},interfaces_:function(){return[]},getClass:function(){return Ul}}),Ul.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),a(Fa.prototype,{addNextSegment:function(r,s){if(this.s0=this.s1,this.s1=this.s2,this.s2=r,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var l=Be.computeOrientation(this.s0,this.s1,this.s2),f=l===Be.CLOCKWISE&&this.side===Ve.LEFT||l===Be.COUNTERCLOCKWISE&&this.side===Ve.RIGHT;l===0?this.addCollinear(s):f?this.addOutsideTurn(l,s):this.addInsideTurn(l,s)},addLineEndCap:function(r,s){var l=new kt(r,s),f=new kt;this.computeOffsetSegment(l,Ve.LEFT,this.distance,f);var p=new kt;this.computeOffsetSegment(l,Ve.RIGHT,this.distance,p);var v=s.x-r.x,S=s.y-r.y,N=Math.atan2(S,v);switch(this.bufParams.getEndCapStyle()){case on.CAP_ROUND:this.segList.addPt(f.p1),this.addFilletArc(s,N+Math.PI/2,N-Math.PI/2,Be.CLOCKWISE,this.distance),this.segList.addPt(p.p1);break;case on.CAP_FLAT:this.segList.addPt(f.p1),this.segList.addPt(p.p1);break;case on.CAP_SQUARE:var j=new w;j.x=Math.abs(this.distance)*Math.cos(N),j.y=Math.abs(this.distance)*Math.sin(N);var de=new w(f.p1.x+j.x,f.p1.y+j.y),we=new w(p.p1.x+j.x,p.p1.y+j.y);this.segList.addPt(de),this.segList.addPt(we)}},getCoordinates:function(){var r=this.segList.getCoordinates();return r},addMitreJoin:function(r,s,l,f){var p=!0,v=null;try{v=_e.intersection(s.p0,s.p1,l.p0,l.p1);var S=0>=f?1:v.distance(r)/Math.abs(f);S>this.bufParams.getMitreLimit()&&(p=!1)}catch(N){if(!(N instanceof F))throw N;v=new w(0,0),p=!1}finally{}p?this.segList.addPt(v):this.addLimitedMitreJoin(s,l,f,this.bufParams.getMitreLimit())},addFilletCorner:function(r,s,l,f,p){var v=s.x-r.x,S=s.y-r.y,N=Math.atan2(S,v),j=l.x-r.x,de=l.y-r.y,we=Math.atan2(de,j);f===Be.CLOCKWISE?we>=N&&(N+=2*Math.PI):N>=we&&(N-=2*Math.PI),this.segList.addPt(s),this.addFilletArc(r,N,we,f,p),this.segList.addPt(l)},addOutsideTurn:function(r,s){return this.offset0.p1.distance(this.offset1.p0)<this.distance*Fa.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===on.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===on.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(s&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,r,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(r){this.segList.addPt(new w(r.x+this.distance,r.y+this.distance)),this.segList.addPt(new w(r.x+this.distance,r.y-this.distance)),this.segList.addPt(new w(r.x-this.distance,r.y-this.distance)),this.segList.addPt(new w(r.x-this.distance,r.y+this.distance)),this.segList.closeRing()},addSegments:function(r,s){this.segList.addPts(r,s)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(r,s,l){this.s1=r,this.s2=s,this.side=l,this.seg1.setCoordinates(r,s),this.computeOffsetSegment(this.seg1,l,this.distance,this.offset1)},addLimitedMitreJoin:function(r,s,l,f){var p=this.seg0.p1,v=jt.angle(p,this.seg0.p0),S=(jt.angle(p,this.seg1.p1),jt.angleBetweenOriented(this.seg0.p0,p,this.seg1.p1)),N=S/2,j=jt.normalize(v+N),de=jt.normalize(j+Math.PI),we=f*l,Ce=we*Math.abs(Math.sin(N)),Fe=l-Ce,ct=p.x+we*Math.cos(de),Rt=p.y+we*Math.sin(de),Ut=new w(ct,Rt),Ln=new kt(p,Ut),tr=Ln.pointAlongOffset(1,Fe),ca=Ln.pointAlongOffset(1,-Fe);this.side===Ve.LEFT?(this.segList.addPt(tr),this.segList.addPt(ca)):(this.segList.addPt(ca),this.segList.addPt(tr))},computeOffsetSegment:function(r,s,l,f){var p=s===Ve.LEFT?1:-1,v=r.p1.x-r.p0.x,S=r.p1.y-r.p0.y,N=Math.sqrt(v*v+S*S),j=p*l*v/N,de=p*l*S/N;f.p0.x=r.p0.x-de,f.p0.y=r.p0.y+j,f.p1.x=r.p1.x-de,f.p1.y=r.p1.y+j},addFilletArc:function(r,s,l,f,p){var v=f===Be.CLOCKWISE?-1:1,S=Math.abs(s-l),N=Math.trunc(S/this.filletAngleQuantum+.5);if(1>N)return null;var j=null,de=null;j=0,de=S/N;for(var we=j,Ce=new w;S>we;){var Fe=s+v*we;Ce.x=r.x+p*Math.cos(Fe),Ce.y=r.y+p*Math.sin(Fe),this.segList.addPt(Ce),we+=de}},addInsideTurn:function(r,s){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*Fa.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var l=new w((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(l);var f=new w((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(f)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(r){var s=new w(r.x+this.distance,r.y);this.segList.addPt(s),this.addFilletArc(r,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(r,s){this.segList.addPt(r.p1),this.segList.addPt(s.p0)},init:function(r){this.distance=r,this.maxCurveSegmentError=r*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Ul,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(r*Fa.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(r){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2);var s=this.li.getIntersectionNum();s>=2&&(this.bufParams.getJoinStyle()===on.JOIN_BEVEL||this.bufParams.getJoinStyle()===on.JOIN_MITRE?(r&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,Be.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return Fa}}),Fa.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Fa.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Fa.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Fa.MAX_CLOSING_SEG_LEN_FACTOR=80,a(ql.prototype,{getOffsetCurve:function(r,s){if(this.distance=s,s===0)return null;var l=0>s,f=Math.abs(s),p=this.getSegGen(f);r.length<=1?this.computePointCurve(r[0],p):this.computeOffsetCurve(r,l,p);var v=p.getCoordinates();return l&&Pe.reverse(v),v},computeSingleSidedBufferCurve:function(r,s,l){var f=this.simplifyTolerance(this.distance);if(s){l.addSegments(r,!0);var p=Rr.simplify(r,-f),v=p.length-1;l.initSideSegments(p[v],p[v-1],Ve.LEFT),l.addFirstSegment();for(var S=v-2;S>=0;S--)l.addNextSegment(p[S],!0)}else{l.addSegments(r,!1);var N=Rr.simplify(r,f),j=N.length-1;l.initSideSegments(N[0],N[1],Ve.LEFT),l.addFirstSegment();for(var S=2;j>=S;S++)l.addNextSegment(N[S],!0)}l.addLastSegment(),l.closeRing()},computeRingBufferCurve:function(r,s,l){var f=this.simplifyTolerance(this.distance);s===Ve.RIGHT&&(f=-f);var p=Rr.simplify(r,f),v=p.length-1;l.initSideSegments(p[v-1],p[0],s);for(var S=1;v>=S;S++){var N=S!==1;l.addNextSegment(p[S],N)}l.closeRing()},computeLineBufferCurve:function(r,s){var l=this.simplifyTolerance(this.distance),f=Rr.simplify(r,l),p=f.length-1;s.initSideSegments(f[0],f[1],Ve.LEFT);for(var v=2;p>=v;v++)s.addNextSegment(f[v],!0);s.addLastSegment(),s.addLineEndCap(f[p-1],f[p]);var S=Rr.simplify(r,-l),N=S.length-1;s.initSideSegments(S[N],S[N-1],Ve.LEFT);for(var v=N-2;v>=0;v--)s.addNextSegment(S[v],!0);s.addLastSegment(),s.addLineEndCap(S[1],S[0]),s.closeRing()},computePointCurve:function(r,s){switch(this.bufParams.getEndCapStyle()){case on.CAP_ROUND:s.createCircle(r);break;case on.CAP_SQUARE:s.createSquare(r)}},getLineCurve:function(r,s){if(this.distance=s,0>s&&!this.bufParams.isSingleSided()||s===0)return null;var l=Math.abs(s),f=this.getSegGen(l);if(r.length<=1)this.computePointCurve(r[0],f);else if(this.bufParams.isSingleSided()){var p=0>s;this.computeSingleSidedBufferCurve(r,p,f)}else this.computeLineBufferCurve(r,f);var v=f.getCoordinates();return v},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(r){return r*this.bufParams.getSimplifyFactor()},getRingCurve:function(r,s,l){if(this.distance=l,r.length<=2)return this.getLineCurve(r,l);if(l===0)return ql.copyCoordinates(r);var f=this.getSegGen(l);return this.computeRingBufferCurve(r,s,f),f.getCoordinates()},computeOffsetCurve:function(r,s,l){var f=this.simplifyTolerance(this.distance);if(s){var p=Rr.simplify(r,-f),v=p.length-1;l.initSideSegments(p[v],p[v-1],Ve.LEFT),l.addFirstSegment();for(var S=v-2;S>=0;S--)l.addNextSegment(p[S],!0)}else{var N=Rr.simplify(r,f),j=N.length-1;l.initSideSegments(N[0],N[1],Ve.LEFT),l.addFirstSegment();for(var S=2;j>=S;S++)l.addNextSegment(N[S],!0)}l.addLastSegment()},getSegGen:function(r){return new Fa(this.precisionModel,this.bufParams,r)},interfaces_:function(){return[]},getClass:function(){return ql}}),ql.copyCoordinates=function(r){for(var s=new Array(r.length).fill(null),l=0;l<s.length;l++)s[l]=new w(r[l]);return s},a(wc.prototype,{findStabbedSegments:function(){if(arguments.length===1){for(var r=arguments[0],s=new H,l=this.subgraphs.iterator();l.hasNext();){var f=l.next(),p=f.getEnvelope();r.y<p.getMinY()||r.y>p.getMaxY()||this.findStabbedSegments(r,f.getDirectedEdges(),s)}return s}if(arguments.length===3){if(I(arguments[2],O)&&arguments[0]instanceof w&&arguments[1]instanceof As)for(var v=arguments[0],S=arguments[1],N=arguments[2],j=S.getEdge().getCoordinates(),l=0;l<j.length-1;l++){this.seg.p0=j[l],this.seg.p1=j[l+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var de=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(de<v.x||this.seg.isHorizontal()||v.y<this.seg.p0.y||v.y>this.seg.p1.y||Be.computeOrientation(this.seg.p0,this.seg.p1,v)===Be.RIGHT)){var we=S.getDepth(Ve.LEFT);this.seg.p0.equals(j[l])||(we=S.getDepth(Ve.RIGHT));var Ce=new _c(this.seg,we);N.add(Ce)}}else if(I(arguments[2],O)&&arguments[0]instanceof w&&I(arguments[1],O))for(var Fe=arguments[0],ct=arguments[1],Rt=arguments[2],l=ct.iterator();l.hasNext();){var Ut=l.next();Ut.isForward()&&this.findStabbedSegments(Fe,Ut,Rt)}}},getDepth:function(r){var s=this.findStabbedSegments(r);if(s.size()===0)return 0;var l=Va.min(s);return l.leftDepth},interfaces_:function(){return[]},getClass:function(){return wc}}),a(_c.prototype,{compareTo:function(r){var s=r;if(this.upwardSeg.minX()>=s.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=s.upwardSeg.minX())return-1;var l=this.upwardSeg.orientationIndex(s.upwardSeg);return l!==0?l:(l=-1*s.upwardSeg.orientationIndex(this.upwardSeg),l!==0?l:this.upwardSeg.compareTo(s.upwardSeg))},compareX:function(r,s){var l=r.p0.compareTo(s.p0);return l!==0?l:r.p1.compareTo(s.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[c]},getClass:function(){return _c}}),wc.DepthSegment=_c,a(z0.prototype,{addPoint:function(r){if(this.distance<=0)return null;var s=r.getCoordinates(),l=this.curveBuilder.getLineCurve(s,this.distance);this.addCurve(l,b.EXTERIOR,b.INTERIOR)},addPolygon:function(r){var s=this.distance,l=Ve.LEFT;this.distance<0&&(s=-this.distance,l=Ve.RIGHT);var f=r.getExteriorRing(),p=Pe.removeRepeatedPoints(f.getCoordinates());if(this.distance<0&&this.isErodedCompletely(f,this.distance)||this.distance<=0&&p.length<3)return null;this.addPolygonRing(p,s,l,b.EXTERIOR,b.INTERIOR);for(var v=0;v<r.getNumInteriorRing();v++){var S=r.getInteriorRingN(v),N=Pe.removeRepeatedPoints(S.getCoordinates());this.distance>0&&this.isErodedCompletely(S,-this.distance)||this.addPolygonRing(N,s,Ve.opposite(l),b.INTERIOR,b.EXTERIOR)}},isTriangleErodedCompletely:function(r,s){var l=new In(r[0],r[1],r[2]),f=l.inCentre(),p=Be.distancePointLine(f,l.p0,l.p1);return p<Math.abs(s)},addLineString:function(r){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var s=Pe.removeRepeatedPoints(r.getCoordinates()),l=this.curveBuilder.getLineCurve(s,this.distance);this.addCurve(l,b.EXTERIOR,b.INTERIOR)},addCurve:function(r,s,l){if(r===null||r.length<2)return null;var f=new Hr(r,new Bn(0,b.BOUNDARY,s,l));this.curveList.add(f)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(r,s,l,f,p){if(s===0&&r.length<Q.MINIMUM_VALID_SIZE)return null;var v=f,S=p;r.length>=Q.MINIMUM_VALID_SIZE&&Be.isCCW(r)&&(v=p,S=f,l=Ve.opposite(l));var N=this.curveBuilder.getRingCurve(r,l,s);this.addCurve(N,v,S)},add:function(r){if(r.isEmpty())return null;if(r instanceof Ct)this.addPolygon(r);else if(r instanceof St)this.addLineString(r);else if(r instanceof ot)this.addPoint(r);else if(r instanceof oe)this.addCollection(r);else if(r instanceof st)this.addCollection(r);else if(r instanceof J)this.addCollection(r);else{if(!(r instanceof It))throw new UnsupportedOperationException(r.getClass().getName());this.addCollection(r)}},isErodedCompletely:function(r,s){var l=r.getCoordinates();if(l.length<4)return 0>s;if(l.length===4)return this.isTriangleErodedCompletely(l,s);var f=r.getEnvelopeInternal(),p=Math.min(f.getHeight(),f.getWidth());return 0>s&&2*Math.abs(s)>p},addCollection:function(r){for(var s=0;s<r.getNumGeometries();s++){var l=r.getGeometryN(s);this.add(l)}},interfaces_:function(){return[]},getClass:function(){return z0}}),a(jl.prototype,{isTrivialIntersection:function(r,s,l,f){if(r===l&&this.li.getIntersectionNum()===1){if(jl.isAdjacentSegments(s,f))return!0;if(r.isClosed()){var p=r.size()-1;if(s===0&&f===p||f===0&&s===p)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(r,s,l,f){if(r===l&&s===f)return null;this.numTests++;var p=r.getCoordinates()[s],v=r.getCoordinates()[s+1],S=l.getCoordinates()[f],N=l.getCoordinates()[f+1];this.li.computeIntersection(p,v,S,N),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(r,s,l,f)||(this._hasIntersection=!0,r.addIntersections(this.li,s,0),l.addIntersections(this.li,f,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[jo]},getClass:function(){return jl}}),jl.isAdjacentSegments=function(r,s){return Math.abs(r-s)===1},a(lo.prototype,{setWorkingPrecisionModel:function(r){this.workingPrecisionModel=r},insertUniqueEdge:function(r){var s=this.edgeList.findEqualEdge(r);if(s!==null){var l=s.getLabel(),f=r.getLabel();s.isPointwiseEqual(r)||(f=new Bn(r.getLabel()),f.flip()),l.merge(f);var p=lo.depthDelta(f),v=s.getDepthDelta(),S=v+p;s.setDepthDelta(S)}else this.edgeList.add(r),r.setDepthDelta(lo.depthDelta(r.getLabel()))},buildSubgraphs:function(r,s){for(var l=new H,f=r.iterator();f.hasNext();){var p=f.next(),v=p.getRightmostCoordinate(),S=new wc(l),N=S.getDepth(v);p.computeDepth(N),p.findResultEdges(),l.add(p),s.add(p.getDirectedEdges(),p.getNodes())}},createSubgraphs:function(r){for(var s=new H,l=r.getNodes().iterator();l.hasNext();){var f=l.next();if(!f.isVisited()){var p=new H0;p.create(f),s.add(p)}}return Va.sort(s,Va.reverseOrder()),s},createEmptyResultGeometry:function(){var r=this.geomFact.createPolygon();return r},getNoder:function(r){if(this.workingNoder!==null)return this.workingNoder;var s=new Ra,l=new Tn;return l.setPrecisionModel(r),s.setSegmentIntersector(new jl(l)),s},buffer:function(r,s){var l=this.workingPrecisionModel;l===null&&(l=r.getPrecisionModel()),this.geomFact=r.getFactory();var f=new ql(l,this.bufParams),p=new z0(r,s,f),v=p.getCurves();if(v.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(v,l),this.graph=new oi(new so),this.graph.addEdges(this.edgeList.getEdges());var S=this.createSubgraphs(this.graph),N=new Vu(this.geomFact);this.buildSubgraphs(S,N);var j=N.getPolygons();if(j.size()<=0)return this.createEmptyResultGeometry();var de=this.geomFact.buildGeometry(j);return de},computeNodedEdges:function(r,s){var l=this.getNoder(s);l.computeNodes(r);for(var f=l.getNodedSubstrings(),p=f.iterator();p.hasNext();){var v=p.next(),S=v.getCoordinates();if(S.length!==2||!S[0].equals2D(S[1])){var N=v.getData(),j=new ei(v.getCoordinates(),new Bn(N));this.insertUniqueEdge(j)}}},setNoder:function(r){this.workingNoder=r},interfaces_:function(){return[]},getClass:function(){return lo}}),lo.depthDelta=function(r){var s=r.getLocation(0,Ve.LEFT),l=r.getLocation(0,Ve.RIGHT);return s===b.INTERIOR&&l===b.EXTERIOR?1:s===b.EXTERIOR&&l===b.INTERIOR?-1:0},lo.convertSegStrings=function(r){for(var s=new Mt,l=new H;r.hasNext();){var f=r.next(),p=s.createLineString(f.getCoordinates());l.add(p)}return s.buildGeometry(l)},a(Kl.prototype,{checkEndPtVertexIntersections:function(){if(arguments.length===0)for(var r=this.segStrings.iterator();r.hasNext();){var s=r.next(),l=s.getCoordinates();this.checkEndPtVertexIntersections(l[0],this.segStrings),this.checkEndPtVertexIntersections(l[l.length-1],this.segStrings)}else if(arguments.length===2){for(var f=arguments[0],p=arguments[1],r=p.iterator();r.hasNext();)for(var s=r.next(),l=s.getCoordinates(),v=1;v<l.length-1;v++)if(l[v].equals(f))throw new y("found endpt/interior pt intersection at index "+v+" :pt "+f)}},checkInteriorIntersections:function(){if(arguments.length===0)for(var r=this.segStrings.iterator();r.hasNext();)for(var s=r.next(),l=this.segStrings.iterator();l.hasNext();){var f=l.next();this.checkInteriorIntersections(s,f)}else if(arguments.length===2)for(var p=arguments[0],v=arguments[1],S=p.getCoordinates(),N=v.getCoordinates(),j=0;j<S.length-1;j++)for(var de=0;de<N.length-1;de++)this.checkInteriorIntersections(p,j,v,de);else if(arguments.length===4){var we=arguments[0],Ce=arguments[1],Fe=arguments[2],ct=arguments[3];if(we===Fe&&Ce===ct)return null;var Rt=we.getCoordinates()[Ce],Ut=we.getCoordinates()[Ce+1],Ln=Fe.getCoordinates()[ct],tr=Fe.getCoordinates()[ct+1];if(this.li.computeIntersection(Rt,Ut,Ln,tr),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,Rt,Ut)||this.hasInteriorIntersection(this.li,Ln,tr)))throw new y("found non-noded intersection at "+Rt+"-"+Ut+" and "+Ln+"-"+tr)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(arguments.length===0)for(var r=this.segStrings.iterator();r.hasNext();){var s=r.next();this.checkCollapses(s)}else if(arguments.length===1)for(var l=arguments[0],f=l.getCoordinates(),r=0;r<f.length-2;r++)this.checkCollapse(f[r],f[r+1],f[r+2])},hasInteriorIntersection:function(r,s,l){for(var f=0;f<r.getIntersectionNum();f++){var p=r.getIntersection(f);if(!p.equals(s)&&!p.equals(l))return!0}return!1},checkCollapse:function(r,s,l){if(r.equals(l))throw new y("found non-noded collapse at "+Kl.fact.createLineString([r,s,l]))},interfaces_:function(){return[]},getClass:function(){return Kl}}),Kl.fact=new Mt,a(Ku.prototype,{intersectsScaled:function(r,s){var l=Math.min(r.x,s.x),f=Math.max(r.x,s.x),p=Math.min(r.y,s.y),v=Math.max(r.y,s.y),S=this.maxx<l||this.minx>f||this.maxy<p||this.miny>v;if(S)return!1;var N=this.intersectsToleranceSquare(r,s);return _.isTrue(!(S&&N),"Found bad envelope test"),N},initCorners:function(r){var s=.5;this.minx=r.x-s,this.maxx=r.x+s,this.miny=r.y-s,this.maxy=r.y+s,this.corner[0]=new w(this.maxx,this.maxy),this.corner[1]=new w(this.minx,this.maxy),this.corner[2]=new w(this.minx,this.miny),this.corner[3]=new w(this.maxx,this.miny)},intersects:function(r,s){return this.scaleFactor===1?this.intersectsScaled(r,s):(this.copyScaled(r,this.p0Scaled),this.copyScaled(s,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(r){return Math.round(r*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(r,s){s.x=this.scale(r.x),s.y=this.scale(r.y)},getSafeEnvelope:function(){if(this.safeEnv===null){var r=Ku.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new Y(this.originalPt.x-r,this.originalPt.x+r,this.originalPt.y-r,this.originalPt.y+r)}return this.safeEnv},intersectsPixelClosure:function(r,s){return this.li.computeIntersection(r,s,this.corner[0],this.corner[1]),this.li.hasIntersection()?!0:(this.li.computeIntersection(r,s,this.corner[1],this.corner[2]),this.li.hasIntersection()?!0:(this.li.computeIntersection(r,s,this.corner[2],this.corner[3]),this.li.hasIntersection()?!0:(this.li.computeIntersection(r,s,this.corner[3],this.corner[0]),!!this.li.hasIntersection())))},intersectsToleranceSquare:function(r,s){var l=!1,f=!1;return this.li.computeIntersection(r,s,this.corner[0],this.corner[1]),this.li.isProper()?!0:(this.li.computeIntersection(r,s,this.corner[1],this.corner[2]),this.li.isProper()?!0:(this.li.hasIntersection()&&(l=!0),this.li.computeIntersection(r,s,this.corner[2],this.corner[3]),this.li.isProper()?!0:(this.li.hasIntersection()&&(f=!0),this.li.computeIntersection(r,s,this.corner[3],this.corner[0]),this.li.isProper()||l&&f||r.equals(this.pt)?!0:!!s.equals(this.pt))))},addSnappedNode:function(r,s){var l=r.getCoordinate(s),f=r.getCoordinate(s+1);return this.intersects(l,f)?(r.addIntersection(this.getCoordinate(),s),!0):!1},interfaces_:function(){return[]},getClass:function(){return Ku}}),Ku.SAFE_ENV_EXPANSION_FACTOR=.75,a(co.prototype,{select:function(){if(arguments.length!==1){if(arguments.length===2){var r=arguments[0],s=arguments[1];r.getLineSegment(s,this.selectedSegment),this.select(this.selectedSegment)}}},interfaces_:function(){return[]},getClass:function(){return co}}),a(Sc.prototype,{snap:function(){if(arguments.length===1){var r=arguments[0];return this.snap(r,null,-1)}if(arguments.length===3){var s=arguments[0],l=arguments[1],f=arguments[2],p=s.getSafeEnvelope(),v=new Jl(s,l,f);return this.index.query(p,{interfaces_:function(){return[_t]},visitItem:function(S){var N=S;N.select(p,v)}}),v.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return Sc}}),x(Jl,co),a(Jl.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(arguments.length!==2)return co.prototype.select.apply(this,arguments);var r=arguments[0],s=arguments[1],l=r.getContext();return this.parentEdge!==null&&l===this.parentEdge&&s===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(l,s))},interfaces_:function(){return[]},getClass:function(){return Jl}}),Sc.HotPixelSnapAction=Jl,a(V0.prototype,{processIntersections:function(r,s,l,f){if(r===l&&s===f)return null;var p=r.getCoordinates()[s],v=r.getCoordinates()[s+1],S=l.getCoordinates()[f],N=l.getCoordinates()[f+1];if(this.li.computeIntersection(p,v,S,N),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var j=0;j<this.li.getIntersectionNum();j++)this.interiorIntersections.add(this.li.getIntersection(j));r.addIntersections(this.li,s,0),l.addIntersections(this.li,f,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[jo]},getClass:function(){return V0}}),a(G0.prototype,{checkCorrectness:function(r){var s=Hr.getNodedSubstrings(r),l=new Kl(s);try{l.checkValid()}catch(f){if(!(f instanceof ye))throw f;f.printStackTrace()}finally{}},getNodedSubstrings:function(){return Hr.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(r,s){var l=this.findInteriorIntersections(r,s);this.computeIntersectionSnaps(l),this.computeVertexSnaps(r)},findInteriorIntersections:function(r,s){var l=new V0(s);return this.noder.setSegmentIntersector(l),this.noder.computeNodes(r),l.getInteriorIntersections()},computeVertexSnaps:function(){if(I(arguments[0],W))for(var r=arguments[0],s=r.iterator();s.hasNext();){var l=s.next();this.computeVertexSnaps(l)}else if(arguments[0]instanceof Hr)for(var f=arguments[0],p=f.getCoordinates(),v=0;v<p.length;v++){var S=new Ku(p[v],this.scaleFactor,this.li),N=this.pointSnapper.snap(S,f,v);N&&f.addIntersection(p[v],v)}},computeNodes:function(r){this.nodedSegStrings=r,this.noder=new Ra,this.pointSnapper=new Sc(this.noder.getIndex()),this.snapRound(r,this.li)},computeIntersectionSnaps:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next(),f=new Ku(l,this.scaleFactor,this.li);this.pointSnapper.snap(f)}},interfaces_:function(){return[Uo]},getClass:function(){return G0}}),a(Or.prototype,{bufferFixedPrecision:function(r){var s=new mi(new G0(new Wt(1)),r.getScale()),l=new lo(this.bufParams);l.setWorkingPrecisionModel(r),l.setNoder(s),this.resultGeometry=l.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(arguments.length===0){for(var r=Or.MAX_PRECISION_DIGITS;r>=0;r--){try{this.bufferReducedPrecision(r)}catch(p){if(!(p instanceof Ar))throw p;this.saveException=p}finally{}if(this.resultGeometry!==null)return null}throw this.saveException}if(arguments.length===1){var s=arguments[0],l=Or.precisionScaleFactor(this.argGeom,this.distance,s),f=new Wt(l);this.bufferFixedPrecision(f)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),this.resultGeometry!==null)return null;var r=this.argGeom.getFactory().getPrecisionModel();r.getType()===Wt.FIXED?this.bufferFixedPrecision(r):this.bufferReducedPrecision()},setQuadrantSegments:function(r){this.bufParams.setQuadrantSegments(r)},bufferOriginalPrecision:function(){try{var r=new lo(this.bufParams);this.resultGeometry=r.buffer(this.argGeom,this.distance)}catch(s){if(!(s instanceof y))throw s;this.saveException=s}finally{}},getResultGeometry:function(r){return this.distance=r,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(r){this.bufParams.setEndCapStyle(r)},interfaces_:function(){return[]},getClass:function(){return Or}}),Or.bufferOp=function(){if(arguments.length===2){var r=arguments[0],s=arguments[1],l=new Or(r),f=l.getResultGeometry(s);return f}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof be&&typeof arguments[1]=="number"){var p=arguments[0],v=arguments[1],S=arguments[2],N=new Or(p);N.setQuadrantSegments(S);var f=N.getResultGeometry(v);return f}if(arguments[2]instanceof on&&arguments[0]instanceof be&&typeof arguments[1]=="number"){var j=arguments[0],de=arguments[1],we=arguments[2],N=new Or(j,we),f=N.getResultGeometry(de);return f}}else if(arguments.length===4){var Ce=arguments[0],Fe=arguments[1],ct=arguments[2],Rt=arguments[3],N=new Or(Ce);N.setQuadrantSegments(ct),N.setEndCapStyle(Rt);var f=N.getResultGeometry(Fe);return f}},Or.precisionScaleFactor=function(r,s,l){var f=r.getEnvelopeInternal(),p=B.max(Math.abs(f.getMaxX()),Math.abs(f.getMaxY()),Math.abs(f.getMinX()),Math.abs(f.getMinY())),v=s>0?s:0,S=p+2*v,N=Math.trunc(Math.log(S)/Math.log(10)+1),j=l-N,de=Math.pow(10,j);return de},Or.CAP_ROUND=on.CAP_ROUND,Or.CAP_BUTT=on.CAP_FLAT,Or.CAP_FLAT=on.CAP_FLAT,Or.CAP_SQUARE=on.CAP_SQUARE,Or.MAX_PRECISION_DIGITS=12;var D4=Object.freeze({BufferOp:Or,BufferParameters:on});a(iu.prototype,{filter:function(r){r instanceof Ct&&this.comps.add(r)},interfaces_:function(){return[nn]},getClass:function(){return iu}}),iu.getPolygons=function(){if(arguments.length===1){var r=arguments[0];return iu.getPolygons(r,new H)}if(arguments.length===2){var s=arguments[0],l=arguments[1];return s instanceof Ct?l.add(s):s instanceof It&&s.apply(new iu(l)),l}},a(yi.prototype,{isInsideArea:function(){return this.segIndex===yi.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return yi}}),yi.INSIDE_AREA=-1,a(au.prototype,{filter:function(r){r instanceof ot&&this.pts.add(r)},interfaces_:function(){return[nn]},getClass:function(){return au}}),au.getPoints=function(){if(arguments.length===1){var r=arguments[0];return r instanceof ot?Va.singletonList(r):au.getPoints(r,new H)}if(arguments.length===2){var s=arguments[0],l=arguments[1];return s instanceof ot?l.add(s):s instanceof It&&s.apply(new au(l)),l}},a(Yl.prototype,{filter:function(r){(r instanceof ot||r instanceof St||r instanceof Ct)&&this.locations.add(new yi(r,0,r.getCoordinate()))},interfaces_:function(){return[nn]},getClass:function(){return Yl}}),Yl.getLocations=function(r){var s=new H;return r.apply(new Yl(s)),s},a(oa.prototype,{computeContainmentDistance:function(){if(arguments.length===0){var r=new Array(2).fill(null);if(this.computeContainmentDistance(0,r),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,r)}else if(arguments.length===2){var s=arguments[0],l=arguments[1],f=1-s,p=iu.getPolygons(this.geom[s]);if(p.size()>0){var v=Yl.getLocations(this.geom[f]);if(this.computeContainmentDistance(v,p,l),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[f]=l[0],this.minDistanceLocation[s]=l[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&I(arguments[0],O)&&I(arguments[1],O)){for(var S=arguments[0],N=arguments[1],j=arguments[2],de=0;de<S.size();de++)for(var we=S.get(de),Ce=0;Ce<N.size();Ce++)if(this.computeContainmentDistance(we,N.get(Ce),j),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof yi&&arguments[1]instanceof Ct){var Fe=arguments[0],ct=arguments[1],Rt=arguments[2],Ut=Fe.getCoordinate();if(b.EXTERIOR!==this.ptLocator.locate(Ut,ct))return this.minDistance=0,Rt[0]=Fe,Rt[1]=new yi(ct,Ut),null}}},computeMinDistanceLinesPoints:function(r,s,l){for(var f=0;f<r.size();f++)for(var p=r.get(f),v=0;v<s.size();v++){var S=s.get(v);if(this.computeMinDistance(p,S,l),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var r=new Array(2).fill(null),s=ar.getLines(this.geom[0]),l=ar.getLines(this.geom[1]),f=au.getPoints(this.geom[0]),p=au.getPoints(this.geom[1]);return this.computeMinDistanceLines(s,l,r),this.updateMinDistance(r,!1),this.minDistance<=this.terminateDistance?null:(r[0]=null,r[1]=null,this.computeMinDistanceLinesPoints(s,p,r),this.updateMinDistance(r,!1),this.minDistance<=this.terminateDistance?null:(r[0]=null,r[1]=null,this.computeMinDistanceLinesPoints(l,f,r),this.updateMinDistance(r,!0),this.minDistance<=this.terminateDistance?null:(r[0]=null,r[1]=null,this.computeMinDistancePoints(f,p,r),void this.updateMinDistance(r,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(r,s){return r[0]===null?null:void(s?(this.minDistanceLocation[0]=r[1],this.minDistanceLocation[1]=r[0]):(this.minDistanceLocation[0]=r[0],this.minDistanceLocation[1]=r[1]))},nearestPoints:function(){this.computeMinDistance();var r=[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()];return r},computeMinDistance:function(){if(arguments.length===0){if(this.minDistanceLocation!==null||(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof St&&arguments[1]instanceof ot){var r=arguments[0],s=arguments[1],l=arguments[2];if(r.getEnvelopeInternal().distance(s.getEnvelopeInternal())>this.minDistance)return null;for(var f=r.getCoordinates(),p=s.getCoordinate(),v=0;v<f.length-1;v++){var S=Be.distancePointLine(p,f[v],f[v+1]);if(S<this.minDistance){this.minDistance=S;var N=new kt(f[v],f[v+1]),j=N.closestPoint(p);l[0]=new yi(r,v,j),l[1]=new yi(s,0,p)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof St&&arguments[1]instanceof St){var de=arguments[0],we=arguments[1],Ce=arguments[2];if(de.getEnvelopeInternal().distance(we.getEnvelopeInternal())>this.minDistance)return null;for(var f=de.getCoordinates(),Fe=we.getCoordinates(),v=0;v<f.length-1;v++)for(var ct=0;ct<Fe.length-1;ct++){var S=Be.distanceLineLine(f[v],f[v+1],Fe[ct],Fe[ct+1]);if(S<this.minDistance){this.minDistance=S;var Rt=new kt(f[v],f[v+1]),Ut=new kt(Fe[ct],Fe[ct+1]),Ln=Rt.closestPoints(Ut);Ce[0]=new yi(de,v,Ln[0]),Ce[1]=new yi(we,ct,Ln[1])}if(this.minDistance<=this.terminateDistance)return null}}}},computeMinDistancePoints:function(r,s,l){for(var f=0;f<r.size();f++)for(var p=r.get(f),v=0;v<s.size();v++){var S=s.get(v),N=p.getCoordinate().distance(S.getCoordinate());if(N<this.minDistance&&(this.minDistance=N,l[0]=new yi(p,0,p.getCoordinate()),l[1]=new yi(S,0,S.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(this.geom[0]===null||this.geom[1]===null)throw new u;return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(r,s,l){for(var f=0;f<r.size();f++)for(var p=r.get(f),v=0;v<s.size();v++){var S=s.get(v);if(this.computeMinDistance(p,S,l),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return oa}}),oa.distance=function(r,s){var l=new oa(r,s);return l.distance()},oa.isWithinDistance=function(r,s,l){var f=new oa(r,s,l);return f.distance()<=l},oa.nearestPoints=function(r,s){var l=new oa(r,s);return l.nearestPoints()};var $4=Object.freeze({DistanceOp:oa});a(W0.prototype,{getCoordinates:function(){if(this.coordinates===null){for(var r=0,s=0,l=new Z,f=this.directedEdges.iterator();f.hasNext();){var p=f.next();p.getEdgeDirection()?r++:s++,l.add(p.getEdge().getLine().getCoordinates(),!1,p.getEdgeDirection())}this.coordinates=l.toCoordinateArray(),s>r&&Pe.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(r){this.directedEdges.add(r)},interfaces_:function(){return[]},getClass:function(){return W0}}),a(Wi.prototype,{setVisited:function(r){this._isVisited=r},isMarked:function(){return this._isMarked},setData:function(r){this.data=r},getData:function(){return this.data},setMarked:function(r){this._isMarked=r},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(r){this.data=r},interfaces_:function(){return[]},getClass:function(){return Wi}}),Wi.getComponentWithVisitedState=function(r,s){for(;r.hasNext();){var l=r.next();if(l.isVisited()===s)return l}return null},Wi.setVisited=function(r,s){for(;r.hasNext();){var l=r.next();l.setVisited(s)}},Wi.setMarked=function(r,s){for(;r.hasNext();){var l=r.next();l.setMarked(s)}},x(Pi,Wi),a(Pi.prototype,{isRemoved:function(){return this.parentEdge===null},compareDirection:function(r){return this.quadrant>r.quadrant?1:this.quadrant<r.quadrant?-1:Be.computeOrientation(r.p0,r.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(r){var s=this.getClass().getName(),l=s.lastIndexOf("."),f=s.substring(l+1);r.print("  "+f+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(r){var s=r;return this.compareDirection(s)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(r){this.parentEdge=r},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(r){this.sym=r},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[c]},getClass:function(){return Pi}}),Pi.toEdges=function(r){for(var s=new H,l=r.iterator();l.hasNext();)s.add(l.next().parentEdge);return s},x(Xl,Pi),a(Xl.prototype,{getNext:function(){return this.getToNode().getDegree()!==2?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(_.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return Xl}}),x(Ba,Wi),a(Ba.prototype,{isRemoved:function(){return this.dirEdge===null},setDirectedEdges:function(r,s){this.dirEdge=[r,s],r.setEdge(this),s.setEdge(this),r.setSym(s),s.setSym(r),r.getFromNode().addOutEdge(r),s.getFromNode().addOutEdge(s)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var r=arguments[0];return this.dirEdge[r]}if(arguments[0]instanceof is){var s=arguments[0];return this.dirEdge[0].getFromNode()===s?this.dirEdge[0]:this.dirEdge[1].getFromNode()===s?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(r){return this.dirEdge[0].getFromNode()===r?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===r?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return Ba}}),a(U0.prototype,{getNextEdge:function(r){var s=this.getIndex(r);return this.outEdges.get(this.getIndex(s+1))},getCoordinate:function(){var r=this.iterator();if(!r.hasNext())return null;var s=r.next();return s.getCoordinate()},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(Va.sort(this.outEdges),this.sorted=!0)},remove:function(r){this.outEdges.remove(r)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(r){var s=this.getIndex(r);return this.outEdges.get(this.getIndex(s-1))},getIndex:function(){if(arguments[0]instanceof Ba){var r=arguments[0];this.sortEdges();for(var s=0;s<this.outEdges.size();s++){var l=this.outEdges.get(s);if(l.getEdge()===r)return s}return-1}if(arguments[0]instanceof Pi){var f=arguments[0];this.sortEdges();for(var s=0;s<this.outEdges.size();s++){var l=this.outEdges.get(s);if(l===f)return s}return-1}if(Number.isInteger(arguments[0])){var p=arguments[0],v=p%this.outEdges.size();return 0>v&&(v+=this.outEdges.size()),v}},add:function(r){this.outEdges.add(r),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return U0}}),x(is,Wi),a(is.prototype,{isRemoved:function(){return this.pt===null},addOutEdge:function(r){this.deStar.add(r)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(arguments.length===0)this.pt=null;else if(arguments.length===1){var r=arguments[0];this.deStar.remove(r)}},getIndex:function(r){return this.deStar.getIndex(r)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return is}}),is.getEdgesBetween=function(r,s){var l=Pi.toEdges(r.getOutEdges().getEdges()),f=new A(l),p=Pi.toEdges(s.getOutEdges().getEdges());return f.retainAll(p),f},x(Ec,Ba),a(Ec.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Ec}}),a(q0.prototype,{find:function(r){return this.nodeMap.get(r)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(r){return this.nodeMap.remove(r)},values:function(){return this.nodeMap.values()},add:function(r){return this.nodeMap.put(r.getCoordinate(),r),r},interfaces_:function(){return[]},getClass:function(){return q0}}),a(Ju.prototype,{findNodesOfDegree:function(r){for(var s=new H,l=this.nodeIterator();l.hasNext();){var f=l.next();f.getDegree()===r&&s.add(f)}return s},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof Ba){var r=arguments[0];this.remove(r.getDirEdge(0)),this.remove(r.getDirEdge(1)),this.edges.remove(r),r.remove()}else if(arguments[0]instanceof Pi){var s=arguments[0],l=s.getSym();l!==null&&l.setSym(null),s.getFromNode().remove(s),s.remove(),this.dirEdges.remove(s)}else if(arguments[0]instanceof is){for(var f=arguments[0],p=f.getOutEdges().getEdges(),v=p.iterator();v.hasNext();){var S=v.next(),l=S.getSym();l!==null&&this.remove(l),this.dirEdges.remove(S);var N=S.getEdge();N!==null&&this.edges.remove(N)}this.nodeMap.remove(f.getCoordinate()),f.remove()}},findNode:function(r){return this.nodeMap.find(r)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof Ba){var r=arguments[0];return this.edges.contains(r)}if(arguments[0]instanceof Pi){var s=arguments[0];return this.dirEdges.contains(s)}},add:function(){if(arguments[0]instanceof is){var r=arguments[0];this.nodeMap.add(r)}else if(arguments[0]instanceof Ba){var s=arguments[0];this.edges.add(s),this.add(s.getDirEdge(0)),this.add(s.getDirEdge(1))}else if(arguments[0]instanceof Pi){var l=arguments[0];this.dirEdges.add(l)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Ju}}),x(Cc,Ju),a(Cc.prototype,{addEdge:function(r){if(r.isEmpty())return null;var s=Pe.removeRepeatedPoints(r.getCoordinates());if(s.length<=1)return null;var l=s[0],f=s[s.length-1],p=this.getNode(l),v=this.getNode(f),S=new Xl(p,v,s[1],!0),N=new Xl(v,p,s[s.length-2],!1),j=new Ec(r);j.setDirectedEdges(S,N),this.add(j)},getNode:function(r){var s=this.findNode(r);return s===null&&(s=new is(r),this.add(s)),s},interfaces_:function(){return[]},getClass:function(){return Cc}}),a(j0.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var r=this.graph.getNodes().iterator();r.hasNext();){var s=r.next();s.isMarked()||(_.isTrue(s.getDegree()===2),this.buildEdgeStringsStartingAt(s),s.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var r=this.graph.getNodes().iterator();r.hasNext();){var s=r.next();s.getDegree()!==2&&(this.buildEdgeStringsStartingAt(s),s.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(r){for(var s=r.getOutEdges().iterator();s.hasNext();){var l=s.next();l.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(l))}},merge:function(){if(this.mergedLineStrings!==null)return null;Wi.setMarked(this.graph.nodeIterator(),!1),Wi.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new H,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new H;for(var r=this.edgeStrings.iterator();r.hasNext();){var s=r.next();this.mergedLineStrings.add(s.toLineString())}},buildEdgeStringStartingWith:function(r){var s=new W0(this.factory),l=r;do s.add(l),l.getEdge().setMarked(!0),l=l.getNext();while(l!==null&&l!==r);return s},add:function(){if(arguments[0]instanceof be){var r=arguments[0];r.apply({interfaces_:function(){return[$e]},filter:function(v){v instanceof St&&this.add(v)}})}else if(I(arguments[0],W)){var s=arguments[0];this.mergedLineStrings=null;for(var l=s.iterator();l.hasNext();){var f=l.next();this.add(f)}}else if(arguments[0]instanceof St){var p=arguments[0];this.factory===null&&(this.factory=p.getFactory()),this.graph.addEdge(p)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return j0}});var T4=Object.freeze({LineMerger:j0}),R4=Object.freeze({OverlayOp:ft});x(Zl,Pi),a(Zl.prototype,{getNext:function(){return this.next},isInRing:function(){return this.edgeRing!==null},setRing:function(r){this.edgeRing=r},setLabel:function(r){this.label=r},getLabel:function(){return this.label},setNext:function(r){this.next=r},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return Zl}}),x(Mc,Ba),a(Mc.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Mc}}),a(ua.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(this.ringPts===null){for(var r=new Z,s=this.deList.iterator();s.hasNext();){var l=s.next(),f=l.getEdge();ua.addEdge(f.getLine().getCoordinates(),l.getEdgeDirection(),r)}this.ringPts=r.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),this.ringPts.length<=3?!1:(this.getRing(),this.ring.isValid())},build:function(r){var s=r;do this.add(s),s.setRing(this),s=s.getNext(),_.isTrue(s!==null,"found null DE in ring"),_.isTrue(s===r||!s.isInRing(),"found DE already in ring");while(s!==r)},isOuterHole:function(){return this._isHole?!this.hasShell():!1},getPolygon:function(){var r=null;if(this.holes!==null){r=new Array(this.holes.size()).fill(null);for(var s=0;s<this.holes.size();s++)r[s]=this.holes.get(s)}var l=this.factory.createPolygon(this.ring,r);return l},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Q){var r=arguments[0];this.holes===null&&(this.holes=new H),this.holes.add(r)}else if(arguments[0]instanceof ua){var s=arguments[0];s.setShell(this);var l=s.getRing();this.holes===null&&(this.holes=new H),this.holes.add(l)}},setIncluded:function(r){this._isIncluded=r,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var r=0;r<this.deList.size();r++){var s=this.deList.get(r),l=s.getSym().getRing();if(l.isOuterHole())return l}return null},computeHole:function(){var r=this.getRing();this._isHole=Be.isCCW(r.getCoordinates())},hasShell:function(){return this.shell!==null},isOuterShell:function(){return this.getOuterHole()!==null},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return Mn.toLineString(new ve(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(r){this.deList.add(r)},getRing:function(){if(this.ring!==null)return this.ring;this.getCoordinates(),this.ringPts.length<3&&G.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(r){if(!(r instanceof ye))throw r;G.out.println(this.ringPts)}finally{}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var r=0;r<this.deList.size();r++){var s=this.deList.get(r),l=s.getSym().getRing().getShell();if(l!==null&&l.isIncludedSet())return this.setIncluded(!l.isIncluded()),null}},setShell:function(r){this.shell=r},setProcessed:function(r){this._isProcessed=r},interfaces_:function(){return[]},getClass:function(){return ua}}),ua.findDirEdgesInRing=function(r){var s=r,l=new H;do l.add(s),s=s.getNext(),_.isTrue(s!==null,"found null DE in ring"),_.isTrue(s===r||!s.isInRing(),"found DE already in ring");while(s!==r);return l},ua.addEdge=function(r,s,l){if(s)for(var f=0;f<r.length;f++)l.add(r[f],!1);else for(var f=r.length-1;f>=0;f--)l.add(r[f],!1)},ua.findEdgeRingContaining=function(r,s){for(var l=r.getRing(),f=l.getEnvelopeInternal(),p=l.getCoordinateN(0),v=null,S=null,N=s.iterator();N.hasNext();){var j=N.next(),de=j.getRing(),we=de.getEnvelopeInternal();if(!we.equals(f)&&we.contains(f)){p=Pe.ptNotInList(l.getCoordinates(),de.getCoordinates());var Ce=!1;Be.isPointInRing(p,de.getCoordinates())&&(Ce=!0),Ce&&(v===null||S.contains(we))&&(v=j,S=v.getRing().getEnvelopeInternal())}}return v},a(K0.prototype,{compare:function(r,s){var l=r,f=s;return l.getRing().getEnvelope().compareTo(f.getRing().getEnvelope())},interfaces_:function(){return[g]},getClass:function(){return K0}}),ua.EnvelopeComparator=K0,x(cr,Ju),a(cr.prototype,{findEdgeRing:function(r){var s=new ua(this.factory);return s.build(r),s},computeDepthParity:function(){if(arguments.length===0)for(;;){var r=null;if(r===null)return null;this.computeDepthParity(r)}},computeNextCWEdges:function(){for(var r=this.nodeIterator();r.hasNext();){var s=r.next();cr.computeNextCWEdges(s)}},addEdge:function(r){if(r.isEmpty())return null;var s=Pe.removeRepeatedPoints(r.getCoordinates());if(s.length<2)return null;var l=s[0],f=s[s.length-1],p=this.getNode(l),v=this.getNode(f),S=new Zl(p,v,s[1],!0),N=new Zl(v,p,s[s.length-2],!1),j=new Mc(r);j.setDirectedEdges(S,N),this.add(j)},deleteCutEdges:function(){this.computeNextCWEdges(),cr.findLabeledEdgeRings(this.dirEdges);for(var r=new H,s=this.dirEdges.iterator();s.hasNext();){var l=s.next();if(!l.isMarked()){var f=l.getSym();if(l.getLabel()===f.getLabel()){l.setMarked(!0),f.setMarked(!0);var p=l.getEdge();r.add(p.getLine())}}}return r},getEdgeRings:function(){this.computeNextCWEdges(),cr.label(this.dirEdges,-1);var r=cr.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(r);for(var s=new H,l=this.dirEdges.iterator();l.hasNext();){var f=l.next();if(!f.isMarked()&&!f.isInRing()){var p=this.findEdgeRing(f);s.add(p)}}return s},getNode:function(r){var s=this.findNode(r);return s===null&&(s=new is(r),this.add(s)),s},convertMaximalToMinimalEdgeRings:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next(),f=l.getLabel(),p=cr.findIntersectionNodes(l,f);if(p!==null)for(var v=p.iterator();v.hasNext();){var S=v.next();cr.computeNextCCWEdges(S,f)}}},deleteDangles:function(){for(var r=this.findNodesOfDegree(1),s=new A,l=new zn,f=r.iterator();f.hasNext();)l.push(f.next());for(;!l.isEmpty();){var p=l.pop();cr.deleteAllEdges(p);for(var v=p.getOutEdges().getEdges(),f=v.iterator();f.hasNext();){var S=f.next();S.setMarked(!0);var N=S.getSym();N!==null&&N.setMarked(!0);var j=S.getEdge();s.add(j.getLine());var de=S.getToNode();cr.getDegreeNonDeleted(de)===1&&l.push(de)}}return s},interfaces_:function(){return[]},getClass:function(){return cr}}),cr.findLabeledEdgeRings=function(r){for(var s=new H,l=1,f=r.iterator();f.hasNext();){var p=f.next();if(!(p.isMarked()||p.getLabel()>=0)){s.add(p);var v=ua.findDirEdgesInRing(p);cr.label(v,l),l++}}return s},cr.getDegreeNonDeleted=function(r){for(var s=r.getOutEdges().getEdges(),l=0,f=s.iterator();f.hasNext();){var p=f.next();p.isMarked()||l++}return l},cr.deleteAllEdges=function(r){for(var s=r.getOutEdges().getEdges(),l=s.iterator();l.hasNext();){var f=l.next();f.setMarked(!0);var p=f.getSym();p!==null&&p.setMarked(!0)}},cr.label=function(r,s){for(var l=r.iterator();l.hasNext();){var f=l.next();f.setLabel(s)}},cr.computeNextCWEdges=function(r){for(var s=r.getOutEdges(),l=null,f=null,p=s.getEdges().iterator();p.hasNext();){var v=p.next();if(!v.isMarked()){if(l===null&&(l=v),f!==null){var S=f.getSym();S.setNext(v)}f=v}}if(f!==null){var S=f.getSym();S.setNext(l)}},cr.computeNextCCWEdges=function(r,s){for(var l=r.getOutEdges(),f=null,p=null,v=l.getEdges(),S=v.size()-1;S>=0;S--){var N=v.get(S),j=N.getSym(),de=null;N.getLabel()===s&&(de=N);var we=null;j.getLabel()===s&&(we=j),de===null&&we===null||(we!==null&&(p=we),de!==null&&(p!==null&&(p.setNext(de),p=null),f===null&&(f=de)))}p!==null&&(_.isTrue(f!==null),p.setNext(f))},cr.getDegree=function(r,s){for(var l=r.getOutEdges().getEdges(),f=0,p=l.iterator();p.hasNext();){var v=p.next();v.getLabel()===s&&f++}return f},cr.findIntersectionNodes=function(r,s){var l=r,f=null;do{var p=l.getFromNode();cr.getDegree(p,s)>1&&(f===null&&(f=new H),f.add(p)),l=l.getNext(),_.isTrue(l!==null,"found null DE in ring"),_.isTrue(l===r||!l.isInRing(),"found DE already in ring")}while(l!==r);return f},a(vi.prototype,{getGeometry:function(){return this.geomFactory===null&&(this.geomFactory=new Mt),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(Mt.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(r,s,l){for(var f=r.iterator();f.hasNext();){var p=f.next();p.isValid()?s.add(p):l.add(p.getLineString())}},polygonize:function(){if(this.polyList!==null||(this.polyList=new H,this.graph===null))return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var r=this.graph.getEdgeRings(),s=new H;this.invalidRingLines=new H,this.isCheckingRingsValid?this.findValidRings(r,s,this.invalidRingLines):s=r,this.findShellsAndHoles(s),vi.assignHolesToShells(this.holeList,this.shellList),Va.sort(this.shellList,new ua.EnvelopeComparator);var l=!0;this.extractOnlyPolygonal&&(vi.findDisjointShells(this.shellList),l=!1),this.polyList=vi.extractPolygons(this.shellList,l)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(I(arguments[0],W))for(var r=arguments[0],s=r.iterator();s.hasNext();){var l=s.next();this.add(l)}else if(arguments[0]instanceof St){var f=arguments[0];this.geomFactory=f.getFactory(),this.graph===null&&(this.graph=new cr(this.geomFactory)),this.graph.addEdge(f)}else if(arguments[0]instanceof be){var p=arguments[0];p.apply(this.lineStringAdder)}},setCheckRingsValid:function(r){this.isCheckingRingsValid=r},findShellsAndHoles:function(r){this.holeList=new H,this.shellList=new H;for(var s=r.iterator();s.hasNext();){var l=s.next();l.computeHole(),l.isHole()?this.holeList.add(l):this.shellList.add(l)}},interfaces_:function(){return[]},getClass:function(){return vi}}),vi.findOuterShells=function(r){for(var s=r.iterator();s.hasNext();){var l=s.next(),f=l.getOuterHole();f===null||f.isProcessed()||(l.setIncluded(!0),f.setProcessed(!0))}},vi.extractPolygons=function(r,s){for(var l=new H,f=r.iterator();f.hasNext();){var p=f.next();(s||p.isIncluded())&&l.add(p.getPolygon())}return l},vi.assignHolesToShells=function(r,s){for(var l=r.iterator();l.hasNext();){var f=l.next();vi.assignHoleToShell(f,s)}},vi.assignHoleToShell=function(r,s){var l=ua.findEdgeRingContaining(r,s);l!==null&&l.addHole(r)},vi.findDisjointShells=function(r){vi.findOuterShells(r);var s=null;do{s=!1;for(var l=r.iterator();l.hasNext();){var f=l.next();f.isIncludedSet()||(f.updateIncluded(),f.isIncludedSet()||(s=!0))}}while(s)},a(Ic.prototype,{filter:function(r){r instanceof St&&this.p.add(r)},interfaces_:function(){return[$e]},getClass:function(){return Ic}}),vi.LineStringAdder=Ic;var O4=Object.freeze({Polygonizer:vi});a(Pc.prototype,{createEdgeEndForNext:function(r,s,l,f){var p=l.segmentIndex+1;if(p>=r.getNumPoints()&&f===null)return null;var v=r.getCoordinate(p);f!==null&&f.segmentIndex===l.segmentIndex&&(v=f.coord);var S=new zi(r,l.coord,v,new Bn(r.getLabel()));s.add(S)},createEdgeEndForPrev:function(r,s,l,f){var p=l.segmentIndex;if(l.dist===0){if(p===0)return null;p--}var v=r.getCoordinate(p);f!==null&&f.segmentIndex>=p&&(v=f.coord);var S=new Bn(r.getLabel());S.flip();var N=new zi(r,l.coord,v,S);s.add(N)},computeEdgeEnds:function(){if(arguments.length===1){for(var r=arguments[0],s=new H,l=r;l.hasNext();){var f=l.next();this.computeEdgeEnds(f,s)}return s}if(arguments.length===2){var p=arguments[0],v=arguments[1],S=p.getEdgeIntersectionList();S.addEndpoints();var N=S.iterator(),j=null,de=null;if(!N.hasNext())return null;var we=N.next();do j=de,de=we,we=null,N.hasNext()&&(we=N.next()),de!==null&&(this.createEdgeEndForPrev(p,v,de,j),this.createEdgeEndForNext(p,v,de,we));while(de!==null)}},interfaces_:function(){return[]},getClass:function(){return Pc}}),x(Ql,zi),a(Ql.prototype,{insert:function(r){this.edgeEnds.add(r)},print:function(r){r.println("EdgeEndBundle--> Label: "+this.label);for(var s=this.iterator();s.hasNext();){var l=s.next();l.print(r),r.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(r,s){for(var l=0,f=!1,p=this.iterator();p.hasNext();){var v=p.next(),S=v.getLabel().getLocation(r);S===b.BOUNDARY&&l++,S===b.INTERIOR&&(f=!0)}var S=b.NONE;f&&(S=b.INTERIOR),l>0&&(S=$r.determineBoundary(s,l)),this.label.setLocation(r,S)},computeLabelSide:function(r,s){for(var l=this.iterator();l.hasNext();){var f=l.next();if(f.getLabel().isArea()){var p=f.getLabel().getLocation(r,s);if(p===b.INTERIOR)return this.label.setLocation(r,s,b.INTERIOR),null;p===b.EXTERIOR&&this.label.setLocation(r,s,b.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(r){this.computeLabelSide(r,Ve.LEFT),this.computeLabelSide(r,Ve.RIGHT)},updateIM:function(r){ei.updateIM(this.label,r)},computeLabel:function(r){for(var s=!1,l=this.iterator();l.hasNext();){var f=l.next();f.getLabel().isArea()&&(s=!0)}s?this.label=new Bn(b.NONE,b.NONE,b.NONE):this.label=new Bn(b.NONE);for(var p=0;2>p;p++)this.computeLabelOn(p,r),s&&this.computeLabelSides(p)},interfaces_:function(){return[]},getClass:function(){return Ql}}),x(Nc,$s),a(Nc.prototype,{updateIM:function(r){for(var s=this.iterator();s.hasNext();){var l=s.next();l.updateIM(r)}},insert:function(r){var s=this.edgeMap.get(r);s===null?(s=new Ql(r),this.insertEdgeEnd(r,s)):s.insert(r)},interfaces_:function(){return[]},getClass:function(){return Nc}}),x(Ac,Hi),a(Ac.prototype,{updateIMFromEdges:function(r){this.edges.updateIM(r)},computeIM:function(r){r.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Ac}}),x(ed,Ds),a(ed.prototype,{createNode:function(r){return new Ac(r,new Nc)},interfaces_:function(){return[]},getClass:function(){return ed}}),a(Dc.prototype,{insertEdgeEnds:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();this.nodes.add(l)}},computeProperIntersectionIM:function(r,s){var l=this.arg[0].getGeometry().getDimension(),f=this.arg[1].getGeometry().getDimension(),p=r.hasProperIntersection(),v=r.hasProperInteriorIntersection();l===2&&f===2?p&&s.setAtLeast("212101212"):l===2&&f===1?(p&&s.setAtLeast("FFF0FFFF2"),v&&s.setAtLeast("1FFFFF1FF")):l===1&&f===2?(p&&s.setAtLeast("F0FFFFFF2"),v&&s.setAtLeast("1F1FFFFFF")):l===1&&f===1&&v&&s.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(r,s){for(var l=this.arg[r].getEdgeIterator();l.hasNext();){var f=l.next();f.isIsolated()&&(this.labelIsolatedEdge(f,s,this.arg[s].getGeometry()),this.isolatedEdges.add(f))}},labelIsolatedEdge:function(r,s,l){if(l.getDimension()>0){var f=this.ptLocator.locate(r.getCoordinate(),l);r.getLabel().setAllLocations(s,f)}else r.getLabel().setAllLocations(s,b.EXTERIOR)},computeIM:function(){var r=new Ht;if(r.set(b.EXTERIOR,b.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(r),r;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var s=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(s,r);var l=new Pc,f=l.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(f);var p=l.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(p),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(r),r},labelNodeEdges:function(){for(var r=this.nodes.iterator();r.hasNext();){var s=r.next();s.getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(r){for(var s=this.arg[r].getNodeIterator();s.hasNext();){var l=s.next(),f=this.nodes.addNode(l.getCoordinate());f.setLabel(r,l.getLabel().getLocation(r))}},labelIntersectionNodes:function(r){for(var s=this.arg[r].getEdgeIterator();s.hasNext();)for(var l=s.next(),f=l.getLabel().getLocation(r),p=l.getEdgeIntersectionList().iterator();p.hasNext();){var v=p.next(),S=this.nodes.find(v.coord);S.getLabel().isNull(r)&&(f===b.BOUNDARY?S.setLabelBoundary(r):S.setLabel(r,b.INTERIOR))}},labelIsolatedNode:function(r,s){var l=this.ptLocator.locate(r.getCoordinate(),this.arg[s].getGeometry());r.getLabel().setAllLocations(s,l)},computeIntersectionNodes:function(r){for(var s=this.arg[r].getEdgeIterator();s.hasNext();)for(var l=s.next(),f=l.getLabel().getLocation(r),p=l.getEdgeIntersectionList().iterator();p.hasNext();){var v=p.next(),S=this.nodes.addNode(v.coord);f===b.BOUNDARY?S.setLabelBoundary(r):S.getLabel().isNull(r)&&S.setLabel(r,b.INTERIOR)}},labelIsolatedNodes:function(){for(var r=this.nodes.iterator();r.hasNext();){var s=r.next(),l=s.getLabel();_.isTrue(l.getGeometryCount()>0,"node with empty label found"),s.isIsolated()&&(l.isNull(0)?this.labelIsolatedNode(s,0):this.labelIsolatedNode(s,1))}},updateIM:function(r){for(var s=this.isolatedEdges.iterator();s.hasNext();){var l=s.next();l.updateIM(r)}for(var f=this.nodes.iterator();f.hasNext();){var p=f.next();p.updateIM(r),p.updateIMFromEdges(r)}},computeDisjointIM:function(r){var s=this.arg[0].getGeometry();s.isEmpty()||(r.set(b.INTERIOR,b.EXTERIOR,s.getDimension()),r.set(b.BOUNDARY,b.EXTERIOR,s.getBoundaryDimension()));var l=this.arg[1].getGeometry();l.isEmpty()||(r.set(b.EXTERIOR,b.INTERIOR,l.getDimension()),r.set(b.EXTERIOR,b.BOUNDARY,l.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Dc}}),a(td.prototype,{isContainedInBoundary:function(r){if(r instanceof Ct)return!1;if(r instanceof ot)return this.isPointContainedInBoundary(r);if(r instanceof St)return this.isLineStringContainedInBoundary(r);for(var s=0;s<r.getNumGeometries();s++){var l=r.getGeometryN(s);if(!this.isContainedInBoundary(l))return!1}return!0},isLineSegmentContainedInBoundary:function(r,s){if(r.equals(s))return this.isPointContainedInBoundary(r);if(r.x===s.x){if(r.x===this.rectEnv.getMinX()||r.x===this.rectEnv.getMaxX())return!0}else if(r.y===s.y&&(r.y===this.rectEnv.getMinY()||r.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(r){for(var s=r.getCoordinateSequence(),l=new w,f=new w,p=0;p<s.size()-1;p++)if(s.getCoordinate(p,l),s.getCoordinate(p+1,f),!this.isLineSegmentContainedInBoundary(l,f))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof ot){var r=arguments[0];return this.isPointContainedInBoundary(r.getCoordinate())}if(arguments[0]instanceof w){var s=arguments[0];return s.x===this.rectEnv.getMinX()||s.x===this.rectEnv.getMaxX()||s.y===this.rectEnv.getMinY()||s.y===this.rectEnv.getMaxY()}},contains:function(r){return this.rectEnv.contains(r.getEnvelopeInternal())?!this.isContainedInBoundary(r):!1},interfaces_:function(){return[]},getClass:function(){return td}}),td.contains=function(r,s){var l=new td(r);return l.contains(s)},a(J0.prototype,{intersects:function(r,s){var l=new Y(r,s);if(!this.rectEnv.intersects(l))return!1;if(this.rectEnv.intersects(r)||this.rectEnv.intersects(s))return!0;if(r.compareTo(s)>0){var f=r;r=s,s=f}var p=!1;return s.y>r.y&&(p=!0),p?this.li.computeIntersection(r,s,this.diagDown0,this.diagDown1):this.li.computeIntersection(r,s,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return J0}}),a(fo.prototype,{applyTo:function(r){for(var s=0;s<r.getNumGeometries()&&!this._isDone;s++){var l=r.getGeometryN(s);if(l instanceof It)this.applyTo(l);else if(this.visit(l),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return fo}}),a(Yu.prototype,{intersects:function(r){if(!this.rectEnv.intersects(r.getEnvelopeInternal()))return!1;var s=new $c(this.rectEnv);if(s.applyTo(r),s.intersects())return!0;var l=new Tc(this.rectangle);if(l.applyTo(r),l.containsPoint())return!0;var f=new Rc(this.rectangle);return f.applyTo(r),!!f.intersects()},interfaces_:function(){return[]},getClass:function(){return Yu}}),Yu.intersects=function(r,s){var l=new Yu(r);return l.intersects(s)},x($c,fo),a($c.prototype,{isDone:function(){return this._intersects===!0},visit:function(r){var s=r.getEnvelopeInternal();return this.rectEnv.intersects(s)?this.rectEnv.contains(s)?(this._intersects=!0,null):s.getMinX()>=this.rectEnv.getMinX()&&s.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):s.getMinY()>=this.rectEnv.getMinY()&&s.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return $c}}),x(Tc,fo),a(Tc.prototype,{isDone:function(){return this._containsPoint===!0},visit:function(r){if(!(r instanceof Ct))return null;var s=r.getEnvelopeInternal();if(!this.rectEnv.intersects(s))return null;for(var l=new w,f=0;4>f;f++)if(this.rectSeq.getCoordinate(f,l),s.contains(l)&&ui.containsPointInPolygon(l,r))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return Tc}}),x(Rc,fo),a(Rc.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return this.hasIntersection===!0},visit:function(r){var s=r.getEnvelopeInternal();if(!this.rectEnv.intersects(s))return null;var l=ar.getLines(r);this.checkIntersectionWithLineStrings(l)},checkIntersectionWithLineStrings:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();if(this.checkIntersectionWithSegments(l),this.hasIntersection)return null}},checkIntersectionWithSegments:function(r){for(var s=r.getCoordinateSequence(),l=1;l<s.size();l++)if(s.getCoordinate(l-1,this.p0),s.getCoordinate(l,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Rc}}),x(bn,ns),a(bn.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return bn}}),bn.covers=function(r,s){return r.getEnvelopeInternal().covers(s.getEnvelopeInternal())?r.isRectangle()?!0:bn.relate(r,s).isCovers():!1},bn.intersects=function(r,s){return r.getEnvelopeInternal().intersects(s.getEnvelopeInternal())?r.isRectangle()?Yu.intersects(r,s):s.isRectangle()?Yu.intersects(s,r):bn.relate(r,s).isIntersects():!1},bn.touches=function(r,s){return r.getEnvelopeInternal().intersects(s.getEnvelopeInternal())?bn.relate(r,s).isTouches(r.getDimension(),s.getDimension()):!1},bn.within=function(r,s){return s.contains(r)},bn.coveredBy=function(r,s){return bn.covers(s,r)},bn.relate=function(){if(arguments.length===2){var r=arguments[0],s=arguments[1],l=new bn(r,s),f=l.getIntersectionMatrix();return f}if(arguments.length===3){if(typeof arguments[2]=="string"&&arguments[0]instanceof be&&arguments[1]instanceof be){var p=arguments[0],v=arguments[1],S=arguments[2];return bn.relateWithCheck(p,v).matches(S)}if(I(arguments[2],Qe)&&arguments[0]instanceof be&&arguments[1]instanceof be){var N=arguments[0],j=arguments[1],de=arguments[2],l=new bn(N,j,de),f=l.getIntersectionMatrix();return f}}},bn.overlaps=function(r,s){return r.getEnvelopeInternal().intersects(s.getEnvelopeInternal())?bn.relate(r,s).isOverlaps(r.getDimension(),s.getDimension()):!1},bn.disjoint=function(r,s){return!r.intersects(s)},bn.relateWithCheck=function(r,s){return r.checkNotGeometryCollection(r),r.checkNotGeometryCollection(s),bn.relate(r,s)},bn.crosses=function(r,s){return r.getEnvelopeInternal().intersects(s.getEnvelopeInternal())?bn.relate(r,s).isCrosses(r.getDimension(),s.getDimension()):!1},bn.contains=function(r,s){return r.getEnvelopeInternal().contains(s.getEnvelopeInternal())?r.isRectangle()?td.contains(r,s):bn.relate(r,s).isContains():!1};var L4=Object.freeze({RelateOp:bn});a(Ni.prototype,{extractElements:function(r,s){if(r===null)return null;for(var l=0;l<r.getNumGeometries();l++){var f=r.getGeometryN(l);this.skipEmpty&&f.isEmpty()||s.add(f)}},combine:function(){for(var r=new H,s=this.inputGeoms.iterator();s.hasNext();){var l=s.next();this.extractElements(l,r)}return r.size()===0?this.geomFactory!==null?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(r)},interfaces_:function(){return[]},getClass:function(){return Ni}}),Ni.combine=function(){if(arguments.length===1){var r=arguments[0],s=new Ni(r);return s.combine()}if(arguments.length===2){var l=arguments[0],f=arguments[1],s=new Ni(Ni.createList(l,f));return s.combine()}if(arguments.length===3){var p=arguments[0],v=arguments[1],S=arguments[2],s=new Ni(Ni.createList(p,v,S));return s.combine()}},Ni.extractFactory=function(r){return r.isEmpty()?null:r.iterator().next().getFactory()},Ni.createList=function(){if(arguments.length===2){var r=arguments[0],s=arguments[1],l=new H;return l.add(r),l.add(s),l}if(arguments.length===3){var f=arguments[0],p=arguments[1],v=arguments[2],l=new H;return l.add(f),l.add(p),l.add(v),l}},a(nd.prototype,{union:function(){for(var r=new tt,s=new nt,l=0;l<this.pointGeom.getNumGeometries();l++){var f=this.pointGeom.getGeometryN(l),p=f.getCoordinate(),v=r.locate(p,this.otherGeom);v===b.EXTERIOR&&s.add(p)}if(s.size()===0)return this.otherGeom;var S=null,N=Pe.toCoordinateArray(s);return S=N.length===1?this.geomFact.createPoint(N[0]):this.geomFact.createMultiPointFromCoords(N),Ni.combine(S,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return nd}}),nd.union=function(r,s){var l=new nd(r,s);return l.union()},a(ho.prototype,{filter:function(r){this.sortIndex!==-1&&r.getSortIndex()!==this.sortIndex||this.comps.add(r)},interfaces_:function(){return[nn]},getClass:function(){return ho}}),ho.extract=function(){if(arguments.length===2){var r=arguments[0],s=arguments[1];return ho.extract(r,s,new H)}if(arguments.length===3){var l=arguments[0],f=arguments[1],p=arguments[2];return l.getSortIndex()===f?p.add(l):l instanceof It&&l.apply(new ho(f,p)),p}},a(Ui.prototype,{reduceToGeometries:function(r){for(var s=new H,l=r.iterator();l.hasNext();){var f=l.next(),p=null;I(f,O)?p=this.unionTree(f):f instanceof be&&(p=f),s.add(p)}return s},extractByEnvelope:function(r,s,l){for(var f=new H,p=0;p<s.getNumGeometries();p++){var v=s.getGeometryN(p);v.getEnvelopeInternal().intersects(r)?f.add(v):l.add(v)}return this.geomFactory.buildGeometry(f)},unionOptimized:function(r,s){var l=r.getEnvelopeInternal(),f=s.getEnvelopeInternal();if(!l.intersects(f)){var p=Ni.combine(r,s);return p}if(r.getNumGeometries()<=1&&s.getNumGeometries()<=1)return this.unionActual(r,s);var v=l.intersection(f);return this.unionUsingEnvelopeIntersection(r,s,v)},union:function(){if(this.inputPolys===null)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var r=new Dt(Ui.STRTREE_NODE_CAPACITY),s=this.inputPolys.iterator();s.hasNext();){var l=s.next();r.insert(l.getEnvelopeInternal(),l)}this.inputPolys=null;var f=r.itemsTree(),p=this.unionTree(f);return p},binaryUnion:function(){if(arguments.length===1){var r=arguments[0];return this.binaryUnion(r,0,r.size())}if(arguments.length===3){var s=arguments[0],l=arguments[1],f=arguments[2];if(1>=f-l){var v=Ui.getGeometry(s,l);return this.unionSafe(v,null)}if(f-l===2)return this.unionSafe(Ui.getGeometry(s,l),Ui.getGeometry(s,l+1));var p=Math.trunc((f+l)/2),v=this.binaryUnion(s,l,p),S=this.binaryUnion(s,p,f);return this.unionSafe(v,S)}},repeatedUnion:function(r){for(var s=null,l=r.iterator();l.hasNext();){var f=l.next();s=s===null?f.copy():s.union(f)}return s},unionSafe:function(r,s){return r===null&&s===null?null:r===null?s.copy():s===null?r.copy():this.unionOptimized(r,s)},unionActual:function(r,s){return Ui.restrictToPolygons(r.union(s))},unionTree:function(r){var s=this.reduceToGeometries(r),l=this.binaryUnion(s);return l},unionUsingEnvelopeIntersection:function(r,s,l){var f=new H,p=this.extractByEnvelope(l,r,f),v=this.extractByEnvelope(l,s,f),S=this.unionActual(p,v);f.add(S);var N=Ni.combine(f);return N},bufferUnion:function(){if(arguments.length===1){var r=arguments[0],s=r.get(0).getFactory(),l=s.buildGeometry(r),f=l.buffer(0);return f}if(arguments.length===2){var p=arguments[0],v=arguments[1],s=p.getFactory(),l=s.createGeometryCollection([p,v]),f=l.buffer(0);return f}},interfaces_:function(){return[]},getClass:function(){return Ui}}),Ui.restrictToPolygons=function(r){if(I(r,ir))return r;var s=iu.getPolygons(r);return s.size()===1?s.get(0):r.getFactory().createMultiPolygon(Mt.toPolygonArray(s))},Ui.getGeometry=function(r,s){return s>=r.size()?null:r.get(s)},Ui.union=function(r){var s=new Ui(r);return s.union()},Ui.STRTREE_NODE_CAPACITY=4,a(go.prototype,{unionNoOpt:function(r){var s=this.geomFact.createPoint();return Qn.overlayOp(r,s,ft.UNION)},unionWithNull:function(r,s){return r===null&&s===null?null:s===null?r:r===null?s:r.union(s)},extract:function(){if(I(arguments[0],W))for(var r=arguments[0],s=r.iterator();s.hasNext();){var l=s.next();this.extract(l)}else if(arguments[0]instanceof be){var f=arguments[0];this.geomFact===null&&(this.geomFact=f.getFactory()),ho.extract(f,be.SORTINDEX_POLYGON,this.polygons),ho.extract(f,be.SORTINDEX_LINESTRING,this.lines),ho.extract(f,be.SORTINDEX_POINT,this.points)}},union:function(){if(this.geomFact===null)return null;var s=null;if(this.points.size()>0){var l=this.geomFact.buildGeometry(this.points);s=this.unionNoOpt(l)}var f=null;if(this.lines.size()>0){var p=this.geomFact.buildGeometry(this.lines);f=this.unionNoOpt(p)}var v=null;this.polygons.size()>0&&(v=Ui.union(this.polygons));var S=this.unionWithNull(f,v),N=null;return N=s===null?S:S===null?s:nd.union(s,S),N===null?this.geomFact.createGeometryCollection():N},interfaces_:function(){return[]},getClass:function(){return go}}),go.union=function(){if(arguments.length===1){if(I(arguments[0],W)){var r=arguments[0],s=new go(r);return s.union()}if(arguments[0]instanceof be){var l=arguments[0],s=new go(l);return s.union()}}else if(arguments.length===2){var f=arguments[0],p=arguments[1],s=new go(f,p);return s.union()}};var k4=Object.freeze({UnaryUnionOp:go});a(rd.prototype,{visitInteriorRing:function(r,s){var l=r.getCoordinates(),f=l[0],p=rd.findDifferentPoint(l,f),v=s.findEdgeInSameDirection(f,p),S=s.findEdgeEnd(v),N=null;S.getLabel().getLocation(0,Ve.RIGHT)===b.INTERIOR?N=S:S.getSym().getLabel().getLocation(0,Ve.RIGHT)===b.INTERIOR&&(N=S.getSym()),_.isTrue(N!==null,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(N)},visitShellInteriors:function(r,s){if(r instanceof Ct){var l=r;this.visitInteriorRing(l.getExteriorRing(),s)}if(r instanceof J)for(var f=r,p=0;p<f.getNumGeometries();p++){var l=f.getGeometryN(p);this.visitInteriorRing(l.getExteriorRing(),s)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(r){for(var s=r.getEdgeEnds().iterator();s.hasNext();){var l=s.next();l.getLabel().getLocation(0,Ve.RIGHT)===b.INTERIOR&&l.setInResult(!0)}},visitLinkedDirectedEdges:function(r){var s=r,l=r;do _.isTrue(l!==null,"found null Directed Edge"),l.setVisited(!0),l=l.getNext();while(l!==s)},buildEdgeRings:function(r){for(var s=new H,l=r.iterator();l.hasNext();){var f=l.next();if(f.isInResult()&&f.getEdgeRing()===null){var p=new Jo(f,this.geometryFactory);p.linkDirectedEdgesForMinimalEdgeRings();var v=p.buildMinimalRings();s.addAll(v)}}return s},hasUnvisitedShellEdge:function(r){for(var s=0;s<r.size();s++){var l=r.get(s);if(!l.isHole()){var f=l.getEdges(),p=f.get(0);if(p.getLabel().getLocation(0,Ve.RIGHT)===b.INTERIOR){for(var v=0;v<f.size();v++)if(p=f.get(v),!p.isVisited())return this.disconnectedRingcoord=p.getCoordinate(),!0}}}return!1},isInteriorsConnected:function(){var r=new H;this.geomGraph.computeSplitEdges(r);var s=new oi(new so);s.addEdges(r),this.setInteriorEdgesInResult(s),s.linkResultDirectedEdges();var l=this.buildEdgeRings(s.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),s),!this.hasUnvisitedShellEdge(l)},interfaces_:function(){return[]},getClass:function(){return rd}}),rd.findDifferentPoint=function(r,s){for(var l=0;l<r.length;l++)if(!r[l].equals(s))return r[l];return null},a(Ha.prototype,{hasChildren:function(){for(var r=0;2>r;r++)if(this.subnode[r]!==null)return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(r){r.addAll(this.items);for(var s=0;2>s;s++)this.subnode[s]!==null&&this.subnode[s].addAllItems(r);return r},size:function(){for(var r=0,s=0;2>s;s++)this.subnode[s]!==null&&(r+=this.subnode[s].size());return r+this.items.size()},addAllItemsFromOverlapping:function(r,s){return r===null||this.isSearchMatch(r)?(s.addAll(this.items),this.subnode[0]!==null&&this.subnode[0].addAllItemsFromOverlapping(r,s),void(this.subnode[1]!==null&&this.subnode[1].addAllItemsFromOverlapping(r,s))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(r,s){if(!this.isSearchMatch(r))return!1;for(var l=!1,f=0;2>f;f++)if(this.subnode[f]!==null&&(l=this.subnode[f].remove(r,s))){this.subnode[f].isPrunable()&&(this.subnode[f]=null);break}return l||(l=this.items.remove(s))},getItems:function(){return this.items},depth:function(){for(var r=0,s=0;2>s;s++)if(this.subnode[s]!==null){var l=this.subnode[s].depth();l>r&&(r=l)}return r+1},nodeSize:function(){for(var r=0,s=0;2>s;s++)this.subnode[s]!==null&&(r+=this.subnode[s].nodeSize());return r+1},add:function(r){this.items.add(r)},interfaces_:function(){return[]},getClass:function(){return Ha}}),Ha.getSubnodeIndex=function(r,s){var l=-1;return r.min>=s&&(l=1),r.max<=s&&(l=0),l},a(as.prototype,{expandToInclude:function(r){r.max>this.max&&(this.max=r.max),r.min<this.min&&(this.min=r.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(arguments.length===1){var r=arguments[0];return this.overlaps(r.min,r.max)}if(arguments.length===2){var s=arguments[0],l=arguments[1];return!(this.min>l||this.max<s)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(arguments.length===1){if(arguments[0]instanceof as){var r=arguments[0];return this.contains(r.min,r.max)}if(typeof arguments[0]=="number"){var s=arguments[0];return s>=this.min&&s<=this.max}}else if(arguments.length===2){var l=arguments[0],f=arguments[1];return l>=this.min&&f<=this.max}},init:function(r,s){this.min=r,this.max=s,r>s&&(this.min=s,this.max=r)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return as}}),a(id.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(r){for(this.level=id.computeLevel(r),this.interval=new as,this.computeInterval(this.level,r);!this.interval.contains(r);)this.level+=1,this.computeInterval(this.level,r)},computeInterval:function(r,s){var l=Ie.powerOf2(r);this.pt=Math.floor(s.getMin()/l)*l,this.interval.init(this.pt,this.pt+l)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return id}}),id.computeLevel=function(r){var s=r.getWidth(),l=Ie.exponent(s)+1;return l},x(ks,Ha),a(ks.prototype,{getInterval:function(){return this.interval},find:function(r){var s=Ha.getSubnodeIndex(r,this.centre);if(s===-1)return this;if(this.subnode[s]!==null){var l=this.subnode[s];return l.find(r)}return this},insert:function(r){_.isTrue(this.interval===null||this.interval.contains(r.interval));var s=Ha.getSubnodeIndex(r.interval,this.centre);if(r.level===this.level-1)this.subnode[s]=r;else{var l=this.createSubnode(s);l.insert(r),this.subnode[s]=l}},isSearchMatch:function(r){return r.overlaps(this.interval)},getSubnode:function(r){return this.subnode[r]===null&&(this.subnode[r]=this.createSubnode(r)),this.subnode[r]},getNode:function(r){var s=Ha.getSubnodeIndex(r,this.centre);if(s!==-1){var l=this.getSubnode(s);return l.getNode(r)}return this},createSubnode:function(r){var s=0,l=0;switch(r){case 0:s=this.interval.getMin(),l=this.centre;break;case 1:s=this.centre,l=this.interval.getMax()}var f=new as(s,l),p=new ks(f,this.level-1);return p},interfaces_:function(){return[]},getClass:function(){return ks}}),ks.createNode=function(r){var s=new id(r),l=new ks(s.getInterval(),s.getLevel());return l},ks.createExpanded=function(r,s){var l=new as(s);r!==null&&l.expandToInclude(r.interval);var f=ks.createNode(l);return r!==null&&f.insert(r),f},x(Xu,Ha),a(Xu.prototype,{insert:function(r,s){var l=Ha.getSubnodeIndex(r,Xu.origin);if(l===-1)return this.add(s),null;var f=this.subnode[l];if(f===null||!f.getInterval().contains(r)){var p=ks.createExpanded(f,r);this.subnode[l]=p}this.insertContained(this.subnode[l],r,s)},isSearchMatch:function(r){return!0},insertContained:function(r,s,l){_.isTrue(r.getInterval().contains(s));var f=xt.isZeroWidth(s.getMin(),s.getMax()),p=null;p=f?r.find(s):r.getNode(s),p.add(l)},interfaces_:function(){return[]},getClass:function(){return Xu}}),Xu.origin=0,a(Zu.prototype,{size:function(){return this.root!==null?this.root.size():0},insert:function(r,s){this.collectStats(r);var l=Zu.ensureExtent(r,this.minExtent);this.root.insert(l,s)},query:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var r=arguments[0];return this.query(new as(r,r))}if(arguments[0]instanceof as){var s=arguments[0],l=new H;return this.query(s,l),l}}else if(arguments.length===2){var f=arguments[0],p=arguments[1];this.root.addAllItemsFromOverlapping(f,p)}},iterator:function(){var r=new H;return this.root.addAllItems(r),r.iterator()},remove:function(r,s){var l=Zu.ensureExtent(r,this.minExtent);return this.root.remove(l,s)},collectStats:function(r){var s=r.getWidth();s<this.minExtent&&s>0&&(this.minExtent=s)},depth:function(){return this.root!==null?this.root.depth():0},nodeSize:function(){return this.root!==null?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return Zu}}),Zu.ensureExtent=function(r,s){var l=r.getMin(),f=r.getMax();return l!==f?r:(l===f&&(l-=s/2,f=l+s/2),new as(l,f))},a(Y0.prototype,{isInside:function(r){},interfaces_:function(){return[]},getClass:function(){return Y0}}),a(Oc.prototype,{testLineSegment:function(r,s){var l=null,f=null,p=null,v=null,S=null,N=s.p0,j=s.p1;f=N.x-r.x,p=N.y-r.y,v=j.x-r.x,S=j.y-r.y,(p>0&&0>=S||S>0&&0>=p)&&(l=Qr.signOfDet2x2(f,p,v,S)/(S-p),l>0&&this.crossings++)},buildIndex:function(){this.tree=new Zu;for(var r=Pe.removeRepeatedPoints(this.ring.getCoordinates()),s=si.getChains(r),l=0;l<s.size();l++){var f=s.get(l),p=f.getEnvelope();this.interval.min=p.getMinY(),this.interval.max=p.getMaxY(),this.tree.insert(this.interval,f)}},testMonotoneChain:function(r,s,l){l.select(r,s)},isInside:function(r){this.crossings=0;var s=new Y(d.NEGATIVE_INFINITY,d.POSITIVE_INFINITY,r.y,r.y);this.interval.min=r.y,this.interval.max=r.y;for(var l=this.tree.query(this.interval),f=new ad(this,r),p=l.iterator();p.hasNext();){var v=p.next();this.testMonotoneChain(s,f,v)}return this.crossings%2===1},interfaces_:function(){return[Y0]},getClass:function(){return Oc}}),x(ad,co),a(ad.prototype,{select:function(){if(arguments.length!==1)return co.prototype.select.apply(this,arguments);var r=arguments[0];this.mcp.testLineSegment(this.p,r)},interfaces_:function(){return[]},getClass:function(){return ad}}),Oc.MCSelecter=ad,a(X0.prototype,{insertEdgeEnds:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();this.nodes.add(l)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(r,s){for(var l=r.getNodeIterator();l.hasNext();){var f=l.next(),p=this.nodes.addNode(f.getCoordinate());p.setLabel(s,f.getLabel().getLocation(s))}},build:function(r){this.computeIntersectionNodes(r,0),this.copyNodesAndLabels(r,0);var s=new Pc,l=s.computeEdgeEnds(r.getEdgeIterator());this.insertEdgeEnds(l)},computeIntersectionNodes:function(r,s){for(var l=r.getEdgeIterator();l.hasNext();)for(var f=l.next(),p=f.getLabel().getLocation(s),v=f.getEdgeIntersectionList().iterator();v.hasNext();){var S=v.next(),N=this.nodes.addNode(S.coord);p===b.BOUNDARY?N.setLabelBoundary(s):N.getLabel().isNull(s)&&N.setLabel(s,b.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return X0}}),a(Z0.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var r=this.nodeGraph.getNodeIterator();r.hasNext();){var s=r.next();if(!s.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=s.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var r=this.nodeGraph.getNodeIterator();r.hasNext();)for(var s=r.next(),l=s.getEdges().iterator();l.hasNext();){var f=l.next();if(f.getEdgeEnds().size()>1)return this.invalidPoint=f.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var r=this.geomGraph.computeSelfNodes(this.li,!0,!0);return r.hasProperIntersection()?(this.invalidPoint=r.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return Z0}}),a(Q0.prototype,{buildIndex:function(){this.index=new Dt;for(var r=0;r<this.rings.size();r++){var s=this.rings.get(r),l=s.getEnvelopeInternal();this.index.insert(l,s)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var r=0;r<this.rings.size();r++)for(var s=this.rings.get(r),l=s.getCoordinates(),f=this.index.query(s.getEnvelopeInternal()),p=0;p<f.size();p++){var v=f.get(p),S=v.getCoordinates();if(s!==v&&s.getEnvelopeInternal().intersects(v.getEnvelopeInternal())){var N=qi.findPtNotNode(l,v,this.graph);if(N!==null){var j=Be.isPointInRing(N,S);if(j)return this.nestedPt=N,!1}}}return!0},add:function(r){this.rings.add(r),this.totalEnv.expandToInclude(r.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Q0}}),a(vn.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return vn.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var r="";return this.pt!==null&&(r=" at or near point "+this.pt),this.getMessage()+r},interfaces_:function(){return[]},getClass:function(){return vn}}),vn.ERROR=0,vn.REPEATED_POINT=1,vn.HOLE_OUTSIDE_SHELL=2,vn.NESTED_HOLES=3,vn.DISCONNECTED_INTERIOR=4,vn.SELF_INTERSECTION=5,vn.RING_SELF_INTERSECTION=6,vn.NESTED_SHELLS=7,vn.DUPLICATE_RINGS=8,vn.TOO_FEW_POINTS=9,vn.INVALID_COORDINATE=10,vn.RING_NOT_CLOSED=11,vn.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],a(qi.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var r=arguments[0],s=0;s<r.length;s++)if(!qi.isValid(r[s]))return this.validErr=new vn(vn.INVALID_COORDINATE,r[s]),null}else if(arguments[0]instanceof Ct){var l=arguments[0];if(this.checkInvalidCoordinates(l.getExteriorRing().getCoordinates()),this.validErr!==null)return null;for(var s=0;s<l.getNumInteriorRing();s++)if(this.checkInvalidCoordinates(l.getInteriorRingN(s).getCoordinates()),this.validErr!==null)return null}},checkHolesNotNested:function(r,s){for(var l=new Q0(s),f=0;f<r.getNumInteriorRing();f++){var p=r.getInteriorRingN(f);l.add(p)}var v=l.isNonNested();v||(this.validErr=new vn(vn.NESTED_HOLES,l.getNestedPoint()))},checkConsistentArea:function(r){var s=new Z0(r),l=s.isNodeConsistentArea();return l?void(s.hasDuplicateRings()&&(this.validErr=new vn(vn.DUPLICATE_RINGS,s.getInvalidPoint()))):(this.validErr=new vn(vn.SELF_INTERSECTION,s.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),this.validErr===null},checkShellInsideHole:function(r,s,l){var f=r.getCoordinates(),p=s.getCoordinates(),v=qi.findPtNotNode(f,s,l);if(v!==null){var S=Be.isPointInRing(v,p);if(!S)return v}var N=qi.findPtNotNode(p,r,l);if(N!==null){var j=Be.isPointInRing(N,f);return j?N:null}return _.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(r){for(var s=r.getEdgeIterator();s.hasNext();){var l=s.next();if(this.checkNoSelfIntersectingRing(l.getEdgeIntersectionList()),this.validErr!==null)return null}},checkConnectedInteriors:function(r){var s=new rd(r);s.isInteriorsConnected()||(this.validErr=new vn(vn.DISCONNECTED_INTERIOR,s.getCoordinate()))},checkNoSelfIntersectingRing:function(r){for(var s=new nt,l=!0,f=r.iterator();f.hasNext();){var p=f.next();if(l)l=!1;else{if(s.contains(p.coord))return this.validErr=new vn(vn.RING_SELF_INTERSECTION,p.coord),null;s.add(p.coord)}}},checkHolesInShell:function(r,s){for(var l=r.getExteriorRing(),f=new Oc(l),p=0;p<r.getNumInteriorRing();p++){var v=r.getInteriorRingN(p),S=qi.findPtNotNode(v.getCoordinates(),l,s);if(S===null)return null;var N=!f.isInside(S);if(N)return this.validErr=new vn(vn.HOLE_OUTSIDE_SHELL,S),null}},checkTooFewPoints:function(r){return r.hasTooFewPoints()?(this.validErr=new vn(vn.TOO_FEW_POINTS,r.getInvalidPoint()),null):void 0},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof ot){var r=arguments[0];this.checkInvalidCoordinates(r.getCoordinates())}else if(arguments[0]instanceof oe){var s=arguments[0];this.checkInvalidCoordinates(s.getCoordinates())}else if(arguments[0]instanceof Q){var l=arguments[0];if(this.checkInvalidCoordinates(l.getCoordinates()),this.validErr!==null||(this.checkClosedRing(l),this.validErr!==null))return null;var f=new $r(0,l);if(this.checkTooFewPoints(f),this.validErr!==null)return null;var p=new Tn;f.computeSelfNodes(p,!0,!0),this.checkNoSelfIntersectingRings(f)}else if(arguments[0]instanceof St){var v=arguments[0];if(this.checkInvalidCoordinates(v.getCoordinates()),this.validErr!==null)return null;var f=new $r(0,v);this.checkTooFewPoints(f)}else if(arguments[0]instanceof Ct){var S=arguments[0];if(this.checkInvalidCoordinates(S),this.validErr!==null||(this.checkClosedRings(S),this.validErr!==null))return null;var f=new $r(0,S);if(this.checkTooFewPoints(f),this.validErr!==null||(this.checkConsistentArea(f),this.validErr!==null)||!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(f),this.validErr!==null)||(this.checkHolesInShell(S,f),this.validErr!==null)||(this.checkHolesNotNested(S,f),this.validErr!==null))return null;this.checkConnectedInteriors(f)}else if(arguments[0]instanceof J){for(var N=arguments[0],j=0;j<N.getNumGeometries();j++){var de=N.getGeometryN(j);if(this.checkInvalidCoordinates(de),this.validErr!==null||(this.checkClosedRings(de),this.validErr!==null))return null}var f=new $r(0,N);if(this.checkTooFewPoints(f),this.validErr!==null||(this.checkConsistentArea(f),this.validErr!==null)||!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(f),this.validErr!==null))return null;for(var j=0;j<N.getNumGeometries();j++){var de=N.getGeometryN(j);if(this.checkHolesInShell(de,f),this.validErr!==null)return null}for(var j=0;j<N.getNumGeometries();j++){var de=N.getGeometryN(j);if(this.checkHolesNotNested(de,f),this.validErr!==null)return null}if(this.checkShellsNotNested(N,f),this.validErr!==null)return null;this.checkConnectedInteriors(f)}else if(arguments[0]instanceof It)for(var we=arguments[0],j=0;j<we.getNumGeometries();j++){var Ce=we.getGeometryN(j);if(this.checkValid(Ce),this.validErr!==null)return null}else if(arguments[0]instanceof be){var Fe=arguments[0];if(this.validErr=null,Fe.isEmpty())return null;if(Fe instanceof ot)this.checkValid(Fe);else if(Fe instanceof oe)this.checkValid(Fe);else if(Fe instanceof Q)this.checkValid(Fe);else if(Fe instanceof St)this.checkValid(Fe);else if(Fe instanceof Ct)this.checkValid(Fe);else if(Fe instanceof J)this.checkValid(Fe);else{if(!(Fe instanceof It))throw new UnsupportedOperationException(Fe.getClass().getName());this.checkValid(Fe)}}},setSelfTouchingRingFormingHoleValid:function(r){this.isSelfTouchingRingFormingHoleValid=r},checkShellNotNested:function(r,s,l){var f=r.getCoordinates(),p=s.getExteriorRing(),v=p.getCoordinates(),S=qi.findPtNotNode(f,p,l);if(S===null)return null;var N=Be.isPointInRing(S,v);if(!N)return null;if(s.getNumInteriorRing()<=0)return this.validErr=new vn(vn.NESTED_SHELLS,S),null;for(var j=null,de=0;de<s.getNumInteriorRing();de++){var we=s.getInteriorRingN(de);if(j=this.checkShellInsideHole(r,we,l),j===null)return null}this.validErr=new vn(vn.NESTED_SHELLS,j)},checkClosedRings:function(r){if(this.checkClosedRing(r.getExteriorRing()),this.validErr!==null)return null;for(var s=0;s<r.getNumInteriorRing();s++)if(this.checkClosedRing(r.getInteriorRingN(s)),this.validErr!==null)return null},checkClosedRing:function(r){if(!r.isClosed()){var s=null;r.getNumPoints()>=1&&(s=r.getCoordinateN(0)),this.validErr=new vn(vn.RING_NOT_CLOSED,s)}},checkShellsNotNested:function(r,s){for(var l=0;l<r.getNumGeometries();l++)for(var f=r.getGeometryN(l),p=f.getExteriorRing(),v=0;v<r.getNumGeometries();v++)if(l!==v){var S=r.getGeometryN(v);if(this.checkShellNotNested(p,S,s),this.validErr!==null)return null}},interfaces_:function(){return[]},getClass:function(){return qi}}),qi.findPtNotNode=function(r,s,l){for(var f=l.findEdge(s),p=f.getEdgeIntersectionList(),v=0;v<r.length;v++){var S=r[v];if(!p.isIntersection(S))return S}return null},qi.isValid=function(){if(arguments[0]instanceof be){var r=arguments[0],s=new qi(r);return s.isValid()}if(arguments[0]instanceof w){var l=arguments[0];return d.isNaN(l.x)||d.isInfinite(l.x)||d.isNaN(l.y)?!1:!d.isInfinite(l.y)}};var F4=Object.freeze({IsValidOp:qi}),B4=Object.freeze({BoundaryOp:Ft,IsSimpleOp:Gi,buffer:D4,distance:$4,linemerge:T4,overlay:R4,polygonize:O4,relate:L4,union:k4,valid:F4});x(Lc,U.CoordinateOperation),a(Lc.prototype,{editCoordinates:function(r,s){if(r.length===0)return null;for(var l=new Array(r.length).fill(null),f=0;f<r.length;f++){var p=new w(r[f]);this.targetPM.makePrecise(p),l[f]=p}var v=new Z(l,!1),S=v.toCoordinateArray(),N=0;s instanceof St&&(N=2),s instanceof Q&&(N=4);var j=l;return this.removeCollapsed&&(j=null),S.length<N?j:S},interfaces_:function(){return[]},getClass:function(){return Lc}}),a(su.prototype,{fixPolygonalTopology:function(r){var s=r;this.changePrecisionModel||(s=this.changePM(r,this.targetPM));var l=s.buffer(0),f=l;return this.changePrecisionModel||(f=r.getFactory().createGeometry(l)),f},reducePointwise:function(r){var s=null;if(this.changePrecisionModel){var l=this.createFactory(r.getFactory(),this.targetPM);s=new U(l)}else s=new U;var f=this.removeCollapsed;r.getDimension()>=2&&(f=!0);var p=s.edit(r,new Lc(this.targetPM,f));return p},changePM:function(r,s){var l=this.createEditor(r.getFactory(),s);return l.edit(r,new U.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(r){this.removeCollapsed=r},createFactory:function(r,s){var l=new Mt(s,r.getSRID(),r.getCoordinateSequenceFactory());return l},setChangePrecisionModel:function(r){this.changePrecisionModel=r},reduce:function(r){var s=this.reducePointwise(r);return this.isPointwise?s:I(s,ir)?s.isValid()?s:this.fixPolygonalTopology(s):s},setPointwise:function(r){this.isPointwise=r},createEditor:function(r,s){if(r.getPrecisionModel()===s)return new U;var l=this.createFactory(r,s),f=new U(l);return f},interfaces_:function(){return[]},getClass:function(){return su}}),su.reduce=function(r,s){var l=new su(s);return l.reduce(r)},su.reducePointwise=function(r,s){var l=new su(s);return l.setPointwise(!0),l.reduce(r)};var H4=Object.freeze({GeometryPrecisionReducer:su});a(sd.prototype,{simplifySection:function(r,s){if(r+1===s)return null;this.seg.p0=this.pts[r],this.seg.p1=this.pts[s];for(var l=-1,f=r,p=r+1;s>p;p++){var v=this.seg.distance(this.pts[p]);v>l&&(l=v,f=p)}if(l<=this.distanceTolerance)for(var p=r+1;s>p;p++)this.usePt[p]=!1;else this.simplifySection(r,f),this.simplifySection(f,s)},setDistanceTolerance:function(r){this.distanceTolerance=r},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var r=0;r<this.pts.length;r++)this.usePt[r]=!0;this.simplifySection(0,this.pts.length-1);for(var s=new Z,r=0;r<this.pts.length;r++)this.usePt[r]&&s.add(new w(this.pts[r]));return s.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return sd}}),sd.simplify=function(r,s){var l=new sd(r);return l.setDistanceTolerance(s),l.simplify()},a(Qu.prototype,{setEnsureValid:function(r){this.isEnsureValidTopology=r},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new od(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(r){if(0>r)throw new u;this.distanceTolerance=r},interfaces_:function(){return[]},getClass:function(){return Qu}}),Qu.simplify=function(r,s){var l=new Qu(r);return l.setDistanceTolerance(s),l.getResultGeometry()},x(od,ue),a(od.prototype,{transformPolygon:function(r,s){if(r.isEmpty())return null;var l=ue.prototype.transformPolygon.call(this,r,s);return s instanceof J?l:this.createValidArea(l)},createValidArea:function(r){return this.isEnsureValidTopology?r.buffer(0):r},transformCoordinates:function(r,s){var l=r.toCoordinateArray(),f=null;return f=l.length===0?new Array(0).fill(null):sd.simplify(l,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(f)},transformMultiPolygon:function(r,s){var l=ue.prototype.transformMultiPolygon.call(this,r,s);return this.createValidArea(l)},transformLinearRing:function(r,s){var l=s instanceof Ct,f=ue.prototype.transformLinearRing.call(this,r,s);return!l||f instanceof Q?f:null},interfaces_:function(){return[]},getClass:function(){return od}}),Qu.DPTransformer=od,x(ud,kt),a(ud.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return ud}}),a(Fs.prototype,{addToResult:function(r){this.resultSegs.add(r)},asLineString:function(){return this.parentLine.getFactory().createLineString(Fs.extractCoordinates(this.resultSegs))},getResultSize:function(){var r=this.resultSegs.size();return r===0?0:r+1},getParent:function(){return this.parentLine},getSegment:function(r){return this.segs[r]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(Fs.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var r=this.parentLine.getCoordinates();this.segs=new Array(r.length-1).fill(null);for(var s=0;s<r.length-1;s++){var l=new ud(r[s],r[s+1],this.parentLine,s);this.segs[s]=l}},getResultCoordinates:function(){return Fs.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return Fs}}),Fs.extractCoordinates=function(r){for(var s=new Array(r.size()+1).fill(null),l=null,f=0;f<r.size();f++)l=r.get(f),s[f]=l.p0;return s[s.length-1]=l.p1,s},a(el.prototype,{remove:function(r){this.index.remove(new Y(r.p0,r.p1),r)},add:function(){if(arguments[0]instanceof Fs)for(var r=arguments[0],s=r.getSegments(),l=0;l<s.length;l++){var f=s[l];this.add(f)}else if(arguments[0]instanceof kt){var p=arguments[0];this.index.insert(new Y(p.p0,p.p1),p)}},query:function(r){var s=new Y(r.p0,r.p1),l=new eg(r);this.index.query(s,l);var f=l.getItems();return f},interfaces_:function(){return[]},getClass:function(){return el}}),a(eg.prototype,{visitItem:function(r){var s=r;Y.intersects(s.p0,s.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(r)},getItems:function(){return this.items},interfaces_:function(){return[_t]},getClass:function(){return eg}}),a(ld.prototype,{flatten:function(r,s){var l=this.linePts[r],f=this.linePts[s],p=new kt(l,f);return this.remove(this.line,r,s),this.outputIndex.add(p),p},hasBadIntersection:function(r,s,l){return this.hasBadOutputIntersection(l)?!0:!!this.hasBadInputIntersection(r,s,l)},setDistanceTolerance:function(r){this.distanceTolerance=r},simplifySection:function(r,s,l){l+=1;var f=new Array(2).fill(null);if(r+1===s){var p=this.line.getSegment(r);return this.line.addToResult(p),null}var v=!0;if(this.line.getResultSize()<this.line.getMinimumSize()){var S=l+1;S<this.line.getMinimumSize()&&(v=!1)}var N=new Array(1).fill(null),j=this.findFurthestPoint(this.linePts,r,s,N);N[0]>this.distanceTolerance&&(v=!1);var de=new kt;if(de.p0=this.linePts[r],de.p1=this.linePts[s],f[0]=r,f[1]=s,this.hasBadIntersection(this.line,f,de)&&(v=!1),v){var p=this.flatten(r,s);return this.line.addToResult(p),null}this.simplifySection(r,j,l),this.simplifySection(j,s,l)},hasBadOutputIntersection:function(r){for(var s=this.outputIndex.query(r),l=s.iterator();l.hasNext();){var f=l.next();if(this.hasInteriorIntersection(f,r))return!0}return!1},findFurthestPoint:function(r,s,l,f){var p=new kt;p.p0=r[s],p.p1=r[l];for(var v=-1,S=s,N=s+1;l>N;N++){var j=r[N],de=p.distance(j);de>v&&(v=de,S=N)}return f[0]=v,S},simplify:function(r){this.line=r,this.linePts=r.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(r,s,l){for(var f=s;l>f;f++){var p=r.getSegment(f);this.inputIndex.remove(p)}},hasInteriorIntersection:function(r,s){return this.li.computeIntersection(r.p0,r.p1,s.p0,s.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(r,s,l){for(var f=this.inputIndex.query(l),p=f.iterator();p.hasNext();){var v=p.next();if(this.hasInteriorIntersection(v,l)){if(ld.isInLineSection(r,s,v))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return ld}}),ld.isInLineSection=function(r,s,l){if(l.getParent()!==r.getParent())return!1;var f=l.getIndex();return f>=s[0]&&f<s[1]},a(tg.prototype,{setDistanceTolerance:function(r){this.distanceTolerance=r},simplify:function(r){for(var s=r.iterator();s.hasNext();)this.inputIndex.add(s.next());for(var s=r.iterator();s.hasNext();){var l=new ld(this.inputIndex,this.outputIndex);l.setDistanceTolerance(this.distanceTolerance),l.simplify(s.next())}},interfaces_:function(){return[]},getClass:function(){return tg}}),a(ou.prototype,{getResultGeometry:function(){if(this.inputGeom.isEmpty())return this.inputGeom.copy();this.linestringMap=new On,this.inputGeom.apply(new kc(this)),this.lineSimplifier.simplify(this.linestringMap.values());var r=new dd(this.linestringMap).transform(this.inputGeom);return r},setDistanceTolerance:function(r){if(0>r)throw new u;this.lineSimplifier.setDistanceTolerance(r)},interfaces_:function(){return[]},getClass:function(){return ou}}),ou.simplify=function(r,s){var l=new ou(r);return l.setDistanceTolerance(s),l.getResultGeometry()},x(dd,ue),a(dd.prototype,{transformCoordinates:function(r,s){if(r.size()===0)return null;if(s instanceof St){var l=this.linestringMap.get(s);return this.createCoordinateSequence(l.getResultCoordinates())}return ue.prototype.transformCoordinates.call(this,r,s)},interfaces_:function(){return[]},getClass:function(){return dd}}),a(kc.prototype,{filter:function(r){if(r instanceof St){var s=r;if(s.isEmpty())return null;var l=s.isClosed()?4:2,f=new Fs(s,l);this.tps.linestringMap.put(s,f)}},interfaces_:function(){return[$e]},getClass:function(){return kc}}),ou.LineStringTransformer=dd,ou.LineStringMapBuilderFilter=kc;var z4=Object.freeze({DouglasPeuckerSimplifier:Qu,TopologyPreservingSimplifier:ou});a(tl.prototype,{splitAt:function(){if(arguments.length===1){var r=arguments[0],s=this.minimumLen/this.segLen;if(r.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(s),null;if(r.distance(this.seg.p1)<this.minimumLen)return this.splitPt=tl.pointAlongReverse(this.seg,s),null;this.splitPt=r}else if(arguments.length===2){var l=arguments[0],f=arguments[1],p=this.getConstrainedLength(l),v=p/this.segLen;f.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(v):this.splitPt=tl.pointAlongReverse(this.seg,v)}},setMinimumLength:function(r){this.minimumLen=r},getConstrainedLength:function(r){return r<this.minimumLen?this.minimumLen:r},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return tl}}),tl.pointAlongReverse=function(r,s){var l=new w;return l.x=r.p1.x-s*(r.p1.x-r.p0.x),l.y=r.p1.y-s*(r.p1.y-r.p0.y),l},a(ng.prototype,{findSplitPoint:function(r,s){},interfaces_:function(){return[]},getClass:function(){return ng}}),a(cd.prototype,{findSplitPoint:function(r,s){var l=r.getLineSegment(),f=l.getLength(),p=f/2,v=new tl(l),S=cd.projectedSplitPoint(r,s),N=2*S.distance(s)*.8,j=N;return j>p&&(j=p),v.setMinimumLength(j),v.splitAt(S),v.getSplitPoint()},interfaces_:function(){return[ng]},getClass:function(){return cd}}),cd.projectedSplitPoint=function(r,s){var l=r.getLineSegment(),f=l.project(s);return f},a(Fn.prototype,{interfaces_:function(){return[]},getClass:function(){return Fn}}),Fn.triArea=function(r,s,l){return(s.x-r.x)*(l.y-r.y)-(s.y-r.y)*(l.x-r.x)},Fn.isInCircleDDNormalized=function(r,s,l,f){var p=q.valueOf(r.x).selfSubtract(f.x),v=q.valueOf(r.y).selfSubtract(f.y),S=q.valueOf(s.x).selfSubtract(f.x),N=q.valueOf(s.y).selfSubtract(f.y),j=q.valueOf(l.x).selfSubtract(f.x),de=q.valueOf(l.y).selfSubtract(f.y),we=p.multiply(N).selfSubtract(S.multiply(v)),Ce=S.multiply(de).selfSubtract(j.multiply(N)),Fe=j.multiply(v).selfSubtract(p.multiply(de)),ct=p.multiply(p).selfAdd(v.multiply(v)),Rt=S.multiply(S).selfAdd(N.multiply(N)),Ut=j.multiply(j).selfAdd(de.multiply(de)),Ln=ct.selfMultiply(Ce).selfAdd(Rt.selfMultiply(Fe)).selfAdd(Ut.selfMultiply(we)),tr=Ln.doubleValue()>0;return tr},Fn.checkRobustInCircle=function(r,s,l,f){var p=Fn.isInCircleNonRobust(r,s,l,f),v=Fn.isInCircleDDSlow(r,s,l,f),S=Fn.isInCircleCC(r,s,l,f),N=In.circumcentre(r,s,l);G.out.println("p radius diff a = "+Math.abs(f.distance(N)-r.distance(N))/r.distance(N)),p===v&&p===S||(G.out.println("inCircle robustness failure (double result = "+p+", DD result = "+v+", CC result = "+S+")"),G.out.println(Mn.toLineString(new ve([r,s,l,f]))),G.out.println("Circumcentre = "+Mn.toPoint(N)+" radius = "+r.distance(N)),G.out.println("p radius diff a = "+Math.abs(f.distance(N)/r.distance(N)-1)),G.out.println("p radius diff b = "+Math.abs(f.distance(N)/s.distance(N)-1)),G.out.println("p radius diff c = "+Math.abs(f.distance(N)/l.distance(N)-1)),G.out.println())},Fn.isInCircleDDFast=function(r,s,l,f){var p=q.sqr(r.x).selfAdd(q.sqr(r.y)).selfMultiply(Fn.triAreaDDFast(s,l,f)),v=q.sqr(s.x).selfAdd(q.sqr(s.y)).selfMultiply(Fn.triAreaDDFast(r,l,f)),S=q.sqr(l.x).selfAdd(q.sqr(l.y)).selfMultiply(Fn.triAreaDDFast(r,s,f)),N=q.sqr(f.x).selfAdd(q.sqr(f.y)).selfMultiply(Fn.triAreaDDFast(r,s,l)),j=p.selfSubtract(v).selfAdd(S).selfSubtract(N),de=j.doubleValue()>0;return de},Fn.isInCircleCC=function(r,s,l,f){var p=In.circumcentre(r,s,l),v=r.distance(p),S=f.distance(p)-v;return 0>=S},Fn.isInCircleNormalized=function(r,s,l,f){var p=r.x-f.x,v=r.y-f.y,S=s.x-f.x,N=s.y-f.y,j=l.x-f.x,de=l.y-f.y,we=p*N-S*v,Ce=S*de-j*N,Fe=j*v-p*de,ct=p*p+v*v,Rt=S*S+N*N,Ut=j*j+de*de,Ln=ct*Ce+Rt*Fe+Ut*we;return Ln>0},Fn.isInCircleDDSlow=function(r,s,l,f){var p=q.valueOf(f.x),v=q.valueOf(f.y),S=q.valueOf(r.x),N=q.valueOf(r.y),j=q.valueOf(s.x),de=q.valueOf(s.y),we=q.valueOf(l.x),Ce=q.valueOf(l.y),Fe=S.multiply(S).add(N.multiply(N)).multiply(Fn.triAreaDDSlow(j,de,we,Ce,p,v)),ct=j.multiply(j).add(de.multiply(de)).multiply(Fn.triAreaDDSlow(S,N,we,Ce,p,v)),Rt=we.multiply(we).add(Ce.multiply(Ce)).multiply(Fn.triAreaDDSlow(S,N,j,de,p,v)),Ut=p.multiply(p).add(v.multiply(v)).multiply(Fn.triAreaDDSlow(S,N,j,de,we,Ce)),Ln=Fe.subtract(ct).add(Rt).subtract(Ut),tr=Ln.doubleValue()>0;return tr},Fn.isInCircleNonRobust=function(r,s,l,f){var p=(r.x*r.x+r.y*r.y)*Fn.triArea(s,l,f)-(s.x*s.x+s.y*s.y)*Fn.triArea(r,l,f)+(l.x*l.x+l.y*l.y)*Fn.triArea(r,s,f)-(f.x*f.x+f.y*f.y)*Fn.triArea(r,s,l)>0;return p},Fn.isInCircleRobust=function(r,s,l,f){return Fn.isInCircleNormalized(r,s,l,f)},Fn.triAreaDDSlow=function(r,s,l,f,p,v){return l.subtract(r).multiply(v.subtract(s)).subtract(f.subtract(s).multiply(p.subtract(r)))},Fn.triAreaDDFast=function(r,s,l){var f=q.valueOf(s.x).selfSubtract(r.x).selfMultiply(q.valueOf(l.y).selfSubtract(r.y)),p=q.valueOf(s.y).selfSubtract(r.y).selfMultiply(q.valueOf(l.x).selfSubtract(r.x));return f.selfSubtract(p)},a(Nn.prototype,{circleCenter:function(r,s){var l=new Nn(this.getX(),this.getY()),f=this.bisector(l,r),p=this.bisector(r,s),v=new _e(f,p),S=null;try{S=new Nn(v.getX(),v.getY())}catch(N){if(!(N instanceof F))throw N;G.err.println("a: "+l+"  b: "+r+"  c: "+s),G.err.println(N)}finally{}return S},dot:function(r){return this.p.x*r.getX()+this.p.y*r.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(r,s){var l=s.getX()-r.getX(),f=s.getY()-r.getY(),p=new _e(r.getX()+l/2,r.getY()+f/2,1),v=new _e(r.getX()-f+l/2,r.getY()+l+f/2,1);return new _e(p,v)},equals:function(){if(arguments.length===1){var r=arguments[0];return this.p.x===r.getX()&&this.p.y===r.getY()}if(arguments.length===2){var s=arguments[0],l=arguments[1];return this.p.distance(s.getCoordinate())<l}},getCoordinate:function(){return this.p},isInCircle:function(r,s,l){return Fn.isInCircleRobust(r.p,s.p,l.p,this.p)},interpolateZValue:function(r,s,l){var f=r.getX(),p=r.getY(),v=s.getX()-f,S=l.getX()-f,N=s.getY()-p,j=l.getY()-p,de=v*j-S*N,we=this.getX()-f,Ce=this.getY()-p,Fe=(j*we-S*Ce)/de,ct=(-N*we+v*Ce)/de,Rt=r.getZ()+Fe*(s.getZ()-r.getZ())+ct*(l.getZ()-r.getZ());return Rt},midPoint:function(r){var s=(this.p.x+r.getX())/2,l=(this.p.y+r.getY())/2,f=(this.p.z+r.getZ())/2;return new Nn(s,l,f)},rightOf:function(r){return this.isCCW(r.dest(),r.orig())},isCCW:function(r,s){return(r.p.x-this.p.x)*(s.p.y-this.p.y)-(r.p.y-this.p.y)*(s.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(r){return this.p.x*r.getY()-this.p.y*r.getX()},setZ:function(r){this.p.z=r},times:function(r){return new Nn(r*this.p.x,r*this.p.y)},cross:function(){return new Nn(this.p.y,-this.p.x)},leftOf:function(r){return this.isCCW(r.orig(),r.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(r){return new Nn(this.p.x-r.getX(),this.p.y-r.getY())},getY:function(){return this.p.y},classify:function(r,s){var l=this,f=s.sub(r),p=l.sub(r),v=f.crossProduct(p);return v>0?Nn.LEFT:0>v?Nn.RIGHT:f.getX()*p.getX()<0||f.getY()*p.getY()<0?Nn.BEHIND:f.magn()<p.magn()?Nn.BEYOND:r.equals(l)?Nn.ORIGIN:s.equals(l)?Nn.DESTINATION:Nn.BETWEEN},sum:function(r){return new Nn(this.p.x+r.getX(),this.p.y+r.getY())},distance:function(r,s){return Math.sqrt(Math.pow(s.getX()-r.getX(),2)+Math.pow(s.getY()-r.getY(),2))},circumRadiusRatio:function(r,s){var l=this.circleCenter(r,s),f=this.distance(l,r),p=this.distance(this,r),v=this.distance(r,s);return p>v&&(p=v),v=this.distance(s,this),p>v&&(p=v),f/p},interfaces_:function(){return[]},getClass:function(){return Nn}}),Nn.interpolateZ=function(){if(arguments.length===3){var r=arguments[0],s=arguments[1],l=arguments[2],f=s.distance(l),p=r.distance(s),v=l.z-s.z,S=s.z+v*(p/f);return S}if(arguments.length===4){var N=arguments[0],j=arguments[1],de=arguments[2],we=arguments[3],Ce=j.x,Fe=j.y,ct=de.x-Ce,Rt=we.x-Ce,Ut=de.y-Fe,Ln=we.y-Fe,tr=ct*Ln-Rt*Ut,ca=N.x-Ce,du=N.y-Fe,Kc=(Ln*ca-Rt*du)/tr,Jc=(-Ut*ca+ct*du)/tr,Yc=j.z+Kc*(de.z-j.z)+Jc*(we.z-j.z);return Yc}},Nn.LEFT=0,Nn.RIGHT=1,Nn.BEYOND=2,Nn.BEHIND=3,Nn.BETWEEN=4,Nn.ORIGIN=5,Nn.DESTINATION=6,x(po,Nn),a(po.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(r){this._isOnConstraint=r},merge:function(r){r._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=r.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(r){this._isOnConstraint=!0,this.constraint=r},interfaces_:function(){return[]},getClass:function(){return po}}),a(Wn.prototype,{equalsNonOriented:function(r){return this.equalsOriented(r)?!0:!!this.equalsOriented(r.sym())},toLineSegment:function(){return new kt(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(r){return!(!this.orig().getCoordinate().equals2D(r.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(r.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(r){this.vertex=r},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(r){this.sym().setOrig(r)},setData:function(r){this.data=r},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var r=this.vertex.getCoordinate(),s=this.dest().getCoordinate();return Mn.toLineString(r,s)},isLive:function(){return this._rot!==null},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(r){this.next=r},interfaces_:function(){return[]},getClass:function(){return Wn}}),Wn.makeEdge=function(r,s){var l=new Wn,f=new Wn,p=new Wn,v=new Wn;l._rot=f,f._rot=p,p._rot=v,v._rot=l,l.setNext(l),f.setNext(v),p.setNext(p),v.setNext(f);var S=l;return S.setOrig(r),S.setDest(s),S},Wn.swap=function(r){var s=r.oPrev(),l=r.sym().oPrev();Wn.splice(r,s),Wn.splice(r.sym(),l),Wn.splice(r,s.lNext()),Wn.splice(r.sym(),l.lNext()),r.setOrig(s.dest()),r.setDest(l.dest())},Wn.splice=function(r,s){var l=r.oNext().rot(),f=s.oNext().rot(),p=s.oNext(),v=r.oNext(),S=f.oNext(),N=l.oNext();r.setNext(p),s.setNext(v),l.setNext(S),f.setNext(N)},Wn.connect=function(r,s){var l=Wn.makeEdge(r.dest(),s.orig());return Wn.splice(l,r.lNext()),Wn.splice(l.sym(),s),l},a(fd.prototype,{insertSite:function(r){var s=this.subdiv.locate(r);if(this.subdiv.isVertexOfEdge(s,r))return s;this.subdiv.isOnEdge(s,r.getCoordinate())&&(s=s.oPrev(),this.subdiv.delete(s.oNext()));var l=this.subdiv.makeEdge(s.orig(),r);Wn.splice(l,s);var f=l;do l=this.subdiv.connect(s,l.sym()),s=l.oPrev();while(s.lNext()!==f);for(;;){var p=s.oPrev();if(p.dest().rightOf(s)&&r.isInCircle(s.orig(),p.dest(),s.dest()))Wn.swap(s),s=s.oPrev();else{if(s.oNext()===f)return l;s=s.oNext().lPrev()}}},insertSites:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();this.insertSite(l)}},interfaces_:function(){return[]},getClass:function(){return fd}}),a(rg.prototype,{locate:function(r){},interfaces_:function(){return[]},getClass:function(){return rg}}),a(Fc.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(r){this.lastEdge.isLive()||this.init();var s=this.subdiv.locateFromEdge(r,this.lastEdge);return this.lastEdge=s,s},findEdge:function(){var r=this.subdiv.getEdges();return r.iterator().next()},interfaces_:function(){return[rg]},getClass:function(){return Fc}}),x(nl,y),a(nl.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return nl}}),nl.msgWithSpatial=function(r,s){return s!==null?r+" [ "+s+" ]":r},a(rl.prototype,{visit:function(r){},interfaces_:function(){return[]},getClass:function(){return rl}}),a(Ai.prototype,{getTriangleVertices:function(r){var s=new zc;return this.visitTriangles(s,r),s.getTriangleVertices()},isFrameVertex:function(r){return r.equals(this.frameVertex[0])||r.equals(this.frameVertex[1])?!0:!!r.equals(this.frameVertex[2])},isVertexOfEdge:function(r,s){return!(!s.equals(r.orig(),this.tolerance)&&!s.equals(r.dest(),this.tolerance))},connect:function(r,s){var l=Wn.connect(r,s);return this.quadEdges.add(l),l},getVoronoiCellPolygon:function(r,s){var l=new H,f=r;do{var p=r.rot().orig().getCoordinate();l.add(p),r=r.oPrev()}while(r!==f);var v=new Z;v.addAll(l,!1),v.closeRing(),v.size()<4&&(G.out.println(v),v.add(v.get(v.size()-1),!0));var S=v.toCoordinateArray(),N=s.createPolygon(s.createLinearRing(S),null),j=f.orig();return N.setUserData(j.getCoordinate()),N},setLocator:function(r){this.locator=r},initSubdiv:function(){var r=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),s=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);Wn.splice(r.sym(),s);var l=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return Wn.splice(s.sym(),l),Wn.splice(l.sym(),r),r},isFrameBorderEdge:function(r){var s=new Array(3).fill(null);Ai.getTriangleEdges(r,s);var l=new Array(3).fill(null);Ai.getTriangleEdges(r.sym(),l);var f=r.lNext().dest();if(this.isFrameVertex(f))return!0;var p=r.sym().lNext().dest();return!!this.isFrameVertex(p)},makeEdge:function(r,s){var l=Wn.makeEdge(r,s);return this.quadEdges.add(l),l},visitTriangles:function(r,s){this.visitedKey++;var l=new zn;l.push(this.startingEdge);for(var f=new A;!l.empty();){var p=l.pop();if(!f.contains(p)){var v=this.fetchTriangleToVisit(p,l,s,f);v!==null&&r.visit(v)}}},isFrameEdge:function(r){return!(!this.isFrameVertex(r.orig())&&!this.isFrameVertex(r.dest()))},isOnEdge:function(r,s){this.seg.setCoordinates(r.orig().getCoordinate(),r.dest().getCoordinate());var l=this.seg.distance(s);return l<this.edgeCoincidenceTolerance},getEnvelope:function(){return new Y(this.frameEnv)},createFrame:function(r){var s=r.getWidth(),l=r.getHeight(),f=0;f=s>l?10*s:10*l,this.frameVertex[0]=new Nn((r.getMaxX()+r.getMinX())/2,r.getMaxY()+f),this.frameVertex[1]=new Nn(r.getMinX()-f,r.getMinY()-f),this.frameVertex[2]=new Nn(r.getMaxX()+f,r.getMinY()-f),this.frameEnv=new Y(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(r){var s=new Vc;return this.visitTriangles(s,r),s.getTriangles()},getVertices:function(r){for(var s=new A,l=this.quadEdges.iterator();l.hasNext();){var f=l.next(),p=f.orig();!r&&this.isFrameVertex(p)||s.add(p);var v=f.dest();!r&&this.isFrameVertex(v)||s.add(v)}return s},fetchTriangleToVisit:function(r,s,l,f){var p=r,v=0,S=!1;do{this.triEdges[v]=p,this.isFrameEdge(p)&&(S=!0);var N=p.sym();f.contains(N)||s.push(N),f.add(p),v++,p=p.lNext()}while(p!==r);return S&&!l?null:this.triEdges},getEdges:function(){if(arguments.length===0)return this.quadEdges;if(arguments.length===1){for(var r=arguments[0],s=this.getPrimaryEdges(!1),l=new Array(s.size()).fill(null),f=0,p=s.iterator();p.hasNext();){var v=p.next();l[f++]=r.createLineString([v.orig().getCoordinate(),v.dest().getCoordinate()])}return r.createMultiLineString(l)}},getVertexUniqueEdges:function(r){for(var s=new H,l=new A,f=this.quadEdges.iterator();f.hasNext();){var p=f.next(),v=p.orig();l.contains(v)||(l.add(v),!r&&this.isFrameVertex(v)||s.add(p));var S=p.sym(),N=S.orig();l.contains(N)||(l.add(N),!r&&this.isFrameVertex(N)||s.add(S))}return s},getTriangleEdges:function(r){var s=new Hc;return this.visitTriangles(s,r),s.getTriangleEdges()},getPrimaryEdges:function(r){this.visitedKey++;var s=new H,l=new zn;l.push(this.startingEdge);for(var f=new A;!l.empty();){var p=l.pop();if(!f.contains(p)){var v=p.getPrimary();!r&&this.isFrameEdge(v)||s.add(v),l.push(p.oNext()),l.push(p.sym().oNext()),f.add(p),f.add(p.sym())}}return s},delete:function(r){Wn.splice(r,r.oPrev()),Wn.splice(r.sym(),r.sym().oPrev());var s=r.sym(),l=r.rot(),f=r.rot().sym();this.quadEdges.remove(r),this.quadEdges.remove(s),this.quadEdges.remove(l),this.quadEdges.remove(f),r.delete(),s.delete(),l.delete(),f.delete()},locateFromEdge:function(r,s){for(var l=0,f=this.quadEdges.size(),p=s;;){if(l++,l>f)throw new nl(p.toLineSegment());if(r.equals(p.orig())||r.equals(p.dest()))break;if(r.rightOf(p))p=p.sym();else if(r.rightOf(p.oNext())){if(r.rightOf(p.dPrev()))break;p=p.dPrev()}else p=p.oNext()}return p},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(r){this.visitTriangles(new Bc,!0);for(var s=new H,l=this.getVertexUniqueEdges(!1),f=l.iterator();f.hasNext();){var p=f.next();s.add(this.getVoronoiCellPolygon(p,r))}return s},getVoronoiDiagram:function(r){var s=this.getVoronoiCellPolygons(r);return r.createGeometryCollection(Mt.toGeometryArray(s))},getTriangles:function(r){for(var s=this.getTriangleCoordinates(!1),l=new Array(s.size()).fill(null),f=0,p=s.iterator();p.hasNext();){var v=p.next();l[f++]=r.createPolygon(r.createLinearRing(v),null)}return r.createGeometryCollection(l)},insertSite:function(r){var s=this.locate(r);if(r.equals(s.orig(),this.tolerance)||r.equals(s.dest(),this.tolerance))return s;var l=this.makeEdge(s.orig(),r);Wn.splice(l,s);var f=l;do l=this.connect(s,l.sym()),s=l.oPrev();while(s.lNext()!==f);return f},locate:function(){if(arguments.length===1){if(arguments[0]instanceof Nn){var r=arguments[0];return this.locator.locate(r)}if(arguments[0]instanceof w){var s=arguments[0];return this.locator.locate(new Nn(s))}}else if(arguments.length===2){var l=arguments[0],f=arguments[1],p=this.locator.locate(new Nn(l));if(p===null)return null;var v=p;p.dest().getCoordinate().equals2D(l)&&(v=p.sym());var S=v;do{if(S.dest().getCoordinate().equals2D(f))return S;S=S.oNext()}while(S!==v);return null}},interfaces_:function(){return[]},getClass:function(){return Ai}}),Ai.getTriangleEdges=function(r,s){if(s[0]=r,s[1]=s[0].lNext(),s[2]=s[1].lNext(),s[2].lNext()!==s[0])throw new u},a(Bc.prototype,{visit:function(r){for(var s=r[0].orig().getCoordinate(),l=r[1].orig().getCoordinate(),f=r[2].orig().getCoordinate(),p=In.circumcentre(s,l,f),v=new Nn(p),S=0;3>S;S++)r[S].rot().setOrig(v)},interfaces_:function(){return[rl]},getClass:function(){return Bc}}),a(Hc.prototype,{getTriangleEdges:function(){return this.triList},visit:function(r){this.triList.add(r.clone())},interfaces_:function(){return[rl]},getClass:function(){return Hc}}),a(zc.prototype,{visit:function(r){this.triList.add([r[0].orig(),r[1].orig(),r[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[rl]},getClass:function(){return zc}}),a(Vc.prototype,{checkTriangleSize:function(r){r.length>=2?Mn.toLineString(r[0],r[1]):r.length>=1&&Mn.toPoint(r[0])},visit:function(r){this.coordList.clear();for(var s=0;3>s;s++){var l=r[s].orig();this.coordList.add(l.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var f=this.coordList.toCoordinateArray();if(f.length!==4)return null;this.triCoords.add(f)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[rl]},getClass:function(){return Vc}}),Ai.TriangleCircumcentreVisitor=Bc,Ai.TriangleEdgesListVisitor=Hc,Ai.TriangleVertexListVisitor=zc,Ai.TriangleCoordinatesVisitor=Vc,Ai.EDGE_COINCIDENCE_TOL_FACTOR=1e3,a(uu.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){var r=this.ls.getCoordinate(1);return r.z},getStartZ:function(){var r=this.ls.getCoordinate(0);return r.z},intersection:function(r){return this.ls.intersection(r.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){var r=this.ls.getCoordinate(1);return r.y},getStartX:function(){var r=this.ls.getCoordinate(0);return r.x},equalsTopo:function(r){return this.ls.equalsTopo(r.getLineSegment())},getStartY:function(){var r=this.ls.getCoordinate(0);return r.y},setData:function(r){this.data=r},getData:function(){return this.data},getEndX:function(){var r=this.ls.getCoordinate(1);return r.x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return uu}}),a(hd.prototype,{visit:function(r){},interfaces_:function(){return[]},getClass:function(){return hd}}),a(Gc.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(r){this.left=r},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(r){this.right=r},interfaces_:function(){return[]},getClass:function(){return Gc}}),a(lu.prototype,{insert:function(){if(arguments.length===1){var r=arguments[0];return this.insert(r,null)}if(arguments.length===2){var s=arguments[0],l=arguments[1];if(this.root===null)return this.root=new Gc(s,l),this.root;if(this.tolerance>0){var f=this.findBestMatchNode(s);if(f!==null)return f.increment(),f}return this.insertExact(s,l)}},query:function(){var r=arguments,s=this;if(arguments.length===1){var l=arguments[0],f=new H;return this.query(l,f),f}if(arguments.length===2){if(arguments[0]instanceof Y&&I(arguments[1],O))(function(){var S=r[0],N=r[1];s.queryNode(s.root,S,!0,{interfaces_:function(){return[hd]},visit:function(j){N.add(j)}})})();else if(arguments[0]instanceof Y&&I(arguments[1],hd)){var p=arguments[0],v=arguments[1];this.queryNode(this.root,p,!0,v)}}},queryNode:function(r,s,l,f){if(r===null)return null;var p=null,v=null,S=null;l?(p=s.getMinX(),v=s.getMaxX(),S=r.getX()):(p=s.getMinY(),v=s.getMaxY(),S=r.getY());var N=S>p,j=v>=S;N&&this.queryNode(r.getLeft(),s,!l,f),s.contains(r.getCoordinate())&&f.visit(r),j&&this.queryNode(r.getRight(),s,!l,f)},findBestMatchNode:function(r){var s=new Wc(r,this.tolerance);return this.query(s.queryEnvelope(),s),s.getNode()},isEmpty:function(){return this.root===null},insertExact:function(r,s){for(var l=this.root,f=this.root,p=!0,v=!0;l!==null;){if(l!==null){var S=r.distance(l.getCoordinate())<=this.tolerance;if(S)return l.increment(),l}v=p?r.x<l.getX():r.y<l.getY(),f=l,l=v?l.getLeft():l.getRight(),p=!p}this.numberOfNodes=this.numberOfNodes+1;var N=new Gc(r,s);return v?f.setLeft(N):f.setRight(N),N},interfaces_:function(){return[]},getClass:function(){return lu}}),lu.toCoordinates=function(){if(arguments.length===1){var r=arguments[0];return lu.toCoordinates(r,!1)}if(arguments.length===2){for(var s=arguments[0],l=arguments[1],f=new Z,p=s.iterator();p.hasNext();)for(var v=p.next(),S=l?v.getCount():1,N=0;S>N;N++)f.add(v.getCoordinate(),!0);return f.toCoordinateArray()}},a(Wc.prototype,{visit:function(r){var s=this.p.distance(r.getCoordinate()),l=s<=this.tolerance;if(!l)return null;var f=!1;(this.matchNode===null||s<this.matchDist||this.matchNode!==null&&s===this.matchDist&&r.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(f=!0),f&&(this.matchNode=r,this.matchDist=s)},queryEnvelope:function(){var r=new Y(this.p);return r.expandBy(this.tolerance),r},getNode:function(){return this.matchNode},interfaces_:function(){return[hd]},getClass:function(){return Wc}}),lu.BestMatchVisitor=Wc,a(mo.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var r=0,s=0;do s=this.enforceGabriel(this.segments),r++;while(s>0&&r<mo.MAX_SPLIT_ITER)},insertSites:function(r){for(var s=r.iterator();s.hasNext();){var l=s.next();this.insertSite(l)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var r=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),s=0,l=this.initialVertices.iterator();l.hasNext();){var f=l.next();r[s++]=f.getCoordinate()}for(var p=this.segVertices.iterator();p.hasNext();){var f=p.next();r[s++]=f.getCoordinate()}return r},setConstraints:function(r,s){this.segments=r,this.segVertices=s},computeConvexHull:function(){var r=new Mt,s=this.getPointArray(),l=new M(s,r);this.convexHull=l.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(r){var s=r.getStart(),l=r.getEnd(),f=new w((s.x+l.x)/2,(s.y+l.y)/2),p=s.distance(f),v=new Y(f);v.expandBy(p);for(var S=this.kdt.query(v),N=null,j=d.MAX_VALUE,de=S.iterator();de.hasNext();){var we=de.next(),Ce=we.getCoordinate();if(!Ce.equals2D(s)&&!Ce.equals2D(l)){var Fe=f.distance(Ce);if(p>Fe){var ct=Fe;(N===null||j>ct)&&(N=Ce,j=ct)}}}return N},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(r){this.splitFinder=r},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(r){for(var s=new H,l=0,f=new H,p=r.iterator();p.hasNext();){var v=p.next(),S=this.findNonGabrielPoint(v);if(S!==null){this.splitPt=this.splitFinder.findSplitPoint(v,S);var N=this.createVertex(this.splitPt,v),j=(this.insertSite(N),new uu(v.getStartX(),v.getStartY(),v.getStartZ(),N.getX(),N.getY(),N.getZ(),v.getData())),de=new uu(N.getX(),N.getY(),N.getZ(),v.getEndX(),v.getEndY(),v.getEndZ(),v.getData());s.add(j),s.add(de),f.add(v),l+=1}}return r.removeAll(f),r.addAll(s),l},createVertex:function(){if(arguments.length===1){var r=arguments[0],s=null;return s=this.vertexFactory!==null?this.vertexFactory.createVertex(r,null):new po(r)}if(arguments.length===2){var l=arguments[0],f=arguments[1],s=null;return s=this.vertexFactory!==null?this.vertexFactory.createVertex(l,f):new po(l),s.setOnConstraint(!0),s}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var r=mo.computeVertexEnvelope(this.initialVertices),s=mo.computeVertexEnvelope(this.segVertices),l=new Y(r);l.expandToInclude(s);var f=.2*l.getWidth(),p=.2*l.getHeight(),v=Math.max(f,p);this.computeAreaEnv=new Y(l),this.computeAreaEnv.expandBy(v)},setVertexFactory:function(r){this.vertexFactory=r},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new Ai(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new Fc(this.subdiv)),this.incDel=new fd(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof po){var r=arguments[0],s=this.kdt.insert(r.getCoordinate(),r);if(s.isRepeated()){var l=s.getData();return l.merge(r),l}return this.incDel.insertSite(r),r}if(arguments[0]instanceof w){var f=arguments[0];this.insertSite(this.createVertex(f))}},interfaces_:function(){return[]},getClass:function(){return mo}}),mo.computeVertexEnvelope=function(r){for(var s=new Y,l=r.iterator();l.hasNext();){var f=l.next();s.expandToInclude(f.getCoordinate())}return s},mo.MAX_SPLIT_ITER=99,a(Wr.prototype,{create:function(){if(this.subdiv!==null)return null;var r=Wr.envelope(this.siteCoords),s=Wr.toVertices(this.siteCoords);this.subdiv=new Ai(r,this.tolerance);var l=new fd(this.subdiv);l.insertSites(s)},setTolerance:function(r){this.tolerance=r},setSites:function(){if(arguments[0]instanceof be){var r=arguments[0];this.siteCoords=Wr.extractUniqueCoordinates(r)}else if(I(arguments[0],W)){var s=arguments[0];this.siteCoords=Wr.unique(Pe.toCoordinateArray(s))}},getEdges:function(r){return this.create(),this.subdiv.getEdges(r)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(r){return this.create(),this.subdiv.getTriangles(r)},interfaces_:function(){return[]},getClass:function(){return Wr}}),Wr.extractUniqueCoordinates=function(r){if(r===null)return new Z;var s=r.getCoordinates();return Wr.unique(s)},Wr.envelope=function(r){for(var s=new Y,l=r.iterator();l.hasNext();){var f=l.next();s.expandToInclude(f)}return s},Wr.unique=function(r){var s=Pe.copyDeep(r);qt.sort(s);var l=new Z(s,!1);return l},Wr.toVertices=function(r){for(var s=new H,l=r.iterator();l.hasNext();){var f=l.next();s.add(new Nn(f))}return s},a(il.prototype,{createSiteVertices:function(r){for(var s=new H,l=r.iterator();l.hasNext();){var f=l.next();this.constraintVertexMap.containsKey(f)||s.add(new po(f))}return s},create:function(){if(this.subdiv!==null)return null;var r=Wr.envelope(this.siteCoords),s=new H;this.constraintLines!==null&&(r.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),s=il.createConstraintSegments(this.constraintLines));var l=this.createSiteVertices(this.siteCoords),f=new mo(l,this.tolerance);f.setConstraints(s,new H(this.constraintVertexMap.values())),f.formInitialDelaunay(),f.enforceConstraints(),this.subdiv=f.getSubdivision()},setTolerance:function(r){this.tolerance=r},setConstraints:function(r){this.constraintLines=r},setSites:function(r){this.siteCoords=Wr.extractUniqueCoordinates(r)},getEdges:function(r){return this.create(),this.subdiv.getEdges(r)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(r){return this.create(),this.subdiv.getTriangles(r)},createVertices:function(r){for(var s=r.getCoordinates(),l=0;l<s.length;l++){var f=new po(s[l]);this.constraintVertexMap.put(s[l],f)}},interfaces_:function(){return[]},getClass:function(){return il}}),il.createConstraintSegments=function(){if(arguments.length===1){for(var r=arguments[0],s=ar.getLines(r),l=new H,f=s.iterator();f.hasNext();){var p=f.next();il.createConstraintSegments(p,l)}return l}if(arguments.length===2)for(var v=arguments[0],S=arguments[1],N=v.getCoordinates(),f=1;f<N.length;f++)S.add(new uu(N[f-1],N[f]))},a(gd.prototype,{create:function(){if(this.subdiv!==null)return null;var r=Wr.envelope(this.siteCoords);this.diagramEnv=r;var s=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(s),this.clipEnv!==null&&this.diagramEnv.expandToInclude(this.clipEnv);var l=Wr.toVertices(this.siteCoords);this.subdiv=new Ai(r,this.tolerance);var f=new fd(this.subdiv);f.insertSites(l)},getDiagram:function(r){this.create();var s=this.subdiv.getVoronoiDiagram(r);return gd.clipGeometryCollection(s,this.diagramEnv)},setTolerance:function(r){this.tolerance=r},setSites:function(){if(arguments[0]instanceof be){var r=arguments[0];this.siteCoords=Wr.extractUniqueCoordinates(r)}else if(I(arguments[0],W)){var s=arguments[0];this.siteCoords=Wr.unique(Pe.toCoordinateArray(s))}},setClipEnvelope:function(r){this.clipEnv=r},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return gd}}),gd.clipGeometryCollection=function(r,s){for(var l=r.getFactory().toGeometry(s),f=new H,p=0;p<r.getNumGeometries();p++){var v=r.getGeometryN(p),S=null;s.contains(v.getEnvelopeInternal())?S=v:s.intersects(v.getEnvelopeInternal())&&(S=l.intersection(v),S.setUserData(v.getUserData())),S===null||S.isEmpty()||f.add(S)}return r.getFactory().createGeometryCollection(Mt.toGeometryArray(f))};var V4=Object.freeze({ConformingDelaunayTriangulationBuilder:il,DelaunayTriangulationBuilder:Wr,VoronoiDiagramBuilder:gd});a(Uc.prototype,{interfaces_:function(){return[]},getClass:function(){return Uc}}),Uc.union=function(r,s){if(r.isEmpty()||s.isEmpty()){if(r.isEmpty()&&s.isEmpty())return ft.createEmptyResult(ft.UNION,r,s,r.getFactory());if(r.isEmpty())return s.copy();if(s.isEmpty())return r.copy()}return r.checkNotGeometryCollection(r),r.checkNotGeometryCollection(s),Qn.overlayOp(r,s,ft.UNION)},a(be.prototype,{equalsTopo:function(r){return this.getEnvelopeInternal().equals(r.getEnvelopeInternal())?bn.relate(this,r).isEquals(this.getDimension(),r.getDimension()):!1},union:function(){if(arguments.length===0)return go.union(this);if(arguments.length===1){var r=arguments[0];return Uc.union(this,r)}},isValid:function(){return qi.isValid(this)},intersection:function(r){if(this.isEmpty()||r.isEmpty())return ft.createEmptyResult(ft.INTERSECTION,this,r,this.factory);if(this.isGeometryCollection()){var s=r;return ro.map(this,{interfaces_:function(){return[MapOp]},map:function(l){return l.intersection(s)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(r),Qn.overlayOp(this,r,ft.INTERSECTION)},covers:function(r){return bn.covers(this,r)},coveredBy:function(r){return bn.coveredBy(this,r)},touches:function(r){return bn.touches(this,r)},intersects:function(r){return bn.intersects(this,r)},within:function(r){return bn.within(this,r)},overlaps:function(r){return bn.overlaps(this,r)},disjoint:function(r){return bn.disjoint(this,r)},crosses:function(r){return bn.crosses(this,r)},buffer:function(){if(arguments.length===1){var r=arguments[0];return Or.bufferOp(this,r)}if(arguments.length===2){var s=arguments[0],l=arguments[1];return Or.bufferOp(this,s,l)}if(arguments.length===3){var f=arguments[0],p=arguments[1],v=arguments[2];return Or.bufferOp(this,f,p,v)}},convexHull:function(){return new M(this).getConvexHull()},relate:function(){for(var r=arguments.length,s=Array(r),l=0;r>l;l++)s[l]=arguments[l];return bn.relate.apply(bn,[this].concat(s))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var r=Nr.getCentroid(this);return this.createPointFromInternalCoord(r,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var r=null,s=this.getDimension();if(s===0){var l=new tu(this);r=l.getInteriorPoint()}else if(s===1){var l=new eu(this);r=l.getInteriorPoint()}else{var l=new ti(this);r=l.getInteriorPoint()}return this.createPointFromInternalCoord(r,this)},symDifference:function(r){if(this.isEmpty()||r.isEmpty()){if(this.isEmpty()&&r.isEmpty())return ft.createEmptyResult(ft.SYMDIFFERENCE,this,r,this.factory);if(this.isEmpty())return r.copy();if(r.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(r),Qn.overlayOp(this,r,ft.SYMDIFFERENCE)},createPointFromInternalCoord:function(r,s){return s.getPrecisionModel().makePrecise(r),s.getFactory().createPoint(r)},toText:function(){var r=new Mn;return r.write(this)},toString:function(){this.toText()},contains:function(r){return bn.contains(this,r)},difference:function(r){return this.isEmpty()?ft.createEmptyResult(ft.DIFFERENCE,this,r,this.factory):r.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(r),Qn.overlayOp(this,r,ft.DIFFERENCE))},isSimple:function(){var r=new Gi(this);return r.isSimple()},isWithinDistance:function(r,s){var l=this.getEnvelopeInternal().distance(r.getEnvelopeInternal());return l>s?!1:oa.isWithinDistance(this,r,s)},distance:function(r){return oa.distance(this,r)},isEquivalentClass:function(r){return this.getClass()===r.getClass()}});var G4="1.1.2 (248dab8)";t.version=G4,t.algorithm=_4,t.densify=S4,t.dissolve=E4,t.geom=w4,t.index=I4,t.io=N4,t.noding=A4,t.operation=B4,t.precision=H4,t.simplify=z4,t.triangulate=V4})})(cE,Du);var ry=Du,cx=function(n,e){var t=new ry.io.GeoJSONReader,a=t.read(JSON.stringify(n.geometry)),o=t.read(JSON.stringify(e.geometry)),u=a.union(o),d=new ry.io.GeoJSONWriter;return u=d.write(u),{type:"Feature",geometry:u,properties:n.properties}},fE=wp,hE=cx,wg=ea;function gE(n,e,t){if(typeof e!="number")throw new Error("maxEdge parameter is required");if(typeof t!="string")throw new Error("units parameter is required");var a=fE(n),o=a.features.filter(u);a.features=o;function u(d){var c=d.geometry.coordinates[0][0],h=d.geometry.coordinates[0][1],g=d.geometry.coordinates[0][2],m=wg(c,h,t),y=wg(h,g,t),x=wg(c,g,t);return m<=e&&y<=e&&x<=e}return pE(a)}function pE(n){for(var e=JSON.parse(JSON.stringify(n.features[0])),t=n.features,a=0,o=t.length;a<o;a++){var u=t[a];u.geometry&&(e=hE(e,u))}return e}var mE=gE,iy=Du,yE=function(n,e){var t=JSON.parse(JSON.stringify(n)),a=JSON.parse(JSON.stringify(e));t.type!=="Feature"&&(t={type:"Feature",properties:{},geometry:t}),a.type!=="Feature"&&(a={type:"Feature",properties:{},geometry:a});var o=new iy.io.GeoJSONReader,u=o.read(JSON.stringify(t.geometry)),d=o.read(JSON.stringify(a.geometry)),c=u.difference(d);if(!c.isEmpty()){var h=new iy.io.GeoJSONWriter,g=h.write(c);return t.geometry=c,{type:"Feature",properties:t.properties,geometry:g}}},vE=$l,bE=function(e,t,a,o){return e.features.forEach(function(u){var d=t.features.filter(function(c){return vE(c,u)}).map(function(c){return c.properties[a]});u.properties||(u.properties={}),u.properties[o]=d}),e},xE=Na.coordEach,wE=function(e){return e=JSON.parse(JSON.stringify(e)),xE(e,function(t){t.reverse()}),e},b1={},_E={get exports(){return b1},set exports(n){b1=n}};(function(n){(function(){function e(c,h){var g=c.x-h.x,m=c.y-h.y;return g*g+m*m}function t(c,h,g){var m=h.x,y=h.y,x=g.x-m,E=g.y-y;if(x!==0||E!==0){var _=((c.x-m)*x+(c.y-y)*E)/(x*x+E*E);_>1?(m=g.x,y=g.y):_>0&&(m+=x*_,y+=E*_)}return x=c.x-m,E=c.y-y,x*x+E*E}function a(c,h){for(var g=c[0],m=[g],y,x=1,E=c.length;x<E;x++)y=c[x],e(y,g)>h&&(m.push(y),g=y);return g!==y&&m.push(y),m}function o(c,h,g,m,y){for(var x=m,E,_=h+1;_<g;_++){var w=t(c[_],c[h],c[g]);w>x&&(E=_,x=w)}x>m&&(E-h>1&&o(c,h,E,m,y),y.push(c[E]),g-E>1&&o(c,E,g,m,y))}function u(c,h){var g=c.length-1,m=[c[0]];return o(c,0,g,h,m),m.push(c[g]),m}function d(c,h,g){if(c.length<=2)return c;var m=h!==void 0?h*h:1;return c=g?c:a(c,m),c=u(c,m),c}n.exports=d,n.exports.default=d})()})(_E);var x1=b1,ay=["LineString","MultiLineString","Polygon","MultiPolygon"],SE=function(n,e,t){return n.type==="Feature"?sy(_g(n,e,t),n.properties):n.type==="FeatureCollection"?{type:"FeatureCollection",features:n.features.map(function(a){var o=_g(a,e,t);return ay.indexOf(o.type)>-1?sy(o,a.properties):o})}:n.type==="GeometryCollection"?{type:"GeometryCollection",geometries:n.geometries.map(function(a){return ay.indexOf(a.type)>-1?_g({type:"Feature",geometry:a},e,t):a})}:n};function _g(n,e,t){return n.geometry.type==="LineString"?{type:"LineString",coordinates:oy(n.geometry.coordinates,e,t)}:n.geometry.type==="MultiLineString"?{type:"MultiLineString",coordinates:n.geometry.coordinates.map(function(a){return oy(a,e,t)})}:n.geometry.type==="Polygon"?{type:"Polygon",coordinates:uy(n.geometry.coordinates,e,t)}:n.geometry.type==="MultiPolygon"?{type:"MultiPolygon",coordinates:n.geometry.coordinates.map(function(a){return uy(a,e,t)})}:n}function EE(n){return n.length<3?!1:!(n.length===3&&n[2][0]===n[0][0]&&n[2][1]===n[0][1])}function sy(n,e){return{type:"Feature",geometry:n,properties:e}}function oy(n,e,t){return x1(n.map(function(a){return{x:a[0],y:a[1]}}),e,t).map(function(a){return[a.x,a.y]})}function uy(n,e,t){return n.map(function(a){var o=a.map(function(d){return{x:d[0],y:d[1]}});if(o.length<4)throw new Error("Invalid polygon");for(var u=x1(o,e,t).map(function(d){return[d.x,d.y]});!EE(u);)e-=e*.01,u=x1(o,e,t).map(function(d){return[d.x,d.y]});return(u[u.length-1][0]!==u[0][0]||u[u.length-1][1]!==u[0][1])&&u.push(u[0]),u})}var Xh=function(n){this.points=n.points||[],this.duration=n.duration||1e4,this.sharpness=n.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=n.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(var e=0;e<this.length-1;e++){var t=this.points[e],a=this.points[e+1];this.centers.push({x:(t.x+a.x)/2,y:(t.y+a.y)/2,z:(t.z+a.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var e=0;e<this.centers.length-1;e++){var t=this.centers[e],a=this.centers[e+1],o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,u=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,d=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+u),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+d)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+u),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+d)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};Xh.prototype.cacheSteps=function(n){var e=[],t=this.pos(0);e.push(0);for(var a=0;a<this.duration;a+=10){var o=this.pos(a),u=Math.sqrt((o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y)+(o.z-t.z)*(o.z-t.z));u>n&&(e.push(a),t=o)}return e};Xh.prototype.vector=function(n){var e=this.pos(n+10),t=this.pos(n-10);return{angle:180*Math.atan2(e.y-t.y,e.x-t.x)/3.14,speed:Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z))}};Xh.prototype.pos=function(n){function e(d,c,h,g,m){var y=function(_){var w=_*_,L=w*_;return[L,3*w*(1-_),3*_*(1-_)*(1-_),(1-_)*(1-_)*(1-_)]},x=y(d),E={x:m.x*x[0]+g.x*x[1]+h.x*x[2]+c.x*x[3],y:m.y*x[0]+g.y*x[1]+h.y*x[2]+c.y*x[3],z:m.z*x[0]+g.z*x[1]+h.z*x[2]+c.z*x[3]};return E}var t=n-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var a=t/this.duration;if(a>=1)return this.points[this.length-1];var o=Math.floor((this.points.length-1)*a),u=(this.length-1)*a-o;return e(u,this.points[o],this.controls[o][1],this.controls[o+1][0],this.points[o+1])};var CE=Xh,ME=an.lineString,IE=CE,PE=function(n,e,t){var a=ME([]);a.properties=n.properties;for(var o=new IE({points:n.geometry.coordinates.map(function(c){return{x:c[0],y:c[1]}}),duration:e,sharpness:t}),u=0;u<o.duration;u+=10){var d=o.pos(u);Math.floor(u/100)%2===0&&a.geometry.coordinates.push([d.x,d.y])}return a},NE=$l,AE=function(n,e,t,a){return n=JSON.parse(JSON.stringify(n)),e=JSON.parse(JSON.stringify(e)),n.features.forEach(function(o){o.properties||(o.properties={}),e.features.forEach(function(u){if(o.properties[a]===void 0){var d=NE(o,u);d&&(o.properties[a]=u.properties[t])}})}),n},DE=an.featureCollection,$E=function(n,e){var t=DE(TE(n.features,e));return t};function TE(n,e){for(var t=n.slice(0),a=n.length,o=a-e,u,d;a-- >o;)d=Math.floor((a+1)*Math.random()),u=t[d],t[d]=t[a],t[a]=u;return t.slice(o)}var RE=an.polygon,fx=function(n){var e=[n[0],n[1]],t=[n[0],n[3]],a=[n[2],n[3]],o=[n[2],n[1]];return RE([[e,o,a,t,e]])},OE=Jh,LE=fx,kE=function(n){return LE(OE(n))},ly=Bo.getCoord,Zh=function(n,e){var t=Math.PI/180,a=180/Math.PI,o=ly(n),u=ly(e),d=t*o[0],c=t*u[0],h=t*o[1],g=t*u[1],m=Math.sin(c-d)*Math.cos(g),y=Math.cos(h)*Math.sin(g)-Math.sin(h)*Math.cos(g)*Math.cos(c-d),x=a*Math.atan2(m,y);return x},FE=Bo.getCoord,hx=an,BE=hx.point,HE=hx.distanceToRadians,Qh=function(n,e,t,a){var o=Math.PI/180,u=180/Math.PI,d=FE(n),c=o*d[0],h=o*d[1],g=o*t,m=HE(e,a),y=Math.asin(Math.sin(h)*Math.cos(m)+Math.cos(h)*Math.sin(m)*Math.cos(g)),x=c+Math.atan2(Math.sin(g)*Math.sin(m)*Math.cos(h),Math.cos(m)-Math.sin(h)*Math.sin(y));return BE([u*x,u*y])},zE=Zh,VE=Qh,GE=ea,WE=function(n,e){var t=GE(n,e,"miles"),a=zE(n,e),o=VE(n,t/2,a,"miles");return o},UE=jE,qE={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function jE(n){if(!n||!n.type)return null;var e=qE[n.type];if(!e)return null;if(e==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:n}]};if(e==="feature")return{type:"FeatureCollection",features:[n]};if(e==="featurecollection")return n}var gx=an,KE=gx.featureCollection,dy=Du,cy=UE,JE=function(n,e,t){var a=gx.distanceToDegrees(e,t),o=cy(n),u=cy(KE(o.features.map(function(d){return YE(d,a)})));if(u.features.length>1)return u;if(u.features.length===1)return u.features[0]};function YE(n,e){var t=new dy.io.GeoJSONReader,a=t.read(n.geometry),o=a.buffer(e),u=new dy.io.GeoJSONWriter;return o=u.write(o),{type:"Feature",geometry:o,properties:{}}}var XE=Jh,ZE=an.point,px=function(n){var e=XE(n),t=(e[0]+e[2])/2,a=(e[1]+e[3])/2;return ZE([t,a])},QE=Na.coordEach,eC=an.point,tC=function(n){var e=0,t=0,a=0;return QE(n,function(o){e+=o[0],t+=o[1],a++},!0),eC([e/a,t/a])},nC=Na,rC=function(n){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},t=Object.keys(e).reduce(function(o,u){return o[u.replace("Multi","")]=u,o},{});function a(o,u,d){d?e[u].coordinates=e[u].coordinates.concat(o.geometry.coordinates):e[u].coordinates.push(o.geometry.coordinates),e[u].properties.push(o.properties)}return nC.featureEach(n,function(o){o.geometry&&(e[o.geometry.type]?a(o,o.geometry.type,!0):t[o.geometry.type]&&a(o,t[o.geometry.type],!1))}),{type:"FeatureCollection",features:Object.keys(e).filter(function(o){return e[o].coordinates.length}).sort().map(function(o){return{type:"Feature",properties:{collectedProperties:e[o].properties},geometry:{type:o,coordinates:e[o].coordinates}}})}},iC=an.featureCollection,aC=Na.coordEach,sC=an.point,mx=function(n){var e=[];return aC(n,function(t){e.push(sC(t))}),iC(e)},oC=an.polygon,uC=Hf,lC=function(n){if(!n.geometry||n.geometry.type!=="Polygon"&&n.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return n.geometry.type==="Polygon"?e.features=fy(n.geometry.coordinates):n.geometry.coordinates.forEach(function(t){e.features=e.features.concat(fy(t))}),e};function fy(n){var e=dC(n),t=2,a=uC(e.vertices,e.holes,t),o=[],u=[];a.forEach(function(h,g){var m=a[g];u.push([e.vertices[m*t],e.vertices[m*t+1]])});for(var d=0;d<u.length;d+=3){var c=u.slice(d,d+3);c.push(u[d]),o.push(oC([c]))}return o}function dC(n){for(var e=n[0][0].length,t={vertices:[],holes:[],dimensions:e},a=0,o=0;o<n.length;o++){for(var u=0;u<n[o].length;u++)for(var d=0;d<e;d++)t.vertices.push(n[o][u][d]);o>0&&(a+=n[o-1].length,t.holes.push(a))}return t}var hy=Du,cC=function(e,t){var a,o;e.type==="Feature"?a=e.geometry:a=e,t.type==="Feature"?o=t.geometry:o=t;var u=new hy.io.GeoJSONReader,d=u.read(JSON.stringify(a)),c=u.read(JSON.stringify(o)),h=d.intersection(c);if(!h.isEmpty()){var g=new hy.io.GeoJSONWriter,m=g.write(h);return{type:"Feature",properties:{},geometry:m}}},fC=ea,hC=function(n,e){for(var t,a=1/0,o=0;o<e.features.length;o++){var u=fC(n,e.features[o],"miles");u<a&&(t=e.features[o],a=u)}return t},xl={},gC={get exports(){return xl},set exports(n){xl=n}};gC.exports=function(){throw new Error("call .point() or .polygon() instead")};function Ip(n){return n?mC(n):[vx(),bx()]}xl.position=Ip;xl.point=function(n,e){var t=[];for(i=0;i<n;i++)t.push(xx(e?gy(Ip(e)):gy()));return wx(t)};xl.polygon=function(n,e,t,a){typeof e!="number"&&(e=10),typeof t!="number"&&(t=10);var o=[];for(i=0;i<n;i++){var u=[],d=Array.apply(null,new Array(e+1)).map(Math.random);d.forEach(c),d.forEach(h),u[u.length-1]=u[0],u=u.map(pC(Ip(a))),o.push(xx(yC([u])))}function c(g,m,y){y[m]=m>0?g+y[m-1]:g}function h(g,m){g=g*2*Math.PI/d[d.length-1];var y=Math.random();u.push([y*t*Math.sin(g),y*t*Math.cos(g)])}return wx(o)};function pC(n){return function(e,t){return[e[0]+n[0],e[1]+n[1]]}}function yx(){return Math.random()-.5}function vx(){return yx()*360}function bx(){return yx()*180}function gy(n){return{type:"Point",coordinates:n||[vx(),bx()]}}function mC(n){return[Math.random()*(n[2]-n[0])+n[0],Math.random()*(n[3]-n[1])+n[1]]}function yC(n){return{type:"Polygon",coordinates:n}}function xx(n){return{type:"Feature",geometry:n,properties:{}}}function wx(n){return{type:"FeatureCollection",features:n}}var py=xl,vC=function(n,e,t){switch(t=t||{},e=e||1,n){case"point":case"points":case void 0:return py.point(e,t.bbox);case"polygon":case"polygons":return py.polygon(e,t.num_vertices,t.max_radial_length,t.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}},bC=an.point,xC=function(n){var e,t={type:"FeatureCollection",features:[]};return n.type==="Feature"?e=n.geometry:e=n,e.coordinates.forEach(function(a){e.coordinates.forEach(function(o){for(var u=0;u<a.length-1;u++)for(var d=0;d<o.length-1;d++)if(!(a===o&&(Math.abs(u-d)===1||Math.abs(u-d)===a.length-2))){var c=wC(a[u][0],a[u][1],a[u+1][0],a[u+1][1],o[d][0],o[d][1],o[d+1][0],o[d+1][1]);c&&t.features.push(bC([c[0],c[1]]))}})}),t};function wC(n,e,t,a,o,u,d,c){var h,g,m,y,x,E={x:null,y:null,onLine1:!1,onLine2:!1};return h=(c-u)*(t-n)-(d-o)*(a-e),h===0?E.x!==null&&E.y!==null?E:!1:(g=e-u,m=n-o,y=(d-o)*g-(c-u)*m,x=(t-n)*g-(a-e)*m,g=y/h,m=x/h,E.x=n+g*(t-n),E.y=e+g*(a-e),g>=0&&g<=1&&(E.onLine1=!0),m>=0&&m<=1&&(E.onLine2=!0),E.onLine1&&E.onLine2?[E.x,E.y]:!1)}var my=an.featureCollection,_C=px,SC=ea,EC=$l,CC=mx;function MC(n){n.type!=="FeatureCollection"&&(n.type!=="Feature"&&(n={type:"Feature",geometry:n,properties:{}}),n=my([n]));for(var e=_C(n),t=!1,a=0;!t&&a<n.features.length;){var o=n.features[a].geometry,u,d,c,h,g,m,y,x=!1;if(o.type==="Point")e.geometry.coordinates[0]===o.coordinates[0]&&e.geometry.coordinates[1]===o.coordinates[1]&&(t=!0);else if(o.type==="MultiPoint"){var E=!1;for(y=0;!E&&y<o.coordinates.length;)e.geometry.coordinates[0]===o.coordinates[y][0]&&e.geometry.coordinates[1]===o.coordinates[y][1]&&(t=!0,E=!0),y++}else if(o.type==="LineString")for(y=0;!x&&y<o.coordinates.length-1;)u=e.geometry.coordinates[0],d=e.geometry.coordinates[1],c=o.coordinates[y][0],h=o.coordinates[y][1],g=o.coordinates[y+1][0],m=o.coordinates[y+1][1],yy(u,d,c,h,g,m)&&(x=!0,t=!0),y++;else if(o.type==="MultiLineString")for(var _=0;_<o.coordinates.length;){x=!1,y=0;for(var w=o.coordinates[_];!x&&y<w.length-1;)u=e.geometry.coordinates[0],d=e.geometry.coordinates[1],c=w[y][0],h=w[y][1],g=w[y+1][0],m=w[y+1][1],yy(u,d,c,h,g,m)&&(x=!0,t=!0),y++;_++}else if(o.type==="Polygon"||o.type==="MultiPolygon"){var L={type:"Feature",geometry:o,properties:{}};EC(e,L)&&(t=!0)}a++}if(t)return e;var k=my([]);for(a=0;a<n.features.length;a++)k.features=k.features.concat(CC(n.features[a]).features);var W,$=1/0;for(a=0;a<k.features.length;a++){var O=SC(e,k.features[a],"miles");O<$&&($=O,W=k.features[a])}return W}function yy(n,e,t,a,o,u){var d=Math.sqrt((o-t)*(o-t)+(u-a)*(u-a)),c=Math.sqrt((n-t)*(n-t)+(e-a)*(e-a)),h=Math.sqrt((o-n)*(o-n)+(u-e)*(u-e));if(d===c+h)return!0}var IC=MC,Pp={},e0={};e0.RADIUS=6378137;e0.FLATTENING=1/298.257223563;e0.POLAR_RADIUS=63567523142e-4;var vy=e0;Pp.geometry=_x;Pp.ring=w1;function _x(n){var e=0,t;switch(n.type){case"Polygon":return by(n.coordinates);case"MultiPolygon":for(t=0;t<n.coordinates.length;t++)e+=by(n.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<n.geometries.length;t++)e+=_x(n.geometries[t]);return e}}function by(n){var e=0;if(n&&n.length>0){e+=Math.abs(w1(n[0]));for(var t=1;t<n.length;t++)e-=Math.abs(w1(n[t]))}return e}function w1(n){var e,t,a,o,u,d,c=0,h=n.length;if(h>2){for(i=0;i<h;i++)i===h-2?(o=h-2,u=h-1,d=0):i===h-1?(o=h-1,u=0,d=1):(o=i,u=i+1,d=i+2),e=n[o],t=n[u],a=n[d],c+=(Sg(a[0])-Sg(e[0]))*Math.sin(Sg(t[1]));c=c*vy.RADIUS*vy.RADIUS/2}return c}function Sg(n){return n*Math.PI/180}var Eg=Pp.geometry;function PC(n){if(n.type==="FeatureCollection"){for(var e=0,t=0;e<n.features.length;e++)n.features[e].geometry&&(t+=Eg(n.features[e].geometry));return t}else return n.type==="Feature"?Eg(n.geometry):Eg(n)}var NC=PC,AC=ea,xy=an.point,DC=Zh,$C=Qh,TC=function(n,e,t){var a;if(n.type==="Feature")a=n.geometry.coordinates;else if(n.type==="LineString")a=n.coordinates;else throw new Error("input must be a LineString Feature or Geometry");for(var o=0,u=0;u<a.length&&!(e>=o&&u===a.length-1);u++)if(o>=e){var d=e-o;if(d){var c=DC(a[u],a[u-1])-180,h=$C(a[u],d,c,t);return h}else return xy(a[u])}else o+=AC(a[u],a[u+1],t);return xy(a[a.length-1])},RC=ea,wy=an.point,OC=function n(e,t){if(e.type==="FeatureCollection")return e.features.reduce(function(c,h){return c+n(h,t)},0);var a=e.type==="Feature"?e.geometry:e,o,u;if(a.type==="LineString")return Cg(a.coordinates,t);if(a.type==="Polygon"||a.type==="MultiLineString"){for(o=0,u=0;u<a.coordinates.length;u++)o+=Cg(a.coordinates[u],t);return o}else if(e.type==="MultiPolygon"){for(o=0,u=0;u<a.coordinates.length;u++)for(var d=0;d<a.coordinates[u].length;d++)o+=Cg(a.coordinates[u][d],t);return o}else throw new Error("input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry (or a FeatureCollection containing only those types)")};function Cg(n,e){for(var t=0,a=wy(n[0]),o=wy(n[0]),u,d=1;d<n.length;d++)o.geometry.coordinates=n[d],t+=RC(a,o,e),u=a,a=o,o=u;return t}var Mg=ea,af=an.point,LC=Zh,_y=Qh,Sx=function(n,e){var t;if(n.type==="Feature")t=n.geometry.coordinates;else if(n.type==="LineString")t=n.coordinates;else throw new Error("input must be a LineString Feature or Geometry");return kC(e,t)};function kC(n,e){for(var t="miles",a=af([1/0,1/0],{dist:1/0}),o=0;o<e.length-1;o++){var u=af(e[o]),d=af(e[o+1]);u.properties.dist=Mg(n,u,t),d.properties.dist=Mg(n,d,t);var c=Math.max(u.properties.dist,d.properties.dist),h=LC(u,d),g=_y(n,c,h+90,t),m=_y(n,c,h-90,t),y=FC(g.geometry.coordinates[0],g.geometry.coordinates[1],m.geometry.coordinates[0],m.geometry.coordinates[1],u.geometry.coordinates[0],u.geometry.coordinates[1],d.geometry.coordinates[0],d.geometry.coordinates[1]),x;y&&(x=af(y),x.properties.dist=Mg(n,x,t)),u.properties.dist<a.properties.dist&&(a=u,a.properties.index=o),d.properties.dist<a.properties.dist&&(a=d,a.properties.index=o),x&&x.properties.dist<a.properties.dist&&(a=x,a.properties.index=o)}return a}function FC(n,e,t,a,o,u,d,c){var h,g,m,y,x,E={x:null,y:null,onLine1:!1,onLine2:!1};return h=(c-u)*(t-n)-(d-o)*(a-e),h===0?E.x!==null&&E.y!==null?E:!1:(g=e-u,m=n-o,y=(d-o)*g-(c-u)*m,x=(t-n)*g-(a-e)*m,g=y/h,m=x/h,E.x=n+g*(t-n),E.y=e+g*(a-e),g>0&&g<1&&(E.onLine1=!0),m>0&&m<1&&(E.onLine2=!0),E.onLine1&&E.onLine2?[E.x,E.y]:!1)}var BC=an.lineString,Sy=Sx,HC=function(e,t,a){var o;if(a.type==="Feature")o=a.geometry.coordinates;else if(a.type==="LineString")o=a.coordinates;else throw new Error("input must be a LineString Feature or Geometry");var u=Sy(a,e),d=Sy(a,t),c;u.properties.index<=d.properties.index?c=[u,d]:c=[d,u];for(var h=BC([c[0].geometry.coordinates],{}),g=c[0].properties.index+1;g<c[1].properties.index+1;g++)h.geometry.coordinates.push(o[g]);return h.geometry.coordinates.push(c[1].geometry.coordinates),h},yd=an.point,zC=an.featureCollection,Ey=ea,VC=function(e,t,a){for(var o=zC([]),u=t/Ey(yd([e[0],e[1]]),yd([e[2],e[1]]),a),d=u*(e[2]-e[0]),c=t/Ey(yd([e[0],e[1]]),yd([e[0],e[3]]),a),h=c*(e[3]-e[1]),g=e[0];g<=e[2];){for(var m=e[1];m<=e[3];)o.features.push(yd([g,m])),m+=h;g+=d}return o},GC=an.featureCollection,sf=an.point,WC=an.polygon,Cy=ea,UC=function(e,t,a){for(var o=GC([]),u=t/Cy(sf([e[0],e[1]]),sf([e[2],e[1]]),a),d=u*(e[2]-e[0]),c=t/Cy(sf([e[0],e[1]]),sf([e[0],e[3]]),a),h=c*(e[3]-e[1]),g=e[0];g<=e[2];){for(var m=e[1];m<=e[3];){var y=WC([[[g,m],[g,m+h],[g+d,m+h],[g+d,m],[g,m]]]);o.features.push(y),m+=h}g+=d}return o},qC=an.featureCollection,bo=an.polygon,My=ea,jC=function(n,e,t){for(var a=qC([]),o=e/My([n[0],n[1]],[n[2],n[1]],t),u=o*(n[2]-n[0]),d=e/My([n[0],n[1]],[n[0],n[3]],t),c=d*(n[3]-n[1]),h=0,g=n[0];g<=n[2];){for(var m=0,y=n[1];y<=n[3];)h%2===0&&m%2===0?a.features.push(bo([[[g,y],[g,y+c],[g+u,y],[g,y]]]),bo([[[g,y+c],[g+u,y+c],[g+u,y],[g,y+c]]])):h%2===0&&m%2===1?a.features.push(bo([[[g,y],[g+u,y+c],[g+u,y],[g,y]]]),bo([[[g,y],[g,y+c],[g+u,y+c],[g,y]]])):m%2===0&&h%2===1?a.features.push(bo([[[g,y],[g,y+c],[g+u,y+c],[g,y]]]),bo([[[g,y],[g+u,y+c],[g+u,y],[g,y]]])):m%2===1&&h%2===1&&a.features.push(bo([[[g,y],[g,y+c],[g+u,y],[g,y]]]),bo([[[g,y+c],[g+u,y+c],[g+u,y],[g,y+c]]])),y+=c,m++;h++,g+=u}return a},of=an.point,Ex=an.polygon,Iy=ea,KC=an.featureCollection,fh=[],hh=[];for(var Ig=0;Ig<6;Ig++){var Py=2*Math.PI/6*Ig;fh.push(Math.cos(Py)),hh.push(Math.sin(Py))}var JC=function(e,t,a,o){var u=t/Iy(of([e[0],e[1]]),of([e[2],e[1]]),a),d=u*(e[2]-e[0]),c=t/Iy(of([e[0],e[1]]),of([e[0],e[3]]),a),h=c*(e[3]-e[1]),g=d/2,m=g*2,y=Math.sqrt(3)/2*h,x=e[2]-e[0],E=e[3]-e[1],_=3/4*m,w=y,L=x/(m-g/2),k=Math.ceil(L);Math.round(L)===k&&k++;var W=(k*_-g/2-x)/2-g/2,$=Math.ceil(E/y),O=(E-$*y)/2,z=$*y-E>y/2;z&&(O-=y/4);for(var le=KC([]),H=0;H<k;H++)for(var Z=0;Z<=$;Z++){var Y=H%2===1;if(!(Z===0&&Y)&&!(Z===0&&z)){var ye=H*_+e[0]-W,F=Z*w+e[1]+O;Y&&(F-=y/2),o?le.features.push.apply(le.features,XC([ye,F],d/2,h/2)):le.features.push(YC([ye,F],d/2,h/2))}}return le};function YC(n,e,t){for(var a=[],o=0;o<6;o++){var u=n[0]+e*fh[o],d=n[1]+t*hh[o];a.push([u,d])}return a.push(a[0]),Ex([a])}function XC(n,e,t){for(var a=[],o=0;o<6;o++){var u=[];u.push(n),u.push([n[0]+e*fh[o],n[1]+t*hh[o]]),u.push([n[0]+e*fh[(o+1)%6],n[1]+t*hh[(o+1)%6]]),u.push(n),a.push(Ex([u]))}return a}NS.exports={isolines:s7,convex:oE,within:dE,concave:mE,difference:yE,collect:bE,flip:wE,simplify:SE,bezier:PE,tag:AE,sample:$E,envelope:kE,square:nx,midpoint:WE,buffer:JE,center:px,centroid:tC,combine:rC,distance:ea,explode:mx,bbox:Jh,tesselate:lC,bboxPolygon:fx,inside:$l,intersect:cC,nearest:hC,planepoint:tx,random:vC,tin:wp,union:cx,bearing:Zh,destination:Qh,kinks:xC,pointOnSurface:IC,area:NC,along:TC,lineDistance:OC,lineSlice:HC,pointOnLine:Sx,pointGrid:VC,squareGrid:UC,triangleGrid:jC,hexGrid:JC};var eo=an;Sa.point=eo.point;Sa.polygon=eo.polygon;Sa.lineString=eo.lineString;Sa.multiPoint=eo.multiPoint;Sa.multiPolygon=eo.multiPolygon;Sa.multiLineString=eo.multiLineString;Sa.feature=eo.feature;Sa.featureCollection=eo.featureCollection;Sa.geometryCollection=eo.geometryCollection;var ZC=wr&&wr.__createBinding||(Object.create?function(n,e,t,a){a===void 0&&(a=t),Object.defineProperty(n,a,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,a){a===void 0&&(a=t),n[a]=e[t]}),QC=wr&&wr.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),eM=wr&&wr.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&ZC(e,n,t);return QC(e,n),e},uf=wr&&wr.__awaiter||function(n,e,t,a){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function c(m){try{g(a.next(m))}catch(y){d(y)}}function h(m){try{g(a.throw(m))}catch(y){d(y)}}function g(m){m.done?u(m.value):o(m.value).then(c,h)}g((a=a.apply(n,e||[])).next())})};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.CountryCoder=void 0;const Ny=eM(Sa);class cs{constructor(e,t){this._host=e,this._downloadFunction=t}GetCountryCodeAsync(e,t){return uf(this,void 0,void 0,function*(){return this.GetCountryCodeForTile(e,t,0,0,0)})}GetCountryCodeFor(e,t,a){this.GetCountryCodeAsync(e,t).then(a)}static lon2tile(e,t){return Math.floor((e+180)/360*Math.pow(2,t))}static lat2tile(e,t){return Math.floor((1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,t))}static FetchJsonXhr(e){return new Promise((t,a)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="json",o.onload=function(){var u=o.status;u===200?t(o.response):(console.error("COULD NOT GET ",e),a(e))},o.send()})}Fetch(e,t,a){return uf(this,void 0,void 0,function*(){const o=`${e}.${t}.${a}.json`,u=this._host+"/"+o;return this._downloadFunction!==void 0?this._downloadFunction(u):cs.FetchJsonXhr(u)})}FetchCached(e,t,a){return uf(this,void 0,void 0,function*(){const o=`${e}.${t}.${a}.json`;let u=cs.cache.get(o);if(u!==void 0)return u;const d=this.Fetch(e,t,a);return cs.cache.set(o,d),d})}GetCountryCodeForTile(e,t,a,o,u){return uf(this,void 0,void 0,function*(){const d=yield this.FetchCached(a,o,u);if(d===void 0)throw`Got undefined for ${a}, ${o}, ${u}`;if(d.length===void 0){const x=d,E=[];for(const _ of x.features)if(Ny.inside(Ny.point([e,t]),_)){const L=_.properties.country;E.push(L)}return E.sort(),E}if(d.length===1)return d;const c=cs.lon2tile(e,a+1),h=cs.lat2tile(t,a+1),g=c-o*2+2*(h-u*2),m=d[g];if(m===0)return[];const y=Number(m);return isNaN(y)?[m]:this.GetCountryCodeForTile(e,t,y,cs.lon2tile(e,y),cs.lat2tile(t,y))})}}Kh.CountryCoder=cs;cs.cache=new Map;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CountryCoder=void 0;var e=Kh;Object.defineProperty(n,"CountryCoder",{enumerable:!0,get:function(){return e.CountryCoder}})})(Qb);const tM=[{key:"building",polygon:"all"},{key:"highway",polygon:"whitelist",values:["services","rest_area","escape","elevator"]},{key:"natural",polygon:"blacklist",values:["coastline","cliff","ridge","arete","tree_row"]},{key:"landuse",polygon:"all"},{key:"waterway",polygon:"whitelist",values:["riverbank","dock","boatyard","dam"]},{key:"amenity",polygon:"all"},{key:"leisure",polygon:"all"},{key:"barrier",polygon:"whitelist",values:["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},{key:"railway",polygon:"whitelist",values:["station","turntable","roundhouse","platform"]},{key:"area",polygon:"all"},{key:"boundary",polygon:"all"},{key:"man_made",polygon:"blacklist",values:["cutline","embankment","pipeline"]},{key:"power",polygon:"whitelist",values:["plant","substation","generator","transformer"]},{key:"place",polygon:"all"},{key:"shop",polygon:"all"},{key:"aeroway",polygon:"blacklist",values:["taxiway"]},{key:"tourism",polygon:"all"},{key:"historic",polygon:"all"},{key:"public_transport",polygon:"all"},{key:"office",polygon:"all"},{key:"building:part",polygon:"all"},{key:"military",polygon:"all"},{key:"ruins",polygon:"all"},{key:"area:highway",polygon:"all"},{key:"craft",polygon:"all"},{key:"golf",polygon:"all"},{key:"indoor",polygon:"all"}],or=class{constructor(e,t){ae(this,"type");ae(this,"id");ae(this,"tags");ae(this,"version");ae(this,"changed",!1);ae(this,"timestamp");this.id=t,this.type=e,this.tags={id:`${this.type}/${t}`}}static SetBackendUrl(e){if(!e.endsWith("/"))throw"Backend URL must end with a '/'";if(!e.startsWith("http"))throw"Backend URL must begin with http";this.backendURL=e}static DownloadObject(e,t=!1){let a;if(or.objectCache.has(e))if(a=or.objectCache.get(e),t)a.setData(void 0);else return a;else a=Nt.FromPromise(or.DownloadObjectAsync(e));return or.objectCache.set(e,a),a}static async DownloadPropertiesOf(e){const t=e.split("/");if(Number(t[1])<0)return;const o=`${or.backendURL}api/0.6/${e}`,u=await gt.downloadJsonCachedAdvanced(o,1e3);return u.error!==void 0&&u.statuscode===410?"deleted":u.content.elements[0].tags}static async DownloadObjectAsync(e,t){const a=e.split("/"),o=a[0],u=Number(a[1]);if(u<0)return;const d=e.startsWith("node")?"":"/full",c=`${or.backendURL}api/0.6/${e}${d}`,h=await gt.downloadJsonCached(c,(t??10)*1e3);if(h===void 0)return;const g=or.ParseObjects(h.elements);for(const m of g)if(m.type===o&&m.id===u)return m;throw"PANIC: requested object is not part of the response"}static DownloadReferencingWays(e){return gt.downloadJsonCached(`${or.backendURL}api/0.6/${e}/ways`,60*1e3).then(t=>t.elements.map(a=>{const o=new Od(a.id);return o.LoadData(a),o}))}static async DownloadReferencingRelations(e){return(await gt.downloadJsonCached(`${or.backendURL}api/0.6/${e}/relations`,6e4)).elements.map(a=>{const o=new Ld(a.id);return o.LoadData(a),o.SaveExtraData(a,void 0),o})}static DownloadHistory(e){if(or.historyCache.has(e))return or.historyCache.get(e);const t=e.split("/"),a=t[0],o=Number(t[1]),u=new Nt([]);return or.historyCache.set(e,u),gt.downloadJsonCached(`${or.backendURL}api/0.6/${a}/${o}/history`,10*60*1e3).then(d=>{const c=d.elements,h=[];for(const g of c){let m=null;switch(g.nodes=[],a){case"node":m=new gh(o);break;case"way":m=new Od(o);break;case"relation":m=new Ld(o);break}m==null||m.LoadData(g),m==null||m.SaveExtraData(g,[]),h.push(m)}u.setData(h)}),u}static async LoadArea(e){const t=`${or.backendURL}api/0.6/map.json?bbox=${e.minLon},${e.minLat},${e.maxLon},${e.maxLat}`,o=(await gt.downloadJson(t)).elements;return or.ParseObjects(o)}static ParseObjects(e){const t=[],a=new Map;for(const o of e){const u=o.type,d=o.id;let c=null;switch(u){case"node":const h=new gh(d);a.set(d,h),c=h,h.SaveExtraData(o);break;case"way":c=new Od(d);const g=o.nodes.map(x=>a.get(x));c.SaveExtraData(o,g);break;case"relation":c=new Ld(d);const y=PS({elements:e},{flatProperties:!0}).features.find(x=>x.id===c.type+"/"+c.id);c.SaveExtraData(o,y);break}c!==void 0&&or.backendURL!==or.defaultBackend&&(c.tags._backend=or.backendURL),c==null||c.LoadData(o),t.push(c)}return t}static isPolygon(e){for(const t in e){if(!e.hasOwnProperty(t))continue;const a=or.polygonFeatures.get(t);if(a===void 0)continue;if(a.values===null)return!a.blacklist;const o=a.values.has(e[t]);return a.blacklist?!o:o}return!1}static constructPolygonFeatures(){const e=new Map;for(const t of tM){const a=t.key;if(t.polygon==="all"){e.set(a,{values:null,blacklist:!1});continue}const o=t.polygon==="blacklist";e.set(a,{values:new Set(t.values),blacklist:o})}return e}TagsXML(){let e="";for(const t in this.tags){if(t.startsWith("_")||t==="id")continue;const a=this.tags[t];a!==""&&a!==void 0&&(e+='        <tag k="'+gt.EncodeXmlValue(t)+'" v="'+gt.EncodeXmlValue(this.tags[t])+`"/>
`)}return e}VersionXML(){return this.version===void 0?"":'version="'+this.version+'"'}LoadData(e){this.tags=e.tags??this.tags,this.version=e.version,this.timestamp=e.timestamp;const t=this.tags;e.tags!==void 0&&(t["_last_edit:contributor"]=e.user,t["_last_edit:contributor:uid"]=e.uid,t["_last_edit:changeset"]=e.changeset,t["_last_edit:timestamp"]=e.timestamp,t._version_number=e.version,t.id=this.type+"/"+this.id)}};let _i=or;ae(_i,"defaultBackend","https://www.openstreetmap.org/"),ae(_i,"backendURL",or.defaultBackend),ae(_i,"polygonFeatures",or.constructPolygonFeatures()),ae(_i,"objectCache",new Map),ae(_i,"historyCache",new Map);class gh extends _i{constructor(t){super("node",t);ae(this,"lat");ae(this,"lon")}ChangesetXML(t,a){let o=this.TagsXML();return`    <node id="${this.id}" ${a??""}${t?` changeset="${t}" `:""}${this.VersionXML()} lat="${this.lat}" lon="${this.lon}">
${o}    </node>
`}SaveExtraData(t){this.lat=t.lat,this.lon=t.lon}centerpoint(){return[this.lat,this.lon]}asGeoJson(){return{type:"Feature",properties:this.tags,geometry:{type:"Point",coordinates:[this.lon,this.lat]}}}}class Od extends _i{constructor(t){super("way",t);ae(this,"nodes",[]);ae(this,"coordinates",[]);ae(this,"lat");ae(this,"lon")}centerpoint(){return[this.lat,this.lon]}ChangesetXML(t,a){let o=this.TagsXML(),u="";for(const d in this.nodes)u+='      <nd ref="'+this.nodes[d]+`"/>
`;return`    <way id="${this.id}" ${a??""}${t?` changeset="${t}" `:""}${this.VersionXML()}>
${u}${o}    </way>
`}SaveExtraData(t,a){let o=0,u=0;const d=new Map;for(const h of a)d.set(h.id,h);t.nodes===void 0&&console.error("PANIC: no nodes!");for(const h of t.nodes){const g=d.get(h);if(g===void 0){console.error("Error: node ",h,"not found in ",d);continue}this.coordinates.push(g.centerpoint()),o+=g.lat,u+=g.lon}let c=this.coordinates.length;this.lat=o/c,this.lon=u/c,this.nodes=t.nodes}asGeoJson(){let t=this.coordinates.map(([o,u])=>[u,o]),a;return this.isPolygon()?a={type:"Polygon",coordinates:[t]}:a={type:"LineString",coordinates:t},{type:"Feature",properties:this.tags,geometry:a}}isPolygon(){return this.coordinates[0][0]!==this.coordinates[this.coordinates.length-1][0]||this.coordinates[0][1]!==this.coordinates[this.coordinates.length-1][1]?!1:_i.isPolygon(this.tags)}}class Ld extends _i{constructor(t){super("relation",t);ae(this,"members");ae(this,"geojson")}centerpoint(){return[0,0]}ChangesetXML(t,a){let o="";for(const c of this.members)o+='      <member type="'+c.type+'" ref="'+c.ref+'" role="'+c.role+`"/>
`;let u=this.TagsXML(),d="";return t!==void 0&&(d=`changeset="${t}"`),`    <relation id="${this.id}" ${a??""} ${d} ${this.VersionXML()}>
${o}${u}        </relation>
`}SaveExtraData(t,a){this.members=t.members,this.geojson=a}asGeoJson(){if(this.geojson!==void 0)return this.geojson;throw"Not Implemented"}}class bi{constructor(e,t){ae(this,"keys");ae(this,"doc");ae(this,"isLazy");ae(this,"includesDates");ae(this,"applyMetaTagsOnFeature");if(this.keys=e.keys,this.doc=e.doc,this.isLazy=e.isLazy,this.applyMetaTagsOnFeature=t,this.includesDates=e.includesDates??!1,!e.cleanupRetagger){for(const a of e.keys)if(!a.startsWith("_")&&a.toLowerCase().indexOf("theme")<0)throw`Incorrect key for a calculated meta value '${a}': it should start with underscore (_)`}}}class Cx extends bi{constructor(){super({keys:["_referencing_ways"],isLazy:!0,doc:"_referencing_ways contains - for a node - which ways use this this node as point in their geometry. If the preset has 'snapToLayer' defined, the icon will be calculated based on the preset tags with `_referencing_ways=[\"way/-1\"]` added."},(e,t,a,o)=>{var c;const u=e.properties.id;if(!u.startsWith("node/"))return!1;const d=(c=o.allElements)==null?void 0:c.getEventSourceById(u);if(d!==void 0)return gt.AddLazyPropertyAsync(d.data,"_referencing_ways",async()=>{const g=(await _i.DownloadReferencingWays(u)).map(y=>"way/"+y.id);g.sort();const m=g.join(";");m!==""&&d.data[""]!==m&&(d.data._referencing_ways=m,d.ping())}),!0})}}ae(Cx,"enabled",!0);const Am=class extends bi{constructor(){const t=new Set;super({keys:["_country"],doc:"The country code of the property (with latlon2country)",includesDates:!1},(a,o,u,d)=>{let c=Lr.centerpoint(a);const h=c.geometry.coordinates[1],g=c.geometry.coordinates[0];return t.add(a),Am.coder.GetCountryCodeAsync(g,h).then(m=>{var y;t.delete(a);try{const x=a.properties._country;if(a.properties._country=m[0].trim().toLowerCase(),x!==a.properties._country){const E=(y=d==null?void 0:d.allElements)==null?void 0:y.getEventSourceById(a.properties.id);E==null||E.ping()}}catch(x){console.warn(x)}}).catch(m=>{t.delete(a)}),!1});ae(this,"runningTasks");this.runningTasks=t}};let Pf=Am;ae(Pf,"coder",new Qb.CountryCoder(gs.countryCoderEndpoint,gt.downloadJson));const xr=class{static removeBothTagging(e){let t=!1;function a(u,d){(e[u]===void 0||e[u]==="")&&(e[u]=d,t=!0)}if(e.sidewalk){const u=e.sidewalk;switch(u){case"none":case"no":a("sidewalk:left","no"),a("sidewalk:right","no");break;case"both":a("sidewalk:left","yes"),a("sidewalk:right","yes");break;case"left":a("sidewalk:left","yes"),a("sidewalk:right","no");break;case"right":a("sidewalk:left","no"),a("sidewalk:right","yes");break;default:a("sidewalk:left",u),a("sidewalk:right",u);break}delete e.sidewalk,t=!0}const o=/\([^:]*\):both:\(.*\)/;for(const u in e){const d=e[u];if(u.endsWith(":both")){const h=u.substring(0,u.length-5);a(h+":left",d),a(h+":right",d),delete e[u];continue}const c=u.match(o);if(c!==null){const h=c[1],g=c[1];a(h+":left:"+g,d),a(h+":right:"+g,d),console.log("Left-right rewritten "+u),delete e[u]}}return t}static HelpText(){const e=[new un(["Metatags are extra tags available, in order to display more data or to give better questions.","They are calculated automatically on every feature when the data arrives in the webbrowser. This document gives an overview of the available metatags.","**Hint:** when using metatags, add the [query parameter](URL_Parameters.md) `debug=true` to the URL. This will include a box in the popup for features which shows all the properties of the object"]).SetClass("flex-col")];e.push(new Ti("Metatags calculated by MapComplete",2)),e.push(new _s("The following values are always calculated, by default, by MapComplete and are available automatically on all elements in every theme"));for(const t of xr.metatags)e.push(new Ti(t.keys.join(", "),3),t.doc,t.isLazy?"This is a lazy metatag and is only calculated when needed":"");return new un(e).SetClass("flex-col")}};let fr=xr;ae(fr,"objectMetaInfo",new bi({keys:["_last_edit:contributor","_last_edit:contributor:uid","_last_edit:changeset","_last_edit:timestamp","_version_number","_backend"],doc:"Information about the last edit of this object."},e=>{const t=e.properties;let a=!1;function o(u,d){t[u]!==void 0&&(t[d]=t[u],delete t[u],a=!0)}return o("user","_last_edit:contributor"),o("uid","_last_edit:contributor:uid"),o("changeset","_last_edit:changeset"),o("timestamp","_last_edit:timestamp"),o("version","_version_number"),a})),ae(fr,"country",new Pf),ae(fr,"geometryType",new bi({keys:["_geometry:type"],doc:"Adds the geometry type as property. This is identical to the GoeJson geometry type and is one of `Point`,`LineString`, `Polygon` and exceptionally `MultiPolygon` or `MultiLineString`"},(e,t)=>{const a=e.properties["_geometry:type"]===e.geometry.type;return e.properties["_geometry:type"]=e.geometry.type,a})),ae(fr,"cardinalDirections",{N:0,NNE:22.5,NE:45,ENE:67.5,E:90,ESE:112.5,SE:135,SSE:157.5,S:180,SSW:202.5,SW:225,WSW:247.5,W:270,WNW:292.5,NW:315,NNW:337.5}),ae(fr,"latlon",new bi({keys:["_lat","_lon"],doc:"The latitude and longitude of the point (or centerpoint in the case of a way/area)"},e=>{const t=Lr.centerpoint(e),a=t.geometry.coordinates[1],o=t.geometry.coordinates[0];return e.properties._lat=""+a,e.properties._lon=""+o,e._lon=o,e._lat=a,!0})),ae(fr,"layerInfo",new bi({doc:"The layer-id to which this feature belongs. Note that this might be return any applicable if `passAllFeatures` is defined.",keys:["_layer"],includesDates:!1},(e,t,a)=>e.properties._layer===a.id?!1:(e.properties._layer=a.id,!0))),ae(fr,"noBothButLeftRight",new bi({keys:["sidewalk:left","sidewalk:right","generic_key:left:property","generic_key:right:property"],doc:"Rewrites tags from 'generic_key:both:property' as 'generic_key:left:property' and 'generic_key:right:property' (and similar for sidewalk tagging). Note that this rewritten tags _will be reuploaded on a change_. To prevent to much unrelated retagging, this is only enabled if the layer has at least some lineRenderings with offset defined",includesDates:!1,cleanupRetagger:!0},(e,t,a)=>{if(a.lineRendering.some(o=>o.leftRightSensitive))return xr.removeBothTagging(e.properties)})),ae(fr,"surfaceArea",new bi({keys:["_surface","_surface:ha"],doc:"The surface area of the feature, in square meters and in hectare. Not set on points and ways",isLazy:!0},e=>(Object.defineProperty(e.properties,"_surface",{enumerable:!1,configurable:!0,get:()=>{const t=""+Lr.surfaceAreaInSqMeters(e);return delete e.properties._surface,e.properties._surface=t,t}}),gt.AddLazyProperty(e.properties,"_surface:ha",()=>{const t=Lr.surfaceAreaInSqMeters(e);return""+Math.floor(t/1e3)/10}),!0))),ae(fr,"levels",new bi({doc:"Extract the 'level'-tag into a normalized, ';'-separated value",keys:["_level"]},e=>{if(e.properties.level===void 0)return!1;const t=e.properties.level,a=ps.LevelsParser(t).join(";");return t===a?!1:(e.properties.level=a,!0)})),ae(fr,"canonicalize",new bi({doc:"If 'units' is defined in the layoutConfig, then this metatagger will rewrite the specified keys to have the canonical form (e.g. `1meter` will be rewritten to `1m`; `1` will be rewritten to `1m` as well)",keys:["Theme-defined keys"]},(e,t,a,o)=>{var c,h;const u=gt.NoNull([].concat(...((h=(c=o==null?void 0:o.layoutToUse)==null?void 0:c.layers)==null?void 0:h.map(g=>g.units))??[]));if(u.length==0)return;let d=!1;for(const g in e.properties)if(e.properties.hasOwnProperty(g))for(const m of u){if(m===void 0)continue;if(m.appliesToKeys===void 0){console.error("The unit ",m,"has no appliesToKey defined");continue}if(!m.appliesToKeys.has(g))continue;const y=e.properties[g],x=m.findDenomination(y,()=>e.properties._country);if(x===void 0)break;const[,E]=x,_=m.getDefaultDenomination(()=>e.properties._country);let w=(E==null?void 0:E.canonicalValue(y,_==E))??void 0;if(w===y||(console.log("Rewritten ",g,` from '${y}' into '${w}'`),w===void 0&&!m.eraseInvalid))break;e.properties[g]=w,d=!0;break}return d})),ae(fr,"lngth",new bi({keys:["_length","_length:km"],doc:"The total length of a feature in meters (and in kilometers, rounded to one decimal for '_length:km'). For a surface, the length of the perimeter"},e=>{const t=Lr.lengthInMeters(e);e.properties._length=""+t;const a=Math.floor(t/1e3),o=Math.round((t-a*1e3)/100);return e.properties["_length:km"]=""+a+"."+o,!0})),ae(fr,"isOpen",new bi({keys:["_isOpen"],doc:"If 'opening_hours' is present, it will add the current state of the feature (being 'yes' or 'no')",includesDates:!0,isLazy:!0},(e,t,a,o)=>{if(gt.runningFromConsole)return!1;if(e.properties.opening_hours==="24/7")return e.properties._isOpen="yes",!0;Object.defineProperty(e.properties,"_isOpen",{enumerable:!1,configurable:!0,get:()=>{const u=e.properties;if(u.opening_hours!==void 0&&u._country!==void 0)try{const[d,c]=Lr.centerpointCoordinates(e);return new Uf(u.opening_hours,{lat:c,lon:d,address:{country_code:u._country.toLowerCase(),state:void 0}},{tag_key:"opening_hours"}).getState()?"yes":"no"}catch(d){console.warn("Error while parsing opening hours of ",u.id,d),delete u._isOpen,u._isOpen="parse_error"}}})})),ae(fr,"directionSimplified",new bi({keys:["_direction:numerical","_direction:leftright"],doc:"_direction:numerical is a normalized, numerical direction based on 'camera:direction' or on 'direction'; it is only present if a valid direction is found (e.g. 38.5 or NE). _direction:leftright is either 'left' or 'right', which is left-looking on the map or 'right-looking' on the map"},e=>{const t=e.properties,a=t["camera:direction"]??t.direction;if(a===void 0)return!1;const o=xr.cardinalDirections[a]??Number(a);if(isNaN(o))return!1;const u=(o%360+360)%360;return t["_direction:numerical"]=u,t["_direction:leftright"]=u<=180?"right":"left",!0})),ae(fr,"directionCenterpoint",new bi({keys:["_direction:centerpoint"],isLazy:!0,doc:"_direction:centerpoint is the direction of the linestring (in degrees) if one were standing at the projected centerpoint."},e=>{if(e.geometry.type!=="LineString")return!1;const t=e;return Object.defineProperty(e.properties,"_direction:centerpoint",{enumerable:!1,configurable:!0,get:()=>{const a=Lr.centerpoint(e),o=Lr.nearestPoint(t,a.geometry.coordinates),u=t.geometry.coordinates[o.properties.index+1],d=Lr.bearing(o.geometry.coordinates,u);return delete e.properties["_direction:centerpoint"],e.properties["_direction:centerpoint"]=d,d}}),!0})),ae(fr,"currentTime",new bi({keys:["_now:date","_now:datetime","_loaded:date","_loaded:_datetime"],doc:"Adds the time that the data got loaded - pretty much the time of downloading from overpass. The format is YYYY-MM-DD hh:mm, aka 'sortable' aka ISO-8601-but-not-entirely",includesDates:!0},(e,t)=>{const a=new Date;typeof t=="string"&&(t=new Date(t));function o(d){return d.toISOString().slice(0,10)}function u(d){return d.toISOString().slice(0,-5).replace("T"," ")}return e.properties["_now:date"]=o(a),e.properties["_now:datetime"]=u(a),e.properties["_loaded:date"]=o(t),e.properties["_loaded:datetime"]=u(t),!0})),ae(fr,"referencingWays",new Cx),ae(fr,"metatags",[xr.latlon,xr.layerInfo,xr.surfaceArea,xr.lngth,xr.canonicalize,xr.country,xr.isOpen,xr.directionSimplified,xr.directionCenterpoint,xr.currentTime,xr.objectMetaInfo,xr.noBothButLeftRight,xr.geometryType,xr.levels,xr.referencingWays]),ae(fr,"lazyTags",[].concat(...xr.metatags.filter(e=>e.isLazy).map(e=>e.keys)));class nM{static rewriteIds(e,t){const a=e.type+"/"+e.id,o=((e.changes??{}).nodes??[]).some(c=>t.has("node/"+c)),u=((e.changes??{}).members??[]).some(c=>t.has(c.type+"/"+c.ref));if((t.has(a)||o||u)&&(e={...e}),t.has(a)){const[c,h]=t.get(a).split("/");e.id=Number.parseInt(h)}return o&&(e.changes={...e.changes},e.changes.nodes=e.changes.nodes.map(c=>{const h="node/"+c;if(!t.has(h))return c;const[g,m]=t.get(h).split("/");return Number.parseInt(m)})),u&&(e.changes={...e.changes},e.changes.members=e.changes.members.map(c=>{const h=c.type+"/"+c.ref;if(!t.has(h))return c;const[g,m]=t.get(h).split("/");return{...c,ref:Number.parseInt(m)}})),e}static getGeojsonGeometry(e){switch(e.type){case"node":const t=new gh(e.id);return t.lat=e.changes.lat,t.lon=e.changes.lon,t.asGeoJson().geometry;case"way":const a=new Od(e.id);return a.nodes=e.changes.nodes,a.coordinates=e.changes.coordinates.map(([u,d])=>[d,u]),a.asGeoJson().geometry;case"relation":const o=new Ld(e.id);return o.members=e.changes.members,o.asGeoJson().geometry}}}function rM(n){var e={},t=null;try{t=window.localStorage}catch{var a=new Map;t={isMocked:!0,hasItem:g=>a.has(g),getItem:g=>a.get(g),setItem:(g,m)=>a.set(g,m),removeItem:g=>a.delete(g),clear:()=>a.clear()}}function o(h,g){var m=n.url+h;if(arguments.length===1){var y=t.getItem(m)||"";return y.replace(/"/g,"")}else if(arguments.length===2)return g?t.setItem(m,g):t.removeItem(m)}e.authenticated=function(){return!!o("oauth2_access_token")},e.logout=function(){return o("oauth2_access_token",""),o("oauth_token",""),o("oauth_token_secret",""),o("oauth_request_token_secret",""),e},e.authenticate=function(h){if(e.authenticated()){h(null,e);return}e.logout(),u(function(g,m){g?h(g):Dy(function(y){d(y,m,h)})})},e.authenticateAsync=function(){return e.authenticated()?Promise.resolve(e):(e.logout(),new Promise((h,g)=>{var m=(y,x)=>{y?g(y):h(x)};u((y,x)=>{y?m(y):Dy(E=>d(E,x,m))})}))};function u(h){if(n.singlepage){h(null,void 0);return}var g=550,m=610,y=[["width",g],["height",m],["left",window.screen.width/2-g/2],["top",window.screen.height/2-m/2]].map(function(_){return _.join("=")}).join(","),x=window.open("about:blank","oauth_window",y);if(x)h(null,x);else{var E=new Error("Popup was blocked");E.status="popup-blocked",h(E)}}function d(h,g,m){var y=iM(),x=n.url+"/oauth2/authorize?"+Ay({client_id:n.client_id,redirect_uri:n.redirect_uri,response_type:"code",scope:n.scope,state:y,code_challenge:h.code_challenge,code_challenge_method:h.code_challenge_method,locale:n.locale||""});if(n.singlepage){if(t.isMocked){var E=new Error("localStorage unavailable, but required in singlepage mode");E.status="pkce-localstorage-unavailable",m(E);return}var _=Pg(window.location.search.slice(1));_.code?e.bootstrapToken(_.code,m):(o("oauth2_state",y),o("oauth2_pkce_code_verifier",h.code_verifier),window.location=x)}else e.popupWindow=g,g.location=x;window.authComplete=function(L){var k=Pg(L.split("?")[1]);if(k.state!==y){var W=new Error("Invalid state");W.status="invalid-state",m(W);return}c(k.code,h.code_verifier,w),delete window.authComplete};function w(L,k){if(n.done(),L){m(L);return}var W=JSON.parse(k.response);o("oauth2_access_token",W.access_token),m(null,e)}}function c(h,g,m){var y=n.url+"/oauth2/token?"+Ay({client_id:n.client_id,redirect_uri:n.redirect_uri,grant_type:"authorization_code",code:h,code_verifier:g});e.rawxhr("POST",y,null,null,null,m),n.loading()}return e.bringPopupWindowToFront=function(){var h=!1;try{e.popupWindow&&!e.popupWindow.closed&&(e.popupWindow.focus(),h=!0)}catch{}return h},e.bootstrapToken=function(h,g){var m=o("oauth2_state");o("oauth2_state","");var y=Pg(window.location.search.slice(1));if(y.state!==m){var x=new Error("Invalid state");x.status="invalid-state",g(x);return}var E=o("oauth2_pkce_code_verifier");o("oauth2_pkce_code_verifier",""),c(h,E,_);function _(w,L){if(n.done(),w){g(w);return}var k=JSON.parse(L.response);o("oauth2_access_token",k.access_token),g(null,e)}},e.fetch=function(h,g){if(e.authenticated())return m();return n.auto?e.authenticateAsync().then(m):Promise.reject(new Error("not authenticated"));function m(){return g=g||{},g.headers||(g.headers={"Content-Type":"application/x-www-form-urlencoded"}),g.headers.Authorization="Bearer "+o("oauth2_access_token"),fetch(h,g)}},e.xhr=function(h,g){if(e.authenticated())return m();if(n.auto){e.authenticate(m);return}else{g("not authenticated",null);return}function m(){var x=h.prefix!==!1?n.apiUrl+h.path:h.path;return e.rawxhr(h.method,x,o("oauth2_access_token"),h.content,h.headers,y)}function y(x,E){x?g(x):E.responseXML?g(x,E.responseXML):g(x,E.response)}},e.rawxhr=function(h,g,m,y,x,E){x=x||{"Content-Type":"application/x-www-form-urlencoded"},m&&(x.Authorization="Bearer "+m);var _=new XMLHttpRequest;_.onreadystatechange=function(){_.readyState===4&&_.status!==0&&(/^20\d$/.test(_.status)?E(null,_):E(_,null))},_.onerror=function(L){E(L,null)},_.open(h,g,!0);for(var w in x)_.setRequestHeader(w,x[w]);return _.send(y),_},e.preauth=function(h){return h&&h.access_token&&o("oauth2_access_token",h.access_token),e},e.options=function(h){return arguments.length?(n=h,n.apiUrl=n.apiUrl||"https://api.openstreetmap.org",n.url=n.url||"https://www.openstreetmap.org",n.auto=n.auto||!1,n.singlepage=n.singlepage||!1,n.loading=n.loading||function(){},n.done=n.done||function(){},e.preauth(n)):n},e.options(n),e}function Ay(n){return Object.keys(n).filter(function(e){return n[e]!==void 0}).sort().map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&")}function Pg(n){for(var e=0;e<n.length&&(n[e]==="?"||n[e]==="#");)e++;return n=n.slice(e),n.split("&").reduce(function(t,a){var o=a.split("=");return o.length===2&&(t[o[0]]=decodeURIComponent(o[1])),t},{})}function Mx(){return window&&window.crypto&&window.crypto.getRandomValues&&window.crypto.subtle&&window.crypto.subtle.digest}function Dy(n){var e;if(Mx()){var t=window.crypto.getRandomValues(new Uint8Array(32));e=_1(t.buffer);var a=Uint8Array.from(Array.from(e).map(function(d){return d.charCodeAt(0)}));window.crypto.subtle.digest("SHA-256",a).then(function(d){var c=_1(d);n({code_challenge:c,code_verifier:e,code_challenge_method:"S256"})})}else{var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";e="";for(var u=0;u<64;u++)e+=o[Math.floor(Math.random()*o.length)];n({code_verifier:e,code_challenge:e,code_challenge_method:"plain"})}}function iM(){var n;if(Mx()){var e=window.crypto.getRandomValues(new Uint8Array(32));n=_1(e.buffer)}else{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";n="";for(var a=0;a<64;a++)n+=t[Math.floor(Math.random()*t.length)]}return n}function _1(n){return btoa(String.fromCharCode.apply(null,new Uint8Array(n))).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]/g,"")}class aM{constructor(e,t){ae(this,"preferences",new Nt({},"all-osm-preferences"));ae(this,"preferenceSources",new Map);ae(this,"auth");ae(this,"userDetails");ae(this,"longPreferences",{});this.auth=e,this.userDetails=t.userDetails;const a=this;t.OnLoggedIn(()=>a.UpdatePreferences())}GetLongPreference(e,t="mapcomplete-"){if(this.longPreferences[t+e]!==void 0)return this.longPreferences[t+e];const a=new Nt(void 0,"long-osm-preference:"+t+e);this.longPreferences[t+e]=a;const o=t+e+"-combined",u={prefix:""},d=this.GetPreference(o+"-length","",u);if((o+"-length").length>255)throw"This preference key is too long, it has "+e.length+" characters, but at most "+(255-7-9-t.length)+" characters are allowed";const c=this;a.addCallback(g=>{if(g===void 0||g==="")return;if(g===null){console.error("Deleting "+o);let y=parseInt(d.data);for(let x=0;x<y;x++)c.GetPreference(o+"-"+x,"",u).setData("");c.GetPreference(o+"-length","",u).setData("");return}let m=0;for(;g!=="";){if(g===void 0||g==="undefined")throw"Long pref became undefined?";if(m>100)throw"This long preference is getting very long... ";c.GetPreference(o+"-"+m,"",u).setData(g.substr(0,255)),g=g.substr(255),m++}d.setData(""+m)});function h(g){if(Object.keys(c.preferences.data).length===0)return;const m=Number(g);if(m>100)throw"Length to long";let y="";for(let x=0;x<m;x++){const E=o+"-"+x;c.preferences.data[E]===void 0&&console.warn("Detected a broken combined preference:",E,"is undefined",c.preferences),y+=c.preferences.data[E]??""}a.setData(y)}return d.addCallback(g=>{h(Number(g))}),this.preferences.addCallbackAndRun(g=>{h(Number(d.data))}),a}GetPreference(e,t=void 0,a){const o=(a==null?void 0:a.prefix)??"mapcomplete-";if(e.startsWith(o)&&o!==""&&console.trace("A preference was requested which has a duplicate prefix in its key. This is probably a bug"),e=o+e,e=e.replace(/[:\\\/"' {}.%]/g,""),e.length>=255)throw"Preferences: key length to big";const u=this.preferenceSources.get(e);if(u!==void 0)return u;this.userDetails.data.loggedIn&&this.preferences.data[e]===void 0&&this.UpdatePreferences();const d=new Nt(this.preferences.data[e]??t,"osm-preference:"+e);return d.addCallback(c=>{this.UploadPreference(e,c)}),this.preferences.addCallbackD(c=>{const h=c[e];h!==void 0&&d.setData(h)}),this.preferenceSources.set(e,d),d}ClearPreferences(){let e=!1;const t=this;this.preferences.addCallback(a=>{if(console.log("Cleaning preferences..."),Object.keys(a).length==0||e)return;e=!0;const o=["mapcomplete-"];for(const u in a)o.some(c=>u.startsWith(c))&&(console.log("Clearing ",u),t.GetPreference(u,"",{prefix:""}).setData(""));e=!1})}UpdatePreferences(){const e=this;this.auth.xhr({method:"GET",path:"/api/0.6/user/preferences"},function(t,a){if(t){console.log("Could not load preferences",t);return}const o=a.getElementsByTagName("preference");for(let u=0;u<o.length;u++){const d=o[u],c=d.getAttribute("k"),h=d.getAttribute("v");e.preferences.data[c]=h}e.preferenceSources.forEach((u,d)=>{const c=e.preferences.data[d];c===void 0&&u.data!==void 0?e.UploadPreference(d,u.data):u.setData(c)}),e.preferences.ping()})}UploadPreference(e,t){if(!this.userDetails.data.loggedIn){console.debug(`Not saving preference ${e}: user not logged in`);return}if(this.preferences.data[e]===t)return;const a=this;if(console.debug("Updating preference",e," to ",gt.EllipsesAfter(t,15)),t===void 0||t===""){this.auth.xhr({method:"DELETE",path:"/api/0.6/user/preferences/"+encodeURIComponent(e),options:{header:{"Content-Type":"text/plain"}}},function(o){if(o){console.warn("Could not remove preference",o);return}delete a.preferences.data[e],a.preferences.ping(),console.debug("Preference ",e,"removed!")});return}this.auth.xhr({method:"PUT",path:"/api/0.6/user/preferences/"+encodeURIComponent(e),options:{header:{"Content-Type":"text/plain"}},content:t},function(o){if(o){console.warn(`Could not set preference "${e}"'`,o);return}a.preferences.data[e]=t,a.preferences.ping(),console.debug(`Preference ${e} written!`)})}}/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var sM=/["'&<>]/,$y=oM;function oM(n){var e=""+n,t=sM.exec(e);if(!t)return e;var a,o="",u=0,d=0;for(u=t.index;u<e.length;u++){switch(e.charCodeAt(u)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#39;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}d!==u&&(o+=e.substring(d,u)),d=u+1,o+=a}return d!==u?o+e.substring(d,u):o}class Mo{constructor(e,t,a,o,u){ae(this,"allElements");ae(this,"osmConnection");ae(this,"changes");ae(this,"_dryRun");ae(this,"userDetails");ae(this,"auth");ae(this,"backend");ae(this,"_remappings",new Map);this.osmConnection=t,this.allElements=a,this.changes=o,this._dryRun=e,this.userDetails=t.userDetails,this.backend=t._oauth_config.url,this.auth=u,e&&console.log("DRYRUN ENABLED")}static removeDuplicateMetaTags(e){const t=[],a=new Set;for(const o of e)a.has(o.key)||(t.push(o),a.add(o.key));return t}static rewriteMetaTags(e,t){let a=!1;for(const o of e){const u=o.key.match(/^([a-zA-Z0-9_]+):(node\/-[0-9])$/);if(u==null)continue;const[d,c,h]=u;t.has(h)&&(o.key=c+":"+t.get(h),a=!0)}return a}async UploadChangeset(e,t,a){if(!t.some(o=>o.key==="comment")||!t.some(o=>o.key==="theme"))throw"The meta tags should at least contain a `comment` and a `theme`";if(t=[...t,...this.defaultChangesetTags()],t=Mo.removeDuplicateMetaTags(t),this.userDetails.data.csCount==0&&(this.userDetails.data.csCount=1,this.userDetails.ping()),this._dryRun.data){const o=e(123456,this._remappings);console.log("Metatags are",t),console.log(o);return}if(a.data===void 0)try{const o=await this.OpenChangeset(t);a.setData(o);const u=e(o,this._remappings);console.trace("Opened a new changeset (openChangeset.data is undefined):",u);const d=await this.UploadChange(o,u);Mo.rewriteMetaTags(t,d)&&await this.UpdateTags(o,t)}catch(o){console.error("Could not open/upload changeset due to ",o),a.setData(void 0)}else{const o=a.data;try{const u=await this.GetChangesetMeta(o);if(!u.open){console.log("Could not fetch the metadata from the already open changeset"),a.setData(void 0),await this.UploadChangeset(e,t,a);return}const d=await this.UploadChange(o,e(o,this._remappings)),c=this.RewriteTagsOf(t,d,u);await this.UpdateTags(o,c)}catch(u){console.warn("Could not upload, changeset is probably closed: ",u),a.setData(void 0)}}}RewriteTagsOf(e,t,a){const o=new Map;for(const d of e)o.set(d.key,d);const u=a.tags;for(const d in u){const c=o.get(d),h=u[d];if(!(c!==void 0&&c.value===h)){if(c===void 0){e.push({key:d,value:u[d]});continue}if(c.aggregate){let g=Number(c.value);isNaN(g)&&(g=0);let m=Number(u[d]);isNaN(m)&&(m=0),c.value=""+(g+m)}}}return Mo.rewriteMetaTags(e,t),e}static parseIdRewrite(e,t){const a=parseInt(e.attributes.old_id.value);if(e.attributes.new_id===void 0)return[t+"/"+a,void 0];const o=parseInt(e.attributes.new_id.value),u=[t+"/"+a,t+"/"+o];if(a!==o)return u}parseUploadChangesetResponse(e){const t=e.getElementsByTagName("node"),a=[];for(const u of Array.from(t)){const d=Mo.parseIdRewrite(u,"node");d!==void 0&&a.push(d)}const o=e.getElementsByTagName("way");for(const u of Array.from(o)){const d=Mo.parseIdRewrite(u,"way");d!==void 0&&a.push(d)}for(const u of a){const[d,c]=u;this.allElements.addAlias(d,c),c!==void 0&&this._remappings.set(u[0],u[1])}return new Map(a)}async CloseChangeset(e=void 0){const t=this;return new Promise(function(a,o){e!==void 0&&t.auth.xhr({method:"PUT",path:"/api/0.6/changeset/"+e+"/close"},function(u,d){d==null&&console.log("err",u),console.log("Closed changeset ",e),a()})})}async GetChangesetMeta(e){const t=`${this.backend}/api/0.6/changeset/${e}`;return(await gt.downloadJson(t)).elements[0]}async UpdateTags(e,t){t=Mo.removeDuplicateMetaTags(t);const a=this;return new Promise(function(o,u){t=gt.NoNull(t).filter(c=>c.key!==void 0&&c.value!==void 0&&c.key!==""&&c.value!=="");const d=t.map(c=>`<tag k="${c.key}" v="${$y(c.value)}"/>`);a.auth.xhr({method:"PUT",path:"/api/0.6/changeset/"+e,options:{header:{"Content-Type":"text/xml"}},content:["<osm><changeset>",d,"</changeset></osm>"].join("")},function(c,h){h===void 0?(console.error("Updating the tags of changeset "+e+" failed:",c),u(c)):o(h)})})}defaultChangesetTags(){var e,t,a,o,u;return[["created_by",`MapComplete ${gs.vNumber}`],["locale",Ur.language.data],["host",`${window.location.origin}${window.location.pathname}`],["source",((a=(t=(e=this.changes.state.currentUserLocation)==null?void 0:e.features)==null?void 0:t.data)==null?void 0:a.length)>0?"survey":void 0],["imagery",(u=(o=this.changes.state.backgroundLayer)==null?void 0:o.data)==null?void 0:u.id]].map(([d,c])=>({key:d,value:c,aggretage:!1}))}OpenChangeset(e){const t=this;return new Promise(function(a,o){const u=e.map(d=>[d.key,d.value]).filter(d=>(d[1]??"")!=="").map(d=>`<tag k="${d[0]}" v="${$y(d[1])}"/>`).join(`
`);t.auth.xhr({method:"PUT",path:"/api/0.6/changeset/create",options:{header:{"Content-Type":"text/xml"}},content:["<osm><changeset>",u,"</changeset></osm>"].join("")},function(d,c){c===void 0?(console.error("Opening a changeset failed:",d),o(d)):a(Number(c))})})}UploadChange(e,t){const a=this;return new Promise(function(o,u){a.auth.xhr({method:"POST",options:{header:{"Content-Type":"text/xml"}},path:"/api/0.6/changeset/"+e+"/upload",content:t},function(d,c){c==null&&(console.error("Uploading an actual change failed",d),u(d));const h=a.parseUploadChangesetResponse(c);console.log("Uploaded changeset ",e),o(h)})})}}class uM{constructor(e){ae(this,"loggedIn",!1);ae(this,"name","Not logged in");ae(this,"uid");ae(this,"csCount",0);ae(this,"img");ae(this,"unreadMessages",0);ae(this,"totalMessages",0);ae(this,"home");ae(this,"backend");ae(this,"account_created");ae(this,"tracesCount",0);ae(this,"description");this.backend=e}}const Bh=class{constructor(e){ae(this,"auth");ae(this,"userDetails");ae(this,"isLoggedIn");ae(this,"gpxServiceIsOnline",new Nt("unknown"));ae(this,"apiIsOnline",new Nt("unknown"));ae(this,"loadingStatus",new Nt("not-attempted"));ae(this,"preferencesHandler");ae(this,"_oauth_config");ae(this,"_dryRun");ae(this,"fakeUser");ae(this,"_onLoggedIn",[]);ae(this,"_iframeMode");ae(this,"_singlePage");ae(this,"isChecking",!1);var a;if(e=e??{},this.fakeUser=e.fakeUser??!1,this._singlePage=e.singlePage??!0,this._oauth_config=Bh.oauth_configs[e.osmConfiguration??"osm"]??Bh.oauth_configs.osm,console.debug("Using backend",this._oauth_config.url),_i.SetBackendUrl(this._oauth_config.url+"/"),this._iframeMode=gt.runningFromConsole?!1:window!==window.top,this.userDetails=new Nt(new uM(this._oauth_config.url),"userDetails"),e.fakeUser){const o=this.userDetails.data;o.csCount=5678,o.loggedIn=!0,o.unreadMessages=0,o.name="Fake user",o.totalMessages=42}const t=this;if(this.UpdateCapabilities(),this.isLoggedIn=this.userDetails.map(o=>o.loggedIn&&(t.apiIsOnline.data==="unknown"||t.apiIsOnline.data==="online"),[this.apiIsOnline]),this.isLoggedIn.addCallback(o=>{t.userDetails.data.loggedIn==!1&&o==!0&&t.AttemptLogin()}),this._dryRun=e.dryRun??new Nt(!1),this.updateAuthObject(),this.preferencesHandler=new aM(this.auth,this),((a=e.oauth_token)==null?void 0:a.data)!==void 0){console.log(e.oauth_token.data);const o=this;this.auth.bootstrapToken(e.oauth_token.data,u=>{console.log("Called back: ",u),o.AttemptLogin()},this.auth),e.oauth_token.setData(void 0)}!gt.runningFromConsole&&this.auth.authenticated()&&e.attemptLogin!==!1?this.AttemptLogin():console.log("Not authenticated")}CreateChangesetHandler(e,t){return new Mo(this._dryRun,this,e,t,this.auth)}GetPreference(e,t=void 0,a){return this.preferencesHandler.GetPreference(e,t,a)}GetLongPreference(e,t="mapcomplete-"){return this.preferencesHandler.GetLongPreference(e,t)}OnLoggedIn(e){this._onLoggedIn.push(e)}LogOut(){this.auth.logout(),this.userDetails.data.loggedIn=!1,this.userDetails.data.csCount=0,this.userDetails.data.name="",this.userDetails.ping(),console.log("Logged out"),this.loadingStatus.setData("not-attempted")}Backend(){return this._oauth_config.url}AttemptLogin(){if(gt.runningFromConsole)return;if(this.UpdateCapabilities(),this.loadingStatus.setData("loading"),this.fakeUser){this.loadingStatus.setData("logged-in"),console.log("AttemptLogin called, but ignored as fakeUser is set");return}const e=this;console.log("Trying to log in..."),this.updateAuthObject(),this.auth.xhr({method:"GET",path:"/api/0.6/user/details"},function(t,a){var m;if(t!=null){console.log(t),e.loadingStatus.setData("error"),t.status==401&&(console.log("Clearing tokens..."),["https://www.openstreetmap.orgoauth_request_token_secret","https://www.openstreetmap.orgoauth_token","https://www.openstreetmap.orgoauth_token_secret"].forEach(x=>localStorage.removeItem(x)));return}if(a==null){e.loadingStatus.setData("error");return}e.CheckForMessagesContinuously();let o=a.getElementsByTagName("user")[0],u=e.userDetails.data;u.loggedIn=!0,console.log("Login completed, userinfo is ",o),u.name=o.getAttribute("display_name"),u.account_created=o.getAttribute("account_created"),u.uid=Number(o.getAttribute("id")),u.csCount=Number.parseInt(o.getElementsByTagName("changesets")[0].getAttribute("count")??0),u.tracesCount=Number.parseInt(o.getElementsByTagName("changesets")[0].getAttribute("count")??0),u.img=void 0;const d=o.getElementsByTagName("img");d!==void 0&&d[0]!==void 0&&(u.img=d[0].getAttribute("href"));const c=o.getElementsByTagName("description");c!==void 0&&c[0]!==void 0&&(u.description=(m=c[0])==null?void 0:m.innerHTML);const h=o.getElementsByTagName("home");if(h!==void 0&&h[0]!==void 0){const y=parseFloat(h[0].getAttribute("lat")),x=parseFloat(h[0].getAttribute("lon"));u.home={lat:y,lon:x}}e.loadingStatus.setData("logged-in");const g=o.getElementsByTagName("messages")[0].getElementsByTagName("received")[0];u.unreadMessages=parseInt(g.getAttribute("unread")),u.totalMessages=parseInt(g.getAttribute("count")),e.userDetails.ping();for(const y of e._onLoggedIn)y(e.userDetails.data);e._onLoggedIn=[]})}closeNote(e,t){let a="";return(t??"")!==""&&(a="?text="+encodeURIComponent(t)),this._dryRun.data?(console.warn("Dryrun enabled - not actually closing note ",e," with text ",t),new Promise(o=>{o()})):new Promise((o,u)=>{this.auth.xhr({method:"POST",path:`/api/0.6/notes/${e}/close${a}`},function(d,c){d!==null?u(d):o()})})}reopenNote(e,t){if(this._dryRun.data)return console.warn("Dryrun enabled - not actually reopening note ",e," with text ",t),new Promise(o=>{o()});let a="";return(t??"")!==""&&(a="?text="+encodeURIComponent(t)),new Promise((o,u)=>{this.auth.xhr({method:"POST",path:`/api/0.6/notes/${e}/reopen${a}`},function(d,c){d!==null?u(d):o()})})}openNote(e,t,a){if(this._dryRun.data)return console.warn("Dryrun enabled - not actually opening note with text ",a),new Promise(d=>{window.setTimeout(()=>d({id:Math.floor(Math.random()*1e3)}),Math.random()*5e3)});const o=this.auth,u={lat:e,lon:t,text:a};return new Promise((d,c)=>{o.xhr({method:"POST",path:"/api/0.6/notes.json",options:{header:{"Content-Type":"application/json"}},content:JSON.stringify(u)},function(h,g){if(console.log("RESPONSE IS",g),h!==null)c(h);else{const y=JSON.parse(g).properties.id;console.log("OPENED NOTE",y),d({id:y})}})})}async uploadGpxTrack(e,t){var h;if(this._dryRun.data)return console.warn("Dryrun enabled - not actually uploading GPX ",e),new Promise((g,m)=>{window.setTimeout(()=>g({id:Math.floor(Math.random()*1e3)}),Math.random()*5e3)});const a={file:e,description:t.description??"",tags:((h=t.labels)==null?void 0:h.join(","))??"",visibility:t.visibility},o={file:'; filename="'+(t.filename??"gpx_track_mapcomplete_"+new Date().toISOString())+`"\r
Content-Type: application/gpx+xml`},u=this.auth,d="987654";let c="";for(const g in a)c+="--"+d+`\r
`,c+='Content-Disposition: form-data; name="'+g+'"',o[g]!==void 0&&(c+=o[g]),c+=`\r
\r
`,c+=a[g]+`\r
`;return c+="--"+d+`--\r
`,new Promise((g,m)=>{u.xhr({method:"POST",path:"/api/0.6/gpx/create",options:{header:{"Content-Type":"multipart/form-data; boundary="+d,"Content-Length":c.length}},content:c},function(y,x){if(console.log("RESPONSE IS",x),y!==null)m(y);else{const E=JSON.parse(x);console.log("Uploaded GPX track",E),g({id:E})}})})}addCommentToNote(e,t){if(this._dryRun.data)return console.warn("Dryrun enabled - not actually adding comment ",t,"to  note ",e),new Promise(a=>{a()});if((t??"")==="")throw"Invalid text!";return new Promise((a,o)=>{this.auth.xhr({method:"POST",path:`/api/0.6/notes/${e}/comment?text=${encodeURIComponent(t)}`},function(u,d){u!==null?o(u):a()})})}updateAuthObject(){let e=!1;try{(gt.runningFromConsole||window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches)&&(e=!0)}catch(a){console.warn("Detecting standalone mode failed",a,". Assuming in browser and not worrying furhter")}const t=this._iframeMode||e||!this._singlePage;this.auth=new rM({oauth_consumer_key:this._oauth_config.oauth_consumer_key,oauth_secret:this._oauth_config.oauth_secret,url:this._oauth_config.url,landing:t?void 0:window.location.href,singlepage:!t,auto:!0})}CheckForMessagesContinuously(){const e=this;this.isChecking||(this.isChecking=!0,Sb.Chronic(5*60*1e3).addCallback(t=>{e.isLoggedIn.data&&(console.log("Checking for messages"),e.AttemptLogin())}))}UpdateCapabilities(){const e=this;this.FetchCapabilities().then(({api:t,gpx:a})=>{e.apiIsOnline.setData(t),e.gpxServiceIsOnline.setData(a)})}async FetchCapabilities(){if(gt.runningFromConsole)return{api:"online",gpx:"online"};const e=await gt.downloadAdvanced(this.Backend()+"/api/0.6/capabilities");if(e.content===void 0)return console.log("Something went wrong:",e),{api:"unreachable",gpx:"unreachable"};const t=e.content,o=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("status")[0],u=o.getAttribute("api"),d=o.getAttribute("gpx");return{api:u,gpx:d}}};let Nf=Bh;ae(Nf,"oauth_configs",{osm:{oauth_consumer_key:"K93H1d8ve7p-tVLE1ZwsQ4lAFLQk8INx5vfTLMu5DWk",oauth_secret:"NBWGhWDrD3QDB35xtVuxv4aExnmIt4FA_WgeLtwxasg",url:"https://www.openstreetmap.org"},"osm-test":{oauth_consumer_key:"Zgr7EoKb93uwPv2EOFkIlf3n9NLwj5wbyfjZMhz2",oauth_secret:"3am1i1sykHDMZ66SGq4wI2Z7cJMKgzneCHp3nctn",url:"https://master.apis.dev.openstreetmap.org"}});var qs={},t0={},Ho={},Xi={},lM={get exports(){return Xi},set exports(n){Xi=n}};(function(n){(function(e,t){function a(F,b){if(!F)throw new Error(b||"Assertion failed")}function o(F,b){F.super_=b;var I=function(){};I.prototype=b.prototype,F.prototype=new I,F.prototype.constructor=F}function u(F,b,I){if(u.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((b==="le"||b==="be")&&(I=b,b=10),this._init(F||0,b||10,I||"be"))}typeof e=="object"?e.exports=u:t.BN=u,u.BN=u,u.wordSize=26;var d;try{typeof window<"u"&&typeof window.Buffer<"u"?d=window.Buffer:d=Z1.Buffer}catch{}u.isBN=function(b){return b instanceof u?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===u.wordSize&&Array.isArray(b.words)},u.max=function(b,I){return b.cmp(I)>0?b:I},u.min=function(b,I){return b.cmp(I)<0?b:I},u.prototype._init=function(b,I,B){if(typeof b=="number")return this._initNumber(b,I,B);if(typeof b=="object")return this._initArray(b,I,B);I==="hex"&&(I=16),a(I===(I|0)&&I>=2&&I<=36),b=b.toString().replace(/\s+/g,"");var V=0;b[0]==="-"&&(V++,this.negative=1),V<b.length&&(I===16?this._parseHex(b,V,B):(this._parseBase(b,I,V),B==="le"&&this._initArray(this.toArray(),I,B)))},u.prototype._initNumber=function(b,I,B){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(a(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),I,B)},u.prototype._initArray=function(b,I,B){if(a(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var ee,ce,q=0;if(B==="be")for(V=b.length-1,ee=0;V>=0;V-=3)ce=b[V]|b[V-1]<<8|b[V-2]<<16,this.words[ee]|=ce<<q&67108863,this.words[ee+1]=ce>>>26-q&67108863,q+=24,q>=26&&(q-=26,ee++);else if(B==="le")for(V=0,ee=0;V<b.length;V+=3)ce=b[V]|b[V+1]<<8|b[V+2]<<16,this.words[ee]|=ce<<q&67108863,this.words[ee+1]=ce>>>26-q&67108863,q+=24,q>=26&&(q-=26,ee++);return this.strip()};function c(F,b){var I=F.charCodeAt(b);return I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:I-48&15}function h(F,b,I){var B=c(F,I);return I-1>=b&&(B|=c(F,I-1)<<4),B}u.prototype._parseHex=function(b,I,B){this.length=Math.ceil((b.length-I)/6),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var ee=0,ce=0,q;if(B==="be")for(V=b.length-1;V>=I;V-=2)q=h(b,I,V)<<ee,this.words[ce]|=q&67108863,ee>=18?(ee-=18,ce+=1,this.words[ce]|=q>>>26):ee+=8;else{var ne=b.length-I;for(V=ne%2===0?I+1:I;V<b.length;V+=2)q=h(b,I,V)<<ee,this.words[ce]|=q&67108863,ee>=18?(ee-=18,ce+=1,this.words[ce]|=q>>>26):ee+=8}this.strip()};function g(F,b,I,B){for(var V=0,ee=Math.min(F.length,I),ce=b;ce<ee;ce++){var q=F.charCodeAt(ce)-48;V*=B,q>=49?V+=q-49+10:q>=17?V+=q-17+10:V+=q}return V}u.prototype._parseBase=function(b,I,B){this.words=[0],this.length=1;for(var V=0,ee=1;ee<=67108863;ee*=I)V++;V--,ee=ee/I|0;for(var ce=b.length-B,q=ce%V,ne=Math.min(ce,ce-q)+B,C=0,G=B;G<ne;G+=V)C=g(b,G,G+V,I),this.imuln(ee),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(q!==0){var _e=1;for(C=g(b,G,b.length,I),G=0;G<q;G++)_e*=I;this.imuln(_e),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this.strip()},u.prototype.copy=function(b){b.words=new Array(this.length);for(var I=0;I<this.length;I++)b.words[I]=this.words[I];b.length=this.length,b.negative=this.negative,b.red=this.red},u.prototype.clone=function(){var b=new u(null);return this.copy(b),b},u.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(b,I){b=b||10,I=I|0||1;var B;if(b===16||b==="hex"){B="";for(var V=0,ee=0,ce=0;ce<this.length;ce++){var q=this.words[ce],ne=((q<<V|ee)&16777215).toString(16);ee=q>>>24-V&16777215,ee!==0||ce!==this.length-1?B=m[6-ne.length]+ne+B:B=ne+B,V+=2,V>=26&&(V-=26,ce--)}for(ee!==0&&(B=ee.toString(16)+B);B.length%I!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(b===(b|0)&&b>=2&&b<=36){var C=y[b],G=x[b];B="";var _e=this.clone();for(_e.negative=0;!_e.isZero();){var De=_e.modn(G).toString(b);_e=_e.idivn(G),_e.isZero()?B=De+B:B=m[C-De.length]+De+B}for(this.isZero()&&(B="0"+B);B.length%I!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}a(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(b,I){return a(typeof d<"u"),this.toArrayLike(d,b,I)},u.prototype.toArray=function(b,I){return this.toArrayLike(Array,b,I)},u.prototype.toArrayLike=function(b,I,B){var V=this.byteLength(),ee=B||Math.max(1,V);a(V<=ee,"byte array longer than desired length"),a(ee>0,"Requested array length <= 0"),this.strip();var ce=I==="le",q=new b(ee),ne,C,G=this.clone();if(ce){for(C=0;!G.isZero();C++)ne=G.andln(255),G.iushrn(8),q[C]=ne;for(;C<ee;C++)q[C]=0}else{for(C=0;C<ee-V;C++)q[C]=0;for(C=0;!G.isZero();C++)ne=G.andln(255),G.iushrn(8),q[ee-C-1]=ne}return q},Math.clz32?u.prototype._countBits=function(b){return 32-Math.clz32(b)}:u.prototype._countBits=function(b){var I=b,B=0;return I>=4096&&(B+=13,I>>>=13),I>=64&&(B+=7,I>>>=7),I>=8&&(B+=4,I>>>=4),I>=2&&(B+=2,I>>>=2),B+I},u.prototype._zeroBits=function(b){if(b===0)return 26;var I=b,B=0;return I&8191||(B+=13,I>>>=13),I&127||(B+=7,I>>>=7),I&15||(B+=4,I>>>=4),I&3||(B+=2,I>>>=2),I&1||B++,B},u.prototype.bitLength=function(){var b=this.words[this.length-1],I=this._countBits(b);return(this.length-1)*26+I};function E(F){for(var b=new Array(F.bitLength()),I=0;I<b.length;I++){var B=I/26|0,V=I%26;b[I]=(F.words[B]&1<<V)>>>V}return b}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,I=0;I<this.length;I++){var B=this._zeroBits(this.words[I]);if(b+=B,B!==26)break}return b},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},u.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var I=0;I<b.length;I++)this.words[I]=this.words[I]|b.words[I];return this.strip()},u.prototype.ior=function(b){return a((this.negative|b.negative)===0),this.iuor(b)},u.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},u.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},u.prototype.iuand=function(b){var I;this.length>b.length?I=b:I=this;for(var B=0;B<I.length;B++)this.words[B]=this.words[B]&b.words[B];return this.length=I.length,this.strip()},u.prototype.iand=function(b){return a((this.negative|b.negative)===0),this.iuand(b)},u.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},u.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},u.prototype.iuxor=function(b){var I,B;this.length>b.length?(I=this,B=b):(I=b,B=this);for(var V=0;V<B.length;V++)this.words[V]=I.words[V]^B.words[V];if(this!==I)for(;V<I.length;V++)this.words[V]=I.words[V];return this.length=I.length,this.strip()},u.prototype.ixor=function(b){return a((this.negative|b.negative)===0),this.iuxor(b)},u.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},u.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},u.prototype.inotn=function(b){a(typeof b=="number"&&b>=0);var I=Math.ceil(b/26)|0,B=b%26;this._expand(I),B>0&&I--;for(var V=0;V<I;V++)this.words[V]=~this.words[V]&67108863;return B>0&&(this.words[V]=~this.words[V]&67108863>>26-B),this.strip()},u.prototype.notn=function(b){return this.clone().inotn(b)},u.prototype.setn=function(b,I){a(typeof b=="number"&&b>=0);var B=b/26|0,V=b%26;return this._expand(B+1),I?this.words[B]=this.words[B]|1<<V:this.words[B]=this.words[B]&~(1<<V),this.strip()},u.prototype.iadd=function(b){var I;if(this.negative!==0&&b.negative===0)return this.negative=0,I=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,I=this.isub(b),b.negative=1,I._normSign();var B,V;this.length>b.length?(B=this,V=b):(B=b,V=this);for(var ee=0,ce=0;ce<V.length;ce++)I=(B.words[ce]|0)+(V.words[ce]|0)+ee,this.words[ce]=I&67108863,ee=I>>>26;for(;ee!==0&&ce<B.length;ce++)I=(B.words[ce]|0)+ee,this.words[ce]=I&67108863,ee=I>>>26;if(this.length=B.length,ee!==0)this.words[this.length]=ee,this.length++;else if(B!==this)for(;ce<B.length;ce++)this.words[ce]=B.words[ce];return this},u.prototype.add=function(b){var I;return b.negative!==0&&this.negative===0?(b.negative=0,I=this.sub(b),b.negative^=1,I):b.negative===0&&this.negative!==0?(this.negative=0,I=b.sub(this),this.negative=1,I):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},u.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var I=this.iadd(b);return b.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var B=this.cmp(b);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var V,ee;B>0?(V=this,ee=b):(V=b,ee=this);for(var ce=0,q=0;q<ee.length;q++)I=(V.words[q]|0)-(ee.words[q]|0)+ce,ce=I>>26,this.words[q]=I&67108863;for(;ce!==0&&q<V.length;q++)I=(V.words[q]|0)+ce,ce=I>>26,this.words[q]=I&67108863;if(ce===0&&q<V.length&&V!==this)for(;q<V.length;q++)this.words[q]=V.words[q];return this.length=Math.max(this.length,q),V!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(b){return this.clone().isub(b)};function _(F,b,I){I.negative=b.negative^F.negative;var B=F.length+b.length|0;I.length=B,B=B-1|0;var V=F.words[0]|0,ee=b.words[0]|0,ce=V*ee,q=ce&67108863,ne=ce/67108864|0;I.words[0]=q;for(var C=1;C<B;C++){for(var G=ne>>>26,_e=ne&67108863,De=Math.min(C,b.length-1),$e=Math.max(0,C-F.length+1);$e<=De;$e++){var be=C-$e|0;V=F.words[be]|0,ee=b.words[$e]|0,ce=V*ee+_e,G+=ce/67108864|0,_e=ce&67108863}I.words[C]=_e|0,ne=G|0}return ne!==0?I.words[C]=ne|0:I.length--,I.strip()}var w=function(b,I,B){var V=b.words,ee=I.words,ce=B.words,q=0,ne,C,G,_e=V[0]|0,De=_e&8191,$e=_e>>>13,be=V[1]|0,Ze=be&8191,Qe=be>>>13,Ot=V[2]|0,it=Ot&8191,at=Ot>>>13,lt=V[3]|0,Pe=lt&8191,Tt=lt>>>13,Rn=V[4]|0,$t=Rn&8191,te=Rn>>>13,D=V[5]|0,A=D&8191,se=D>>>13,pe=V[6]|0,Ee=pe&8191,Te=pe>>>13,Me=V[7]|0,je=Me&8191,wt=Me>>>13,Kt=V[8]|0,nt=Kt&8191,qt=Kt>>>13,Ne=V[9]|0,nn=Ne&8191,en=Ne>>>13,It=ee[0]|0,st=It&8191,Ft=It>>>13,Zr=ee[1]|0,Cn=Zr&8191,dn=Zr>>>13,gi=ee[2]|0,ln=gi&8191,At=gi>>>13,An=ee[3]|0,et=An&8191,ze=An>>>13,St=ee[4]|0,cn=St&8191,ot=St>>>13,ir=ee[5]|0,Ct=ir&8191,oe=ir>>>13,Q=ee[6]|0,J=Q&8191,U=Q>>>13,R=ee[7]|0,K=R&8191,ie=R>>>13,xe=ee[8]|0,ve=xe&8191,Re=xe>>>13,We=ee[9]|0,Ae=We&8191,me=We>>>13;B.negative=b.negative^I.negative,B.length=19,ne=Math.imul(De,st),C=Math.imul(De,Ft),C=C+Math.imul($e,st)|0,G=Math.imul($e,Ft);var rt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(rt>>>26)|0,rt&=67108863,ne=Math.imul(Ze,st),C=Math.imul(Ze,Ft),C=C+Math.imul(Qe,st)|0,G=Math.imul(Qe,Ft),ne=ne+Math.imul(De,Cn)|0,C=C+Math.imul(De,dn)|0,C=C+Math.imul($e,Cn)|0,G=G+Math.imul($e,dn)|0;var Bt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,ne=Math.imul(it,st),C=Math.imul(it,Ft),C=C+Math.imul(at,st)|0,G=Math.imul(at,Ft),ne=ne+Math.imul(Ze,Cn)|0,C=C+Math.imul(Ze,dn)|0,C=C+Math.imul(Qe,Cn)|0,G=G+Math.imul(Qe,dn)|0,ne=ne+Math.imul(De,ln)|0,C=C+Math.imul(De,At)|0,C=C+Math.imul($e,ln)|0,G=G+Math.imul($e,At)|0;var bt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(bt>>>26)|0,bt&=67108863,ne=Math.imul(Pe,st),C=Math.imul(Pe,Ft),C=C+Math.imul(Tt,st)|0,G=Math.imul(Tt,Ft),ne=ne+Math.imul(it,Cn)|0,C=C+Math.imul(it,dn)|0,C=C+Math.imul(at,Cn)|0,G=G+Math.imul(at,dn)|0,ne=ne+Math.imul(Ze,ln)|0,C=C+Math.imul(Ze,At)|0,C=C+Math.imul(Qe,ln)|0,G=G+Math.imul(Qe,At)|0,ne=ne+Math.imul(De,et)|0,C=C+Math.imul(De,ze)|0,C=C+Math.imul($e,et)|0,G=G+Math.imul($e,ze)|0;var Lt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,ne=Math.imul($t,st),C=Math.imul($t,Ft),C=C+Math.imul(te,st)|0,G=Math.imul(te,Ft),ne=ne+Math.imul(Pe,Cn)|0,C=C+Math.imul(Pe,dn)|0,C=C+Math.imul(Tt,Cn)|0,G=G+Math.imul(Tt,dn)|0,ne=ne+Math.imul(it,ln)|0,C=C+Math.imul(it,At)|0,C=C+Math.imul(at,ln)|0,G=G+Math.imul(at,At)|0,ne=ne+Math.imul(Ze,et)|0,C=C+Math.imul(Ze,ze)|0,C=C+Math.imul(Qe,et)|0,G=G+Math.imul(Qe,ze)|0,ne=ne+Math.imul(De,cn)|0,C=C+Math.imul(De,ot)|0,C=C+Math.imul($e,cn)|0,G=G+Math.imul($e,ot)|0;var dt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(dt>>>26)|0,dt&=67108863,ne=Math.imul(A,st),C=Math.imul(A,Ft),C=C+Math.imul(se,st)|0,G=Math.imul(se,Ft),ne=ne+Math.imul($t,Cn)|0,C=C+Math.imul($t,dn)|0,C=C+Math.imul(te,Cn)|0,G=G+Math.imul(te,dn)|0,ne=ne+Math.imul(Pe,ln)|0,C=C+Math.imul(Pe,At)|0,C=C+Math.imul(Tt,ln)|0,G=G+Math.imul(Tt,At)|0,ne=ne+Math.imul(it,et)|0,C=C+Math.imul(it,ze)|0,C=C+Math.imul(at,et)|0,G=G+Math.imul(at,ze)|0,ne=ne+Math.imul(Ze,cn)|0,C=C+Math.imul(Ze,ot)|0,C=C+Math.imul(Qe,cn)|0,G=G+Math.imul(Qe,ot)|0,ne=ne+Math.imul(De,Ct)|0,C=C+Math.imul(De,oe)|0,C=C+Math.imul($e,Ct)|0,G=G+Math.imul($e,oe)|0;var pt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(pt>>>26)|0,pt&=67108863,ne=Math.imul(Ee,st),C=Math.imul(Ee,Ft),C=C+Math.imul(Te,st)|0,G=Math.imul(Te,Ft),ne=ne+Math.imul(A,Cn)|0,C=C+Math.imul(A,dn)|0,C=C+Math.imul(se,Cn)|0,G=G+Math.imul(se,dn)|0,ne=ne+Math.imul($t,ln)|0,C=C+Math.imul($t,At)|0,C=C+Math.imul(te,ln)|0,G=G+Math.imul(te,At)|0,ne=ne+Math.imul(Pe,et)|0,C=C+Math.imul(Pe,ze)|0,C=C+Math.imul(Tt,et)|0,G=G+Math.imul(Tt,ze)|0,ne=ne+Math.imul(it,cn)|0,C=C+Math.imul(it,ot)|0,C=C+Math.imul(at,cn)|0,G=G+Math.imul(at,ot)|0,ne=ne+Math.imul(Ze,Ct)|0,C=C+Math.imul(Ze,oe)|0,C=C+Math.imul(Qe,Ct)|0,G=G+Math.imul(Qe,oe)|0,ne=ne+Math.imul(De,J)|0,C=C+Math.imul(De,U)|0,C=C+Math.imul($e,J)|0,G=G+Math.imul($e,U)|0;var mn=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(mn>>>26)|0,mn&=67108863,ne=Math.imul(je,st),C=Math.imul(je,Ft),C=C+Math.imul(wt,st)|0,G=Math.imul(wt,Ft),ne=ne+Math.imul(Ee,Cn)|0,C=C+Math.imul(Ee,dn)|0,C=C+Math.imul(Te,Cn)|0,G=G+Math.imul(Te,dn)|0,ne=ne+Math.imul(A,ln)|0,C=C+Math.imul(A,At)|0,C=C+Math.imul(se,ln)|0,G=G+Math.imul(se,At)|0,ne=ne+Math.imul($t,et)|0,C=C+Math.imul($t,ze)|0,C=C+Math.imul(te,et)|0,G=G+Math.imul(te,ze)|0,ne=ne+Math.imul(Pe,cn)|0,C=C+Math.imul(Pe,ot)|0,C=C+Math.imul(Tt,cn)|0,G=G+Math.imul(Tt,ot)|0,ne=ne+Math.imul(it,Ct)|0,C=C+Math.imul(it,oe)|0,C=C+Math.imul(at,Ct)|0,G=G+Math.imul(at,oe)|0,ne=ne+Math.imul(Ze,J)|0,C=C+Math.imul(Ze,U)|0,C=C+Math.imul(Qe,J)|0,G=G+Math.imul(Qe,U)|0,ne=ne+Math.imul(De,K)|0,C=C+Math.imul(De,ie)|0,C=C+Math.imul($e,K)|0,G=G+Math.imul($e,ie)|0;var fn=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(fn>>>26)|0,fn&=67108863,ne=Math.imul(nt,st),C=Math.imul(nt,Ft),C=C+Math.imul(qt,st)|0,G=Math.imul(qt,Ft),ne=ne+Math.imul(je,Cn)|0,C=C+Math.imul(je,dn)|0,C=C+Math.imul(wt,Cn)|0,G=G+Math.imul(wt,dn)|0,ne=ne+Math.imul(Ee,ln)|0,C=C+Math.imul(Ee,At)|0,C=C+Math.imul(Te,ln)|0,G=G+Math.imul(Te,At)|0,ne=ne+Math.imul(A,et)|0,C=C+Math.imul(A,ze)|0,C=C+Math.imul(se,et)|0,G=G+Math.imul(se,ze)|0,ne=ne+Math.imul($t,cn)|0,C=C+Math.imul($t,ot)|0,C=C+Math.imul(te,cn)|0,G=G+Math.imul(te,ot)|0,ne=ne+Math.imul(Pe,Ct)|0,C=C+Math.imul(Pe,oe)|0,C=C+Math.imul(Tt,Ct)|0,G=G+Math.imul(Tt,oe)|0,ne=ne+Math.imul(it,J)|0,C=C+Math.imul(it,U)|0,C=C+Math.imul(at,J)|0,G=G+Math.imul(at,U)|0,ne=ne+Math.imul(Ze,K)|0,C=C+Math.imul(Ze,ie)|0,C=C+Math.imul(Qe,K)|0,G=G+Math.imul(Qe,ie)|0,ne=ne+Math.imul(De,ve)|0,C=C+Math.imul(De,Re)|0,C=C+Math.imul($e,ve)|0,G=G+Math.imul($e,Re)|0;var kn=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(kn>>>26)|0,kn&=67108863,ne=Math.imul(nn,st),C=Math.imul(nn,Ft),C=C+Math.imul(en,st)|0,G=Math.imul(en,Ft),ne=ne+Math.imul(nt,Cn)|0,C=C+Math.imul(nt,dn)|0,C=C+Math.imul(qt,Cn)|0,G=G+Math.imul(qt,dn)|0,ne=ne+Math.imul(je,ln)|0,C=C+Math.imul(je,At)|0,C=C+Math.imul(wt,ln)|0,G=G+Math.imul(wt,At)|0,ne=ne+Math.imul(Ee,et)|0,C=C+Math.imul(Ee,ze)|0,C=C+Math.imul(Te,et)|0,G=G+Math.imul(Te,ze)|0,ne=ne+Math.imul(A,cn)|0,C=C+Math.imul(A,ot)|0,C=C+Math.imul(se,cn)|0,G=G+Math.imul(se,ot)|0,ne=ne+Math.imul($t,Ct)|0,C=C+Math.imul($t,oe)|0,C=C+Math.imul(te,Ct)|0,G=G+Math.imul(te,oe)|0,ne=ne+Math.imul(Pe,J)|0,C=C+Math.imul(Pe,U)|0,C=C+Math.imul(Tt,J)|0,G=G+Math.imul(Tt,U)|0,ne=ne+Math.imul(it,K)|0,C=C+Math.imul(it,ie)|0,C=C+Math.imul(at,K)|0,G=G+Math.imul(at,ie)|0,ne=ne+Math.imul(Ze,ve)|0,C=C+Math.imul(Ze,Re)|0,C=C+Math.imul(Qe,ve)|0,G=G+Math.imul(Qe,Re)|0,ne=ne+Math.imul(De,Ae)|0,C=C+Math.imul(De,me)|0,C=C+Math.imul($e,Ae)|0,G=G+Math.imul($e,me)|0;var qn=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(qn>>>26)|0,qn&=67108863,ne=Math.imul(nn,Cn),C=Math.imul(nn,dn),C=C+Math.imul(en,Cn)|0,G=Math.imul(en,dn),ne=ne+Math.imul(nt,ln)|0,C=C+Math.imul(nt,At)|0,C=C+Math.imul(qt,ln)|0,G=G+Math.imul(qt,At)|0,ne=ne+Math.imul(je,et)|0,C=C+Math.imul(je,ze)|0,C=C+Math.imul(wt,et)|0,G=G+Math.imul(wt,ze)|0,ne=ne+Math.imul(Ee,cn)|0,C=C+Math.imul(Ee,ot)|0,C=C+Math.imul(Te,cn)|0,G=G+Math.imul(Te,ot)|0,ne=ne+Math.imul(A,Ct)|0,C=C+Math.imul(A,oe)|0,C=C+Math.imul(se,Ct)|0,G=G+Math.imul(se,oe)|0,ne=ne+Math.imul($t,J)|0,C=C+Math.imul($t,U)|0,C=C+Math.imul(te,J)|0,G=G+Math.imul(te,U)|0,ne=ne+Math.imul(Pe,K)|0,C=C+Math.imul(Pe,ie)|0,C=C+Math.imul(Tt,K)|0,G=G+Math.imul(Tt,ie)|0,ne=ne+Math.imul(it,ve)|0,C=C+Math.imul(it,Re)|0,C=C+Math.imul(at,ve)|0,G=G+Math.imul(at,Re)|0,ne=ne+Math.imul(Ze,Ae)|0,C=C+Math.imul(Ze,me)|0,C=C+Math.imul(Qe,Ae)|0,G=G+Math.imul(Qe,me)|0;var yr=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(yr>>>26)|0,yr&=67108863,ne=Math.imul(nn,ln),C=Math.imul(nn,At),C=C+Math.imul(en,ln)|0,G=Math.imul(en,At),ne=ne+Math.imul(nt,et)|0,C=C+Math.imul(nt,ze)|0,C=C+Math.imul(qt,et)|0,G=G+Math.imul(qt,ze)|0,ne=ne+Math.imul(je,cn)|0,C=C+Math.imul(je,ot)|0,C=C+Math.imul(wt,cn)|0,G=G+Math.imul(wt,ot)|0,ne=ne+Math.imul(Ee,Ct)|0,C=C+Math.imul(Ee,oe)|0,C=C+Math.imul(Te,Ct)|0,G=G+Math.imul(Te,oe)|0,ne=ne+Math.imul(A,J)|0,C=C+Math.imul(A,U)|0,C=C+Math.imul(se,J)|0,G=G+Math.imul(se,U)|0,ne=ne+Math.imul($t,K)|0,C=C+Math.imul($t,ie)|0,C=C+Math.imul(te,K)|0,G=G+Math.imul(te,ie)|0,ne=ne+Math.imul(Pe,ve)|0,C=C+Math.imul(Pe,Re)|0,C=C+Math.imul(Tt,ve)|0,G=G+Math.imul(Tt,Re)|0,ne=ne+Math.imul(it,Ae)|0,C=C+Math.imul(it,me)|0,C=C+Math.imul(at,Ae)|0,G=G+Math.imul(at,me)|0;var Yt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ne=Math.imul(nn,et),C=Math.imul(nn,ze),C=C+Math.imul(en,et)|0,G=Math.imul(en,ze),ne=ne+Math.imul(nt,cn)|0,C=C+Math.imul(nt,ot)|0,C=C+Math.imul(qt,cn)|0,G=G+Math.imul(qt,ot)|0,ne=ne+Math.imul(je,Ct)|0,C=C+Math.imul(je,oe)|0,C=C+Math.imul(wt,Ct)|0,G=G+Math.imul(wt,oe)|0,ne=ne+Math.imul(Ee,J)|0,C=C+Math.imul(Ee,U)|0,C=C+Math.imul(Te,J)|0,G=G+Math.imul(Te,U)|0,ne=ne+Math.imul(A,K)|0,C=C+Math.imul(A,ie)|0,C=C+Math.imul(se,K)|0,G=G+Math.imul(se,ie)|0,ne=ne+Math.imul($t,ve)|0,C=C+Math.imul($t,Re)|0,C=C+Math.imul(te,ve)|0,G=G+Math.imul(te,Re)|0,ne=ne+Math.imul(Pe,Ae)|0,C=C+Math.imul(Pe,me)|0,C=C+Math.imul(Tt,Ae)|0,G=G+Math.imul(Tt,me)|0;var On=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(On>>>26)|0,On&=67108863,ne=Math.imul(nn,cn),C=Math.imul(nn,ot),C=C+Math.imul(en,cn)|0,G=Math.imul(en,ot),ne=ne+Math.imul(nt,Ct)|0,C=C+Math.imul(nt,oe)|0,C=C+Math.imul(qt,Ct)|0,G=G+Math.imul(qt,oe)|0,ne=ne+Math.imul(je,J)|0,C=C+Math.imul(je,U)|0,C=C+Math.imul(wt,J)|0,G=G+Math.imul(wt,U)|0,ne=ne+Math.imul(Ee,K)|0,C=C+Math.imul(Ee,ie)|0,C=C+Math.imul(Te,K)|0,G=G+Math.imul(Te,ie)|0,ne=ne+Math.imul(A,ve)|0,C=C+Math.imul(A,Re)|0,C=C+Math.imul(se,ve)|0,G=G+Math.imul(se,Re)|0,ne=ne+Math.imul($t,Ae)|0,C=C+Math.imul($t,me)|0,C=C+Math.imul(te,Ae)|0,G=G+Math.imul(te,me)|0;var Wt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,ne=Math.imul(nn,Ct),C=Math.imul(nn,oe),C=C+Math.imul(en,Ct)|0,G=Math.imul(en,oe),ne=ne+Math.imul(nt,J)|0,C=C+Math.imul(nt,U)|0,C=C+Math.imul(qt,J)|0,G=G+Math.imul(qt,U)|0,ne=ne+Math.imul(je,K)|0,C=C+Math.imul(je,ie)|0,C=C+Math.imul(wt,K)|0,G=G+Math.imul(wt,ie)|0,ne=ne+Math.imul(Ee,ve)|0,C=C+Math.imul(Ee,Re)|0,C=C+Math.imul(Te,ve)|0,G=G+Math.imul(Te,Re)|0,ne=ne+Math.imul(A,Ae)|0,C=C+Math.imul(A,me)|0,C=C+Math.imul(se,Ae)|0,G=G+Math.imul(se,me)|0;var Zn=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,ne=Math.imul(nn,J),C=Math.imul(nn,U),C=C+Math.imul(en,J)|0,G=Math.imul(en,U),ne=ne+Math.imul(nt,K)|0,C=C+Math.imul(nt,ie)|0,C=C+Math.imul(qt,K)|0,G=G+Math.imul(qt,ie)|0,ne=ne+Math.imul(je,ve)|0,C=C+Math.imul(je,Re)|0,C=C+Math.imul(wt,ve)|0,G=G+Math.imul(wt,Re)|0,ne=ne+Math.imul(Ee,Ae)|0,C=C+Math.imul(Ee,me)|0,C=C+Math.imul(Te,Ae)|0,G=G+Math.imul(Te,me)|0;var Mt=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,ne=Math.imul(nn,K),C=Math.imul(nn,ie),C=C+Math.imul(en,K)|0,G=Math.imul(en,ie),ne=ne+Math.imul(nt,ve)|0,C=C+Math.imul(nt,Re)|0,C=C+Math.imul(qt,ve)|0,G=G+Math.imul(qt,Re)|0,ne=ne+Math.imul(je,Ae)|0,C=C+Math.imul(je,me)|0,C=C+Math.imul(wt,Ae)|0,G=G+Math.imul(wt,me)|0;var Ci=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,ne=Math.imul(nn,ve),C=Math.imul(nn,Re),C=C+Math.imul(en,ve)|0,G=Math.imul(en,Re),ne=ne+Math.imul(nt,Ae)|0,C=C+Math.imul(nt,me)|0,C=C+Math.imul(qt,Ae)|0,G=G+Math.imul(qt,me)|0;var Mn=(q+ne|0)+((C&8191)<<13)|0;q=(G+(C>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,ne=Math.imul(nn,Ae),C=Math.imul(nn,me),C=C+Math.imul(en,Ae)|0,G=Math.imul(en,me);var zt=(q+ne|0)+((C&8191)<<13)|0;return q=(G+(C>>>13)|0)+(zt>>>26)|0,zt&=67108863,ce[0]=rt,ce[1]=Bt,ce[2]=bt,ce[3]=Lt,ce[4]=dt,ce[5]=pt,ce[6]=mn,ce[7]=fn,ce[8]=kn,ce[9]=qn,ce[10]=yr,ce[11]=Yt,ce[12]=On,ce[13]=Wt,ce[14]=Zn,ce[15]=Mt,ce[16]=Ci,ce[17]=Mn,ce[18]=zt,q!==0&&(ce[19]=q,B.length++),B};Math.imul||(w=_);function L(F,b,I){I.negative=b.negative^F.negative,I.length=F.length+b.length;for(var B=0,V=0,ee=0;ee<I.length-1;ee++){var ce=V;V=0;for(var q=B&67108863,ne=Math.min(ee,b.length-1),C=Math.max(0,ee-F.length+1);C<=ne;C++){var G=ee-C,_e=F.words[G]|0,De=b.words[C]|0,$e=_e*De,be=$e&67108863;ce=ce+($e/67108864|0)|0,be=be+q|0,q=be&67108863,ce=ce+(be>>>26)|0,V+=ce>>>26,ce&=67108863}I.words[ee]=q,B=ce,ce=V}return B!==0?I.words[ee]=B:I.length--,I.strip()}function k(F,b,I){var B=new W;return B.mulp(F,b,I)}u.prototype.mulTo=function(b,I){var B,V=this.length+b.length;return this.length===10&&b.length===10?B=w(this,b,I):V<63?B=_(this,b,I):V<1024?B=L(this,b,I):B=k(this,b,I),B};function W(F,b){this.x=F,this.y=b}W.prototype.makeRBT=function(b){for(var I=new Array(b),B=u.prototype._countBits(b)-1,V=0;V<b;V++)I[V]=this.revBin(V,B,b);return I},W.prototype.revBin=function(b,I,B){if(b===0||b===B-1)return b;for(var V=0,ee=0;ee<I;ee++)V|=(b&1)<<I-ee-1,b>>=1;return V},W.prototype.permute=function(b,I,B,V,ee,ce){for(var q=0;q<ce;q++)V[q]=I[b[q]],ee[q]=B[b[q]]},W.prototype.transform=function(b,I,B,V,ee,ce){this.permute(ce,b,I,B,V,ee);for(var q=1;q<ee;q<<=1)for(var ne=q<<1,C=Math.cos(2*Math.PI/ne),G=Math.sin(2*Math.PI/ne),_e=0;_e<ee;_e+=ne)for(var De=C,$e=G,be=0;be<q;be++){var Ze=B[_e+be],Qe=V[_e+be],Ot=B[_e+be+q],it=V[_e+be+q],at=De*Ot-$e*it;it=De*it+$e*Ot,Ot=at,B[_e+be]=Ze+Ot,V[_e+be]=Qe+it,B[_e+be+q]=Ze-Ot,V[_e+be+q]=Qe-it,be!==ne&&(at=C*De-G*$e,$e=C*$e+G*De,De=at)}},W.prototype.guessLen13b=function(b,I){var B=Math.max(I,b)|1,V=B&1,ee=0;for(B=B/2|0;B;B=B>>>1)ee++;return 1<<ee+1+V},W.prototype.conjugate=function(b,I,B){if(!(B<=1))for(var V=0;V<B/2;V++){var ee=b[V];b[V]=b[B-V-1],b[B-V-1]=ee,ee=I[V],I[V]=-I[B-V-1],I[B-V-1]=-ee}},W.prototype.normalize13b=function(b,I){for(var B=0,V=0;V<I/2;V++){var ee=Math.round(b[2*V+1]/I)*8192+Math.round(b[2*V]/I)+B;b[V]=ee&67108863,ee<67108864?B=0:B=ee/67108864|0}return b},W.prototype.convert13b=function(b,I,B,V){for(var ee=0,ce=0;ce<I;ce++)ee=ee+(b[ce]|0),B[2*ce]=ee&8191,ee=ee>>>13,B[2*ce+1]=ee&8191,ee=ee>>>13;for(ce=2*I;ce<V;++ce)B[ce]=0;a(ee===0),a((ee&-8192)===0)},W.prototype.stub=function(b){for(var I=new Array(b),B=0;B<b;B++)I[B]=0;return I},W.prototype.mulp=function(b,I,B){var V=2*this.guessLen13b(b.length,I.length),ee=this.makeRBT(V),ce=this.stub(V),q=new Array(V),ne=new Array(V),C=new Array(V),G=new Array(V),_e=new Array(V),De=new Array(V),$e=B.words;$e.length=V,this.convert13b(b.words,b.length,q,V),this.convert13b(I.words,I.length,G,V),this.transform(q,ce,ne,C,V,ee),this.transform(G,ce,_e,De,V,ee);for(var be=0;be<V;be++){var Ze=ne[be]*_e[be]-C[be]*De[be];C[be]=ne[be]*De[be]+C[be]*_e[be],ne[be]=Ze}return this.conjugate(ne,C,V),this.transform(ne,C,$e,ce,V,ee),this.conjugate($e,ce,V),this.normalize13b($e,V),B.negative=b.negative^I.negative,B.length=b.length+I.length,B.strip()},u.prototype.mul=function(b){var I=new u(null);return I.words=new Array(this.length+b.length),this.mulTo(b,I)},u.prototype.mulf=function(b){var I=new u(null);return I.words=new Array(this.length+b.length),k(this,b,I)},u.prototype.imul=function(b){return this.clone().mulTo(b,this)},u.prototype.imuln=function(b){a(typeof b=="number"),a(b<67108864);for(var I=0,B=0;B<this.length;B++){var V=(this.words[B]|0)*b,ee=(V&67108863)+(I&67108863);I>>=26,I+=V/67108864|0,I+=ee>>>26,this.words[B]=ee&67108863}return I!==0&&(this.words[B]=I,this.length++),this},u.prototype.muln=function(b){return this.clone().imuln(b)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(b){var I=E(b);if(I.length===0)return new u(1);for(var B=this,V=0;V<I.length&&I[V]===0;V++,B=B.sqr());if(++V<I.length)for(var ee=B.sqr();V<I.length;V++,ee=ee.sqr())I[V]!==0&&(B=B.mul(ee));return B},u.prototype.iushln=function(b){a(typeof b=="number"&&b>=0);var I=b%26,B=(b-I)/26,V=67108863>>>26-I<<26-I,ee;if(I!==0){var ce=0;for(ee=0;ee<this.length;ee++){var q=this.words[ee]&V,ne=(this.words[ee]|0)-q<<I;this.words[ee]=ne|ce,ce=q>>>26-I}ce&&(this.words[ee]=ce,this.length++)}if(B!==0){for(ee=this.length-1;ee>=0;ee--)this.words[ee+B]=this.words[ee];for(ee=0;ee<B;ee++)this.words[ee]=0;this.length+=B}return this.strip()},u.prototype.ishln=function(b){return a(this.negative===0),this.iushln(b)},u.prototype.iushrn=function(b,I,B){a(typeof b=="number"&&b>=0);var V;I?V=(I-I%26)/26:V=0;var ee=b%26,ce=Math.min((b-ee)/26,this.length),q=67108863^67108863>>>ee<<ee,ne=B;if(V-=ce,V=Math.max(0,V),ne){for(var C=0;C<ce;C++)ne.words[C]=this.words[C];ne.length=ce}if(ce!==0)if(this.length>ce)for(this.length-=ce,C=0;C<this.length;C++)this.words[C]=this.words[C+ce];else this.words[0]=0,this.length=1;var G=0;for(C=this.length-1;C>=0&&(G!==0||C>=V);C--){var _e=this.words[C]|0;this.words[C]=G<<26-ee|_e>>>ee,G=_e&q}return ne&&G!==0&&(ne.words[ne.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(b,I,B){return a(this.negative===0),this.iushrn(b,I,B)},u.prototype.shln=function(b){return this.clone().ishln(b)},u.prototype.ushln=function(b){return this.clone().iushln(b)},u.prototype.shrn=function(b){return this.clone().ishrn(b)},u.prototype.ushrn=function(b){return this.clone().iushrn(b)},u.prototype.testn=function(b){a(typeof b=="number"&&b>=0);var I=b%26,B=(b-I)/26,V=1<<I;if(this.length<=B)return!1;var ee=this.words[B];return!!(ee&V)},u.prototype.imaskn=function(b){a(typeof b=="number"&&b>=0);var I=b%26,B=(b-I)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(I!==0&&B++,this.length=Math.min(B,this.length),I!==0){var V=67108863^67108863>>>I<<I;this.words[this.length-1]&=V}return this.strip()},u.prototype.maskn=function(b){return this.clone().imaskn(b)},u.prototype.iaddn=function(b){return a(typeof b=="number"),a(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},u.prototype._iaddn=function(b){this.words[0]+=b;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},u.prototype.isubn=function(b){if(a(typeof b=="number"),a(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},u.prototype.addn=function(b){return this.clone().iaddn(b)},u.prototype.subn=function(b){return this.clone().isubn(b)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(b,I,B){var V=b.length+B,ee;this._expand(V);var ce,q=0;for(ee=0;ee<b.length;ee++){ce=(this.words[ee+B]|0)+q;var ne=(b.words[ee]|0)*I;ce-=ne&67108863,q=(ce>>26)-(ne/67108864|0),this.words[ee+B]=ce&67108863}for(;ee<this.length-B;ee++)ce=(this.words[ee+B]|0)+q,q=ce>>26,this.words[ee+B]=ce&67108863;if(q===0)return this.strip();for(a(q===-1),q=0,ee=0;ee<this.length;ee++)ce=-(this.words[ee]|0)+q,q=ce>>26,this.words[ee]=ce&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(b,I){var B=this.length-b.length,V=this.clone(),ee=b,ce=ee.words[ee.length-1]|0,q=this._countBits(ce);B=26-q,B!==0&&(ee=ee.ushln(B),V.iushln(B),ce=ee.words[ee.length-1]|0);var ne=V.length-ee.length,C;if(I!=="mod"){C=new u(null),C.length=ne+1,C.words=new Array(C.length);for(var G=0;G<C.length;G++)C.words[G]=0}var _e=V.clone()._ishlnsubmul(ee,1,ne);_e.negative===0&&(V=_e,C&&(C.words[ne]=1));for(var De=ne-1;De>=0;De--){var $e=(V.words[ee.length+De]|0)*67108864+(V.words[ee.length+De-1]|0);for($e=Math.min($e/ce|0,67108863),V._ishlnsubmul(ee,$e,De);V.negative!==0;)$e--,V.negative=0,V._ishlnsubmul(ee,1,De),V.isZero()||(V.negative^=1);C&&(C.words[De]=$e)}return C&&C.strip(),V.strip(),I!=="div"&&B!==0&&V.iushrn(B),{div:C||null,mod:V}},u.prototype.divmod=function(b,I,B){if(a(!b.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var V,ee,ce;return this.negative!==0&&b.negative===0?(ce=this.neg().divmod(b,I),I!=="mod"&&(V=ce.div.neg()),I!=="div"&&(ee=ce.mod.neg(),B&&ee.negative!==0&&ee.iadd(b)),{div:V,mod:ee}):this.negative===0&&b.negative!==0?(ce=this.divmod(b.neg(),I),I!=="mod"&&(V=ce.div.neg()),{div:V,mod:ce.mod}):this.negative&b.negative?(ce=this.neg().divmod(b.neg(),I),I!=="div"&&(ee=ce.mod.neg(),B&&ee.negative!==0&&ee.isub(b)),{div:ce.div,mod:ee}):b.length>this.length||this.cmp(b)<0?{div:new u(0),mod:this}:b.length===1?I==="div"?{div:this.divn(b.words[0]),mod:null}:I==="mod"?{div:null,mod:new u(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new u(this.modn(b.words[0]))}:this._wordDiv(b,I)},u.prototype.div=function(b){return this.divmod(b,"div",!1).div},u.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},u.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},u.prototype.divRound=function(b){var I=this.divmod(b);if(I.mod.isZero())return I.div;var B=I.div.negative!==0?I.mod.isub(b):I.mod,V=b.ushrn(1),ee=b.andln(1),ce=B.cmp(V);return ce<0||ee===1&&ce===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},u.prototype.modn=function(b){a(b<=67108863);for(var I=(1<<26)%b,B=0,V=this.length-1;V>=0;V--)B=(I*B+(this.words[V]|0))%b;return B},u.prototype.idivn=function(b){a(b<=67108863);for(var I=0,B=this.length-1;B>=0;B--){var V=(this.words[B]|0)+I*67108864;this.words[B]=V/b|0,I=V%b}return this.strip()},u.prototype.divn=function(b){return this.clone().idivn(b)},u.prototype.egcd=function(b){a(b.negative===0),a(!b.isZero());var I=this,B=b.clone();I.negative!==0?I=I.umod(b):I=I.clone();for(var V=new u(1),ee=new u(0),ce=new u(0),q=new u(1),ne=0;I.isEven()&&B.isEven();)I.iushrn(1),B.iushrn(1),++ne;for(var C=B.clone(),G=I.clone();!I.isZero();){for(var _e=0,De=1;!(I.words[0]&De)&&_e<26;++_e,De<<=1);if(_e>0)for(I.iushrn(_e);_e-- >0;)(V.isOdd()||ee.isOdd())&&(V.iadd(C),ee.isub(G)),V.iushrn(1),ee.iushrn(1);for(var $e=0,be=1;!(B.words[0]&be)&&$e<26;++$e,be<<=1);if($e>0)for(B.iushrn($e);$e-- >0;)(ce.isOdd()||q.isOdd())&&(ce.iadd(C),q.isub(G)),ce.iushrn(1),q.iushrn(1);I.cmp(B)>=0?(I.isub(B),V.isub(ce),ee.isub(q)):(B.isub(I),ce.isub(V),q.isub(ee))}return{a:ce,b:q,gcd:B.iushln(ne)}},u.prototype._invmp=function(b){a(b.negative===0),a(!b.isZero());var I=this,B=b.clone();I.negative!==0?I=I.umod(b):I=I.clone();for(var V=new u(1),ee=new u(0),ce=B.clone();I.cmpn(1)>0&&B.cmpn(1)>0;){for(var q=0,ne=1;!(I.words[0]&ne)&&q<26;++q,ne<<=1);if(q>0)for(I.iushrn(q);q-- >0;)V.isOdd()&&V.iadd(ce),V.iushrn(1);for(var C=0,G=1;!(B.words[0]&G)&&C<26;++C,G<<=1);if(C>0)for(B.iushrn(C);C-- >0;)ee.isOdd()&&ee.iadd(ce),ee.iushrn(1);I.cmp(B)>=0?(I.isub(B),V.isub(ee)):(B.isub(I),ee.isub(V))}var _e;return I.cmpn(1)===0?_e=V:_e=ee,_e.cmpn(0)<0&&_e.iadd(b),_e},u.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var I=this.clone(),B=b.clone();I.negative=0,B.negative=0;for(var V=0;I.isEven()&&B.isEven();V++)I.iushrn(1),B.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;B.isEven();)B.iushrn(1);var ee=I.cmp(B);if(ee<0){var ce=I;I=B,B=ce}else if(ee===0||B.cmpn(1)===0)break;I.isub(B)}while(!0);return B.iushln(V)},u.prototype.invm=function(b){return this.egcd(b).a.umod(b)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(b){return this.words[0]&b},u.prototype.bincn=function(b){a(typeof b=="number");var I=b%26,B=(b-I)/26,V=1<<I;if(this.length<=B)return this._expand(B+1),this.words[B]|=V,this;for(var ee=V,ce=B;ee!==0&&ce<this.length;ce++){var q=this.words[ce]|0;q+=ee,ee=q>>>26,q&=67108863,this.words[ce]=q}return ee!==0&&(this.words[ce]=ee,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(b){var I=b<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this.strip();var B;if(this.length>1)B=1;else{I&&(b=-b),a(b<=67108863,"Number is too big");var V=this.words[0]|0;B=V===b?0:V<b?-1:1}return this.negative!==0?-B|0:B},u.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var I=this.ucmp(b);return this.negative!==0?-I|0:I},u.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var I=0,B=this.length-1;B>=0;B--){var V=this.words[B]|0,ee=b.words[B]|0;if(V!==ee){V<ee?I=-1:V>ee&&(I=1);break}}return I},u.prototype.gtn=function(b){return this.cmpn(b)===1},u.prototype.gt=function(b){return this.cmp(b)===1},u.prototype.gten=function(b){return this.cmpn(b)>=0},u.prototype.gte=function(b){return this.cmp(b)>=0},u.prototype.ltn=function(b){return this.cmpn(b)===-1},u.prototype.lt=function(b){return this.cmp(b)===-1},u.prototype.lten=function(b){return this.cmpn(b)<=0},u.prototype.lte=function(b){return this.cmp(b)<=0},u.prototype.eqn=function(b){return this.cmpn(b)===0},u.prototype.eq=function(b){return this.cmp(b)===0},u.red=function(b){return new Y(b)},u.prototype.toRed=function(b){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},u.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(b){return this.red=b,this},u.prototype.forceRed=function(b){return a(!this.red,"Already a number in reduction context"),this._forceRed(b)},u.prototype.redAdd=function(b){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},u.prototype.redIAdd=function(b){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},u.prototype.redSub=function(b){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},u.prototype.redISub=function(b){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},u.prototype.redShl=function(b){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},u.prototype.redMul=function(b){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},u.prototype.redIMul=function(b){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},u.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(b){return a(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var $={k256:null,p224:null,p192:null,p25519:null};function O(F,b){this.name=F,this.p=new u(b,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var b=new u(null);return b.words=new Array(Math.ceil(this.n/13)),b},O.prototype.ireduce=function(b){var I=b,B;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),B=I.bitLength();while(B>this.n);var V=B<this.n?-1:I.ucmp(this.p);return V===0?(I.words[0]=0,I.length=1):V>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},O.prototype.split=function(b,I){b.iushrn(this.n,0,I)},O.prototype.imulK=function(b){return b.imul(this.k)};function z(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(z,O),z.prototype.split=function(b,I){for(var B=4194303,V=Math.min(b.length,9),ee=0;ee<V;ee++)I.words[ee]=b.words[ee];if(I.length=V,b.length<=9){b.words[0]=0,b.length=1;return}var ce=b.words[9];for(I.words[I.length++]=ce&B,ee=10;ee<b.length;ee++){var q=b.words[ee]|0;b.words[ee-10]=(q&B)<<4|ce>>>22,ce=q}ce>>>=22,b.words[ee-10]=ce,ce===0&&b.length>10?b.length-=10:b.length-=9},z.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var I=0,B=0;B<b.length;B++){var V=b.words[B]|0;I+=V*977,b.words[B]=I&67108863,I=V*64+(I/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function le(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(le,O);function H(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(H,O);function Z(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,O),Z.prototype.imulK=function(b){for(var I=0,B=0;B<b.length;B++){var V=(b.words[B]|0)*19+I,ee=V&67108863;V>>>=26,b.words[B]=ee,I=V}return I!==0&&(b.words[b.length++]=I),b},u._prime=function(b){if($[b])return $[b];var I;if(b==="k256")I=new z;else if(b==="p224")I=new le;else if(b==="p192")I=new H;else if(b==="p25519")I=new Z;else throw new Error("Unknown prime "+b);return $[b]=I,I};function Y(F){if(typeof F=="string"){var b=u._prime(F);this.m=b.p,this.prime=b}else a(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}Y.prototype._verify1=function(b){a(b.negative===0,"red works only with positives"),a(b.red,"red works only with red numbers")},Y.prototype._verify2=function(b,I){a((b.negative|I.negative)===0,"red works only with positives"),a(b.red&&b.red===I.red,"red works only with red numbers")},Y.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},Y.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},Y.prototype.add=function(b,I){this._verify2(b,I);var B=b.add(I);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},Y.prototype.iadd=function(b,I){this._verify2(b,I);var B=b.iadd(I);return B.cmp(this.m)>=0&&B.isub(this.m),B},Y.prototype.sub=function(b,I){this._verify2(b,I);var B=b.sub(I);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},Y.prototype.isub=function(b,I){this._verify2(b,I);var B=b.isub(I);return B.cmpn(0)<0&&B.iadd(this.m),B},Y.prototype.shl=function(b,I){return this._verify1(b),this.imod(b.ushln(I))},Y.prototype.imul=function(b,I){return this._verify2(b,I),this.imod(b.imul(I))},Y.prototype.mul=function(b,I){return this._verify2(b,I),this.imod(b.mul(I))},Y.prototype.isqr=function(b){return this.imul(b,b.clone())},Y.prototype.sqr=function(b){return this.mul(b,b)},Y.prototype.sqrt=function(b){if(b.isZero())return b.clone();var I=this.m.andln(3);if(a(I%2===1),I===3){var B=this.m.add(new u(1)).iushrn(2);return this.pow(b,B)}for(var V=this.m.subn(1),ee=0;!V.isZero()&&V.andln(1)===0;)ee++,V.iushrn(1);a(!V.isZero());var ce=new u(1).toRed(this),q=ce.redNeg(),ne=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new u(2*C*C).toRed(this);this.pow(C,ne).cmp(q)!==0;)C.redIAdd(q);for(var G=this.pow(C,V),_e=this.pow(b,V.addn(1).iushrn(1)),De=this.pow(b,V),$e=ee;De.cmp(ce)!==0;){for(var be=De,Ze=0;be.cmp(ce)!==0;Ze++)be=be.redSqr();a(Ze<$e);var Qe=this.pow(G,new u(1).iushln($e-Ze-1));_e=_e.redMul(Qe),G=Qe.redSqr(),De=De.redMul(G),$e=Ze}return _e},Y.prototype.invm=function(b){var I=b._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},Y.prototype.pow=function(b,I){if(I.isZero())return new u(1).toRed(this);if(I.cmpn(1)===0)return b.clone();var B=4,V=new Array(1<<B);V[0]=new u(1).toRed(this),V[1]=b;for(var ee=2;ee<V.length;ee++)V[ee]=this.mul(V[ee-1],b);var ce=V[0],q=0,ne=0,C=I.bitLength()%26;for(C===0&&(C=26),ee=I.length-1;ee>=0;ee--){for(var G=I.words[ee],_e=C-1;_e>=0;_e--){var De=G>>_e&1;if(ce!==V[0]&&(ce=this.sqr(ce)),De===0&&q===0){ne=0;continue}q<<=1,q|=De,ne++,!(ne!==B&&(ee!==0||_e!==0))&&(ce=this.mul(ce,V[q]),ne=0,q=0)}C=26}return ce},Y.prototype.convertTo=function(b){var I=b.umod(this.m);return I===b?I.clone():I},Y.prototype.convertFrom=function(b){var I=b.clone();return I.red=null,I},u.mont=function(b){return new ye(b)};function ye(F){Y.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ye,Y),ye.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ye.prototype.convertFrom=function(b){var I=this.imod(b.mul(this.rinv));return I.red=null,I},ye.prototype.imul=function(b,I){if(b.isZero()||I.isZero())return b.words[0]=0,b.length=1,b;var B=b.imul(I),V=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=B.isub(V).iushrn(this.shift),ce=ee;return ee.cmp(this.m)>=0?ce=ee.isub(this.m):ee.cmpn(0)<0&&(ce=ee.iadd(this.m)),ce._forceRed(this)},ye.prototype.mul=function(b,I){if(b.isZero()||I.isZero())return new u(0)._forceRed(this);var B=b.mul(I),V=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=B.isub(V).iushrn(this.shift),ce=ee;return ee.cmp(this.m)>=0?ce=ee.isub(this.m):ee.cmpn(0)<0&&(ce=ee.iadd(this.m)),ce._forceRed(this)},ye.prototype.invm=function(b){var I=this.imod(b._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(n,wr)})(lM);var Ix={},Np={},Zi={},Ty={get exports(){return Zi},set exports(n){Zi=n}};typeof Object.create=="function"?Ty.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ty.exports=function(e,t){if(t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}};var Ap={},n0={};n0.byteLength=fM;n0.toByteArray=gM;n0.fromByteArray=yM;var hs=[],ya=[],dM=typeof Uint8Array<"u"?Uint8Array:Array,Ng="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ll=0,cM=Ng.length;ll<cM;++ll)hs[ll]=Ng[ll],ya[Ng.charCodeAt(ll)]=ll;ya["-".charCodeAt(0)]=62;ya["_".charCodeAt(0)]=63;function Px(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var a=t===e?0:4-t%4;return[t,a]}function fM(n){var e=Px(n),t=e[0],a=e[1];return(t+a)*3/4-a}function hM(n,e,t){return(e+t)*3/4-t}function gM(n){var e,t=Px(n),a=t[0],o=t[1],u=new dM(hM(n,a,o)),d=0,c=o>0?a-4:a,h;for(h=0;h<c;h+=4)e=ya[n.charCodeAt(h)]<<18|ya[n.charCodeAt(h+1)]<<12|ya[n.charCodeAt(h+2)]<<6|ya[n.charCodeAt(h+3)],u[d++]=e>>16&255,u[d++]=e>>8&255,u[d++]=e&255;return o===2&&(e=ya[n.charCodeAt(h)]<<2|ya[n.charCodeAt(h+1)]>>4,u[d++]=e&255),o===1&&(e=ya[n.charCodeAt(h)]<<10|ya[n.charCodeAt(h+1)]<<4|ya[n.charCodeAt(h+2)]>>2,u[d++]=e>>8&255,u[d++]=e&255),u}function pM(n){return hs[n>>18&63]+hs[n>>12&63]+hs[n>>6&63]+hs[n&63]}function mM(n,e,t){for(var a,o=[],u=e;u<t;u+=3)a=(n[u]<<16&16711680)+(n[u+1]<<8&65280)+(n[u+2]&255),o.push(pM(a));return o.join("")}function yM(n){for(var e,t=n.length,a=t%3,o=[],u=16383,d=0,c=t-a;d<c;d+=u)o.push(mM(n,d,d+u>c?c:d+u));return a===1?(e=n[t-1],o.push(hs[e>>2]+hs[e<<4&63]+"==")):a===2&&(e=(n[t-2]<<8)+n[t-1],o.push(hs[e>>10]+hs[e>>4&63]+hs[e<<2&63]+"=")),o.join("")}var Dp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Dp.read=function(n,e,t,a,o){var u,d,c=o*8-a-1,h=(1<<c)-1,g=h>>1,m=-7,y=t?o-1:0,x=t?-1:1,E=n[e+y];for(y+=x,u=E&(1<<-m)-1,E>>=-m,m+=c;m>0;u=u*256+n[e+y],y+=x,m-=8);for(d=u&(1<<-m)-1,u>>=-m,m+=a;m>0;d=d*256+n[e+y],y+=x,m-=8);if(u===0)u=1-g;else{if(u===h)return d?NaN:(E?-1:1)*(1/0);d=d+Math.pow(2,a),u=u-g}return(E?-1:1)*d*Math.pow(2,u-a)};Dp.write=function(n,e,t,a,o,u){var d,c,h,g=u*8-o-1,m=(1<<g)-1,y=m>>1,x=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=a?0:u-1,_=a?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,d=m):(d=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-d))<1&&(d--,h*=2),d+y>=1?e+=x/h:e+=x*Math.pow(2,1-y),e*h>=2&&(d++,h/=2),d+y>=m?(c=0,d=m):d+y>=1?(c=(e*h-1)*Math.pow(2,o),d=d+y):(c=e*Math.pow(2,y-1)*Math.pow(2,o),d=0));o>=8;n[t+E]=c&255,E+=_,c/=256,o-=8);for(d=d<<o|c,g+=o;g>0;n[t+E]=d&255,E+=_,d/=256,g-=8);n[t+E-_]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){var e=n0,t=Dp,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=c,n.SlowBuffer=W,n.INSPECT_MAX_BYTES=50;var o=2147483647;n.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=u(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var te=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(te,D),te.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function d(te){if(te>o)throw new RangeError('The value "'+te+'" is invalid for option "size"');var D=new Uint8Array(te);return Object.setPrototypeOf(D,c.prototype),D}function c(te,D,A){if(typeof te=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(te)}return h(te,D,A)}c.poolSize=8192;function h(te,D,A){if(typeof te=="string")return x(te,D);if(ArrayBuffer.isView(te))return _(te);if(te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(Tt(te,ArrayBuffer)||te&&Tt(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Tt(te,SharedArrayBuffer)||te&&Tt(te.buffer,SharedArrayBuffer)))return w(te,D,A);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var se=te.valueOf&&te.valueOf();if(se!=null&&se!==te)return c.from(se,D,A);var pe=L(te);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return c.from(te[Symbol.toPrimitive]("string"),D,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}c.from=function(te,D,A){return h(te,D,A)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function g(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function m(te,D,A){return g(te),te<=0?d(te):D!==void 0?typeof A=="string"?d(te).fill(D,A):d(te).fill(D):d(te)}c.alloc=function(te,D,A){return m(te,D,A)};function y(te){return g(te),d(te<0?0:k(te)|0)}c.allocUnsafe=function(te){return y(te)},c.allocUnsafeSlow=function(te){return y(te)};function x(te,D){if((typeof D!="string"||D==="")&&(D="utf8"),!c.isEncoding(D))throw new TypeError("Unknown encoding: "+D);var A=$(te,D)|0,se=d(A),pe=se.write(te,D);return pe!==A&&(se=se.slice(0,pe)),se}function E(te){for(var D=te.length<0?0:k(te.length)|0,A=d(D),se=0;se<D;se+=1)A[se]=te[se]&255;return A}function _(te){if(Tt(te,Uint8Array)){var D=new Uint8Array(te);return w(D.buffer,D.byteOffset,D.byteLength)}return E(te)}function w(te,D,A){if(D<0||te.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<D+(A||0))throw new RangeError('"length" is outside of buffer bounds');var se;return D===void 0&&A===void 0?se=new Uint8Array(te):A===void 0?se=new Uint8Array(te,D):se=new Uint8Array(te,D,A),Object.setPrototypeOf(se,c.prototype),se}function L(te){if(c.isBuffer(te)){var D=k(te.length)|0,A=d(D);return A.length===0||te.copy(A,0,0,D),A}if(te.length!==void 0)return typeof te.length!="number"||Rn(te.length)?d(0):E(te);if(te.type==="Buffer"&&Array.isArray(te.data))return E(te.data)}function k(te){if(te>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return te|0}function W(te){return+te!=te&&(te=0),c.alloc(+te)}c.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==c.prototype},c.compare=function(D,A){if(Tt(D,Uint8Array)&&(D=c.from(D,D.offset,D.byteLength)),Tt(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),!c.isBuffer(D)||!c.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===A)return 0;for(var se=D.length,pe=A.length,Ee=0,Te=Math.min(se,pe);Ee<Te;++Ee)if(D[Ee]!==A[Ee]){se=D[Ee],pe=A[Ee];break}return se<pe?-1:pe<se?1:0},c.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(D,A){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return c.alloc(0);var se;if(A===void 0)for(A=0,se=0;se<D.length;++se)A+=D[se].length;var pe=c.allocUnsafe(A),Ee=0;for(se=0;se<D.length;++se){var Te=D[se];if(Tt(Te,Uint8Array))Ee+Te.length>pe.length?c.from(Te).copy(pe,Ee):Uint8Array.prototype.set.call(pe,Te,Ee);else if(c.isBuffer(Te))Te.copy(pe,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=Te.length}return pe};function $(te,D){if(c.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||Tt(te,ArrayBuffer))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);var A=te.length,se=arguments.length>2&&arguments[2]===!0;if(!se&&A===0)return 0;for(var pe=!1;;)switch(D){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return Ot(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return lt(te).length;default:if(pe)return se?-1:Ot(te).length;D=(""+D).toLowerCase(),pe=!0}}c.byteLength=$;function O(te,D,A){var se=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,D>>>=0,A<=D))return"";for(te||(te="utf8");;)switch(te){case"hex":return ne(this,D,A);case"utf8":case"utf-8":return B(this,D,A);case"ascii":return ce(this,D,A);case"latin1":case"binary":return q(this,D,A);case"base64":return I(this,D,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,D,A);default:if(se)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),se=!0}}c.prototype._isBuffer=!0;function z(te,D,A){var se=te[D];te[D]=te[A],te[A]=se}c.prototype.swap16=function(){var D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<D;A+=2)z(this,A,A+1);return this},c.prototype.swap32=function(){var D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<D;A+=4)z(this,A,A+3),z(this,A+1,A+2);return this},c.prototype.swap64=function(){var D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<D;A+=8)z(this,A,A+7),z(this,A+1,A+6),z(this,A+2,A+5),z(this,A+3,A+4);return this},c.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?B(this,0,D):O.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(D){if(!c.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:c.compare(this,D)===0},c.prototype.inspect=function(){var D="",A=n.INSPECT_MAX_BYTES;return D=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(D+=" ... "),"<Buffer "+D+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(D,A,se,pe,Ee){if(Tt(D,Uint8Array)&&(D=c.from(D,D.offset,D.byteLength)),!c.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(A===void 0&&(A=0),se===void 0&&(se=D?D.length:0),pe===void 0&&(pe=0),Ee===void 0&&(Ee=this.length),A<0||se>D.length||pe<0||Ee>this.length)throw new RangeError("out of range index");if(pe>=Ee&&A>=se)return 0;if(pe>=Ee)return-1;if(A>=se)return 1;if(A>>>=0,se>>>=0,pe>>>=0,Ee>>>=0,this===D)return 0;for(var Te=Ee-pe,Me=se-A,je=Math.min(Te,Me),wt=this.slice(pe,Ee),Kt=D.slice(A,se),nt=0;nt<je;++nt)if(wt[nt]!==Kt[nt]){Te=wt[nt],Me=Kt[nt];break}return Te<Me?-1:Me<Te?1:0};function le(te,D,A,se,pe){if(te.length===0)return-1;if(typeof A=="string"?(se=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,Rn(A)&&(A=pe?0:te.length-1),A<0&&(A=te.length+A),A>=te.length){if(pe)return-1;A=te.length-1}else if(A<0)if(pe)A=0;else return-1;if(typeof D=="string"&&(D=c.from(D,se)),c.isBuffer(D))return D.length===0?-1:H(te,D,A,se,pe);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(te,D,A):Uint8Array.prototype.lastIndexOf.call(te,D,A):H(te,[D],A,se,pe);throw new TypeError("val must be string, number or Buffer")}function H(te,D,A,se,pe){var Ee=1,Te=te.length,Me=D.length;if(se!==void 0&&(se=String(se).toLowerCase(),se==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(te.length<2||D.length<2)return-1;Ee=2,Te/=2,Me/=2,A/=2}function je(Ne,nn){return Ee===1?Ne[nn]:Ne.readUInt16BE(nn*Ee)}var wt;if(pe){var Kt=-1;for(wt=A;wt<Te;wt++)if(je(te,wt)===je(D,Kt===-1?0:wt-Kt)){if(Kt===-1&&(Kt=wt),wt-Kt+1===Me)return Kt*Ee}else Kt!==-1&&(wt-=wt-Kt),Kt=-1}else for(A+Me>Te&&(A=Te-Me),wt=A;wt>=0;wt--){for(var nt=!0,qt=0;qt<Me;qt++)if(je(te,wt+qt)!==je(D,qt)){nt=!1;break}if(nt)return wt}return-1}c.prototype.includes=function(D,A,se){return this.indexOf(D,A,se)!==-1},c.prototype.indexOf=function(D,A,se){return le(this,D,A,se,!0)},c.prototype.lastIndexOf=function(D,A,se){return le(this,D,A,se,!1)};function Z(te,D,A,se){A=Number(A)||0;var pe=te.length-A;se?(se=Number(se),se>pe&&(se=pe)):se=pe;var Ee=D.length;se>Ee/2&&(se=Ee/2);for(var Te=0;Te<se;++Te){var Me=parseInt(D.substr(Te*2,2),16);if(Rn(Me))return Te;te[A+Te]=Me}return Te}function Y(te,D,A,se){return Pe(Ot(D,te.length-A),te,A,se)}function ye(te,D,A,se){return Pe(it(D),te,A,se)}function F(te,D,A,se){return Pe(lt(D),te,A,se)}function b(te,D,A,se){return Pe(at(D,te.length-A),te,A,se)}c.prototype.write=function(D,A,se,pe){if(A===void 0)pe="utf8",se=this.length,A=0;else if(se===void 0&&typeof A=="string")pe=A,se=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(se)?(se=se>>>0,pe===void 0&&(pe="utf8")):(pe=se,se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ee=this.length-A;if((se===void 0||se>Ee)&&(se=Ee),D.length>0&&(se<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");for(var Te=!1;;)switch(pe){case"hex":return Z(this,D,A,se);case"utf8":case"utf-8":return Y(this,D,A,se);case"ascii":case"latin1":case"binary":return ye(this,D,A,se);case"base64":return F(this,D,A,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,D,A,se);default:if(Te)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Te=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(te,D,A){return D===0&&A===te.length?e.fromByteArray(te):e.fromByteArray(te.slice(D,A))}function B(te,D,A){A=Math.min(te.length,A);for(var se=[],pe=D;pe<A;){var Ee=te[pe],Te=null,Me=Ee>239?4:Ee>223?3:Ee>191?2:1;if(pe+Me<=A){var je,wt,Kt,nt;switch(Me){case 1:Ee<128&&(Te=Ee);break;case 2:je=te[pe+1],(je&192)===128&&(nt=(Ee&31)<<6|je&63,nt>127&&(Te=nt));break;case 3:je=te[pe+1],wt=te[pe+2],(je&192)===128&&(wt&192)===128&&(nt=(Ee&15)<<12|(je&63)<<6|wt&63,nt>2047&&(nt<55296||nt>57343)&&(Te=nt));break;case 4:je=te[pe+1],wt=te[pe+2],Kt=te[pe+3],(je&192)===128&&(wt&192)===128&&(Kt&192)===128&&(nt=(Ee&15)<<18|(je&63)<<12|(wt&63)<<6|Kt&63,nt>65535&&nt<1114112&&(Te=nt))}}Te===null?(Te=65533,Me=1):Te>65535&&(Te-=65536,se.push(Te>>>10&1023|55296),Te=56320|Te&1023),se.push(Te),pe+=Me}return ee(se)}var V=4096;function ee(te){var D=te.length;if(D<=V)return String.fromCharCode.apply(String,te);for(var A="",se=0;se<D;)A+=String.fromCharCode.apply(String,te.slice(se,se+=V));return A}function ce(te,D,A){var se="";A=Math.min(te.length,A);for(var pe=D;pe<A;++pe)se+=String.fromCharCode(te[pe]&127);return se}function q(te,D,A){var se="";A=Math.min(te.length,A);for(var pe=D;pe<A;++pe)se+=String.fromCharCode(te[pe]);return se}function ne(te,D,A){var se=te.length;(!D||D<0)&&(D=0),(!A||A<0||A>se)&&(A=se);for(var pe="",Ee=D;Ee<A;++Ee)pe+=$t[te[Ee]];return pe}function C(te,D,A){for(var se=te.slice(D,A),pe="",Ee=0;Ee<se.length-1;Ee+=2)pe+=String.fromCharCode(se[Ee]+se[Ee+1]*256);return pe}c.prototype.slice=function(D,A){var se=this.length;D=~~D,A=A===void 0?se:~~A,D<0?(D+=se,D<0&&(D=0)):D>se&&(D=se),A<0?(A+=se,A<0&&(A=0)):A>se&&(A=se),A<D&&(A=D);var pe=this.subarray(D,A);return Object.setPrototypeOf(pe,c.prototype),pe};function G(te,D,A){if(te%1!==0||te<0)throw new RangeError("offset is not uint");if(te+D>A)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(D,A,se){D=D>>>0,A=A>>>0,se||G(D,A,this.length);for(var pe=this[D],Ee=1,Te=0;++Te<A&&(Ee*=256);)pe+=this[D+Te]*Ee;return pe},c.prototype.readUintBE=c.prototype.readUIntBE=function(D,A,se){D=D>>>0,A=A>>>0,se||G(D,A,this.length);for(var pe=this[D+--A],Ee=1;A>0&&(Ee*=256);)pe+=this[D+--A]*Ee;return pe},c.prototype.readUint8=c.prototype.readUInt8=function(D,A){return D=D>>>0,A||G(D,1,this.length),this[D]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(D,A){return D=D>>>0,A||G(D,2,this.length),this[D]|this[D+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(D,A){return D=D>>>0,A||G(D,2,this.length),this[D]<<8|this[D+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(D,A){return D=D>>>0,A||G(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(D,A){return D=D>>>0,A||G(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},c.prototype.readIntLE=function(D,A,se){D=D>>>0,A=A>>>0,se||G(D,A,this.length);for(var pe=this[D],Ee=1,Te=0;++Te<A&&(Ee*=256);)pe+=this[D+Te]*Ee;return Ee*=128,pe>=Ee&&(pe-=Math.pow(2,8*A)),pe},c.prototype.readIntBE=function(D,A,se){D=D>>>0,A=A>>>0,se||G(D,A,this.length);for(var pe=A,Ee=1,Te=this[D+--pe];pe>0&&(Ee*=256);)Te+=this[D+--pe]*Ee;return Ee*=128,Te>=Ee&&(Te-=Math.pow(2,8*A)),Te},c.prototype.readInt8=function(D,A){return D=D>>>0,A||G(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},c.prototype.readInt16LE=function(D,A){D=D>>>0,A||G(D,2,this.length);var se=this[D]|this[D+1]<<8;return se&32768?se|4294901760:se},c.prototype.readInt16BE=function(D,A){D=D>>>0,A||G(D,2,this.length);var se=this[D+1]|this[D]<<8;return se&32768?se|4294901760:se},c.prototype.readInt32LE=function(D,A){return D=D>>>0,A||G(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},c.prototype.readInt32BE=function(D,A){return D=D>>>0,A||G(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},c.prototype.readFloatLE=function(D,A){return D=D>>>0,A||G(D,4,this.length),t.read(this,D,!0,23,4)},c.prototype.readFloatBE=function(D,A){return D=D>>>0,A||G(D,4,this.length),t.read(this,D,!1,23,4)},c.prototype.readDoubleLE=function(D,A){return D=D>>>0,A||G(D,8,this.length),t.read(this,D,!0,52,8)},c.prototype.readDoubleBE=function(D,A){return D=D>>>0,A||G(D,8,this.length),t.read(this,D,!1,52,8)};function _e(te,D,A,se,pe,Ee){if(!c.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>pe||D<Ee)throw new RangeError('"value" argument is out of bounds');if(A+se>te.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(D,A,se,pe){if(D=+D,A=A>>>0,se=se>>>0,!pe){var Ee=Math.pow(2,8*se)-1;_e(this,D,A,se,Ee,0)}var Te=1,Me=0;for(this[A]=D&255;++Me<se&&(Te*=256);)this[A+Me]=D/Te&255;return A+se},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(D,A,se,pe){if(D=+D,A=A>>>0,se=se>>>0,!pe){var Ee=Math.pow(2,8*se)-1;_e(this,D,A,se,Ee,0)}var Te=se-1,Me=1;for(this[A+Te]=D&255;--Te>=0&&(Me*=256);)this[A+Te]=D/Me&255;return A+se},c.prototype.writeUint8=c.prototype.writeUInt8=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,1,255,0),this[A]=D&255,A+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,2,65535,0),this[A]=D&255,this[A+1]=D>>>8,A+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,2,65535,0),this[A]=D>>>8,this[A+1]=D&255,A+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,4,4294967295,0),this[A+3]=D>>>24,this[A+2]=D>>>16,this[A+1]=D>>>8,this[A]=D&255,A+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,4,4294967295,0),this[A]=D>>>24,this[A+1]=D>>>16,this[A+2]=D>>>8,this[A+3]=D&255,A+4},c.prototype.writeIntLE=function(D,A,se,pe){if(D=+D,A=A>>>0,!pe){var Ee=Math.pow(2,8*se-1);_e(this,D,A,se,Ee-1,-Ee)}var Te=0,Me=1,je=0;for(this[A]=D&255;++Te<se&&(Me*=256);)D<0&&je===0&&this[A+Te-1]!==0&&(je=1),this[A+Te]=(D/Me>>0)-je&255;return A+se},c.prototype.writeIntBE=function(D,A,se,pe){if(D=+D,A=A>>>0,!pe){var Ee=Math.pow(2,8*se-1);_e(this,D,A,se,Ee-1,-Ee)}var Te=se-1,Me=1,je=0;for(this[A+Te]=D&255;--Te>=0&&(Me*=256);)D<0&&je===0&&this[A+Te+1]!==0&&(je=1),this[A+Te]=(D/Me>>0)-je&255;return A+se},c.prototype.writeInt8=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,1,127,-128),D<0&&(D=255+D+1),this[A]=D&255,A+1},c.prototype.writeInt16LE=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,2,32767,-32768),this[A]=D&255,this[A+1]=D>>>8,A+2},c.prototype.writeInt16BE=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,2,32767,-32768),this[A]=D>>>8,this[A+1]=D&255,A+2},c.prototype.writeInt32LE=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,4,2147483647,-2147483648),this[A]=D&255,this[A+1]=D>>>8,this[A+2]=D>>>16,this[A+3]=D>>>24,A+4},c.prototype.writeInt32BE=function(D,A,se){return D=+D,A=A>>>0,se||_e(this,D,A,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[A]=D>>>24,this[A+1]=D>>>16,this[A+2]=D>>>8,this[A+3]=D&255,A+4};function De(te,D,A,se,pe,Ee){if(A+se>te.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function $e(te,D,A,se,pe){return D=+D,A=A>>>0,pe||De(te,D,A,4),t.write(te,D,A,se,23,4),A+4}c.prototype.writeFloatLE=function(D,A,se){return $e(this,D,A,!0,se)},c.prototype.writeFloatBE=function(D,A,se){return $e(this,D,A,!1,se)};function be(te,D,A,se,pe){return D=+D,A=A>>>0,pe||De(te,D,A,8),t.write(te,D,A,se,52,8),A+8}c.prototype.writeDoubleLE=function(D,A,se){return be(this,D,A,!0,se)},c.prototype.writeDoubleBE=function(D,A,se){return be(this,D,A,!1,se)},c.prototype.copy=function(D,A,se,pe){if(!c.isBuffer(D))throw new TypeError("argument should be a Buffer");if(se||(se=0),!pe&&pe!==0&&(pe=this.length),A>=D.length&&(A=D.length),A||(A=0),pe>0&&pe<se&&(pe=se),pe===se||D.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),D.length-A<pe-se&&(pe=D.length-A+se);var Ee=pe-se;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(A,se,pe):Uint8Array.prototype.set.call(D,this.subarray(se,pe),A),Ee},c.prototype.fill=function(D,A,se,pe){if(typeof D=="string"){if(typeof A=="string"?(pe=A,A=0,se=this.length):typeof se=="string"&&(pe=se,se=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!c.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(D.length===1){var Ee=D.charCodeAt(0);(pe==="utf8"&&Ee<128||pe==="latin1")&&(D=Ee)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(A<0||this.length<A||this.length<se)throw new RangeError("Out of range index");if(se<=A)return this;A=A>>>0,se=se===void 0?this.length:se>>>0,D||(D=0);var Te;if(typeof D=="number")for(Te=A;Te<se;++Te)this[Te]=D;else{var Me=c.isBuffer(D)?D:c.from(D,pe),je=Me.length;if(je===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Te=0;Te<se-A;++Te)this[Te+A]=Me[Te%je]}return this};var Ze=/[^+/0-9A-Za-z-_]/g;function Qe(te){if(te=te.split("=")[0],te=te.trim().replace(Ze,""),te.length<2)return"";for(;te.length%4!==0;)te=te+"=";return te}function Ot(te,D){D=D||1/0;for(var A,se=te.length,pe=null,Ee=[],Te=0;Te<se;++Te){if(A=te.charCodeAt(Te),A>55295&&A<57344){if(!pe){if(A>56319){(D-=3)>-1&&Ee.push(239,191,189);continue}else if(Te+1===se){(D-=3)>-1&&Ee.push(239,191,189);continue}pe=A;continue}if(A<56320){(D-=3)>-1&&Ee.push(239,191,189),pe=A;continue}A=(pe-55296<<10|A-56320)+65536}else pe&&(D-=3)>-1&&Ee.push(239,191,189);if(pe=null,A<128){if((D-=1)<0)break;Ee.push(A)}else if(A<2048){if((D-=2)<0)break;Ee.push(A>>6|192,A&63|128)}else if(A<65536){if((D-=3)<0)break;Ee.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((D-=4)<0)break;Ee.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return Ee}function it(te){for(var D=[],A=0;A<te.length;++A)D.push(te.charCodeAt(A)&255);return D}function at(te,D){for(var A,se,pe,Ee=[],Te=0;Te<te.length&&!((D-=2)<0);++Te)A=te.charCodeAt(Te),se=A>>8,pe=A%256,Ee.push(pe),Ee.push(se);return Ee}function lt(te){return e.toByteArray(Qe(te))}function Pe(te,D,A,se){for(var pe=0;pe<se&&!(pe+A>=D.length||pe>=te.length);++pe)D[pe+A]=te[pe];return pe}function Tt(te,D){return te instanceof D||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===D.name}function Rn(te){return te!==te}var $t=function(){for(var te="0123456789abcdef",D=new Array(256),A=0;A<16;++A)for(var se=A*16,pe=0;pe<16;++pe)D[se+pe]=te[A]+te[pe];return D}()})(Ap);var Af=Ap,gl=Af.Buffer,va={},ba;for(ba in Af)Af.hasOwnProperty(ba)&&(ba==="SlowBuffer"||ba==="Buffer"||(va[ba]=Af[ba]));var pl=va.Buffer={};for(ba in gl)gl.hasOwnProperty(ba)&&(ba==="allocUnsafe"||ba==="allocUnsafeSlow"||(pl[ba]=gl[ba]));va.Buffer.prototype=gl.prototype;(!pl.from||pl.from===Uint8Array.from)&&(pl.from=function(n,e,t){if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof n);if(n&&typeof n.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);return gl(n,e,t)});pl.alloc||(pl.alloc=function(n,e,t){if(typeof n!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof n);if(n<0||n>=2*(1<<30))throw new RangeError('The value "'+n+'" is invalid for option "size"');var a=gl(n);return!e||e.length===0?a.fill(0):typeof t=="string"?a.fill(e,t):a.fill(e),a});if(!va.kStringMaxLength)try{va.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}va.constants||(va.constants={MAX_LENGTH:va.kMaxLength},va.kStringMaxLength&&(va.constants.MAX_STRING_LENGTH=va.kStringMaxLength));var $p=va,r0={};const vM=Zi;function Aa(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}r0.Reporter=Aa;Aa.prototype.isError=function(e){return e instanceof wl};Aa.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Aa.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)};Aa.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Aa.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)};Aa.prototype.leaveKey=function(e,t,a){const o=this._reporterState;this.exitKey(e),o.obj!==null&&(o.obj[t]=a)};Aa.prototype.path=function(){return this._reporterState.path.join("/")};Aa.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t};Aa.prototype.leaveObject=function(e){const t=this._reporterState,a=t.obj;return t.obj=e,a};Aa.prototype.error=function(e){let t;const a=this._reporterState,o=e instanceof wl;if(o?t=e:t=new wl(a.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),e.message||e,e.stack),!a.options.partial)throw t;return o||a.errors.push(t),t};Aa.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e};function wl(n,e){this.path=n,this.rethrow(e)}vM(wl,Error);wl.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,wl),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this};var $u={};const bM=Zi,i0=r0.Reporter,_l=$p.Buffer;function Ea(n,e){if(i0.call(this,e),!_l.isBuffer(n)){this.error("Input not Buffer");return}this.base=n,this.offset=0,this.length=n.length}bM(Ea,i0);$u.DecoderBuffer=Ea;Ea.isDecoderBuffer=function(e){return e instanceof Ea?!0:typeof e=="object"&&_l.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};Ea.prototype.save=function(){return{offset:this.offset,reporter:i0.prototype.save.call(this)}};Ea.prototype.restore=function(e){const t=new Ea(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i0.prototype.restore.call(this,e.reporter),t};Ea.prototype.isEmpty=function(){return this.offset===this.length};Ea.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Ea.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const a=new Ea(this.base);return a._reporterState=this._reporterState,a.offset=this.offset,a.length=this.offset+e,this.offset+=e,a};Ea.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function Sl(n,e){if(Array.isArray(n))this.length=0,this.value=n.map(function(t){return Sl.isEncoderBuffer(t)||(t=new Sl(t,e)),this.length+=t.length,t},this);else if(typeof n=="number"){if(!(0<=n&&n<=255))return e.error("non-byte EncoderBuffer value");this.value=n,this.length=1}else if(typeof n=="string")this.value=n,this.length=_l.byteLength(n);else if(_l.isBuffer(n))this.value=n,this.length=n.length;else return e.error("Unsupported type: "+typeof n)}$u.EncoderBuffer=Sl;Sl.isEncoderBuffer=function(e){return e instanceof Sl?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Sl.prototype.join=function(e,t){return e||(e=_l.alloc(this.length)),t||(t=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(a){a.join(e,t),t+=a.length}):(typeof this.value=="number"?e[t]=this.value:typeof this.value=="string"?e.write(this.value,t):_l.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e};var zo=Nx;function Nx(n,e){if(!n)throw new Error(e||"Assertion failed")}Nx.equal=function(e,t,a){if(e!=t)throw new Error(a||"Assertion failed: "+e+" != "+t)};const xM=r0.Reporter,wM=$u.EncoderBuffer,_M=$u.DecoderBuffer,Ei=zo,Ax=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],SM=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Ax),EM=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Gn(n,e,t){const a={};this._baseState=a,a.name=t,a.enc=n,a.parent=e||null,a.children=null,a.tag=null,a.args=null,a.reverseArgs=null,a.choice=null,a.optional=!1,a.any=!1,a.obj=!1,a.use=null,a.useDecoder=null,a.key=null,a.default=null,a.explicit=null,a.implicit=null,a.contains=null,a.parent||(a.children=[],this._wrap())}var Tp=Gn;const CM=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Gn.prototype.clone=function(){const e=this._baseState,t={};CM.forEach(function(o){t[o]=e[o]});const a=new this.constructor(t.parent);return a._baseState=t,a};Gn.prototype._wrap=function(){const e=this._baseState;SM.forEach(function(t){this[t]=function(){const o=new this.constructor(this);return e.children.push(o),o[t].apply(o,arguments)}},this)};Gn.prototype._init=function(e){const t=this._baseState;Ei(t.parent===null),e.call(this),t.children=t.children.filter(function(a){return a._baseState.parent===this},this),Ei.equal(t.children.length,1,"Root node can have only one child")};Gn.prototype._useArgs=function(e){const t=this._baseState,a=e.filter(function(o){return o instanceof this.constructor},this);e=e.filter(function(o){return!(o instanceof this.constructor)},this),a.length!==0&&(Ei(t.children===null),t.children=a,a.forEach(function(o){o._baseState.parent=this},this)),e.length!==0&&(Ei(t.args===null),t.args=e,t.reverseArgs=e.map(function(o){if(typeof o!="object"||o.constructor!==Object)return o;const u={};return Object.keys(o).forEach(function(d){d==(d|0)&&(d|=0);const c=o[d];u[c]=d}),u}))};EM.forEach(function(n){Gn.prototype[n]=function(){const t=this._baseState;throw new Error(n+" not implemented for encoding: "+t.enc)}});Ax.forEach(function(n){Gn.prototype[n]=function(){const t=this._baseState,a=Array.prototype.slice.call(arguments);return Ei(t.tag===null),t.tag=n,this._useArgs(a),this}});Gn.prototype.use=function(e){Ei(e);const t=this._baseState;return Ei(t.use===null),t.use=e,this};Gn.prototype.optional=function(){const e=this._baseState;return e.optional=!0,this};Gn.prototype.def=function(e){const t=this._baseState;return Ei(t.default===null),t.default=e,t.optional=!0,this};Gn.prototype.explicit=function(e){const t=this._baseState;return Ei(t.explicit===null&&t.implicit===null),t.explicit=e,this};Gn.prototype.implicit=function(e){const t=this._baseState;return Ei(t.explicit===null&&t.implicit===null),t.implicit=e,this};Gn.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,t.length!==0&&this._useArgs(t),this};Gn.prototype.key=function(e){const t=this._baseState;return Ei(t.key===null),t.key=e,this};Gn.prototype.any=function(){const e=this._baseState;return e.any=!0,this};Gn.prototype.choice=function(e){const t=this._baseState;return Ei(t.choice===null),t.choice=e,this._useArgs(Object.keys(e).map(function(a){return e[a]})),this};Gn.prototype.contains=function(e){const t=this._baseState;return Ei(t.use===null),t.contains=e,this};Gn.prototype._decode=function(e,t){const a=this._baseState;if(a.parent===null)return e.wrapResult(a.children[0]._decode(e,t));let o=a.default,u=!0,d=null;if(a.key!==null&&(d=e.enterKey(a.key)),a.optional){let h=null;if(a.explicit!==null?h=a.explicit:a.implicit!==null?h=a.implicit:a.tag!==null&&(h=a.tag),h===null&&!a.any){const g=e.save();try{a.choice===null?this._decodeGeneric(a.tag,e,t):this._decodeChoice(e,t),u=!0}catch{u=!1}e.restore(g)}else if(u=this._peekTag(e,h,a.any),e.isError(u))return u}let c;if(a.obj&&u&&(c=e.enterObject()),u){if(a.explicit!==null){const g=this._decodeTag(e,a.explicit);if(e.isError(g))return g;e=g}const h=e.offset;if(a.use===null&&a.choice===null){let g;a.any&&(g=e.save());const m=this._decodeTag(e,a.implicit!==null?a.implicit:a.tag,a.any);if(e.isError(m))return m;a.any?o=e.raw(g):e=m}if(t&&t.track&&a.tag!==null&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&a.tag!==null&&t.track(e.path(),e.offset,e.length,"content"),a.any||(a.choice===null?o=this._decodeGeneric(a.tag,e,t):o=this._decodeChoice(e,t)),e.isError(o))return o;if(!a.any&&a.choice===null&&a.children!==null&&a.children.forEach(function(m){m._decode(e,t)}),a.contains&&(a.tag==="octstr"||a.tag==="bitstr")){const g=new _M(o);o=this._getUse(a.contains,e._reporterState.obj)._decode(g,t)}}return a.obj&&u&&(o=e.leaveObject(c)),a.key!==null&&(o!==null||u===!0)?e.leaveKey(d,a.key,o):d!==null&&e.exitKey(d),o};Gn.prototype._decodeGeneric=function(e,t,a){const o=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(t,e,o.args[0],a):/str$/.test(e)?this._decodeStr(t,e,a):e==="objid"&&o.args?this._decodeObjid(t,o.args[0],o.args[1],a):e==="objid"?this._decodeObjid(t,null,null,a):e==="gentime"||e==="utctime"?this._decodeTime(t,e,a):e==="null_"?this._decodeNull(t,a):e==="bool"?this._decodeBool(t,a):e==="objDesc"?this._decodeStr(t,e,a):e==="int"||e==="enum"?this._decodeInt(t,o.args&&o.args[0],a):o.use!==null?this._getUse(o.use,t._reporterState.obj)._decode(t,a):t.error("unknown tag: "+e)};Gn.prototype._getUse=function(e,t){const a=this._baseState;return a.useDecoder=this._use(e,t),Ei(a.useDecoder._baseState.parent===null),a.useDecoder=a.useDecoder._baseState.children[0],a.implicit!==a.useDecoder._baseState.implicit&&(a.useDecoder=a.useDecoder.clone(),a.useDecoder._baseState.implicit=a.implicit),a.useDecoder};Gn.prototype._decodeChoice=function(e,t){const a=this._baseState;let o=null,u=!1;return Object.keys(a.choice).some(function(d){const c=e.save(),h=a.choice[d];try{const g=h._decode(e,t);if(e.isError(g))return!1;o={type:d,value:g},u=!0}catch{return e.restore(c),!1}return!0},this),u?o:e.error("Choice not matched")};Gn.prototype._createEncoderBuffer=function(e){return new wM(e,this.reporter)};Gn.prototype._encode=function(e,t,a){const o=this._baseState;if(o.default!==null&&o.default===e)return;const u=this._encodeValue(e,t,a);if(u!==void 0&&!this._skipDefault(u,t,a))return u};Gn.prototype._encodeValue=function(e,t,a){const o=this._baseState;if(o.parent===null)return o.children[0]._encode(e,t||new xM);let u=null;if(this.reporter=t,o.optional&&e===void 0)if(o.default!==null)e=o.default;else return;let d=null,c=!1;if(o.any)u=this._createEncoderBuffer(e);else if(o.choice)u=this._encodeChoice(e,t);else if(o.contains)d=this._getUse(o.contains,a)._encode(e,t),c=!0;else if(o.children)d=o.children.map(function(h){if(h._baseState.tag==="null_")return h._encode(null,t,e);if(h._baseState.key===null)return t.error("Child should have a key");const g=t.enterKey(h._baseState.key);if(typeof e!="object")return t.error("Child expected, but input is not object");const m=h._encode(e[h._baseState.key],t,e);return t.leaveKey(g),m},this).filter(function(h){return h}),d=this._createEncoderBuffer(d);else if(o.tag==="seqof"||o.tag==="setof"){if(!(o.args&&o.args.length===1))return t.error("Too many args for : "+o.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const h=this.clone();h._baseState.implicit=null,d=this._createEncoderBuffer(e.map(function(g){const m=this._baseState;return this._getUse(m.args[0],e)._encode(g,t)},h))}else o.use!==null?u=this._getUse(o.use,a)._encode(e,t):(d=this._encodePrimitive(o.tag,e),c=!0);if(!o.any&&o.choice===null){const h=o.implicit!==null?o.implicit:o.tag,g=o.implicit===null?"universal":"context";h===null?o.use===null&&t.error("Tag could be omitted only for .use()"):o.use===null&&(u=this._encodeComposite(h,c,g,d))}return o.explicit!==null&&(u=this._encodeComposite(o.explicit,!1,"context",u)),u};Gn.prototype._encodeChoice=function(e,t){const a=this._baseState,o=a.choice[e.type];return o||Ei(!1,e.type+" not found in "+JSON.stringify(Object.keys(a.choice))),o._encode(e.value,t)};Gn.prototype._encodePrimitive=function(e,t){const a=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if(e==="objid"&&a.args)return this._encodeObjid(t,a.reverseArgs[0],a.args[1]);if(e==="objid")return this._encodeObjid(t,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(t,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(t,a.args&&a.reverseArgs[0]);if(e==="bool")return this._encodeBool(t);if(e==="objDesc")return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)};Gn.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Gn.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var a0={};(function(n){function e(t){const a={};return Object.keys(t).forEach(function(o){(o|0)==o&&(o=o|0);const u=t[o];a[u]=o}),a}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=e(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=e(n.tag)})(a0);const MM=Zi,Gs=$p.Buffer,Dx=Tp,Ag=a0;function $x(n){this.enc="der",this.name=n.name,this.entity=n,this.tree=new Ja,this.tree._init(n.body)}var Tx=$x;$x.prototype.encode=function(e,t){return this.tree._encode(e,t).join()};function Ja(n){Dx.call(this,"der",n)}MM(Ja,Dx);Ja.prototype._encodeComposite=function(e,t,a,o){const u=IM(e,t,a,this.reporter);if(o.length<128){const h=Gs.alloc(2);return h[0]=u,h[1]=o.length,this._createEncoderBuffer([h,o])}let d=1;for(let h=o.length;h>=256;h>>=8)d++;const c=Gs.alloc(1+1+d);c[0]=u,c[1]=128|d;for(let h=1+d,g=o.length;g>0;h--,g>>=8)c[h]=g&255;return this._createEncoderBuffer([c,o])};Ja.prototype._encodeStr=function(e,t){if(t==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(t==="bmpstr"){const a=Gs.alloc(e.length*2);for(let o=0;o<e.length;o++)a.writeUInt16BE(e.charCodeAt(o),o*2);return this._createEncoderBuffer(a)}else return t==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):t==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):t==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")};Ja.prototype._encodeObjid=function(e,t,a){if(typeof e=="string"){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!a){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let o=0;for(let c=0;c<e.length;c++){let h=e[c];for(o++;h>=128;h>>=7)o++}const u=Gs.alloc(o);let d=u.length-1;for(let c=e.length-1;c>=0;c--){let h=e[c];for(u[d--]=h&127;(h>>=7)>0;)u[d--]=128|h&127}return this._createEncoderBuffer(u)};function fa(n){return n<10?"0"+n:n}Ja.prototype._encodeTime=function(e,t){let a;const o=new Date(e);return t==="gentime"?a=[fa(o.getUTCFullYear()),fa(o.getUTCMonth()+1),fa(o.getUTCDate()),fa(o.getUTCHours()),fa(o.getUTCMinutes()),fa(o.getUTCSeconds()),"Z"].join(""):t==="utctime"?a=[fa(o.getUTCFullYear()%100),fa(o.getUTCMonth()+1),fa(o.getUTCDate()),fa(o.getUTCHours()),fa(o.getUTCMinutes()),fa(o.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(a,"octstr")};Ja.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Ja.prototype._encodeInt=function(e,t){if(typeof e=="string"){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if(typeof e!="number"&&!Gs.isBuffer(e)){const u=e.toArray();!e.sign&&u[0]&128&&u.unshift(0),e=Gs.from(u)}if(Gs.isBuffer(e)){let u=e.length;e.length===0&&u++;const d=Gs.alloc(u);return e.copy(d),e.length===0&&(d[0]=0),this._createEncoderBuffer(d)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let a=1;for(let u=e;u>=256;u>>=8)a++;const o=new Array(a);for(let u=o.length-1;u>=0;u--)o[u]=e&255,e>>=8;return o[0]&128&&o.unshift(0),this._createEncoderBuffer(Gs.from(o))};Ja.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};Ja.prototype._use=function(e,t){return typeof e=="function"&&(e=e(t)),e._getEncoder("der").tree};Ja.prototype._skipDefault=function(e,t,a){const o=this._baseState;let u;if(o.default===null)return!1;const d=e.join();if(o.defaultBuffer===void 0&&(o.defaultBuffer=this._encodeValue(o.default,t,a).join()),d.length!==o.defaultBuffer.length)return!1;for(u=0;u<d.length;u++)if(d[u]!==o.defaultBuffer[u])return!1;return!0};function IM(n,e,t,a){let o;if(n==="seqof"?n="seq":n==="setof"&&(n="set"),Ag.tagByName.hasOwnProperty(n))o=Ag.tagByName[n];else if(typeof n=="number"&&(n|0)===n)o=n;else return a.error("Unknown tag: "+n);return o>=31?a.error("Multi-octet tag encoding unsupported"):(e||(o|=32),o|=Ag.tagClassByName[t||"universal"]<<6,o)}const PM=Zi,Rp=Tx;function Op(n){Rp.call(this,n),this.enc="pem"}PM(Op,Rp);var NM=Op;Op.prototype.encode=function(e,t){const o=Rp.prototype.encode.call(this,e).toString("base64"),u=["-----BEGIN "+t.label+"-----"];for(let d=0;d<o.length;d+=64)u.push(o.slice(d,d+64));return u.push("-----END "+t.label+"-----"),u.join(`
`)};(function(n){const e=n;e.der=Tx,e.pem=NM})(Np);var Lp={};const AM=Zi,DM=Xi,Ry=$u.DecoderBuffer,Rx=Tp,Oy=a0;function Ox(n){this.enc="der",this.name=n.name,this.entity=n,this.tree=new ta,this.tree._init(n.body)}var Lx=Ox;Ox.prototype.decode=function(e,t){return Ry.isDecoderBuffer(e)||(e=new Ry(e,t)),this.tree._decode(e,t)};function ta(n){Rx.call(this,"der",n)}AM(ta,Rx);ta.prototype._peekTag=function(e,t,a){if(e.isEmpty())return!1;const o=e.save(),u=kp(e,'Failed to peek tag: "'+t+'"');return e.isError(u)?u:(e.restore(o),u.tag===t||u.tagStr===t||u.tagStr+"of"===t||a)};ta.prototype._decodeTag=function(e,t,a){const o=kp(e,'Failed to decode tag of "'+t+'"');if(e.isError(o))return o;let u=kx(e,o.primitive,'Failed to get length of "'+t+'"');if(e.isError(u))return u;if(!a&&o.tag!==t&&o.tagStr!==t&&o.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(o.primitive||u!==null)return e.skip(u,'Failed to match body of: "'+t+'"');const d=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(u=e.offset-d.offset,e.restore(d),e.skip(u,'Failed to match body of: "'+t+'"'))};ta.prototype._skipUntilEnd=function(e,t){for(;;){const a=kp(e,t);if(e.isError(a))return a;const o=kx(e,a.primitive,t);if(e.isError(o))return o;let u;if(a.primitive||o!==null?u=e.skip(o):u=this._skipUntilEnd(e,t),e.isError(u))return u;if(a.tagStr==="end")break}};ta.prototype._decodeList=function(e,t,a,o){const u=[];for(;!e.isEmpty();){const d=this._peekTag(e,"end");if(e.isError(d))return d;const c=a.decode(e,"der",o);if(e.isError(c)&&d)break;u.push(c)}return u};ta.prototype._decodeStr=function(e,t){if(t==="bitstr"){const a=e.readUInt8();return e.isError(a)?a:{unused:a,data:e.raw()}}else if(t==="bmpstr"){const a=e.raw();if(a.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let o="";for(let u=0;u<a.length/2;u++)o+=String.fromCharCode(a.readUInt16BE(u*2));return o}else if(t==="numstr"){const a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}else{if(t==="octstr")return e.raw();if(t==="objDesc")return e.raw();if(t==="printstr"){const a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")}};ta.prototype._decodeObjid=function(e,t,a){let o;const u=[];let d=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),d<<=7,d|=c&127,c&128||(u.push(d),d=0);c&128&&u.push(d);const h=u[0]/40|0,g=u[0]%40;if(a?o=u:o=[h,g].concat(u.slice(1)),t){let m=t[o.join(" ")];m===void 0&&(m=t[o.join(".")]),m!==void 0&&(o=m)}return o};ta.prototype._decodeTime=function(e,t){const a=e.raw().toString();let o,u,d,c,h,g;if(t==="gentime")o=a.slice(0,4)|0,u=a.slice(4,6)|0,d=a.slice(6,8)|0,c=a.slice(8,10)|0,h=a.slice(10,12)|0,g=a.slice(12,14)|0;else if(t==="utctime")o=a.slice(0,2)|0,u=a.slice(2,4)|0,d=a.slice(4,6)|0,c=a.slice(6,8)|0,h=a.slice(8,10)|0,g=a.slice(10,12)|0,o<70?o=2e3+o:o=1900+o;else return e.error("Decoding "+t+" time is not supported yet");return Date.UTC(o,u-1,d,c,h,g,0)};ta.prototype._decodeNull=function(){return null};ta.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:t!==0};ta.prototype._decodeInt=function(e,t){const a=e.raw();let o=new DM(a);return t&&(o=t[o.toString(10)]||o),o};ta.prototype._use=function(e,t){return typeof e=="function"&&(e=e(t)),e._getDecoder("der").tree};function kp(n,e){let t=n.readUInt8(e);if(n.isError(t))return t;const a=Oy.tagClass[t>>6],o=(t&32)===0;if((t&31)===31){let d=t;for(t=0;(d&128)===128;){if(d=n.readUInt8(e),n.isError(d))return d;t<<=7,t|=d&127}}else t&=31;const u=Oy.tag[t];return{cls:a,primitive:o,tag:t,tagStr:u}}function kx(n,e,t){let a=n.readUInt8(t);if(n.isError(a))return a;if(!e&&a===128)return null;if(!(a&128))return a;const o=a&127;if(o>4)return n.error("length octect is too long");a=0;for(let u=0;u<o;u++){a<<=8;const d=n.readUInt8(t);if(n.isError(d))return d;a|=d}return a}const $M=Zi,TM=$p.Buffer,Fp=Lx;function Bp(n){Fp.call(this,n),this.enc="pem"}$M(Bp,Fp);var RM=Bp;Bp.prototype.decode=function(e,t){const a=e.toString().split(/[\r\n]+/g),o=t.label.toUpperCase(),u=/^-----(BEGIN|END) ([^-]+)-----$/;let d=-1,c=-1;for(let m=0;m<a.length;m++){const y=a[m].match(u);if(y!==null&&y[2]===o)if(d===-1){if(y[1]!=="BEGIN")break;d=m}else{if(y[1]!=="END")break;c=m;break}}if(d===-1||c===-1)throw new Error("PEM section not found for: "+o);const h=a.slice(d+1,c).join("");h.replace(/[^a-z0-9+/=]+/gi,"");const g=TM.from(h,"base64");return Fp.prototype.decode.call(this,g,t)};(function(n){const e=n;e.der=Lx,e.pem=RM})(Lp);(function(n){const e=Np,t=Lp,a=Zi,o=n;o.define=function(c,h){return new u(c,h)};function u(d,c){this.name=d,this.body=c,this.decoders={},this.encoders={}}u.prototype._createNamed=function(c){const h=this.name;function g(m){this._initNamed(m,h)}return a(g,c),g.prototype._initNamed=function(y,x){c.call(this,y,x)},new g(this)},u.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(t[c])),this.decoders[c]},u.prototype.decode=function(c,h,g){return this._getDecoder(h).decode(c,g)},u.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(e[c])),this.encoders[c]},u.prototype.encode=function(c,h,g){return this._getEncoder(h).encode(c,g)}})(Ix);var Fx={};(function(n){const e=n;e.Reporter=r0.Reporter,e.DecoderBuffer=$u.DecoderBuffer,e.EncoderBuffer=$u.EncoderBuffer,e.Node=Tp})(Fx);var Bx={};(function(n){const e=n;e._reverse=function(a){const o={};return Object.keys(a).forEach(function(u){(u|0)==u&&(u=u|0);const d=a[u];o[d]=u}),o},e.der=a0})(Bx);(function(n){const e=n;e.bignum=Xi,e.define=Ix.define,e.base=Fx,e.constants=Bx,e.decoders=Lp,e.encoders=Np})(Ho);var Xd={},OM={get exports(){return Xd},set exports(n){Xd=n}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=Ap,a=t.Buffer;function o(d,c){for(var h in d)c[h]=d[h]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=t:(o(t,e),e.Buffer=u);function u(d,c,h){return a(d,c,h)}u.prototype=Object.create(a.prototype),o(a,u),u.from=function(d,c,h){if(typeof d=="number")throw new TypeError("Argument must not be a number");return a(d,c,h)},u.alloc=function(d,c,h){if(typeof d!="number")throw new TypeError("Argument must be a number");var g=a(d);return c!==void 0?typeof h=="string"?g.fill(c,h):g.fill(c):g.fill(0),g},u.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return a(d)},u.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(d)}})(OM,Xd);var Hx={};const LM="elliptic",kM="6.5.4",FM="EC cryptography",BM="lib/elliptic.js",HM=["lib"],zM={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},VM={type:"git",url:"git@github.com:indutny/elliptic"},GM=["EC","Elliptic","curve","Cryptography"],WM="Fedor Indutny <fedor@indutny.com>",UM="MIT",qM={url:"https://github.com/indutny/elliptic/issues"},jM="https://github.com/indutny/elliptic",KM={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},JM={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},YM={name:LM,version:kM,description:FM,main:BM,files:HM,scripts:zM,repository:VM,keywords:GM,author:WM,license:UM,bugs:qM,homepage:jM,devDependencies:KM,dependencies:JM};var na={},Hp={};(function(n){var e=n;function t(u,d){if(Array.isArray(u))return u.slice();if(!u)return[];var c=[];if(typeof u!="string"){for(var h=0;h<u.length;h++)c[h]=u[h]|0;return c}if(d==="hex"){u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u);for(var h=0;h<u.length;h+=2)c.push(parseInt(u[h]+u[h+1],16))}else for(var h=0;h<u.length;h++){var g=u.charCodeAt(h),m=g>>8,y=g&255;m?c.push(m,y):c.push(y)}return c}e.toArray=t;function a(u){return u.length===1?"0"+u:u}e.zero2=a;function o(u){for(var d="",c=0;c<u.length;c++)d+=a(u[c].toString(16));return d}e.toHex=o,e.encode=function(d,c){return c==="hex"?o(d):d}})(Hp);(function(n){var e=n,t=Xi,a=zo,o=Hp;e.assert=a,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function u(m,y,x){var E=new Array(Math.max(m.bitLength(),x)+1);E.fill(0);for(var _=1<<y+1,w=m.clone(),L=0;L<E.length;L++){var k,W=w.andln(_-1);w.isOdd()?(W>(_>>1)-1?k=(_>>1)-W:k=W,w.isubn(k)):k=0,E[L]=k,w.iushrn(1)}return E}e.getNAF=u;function d(m,y){var x=[[],[]];m=m.clone(),y=y.clone();for(var E=0,_=0,w;m.cmpn(-E)>0||y.cmpn(-_)>0;){var L=m.andln(3)+E&3,k=y.andln(3)+_&3;L===3&&(L=-1),k===3&&(k=-1);var W;L&1?(w=m.andln(7)+E&7,(w===3||w===5)&&k===2?W=-L:W=L):W=0,x[0].push(W);var $;k&1?(w=y.andln(7)+_&7,(w===3||w===5)&&L===2?$=-k:$=k):$=0,x[1].push($),2*E===W+1&&(E=1-E),2*_===$+1&&(_=1-_),m.iushrn(1),y.iushrn(1)}return x}e.getJSF=d;function c(m,y,x){var E="_"+y;m.prototype[y]=function(){return this[E]!==void 0?this[E]:this[E]=x.call(this)}}e.cachedProperty=c;function h(m){return typeof m=="string"?e.toArray(m,"hex"):m}e.parseBytes=h;function g(m){return new t(m,"hex","le")}e.intFromLE=g})(na);var Zd={},XM={get exports(){return Zd},set exports(n){Zd=n}},Dg;XM.exports=function(e){return Dg||(Dg=new No(null)),Dg.generate(e)};function No(n){this.rand=n}Zd.Rand=No;No.prototype.generate=function(e){return this._rand(e)};No.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),a=0;a<t.length;a++)t[a]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?No.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?No.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(No.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Ly=Z1;if(typeof Ly.randomBytes!="function")throw new Error("Not supported");No.prototype._rand=function(e){return Ly.randomBytes(e)}}catch{}var zp={},fu=Xi,lc=na,ph=lc.getNAF,ZM=lc.getJSF,mh=lc.assert;function Vo(n,e){this.type=n,this.p=new fu(e.p,16),this.red=e.prime?fu.red(e.prime):fu.mont(this.p),this.zero=new fu(0).toRed(this.red),this.one=new fu(1).toRed(this.red),this.two=new fu(2).toRed(this.red),this.n=e.n&&new fu(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var s0=Vo;Vo.prototype.point=function(){throw new Error("Not implemented")};Vo.prototype.validate=function(){throw new Error("Not implemented")};Vo.prototype._fixedNafMul=function(e,t){mh(e.precomputed);var a=e._getDoubles(),o=ph(t,1,this._bitLength),u=(1<<a.step+1)-(a.step%2===0?2:1);u/=3;var d=[],c,h;for(c=0;c<o.length;c+=a.step){h=0;for(var g=c+a.step-1;g>=c;g--)h=(h<<1)+o[g];d.push(h)}for(var m=this.jpoint(null,null,null),y=this.jpoint(null,null,null),x=u;x>0;x--){for(c=0;c<d.length;c++)h=d[c],h===x?y=y.mixedAdd(a.points[c]):h===-x&&(y=y.mixedAdd(a.points[c].neg()));m=m.add(y)}return m.toP()};Vo.prototype._wnafMul=function(e,t){var a=4,o=e._getNAFPoints(a);a=o.wnd;for(var u=o.points,d=ph(t,a,this._bitLength),c=this.jpoint(null,null,null),h=d.length-1;h>=0;h--){for(var g=0;h>=0&&d[h]===0;h--)g++;if(h>=0&&g++,c=c.dblp(g),h<0)break;var m=d[h];mh(m!==0),e.type==="affine"?m>0?c=c.mixedAdd(u[m-1>>1]):c=c.mixedAdd(u[-m-1>>1].neg()):m>0?c=c.add(u[m-1>>1]):c=c.add(u[-m-1>>1].neg())}return e.type==="affine"?c.toP():c};Vo.prototype._wnafMulAdd=function(e,t,a,o,u){var d=this._wnafT1,c=this._wnafT2,h=this._wnafT3,g=0,m,y,x;for(m=0;m<o;m++){x=t[m];var E=x._getNAFPoints(e);d[m]=E.wnd,c[m]=E.points}for(m=o-1;m>=1;m-=2){var _=m-1,w=m;if(d[_]!==1||d[w]!==1){h[_]=ph(a[_],d[_],this._bitLength),h[w]=ph(a[w],d[w],this._bitLength),g=Math.max(h[_].length,g),g=Math.max(h[w].length,g);continue}var L=[t[_],null,null,t[w]];t[_].y.cmp(t[w].y)===0?(L[1]=t[_].add(t[w]),L[2]=t[_].toJ().mixedAdd(t[w].neg())):t[_].y.cmp(t[w].y.redNeg())===0?(L[1]=t[_].toJ().mixedAdd(t[w]),L[2]=t[_].add(t[w].neg())):(L[1]=t[_].toJ().mixedAdd(t[w]),L[2]=t[_].toJ().mixedAdd(t[w].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],W=ZM(a[_],a[w]);for(g=Math.max(W[0].length,g),h[_]=new Array(g),h[w]=new Array(g),y=0;y<g;y++){var $=W[0][y]|0,O=W[1][y]|0;h[_][y]=k[($+1)*3+(O+1)],h[w][y]=0,c[_]=L}}var z=this.jpoint(null,null,null),le=this._wnafT4;for(m=g;m>=0;m--){for(var H=0;m>=0;){var Z=!0;for(y=0;y<o;y++)le[y]=h[y][m]|0,le[y]!==0&&(Z=!1);if(!Z)break;H++,m--}if(m>=0&&H++,z=z.dblp(H),m<0)break;for(y=0;y<o;y++){var Y=le[y];Y!==0&&(Y>0?x=c[y][Y-1>>1]:Y<0&&(x=c[y][-Y-1>>1].neg()),x.type==="affine"?z=z.mixedAdd(x):z=z.add(x))}}for(m=0;m<o;m++)c[m]=null;return u?z:z.toP()};function Da(n,e){this.curve=n,this.type=e,this.precomputed=null}Vo.BasePoint=Da;Da.prototype.eq=function(){throw new Error("Not implemented")};Da.prototype.validate=function(){return this.curve.validate(this)};Vo.prototype.decodePoint=function(e,t){e=lc.toArray(e,t);var a=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*a){e[0]===6?mh(e[e.length-1]%2===0):e[0]===7&&mh(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+a),e.slice(1+a,1+2*a));return o}else if((e[0]===2||e[0]===3)&&e.length-1===a)return this.pointFromX(e.slice(1,1+a),e[0]===3);throw new Error("Unknown point format")};Da.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Da.prototype._encode=function(e){var t=this.curve.p.byteLength(),a=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(a):[4].concat(a,this.getY().toArray("be",t))};Da.prototype.encode=function(e,t){return lc.encode(this._encode(t),e)};Da.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Da.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Da.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var a=[this],o=this,u=0;u<t;u+=e){for(var d=0;d<e;d++)o=o.dbl();a.push(o)}return{step:e,points:a}};Da.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],a=(1<<e)-1,o=a===1?null:this.dbl(),u=1;u<a;u++)t[u]=t[u-1].add(o);return{wnd:e,points:t}};Da.prototype._getBeta=function(){return null};Da.prototype.dblp=function(e){for(var t=this,a=0;a<e;a++)t=t.dbl();return t};var QM=na,gr=Xi,Vp=Zi,Rl=s0,eI=QM.assert;function $a(n){Rl.call(this,"short",n),this.a=new gr(n.a,16).toRed(this.red),this.b=new gr(n.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(n),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Vp($a,Rl);var tI=$a;$a.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,a;if(e.beta)t=new gr(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)a=new gr(e.lambda,16);else{var u=this._getEndoRoots(this.n);this.g.mul(u[0]).x.cmp(this.g.x.redMul(t))===0?a=u[0]:(a=u[1],eI(this.g.mul(a).x.cmp(this.g.x.redMul(t))===0))}var d;return e.basis?d=e.basis.map(function(c){return{a:new gr(c.a,16),b:new gr(c.b,16)}}):d=this._getEndoBasis(a),{beta:t,lambda:a,basis:d}}};$a.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:gr.mont(e),a=new gr(2).toRed(t).redInvm(),o=a.redNeg(),u=new gr(3).toRed(t).redNeg().redSqrt().redMul(a),d=o.redAdd(u).fromRed(),c=o.redSub(u).fromRed();return[d,c]};$a.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=e,o=this.n.clone(),u=new gr(1),d=new gr(0),c=new gr(0),h=new gr(1),g,m,y,x,E,_,w,L=0,k,W;a.cmpn(0)!==0;){var $=o.div(a);k=o.sub($.mul(a)),W=c.sub($.mul(u));var O=h.sub($.mul(d));if(!y&&k.cmp(t)<0)g=w.neg(),m=u,y=k.neg(),x=W;else if(y&&++L===2)break;w=k,o=a,a=k,c=u,u=W,h=d,d=O}E=k.neg(),_=W;var z=y.sqr().add(x.sqr()),le=E.sqr().add(_.sqr());return le.cmp(z)>=0&&(E=g,_=m),y.negative&&(y=y.neg(),x=x.neg()),E.negative&&(E=E.neg(),_=_.neg()),[{a:y,b:x},{a:E,b:_}]};$a.prototype._endoSplit=function(e){var t=this.endo.basis,a=t[0],o=t[1],u=o.b.mul(e).divRound(this.n),d=a.b.neg().mul(e).divRound(this.n),c=u.mul(a.a),h=d.mul(o.a),g=u.mul(a.b),m=d.mul(o.b),y=e.sub(c).sub(h),x=g.add(m).neg();return{k1:y,k2:x}};$a.prototype.pointFromX=function(e,t){e=new gr(e,16),e.red||(e=e.toRed(this.red));var a=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var u=o.fromRed().isOdd();return(t&&!u||!t&&u)&&(o=o.redNeg()),this.point(e,o)};$a.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,a=e.y,o=this.a.redMul(t),u=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return a.redSqr().redISub(u).cmpn(0)===0};$a.prototype._endoWnafMulAdd=function(e,t,a){for(var o=this._endoWnafT1,u=this._endoWnafT2,d=0;d<e.length;d++){var c=this._endoSplit(t[d]),h=e[d],g=h._getBeta();c.k1.negative&&(c.k1.ineg(),h=h.neg(!0)),c.k2.negative&&(c.k2.ineg(),g=g.neg(!0)),o[d*2]=h,o[d*2+1]=g,u[d*2]=c.k1,u[d*2+1]=c.k2}for(var m=this._wnafMulAdd(1,o,u,d*2,a),y=0;y<d*2;y++)o[y]=null,u[y]=null;return m};function Xr(n,e,t,a){Rl.BasePoint.call(this,n,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new gr(e,16),this.y=new gr(t,16),a&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Vp(Xr,Rl.BasePoint);$a.prototype.point=function(e,t,a){return new Xr(this,e,t,a)};$a.prototype.pointFromJSON=function(e,t){return Xr.fromJSON(this,e,t)};Xr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var a=this.curve,o=function(u){return a.point(u.x.redMul(a.endo.beta),u.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};Xr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Xr.fromJSON=function(e,t,a){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],a);if(!t[2])return o;function u(c){return e.point(c[0],c[1],a)}var d=t[2];return o.precomputed={beta:null,doubles:d.doubles&&{step:d.doubles.step,points:[o].concat(d.doubles.points.map(u))},naf:d.naf&&{wnd:d.naf.wnd,points:[o].concat(d.naf.points.map(u))}},o};Xr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Xr.prototype.isInfinity=function(){return this.inf};Xr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var a=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Xr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,a=this.x.redSqr(),o=e.redInvm(),u=a.redAdd(a).redIAdd(a).redIAdd(t).redMul(o),d=u.redSqr().redISub(this.x.redAdd(this.x)),c=u.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,c)};Xr.prototype.getX=function(){return this.x.fromRed()};Xr.prototype.getY=function(){return this.y.fromRed()};Xr.prototype.mul=function(e){return e=new gr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Xr.prototype.mulAdd=function(e,t,a){var o=[this,t],u=[e,a];return this.curve.endo?this.curve._endoWnafMulAdd(o,u):this.curve._wnafMulAdd(1,o,u,2)};Xr.prototype.jmulAdd=function(e,t,a){var o=[this,t],u=[e,a];return this.curve.endo?this.curve._endoWnafMulAdd(o,u,!0):this.curve._wnafMulAdd(1,o,u,2,!0)};Xr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Xr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var a=this.precomputed,o=function(u){return u.neg()};t.precomputed={naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(o)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(o)}}}return t};Xr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ai(n,e,t,a){Rl.BasePoint.call(this,n,"jacobian"),e===null&&t===null&&a===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new gr(0)):(this.x=new gr(e,16),this.y=new gr(t,16),this.z=new gr(a,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Vp(ai,Rl.BasePoint);$a.prototype.jpoint=function(e,t,a){return new ai(this,e,t,a)};ai.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),a=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(a,o)};ai.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ai.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),a=this.z.redSqr(),o=this.x.redMul(t),u=e.x.redMul(a),d=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(a.redMul(this.z)),h=o.redSub(u),g=d.redSub(c);if(h.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=h.redSqr(),y=m.redMul(h),x=o.redMul(m),E=g.redSqr().redIAdd(y).redISub(x).redISub(x),_=g.redMul(x.redISub(E)).redISub(d.redMul(y)),w=this.z.redMul(e.z).redMul(h);return this.curve.jpoint(E,_,w)};ai.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),a=this.x,o=e.x.redMul(t),u=this.y,d=e.y.redMul(t).redMul(this.z),c=a.redSub(o),h=u.redSub(d);if(c.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=c.redSqr(),m=g.redMul(c),y=a.redMul(g),x=h.redSqr().redIAdd(m).redISub(y).redISub(y),E=h.redMul(y.redISub(x)).redISub(u.redMul(m)),_=this.z.redMul(c);return this.curve.jpoint(x,E,_)};ai.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var a=this;for(t=0;t<e;t++)a=a.dbl();return a}var o=this.curve.a,u=this.curve.tinv,d=this.x,c=this.y,h=this.z,g=h.redSqr().redSqr(),m=c.redAdd(c);for(t=0;t<e;t++){var y=d.redSqr(),x=m.redSqr(),E=x.redSqr(),_=y.redAdd(y).redIAdd(y).redIAdd(o.redMul(g)),w=d.redMul(x),L=_.redSqr().redISub(w.redAdd(w)),k=w.redISub(L),W=_.redMul(k);W=W.redIAdd(W).redISub(E);var $=m.redMul(h);t+1<e&&(g=g.redMul(E)),d=L,h=$,m=W}return this.curve.jpoint(d,m.redMul(u),h)};ai.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ai.prototype._zeroDbl=function(){var e,t,a;if(this.zOne){var o=this.x.redSqr(),u=this.y.redSqr(),d=u.redSqr(),c=this.x.redAdd(u).redSqr().redISub(o).redISub(d);c=c.redIAdd(c);var h=o.redAdd(o).redIAdd(o),g=h.redSqr().redISub(c).redISub(c),m=d.redIAdd(d);m=m.redIAdd(m),m=m.redIAdd(m),e=g,t=h.redMul(c.redISub(g)).redISub(m),a=this.y.redAdd(this.y)}else{var y=this.x.redSqr(),x=this.y.redSqr(),E=x.redSqr(),_=this.x.redAdd(x).redSqr().redISub(y).redISub(E);_=_.redIAdd(_);var w=y.redAdd(y).redIAdd(y),L=w.redSqr(),k=E.redIAdd(E);k=k.redIAdd(k),k=k.redIAdd(k),e=L.redISub(_).redISub(_),t=w.redMul(_.redISub(e)).redISub(k),a=this.y.redMul(this.z),a=a.redIAdd(a)}return this.curve.jpoint(e,t,a)};ai.prototype._threeDbl=function(){var e,t,a;if(this.zOne){var o=this.x.redSqr(),u=this.y.redSqr(),d=u.redSqr(),c=this.x.redAdd(u).redSqr().redISub(o).redISub(d);c=c.redIAdd(c);var h=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),g=h.redSqr().redISub(c).redISub(c);e=g;var m=d.redIAdd(d);m=m.redIAdd(m),m=m.redIAdd(m),t=h.redMul(c.redISub(g)).redISub(m),a=this.y.redAdd(this.y)}else{var y=this.z.redSqr(),x=this.y.redSqr(),E=this.x.redMul(x),_=this.x.redSub(y).redMul(this.x.redAdd(y));_=_.redAdd(_).redIAdd(_);var w=E.redIAdd(E);w=w.redIAdd(w);var L=w.redAdd(w);e=_.redSqr().redISub(L),a=this.y.redAdd(this.z).redSqr().redISub(x).redISub(y);var k=x.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=_.redMul(w.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,a)};ai.prototype._dbl=function(){var e=this.curve.a,t=this.x,a=this.y,o=this.z,u=o.redSqr().redSqr(),d=t.redSqr(),c=a.redSqr(),h=d.redAdd(d).redIAdd(d).redIAdd(e.redMul(u)),g=t.redAdd(t);g=g.redIAdd(g);var m=g.redMul(c),y=h.redSqr().redISub(m.redAdd(m)),x=m.redISub(y),E=c.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var _=h.redMul(x).redISub(E),w=a.redAdd(a).redMul(o);return this.curve.jpoint(y,_,w)};ai.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),a=this.z.redSqr(),o=t.redSqr(),u=e.redAdd(e).redIAdd(e),d=u.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(o);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(d);var h=c.redSqr(),g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=u.redIAdd(c).redSqr().redISub(d).redISub(h).redISub(g),y=t.redMul(m);y=y.redIAdd(y),y=y.redIAdd(y);var x=this.x.redMul(h).redISub(y);x=x.redIAdd(x),x=x.redIAdd(x);var E=this.y.redMul(m.redMul(g.redISub(m)).redISub(c.redMul(h)));E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var _=this.z.redAdd(c).redSqr().redISub(a).redISub(h);return this.curve.jpoint(x,E,_)};ai.prototype.mul=function(e,t){return e=new gr(e,t),this.curve._wnafMul(this,e)};ai.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),a=e.z.redSqr();if(this.x.redMul(a).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),u=a.redMul(e.z);return this.y.redMul(u).redISub(e.y.redMul(o)).cmpn(0)===0};ai.prototype.eqXToP=function(e){var t=this.z.redSqr(),a=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(a)===0)return!0;for(var o=e.clone(),u=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(a.redIAdd(u),this.x.cmp(a)===0)return!0}};ai.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ai.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var hl=Xi,zx=Zi,o0=s0,nI=na;function Ol(n){o0.call(this,"mont",n),this.a=new hl(n.a,16).toRed(this.red),this.b=new hl(n.b,16).toRed(this.red),this.i4=new hl(4).toRed(this.red).redInvm(),this.two=new hl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}zx(Ol,o0);var rI=Ol;Ol.prototype.validate=function(e){var t=e.normalize().x,a=t.redSqr(),o=a.redMul(t).redAdd(a.redMul(this.a)).redAdd(t),u=o.redSqrt();return u.redSqr().cmp(o)===0};function Yr(n,e,t){o0.BasePoint.call(this,n,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new hl(e,16),this.z=new hl(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}zx(Yr,o0.BasePoint);Ol.prototype.decodePoint=function(e,t){return this.point(nI.toArray(e,t),1)};Ol.prototype.point=function(e,t){return new Yr(this,e,t)};Ol.prototype.pointFromJSON=function(e){return Yr.fromJSON(this,e)};Yr.prototype.precompute=function(){};Yr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Yr.fromJSON=function(e,t){return new Yr(e,t[0],t[1]||e.one)};Yr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Yr.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),a=this.x.redSub(this.z),o=a.redSqr(),u=t.redSub(o),d=t.redMul(o),c=u.redMul(o.redAdd(this.curve.a24.redMul(u)));return this.curve.point(d,c)};Yr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Yr.prototype.diffAdd=function(e,t){var a=this.x.redAdd(this.z),o=this.x.redSub(this.z),u=e.x.redAdd(e.z),d=e.x.redSub(e.z),c=d.redMul(a),h=u.redMul(o),g=t.z.redMul(c.redAdd(h).redSqr()),m=t.x.redMul(c.redISub(h).redSqr());return this.curve.point(g,m)};Yr.prototype.mul=function(e){for(var t=e.clone(),a=this,o=this.curve.point(null,null),u=this,d=[];t.cmpn(0)!==0;t.iushrn(1))d.push(t.andln(1));for(var c=d.length-1;c>=0;c--)d[c]===0?(a=a.diffAdd(o,u),o=o.dbl()):(o=a.diffAdd(o,u),a=a.dbl());return o};Yr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Yr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Yr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Yr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Yr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var iI=na,js=Xi,Vx=Zi,u0=s0,aI=iI.assert;function Ms(n){this.twisted=(n.a|0)!==1,this.mOneA=this.twisted&&(n.a|0)===-1,this.extended=this.mOneA,u0.call(this,"edwards",n),this.a=new js(n.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new js(n.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new js(n.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),aI(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(n.c|0)===1}Vx(Ms,u0);var sI=Ms;Ms.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Ms.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Ms.prototype.jpoint=function(e,t,a,o){return this.point(e,t,a,o)};Ms.prototype.pointFromX=function(e,t){e=new js(e,16),e.red||(e=e.toRed(this.red));var a=e.redSqr(),o=this.c2.redSub(this.a.redMul(a)),u=this.one.redSub(this.c2.redMul(this.d).redMul(a)),d=o.redMul(u.redInvm()),c=d.redSqrt();if(c.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var h=c.fromRed().isOdd();return(t&&!h||!t&&h)&&(c=c.redNeg()),this.point(e,c)};Ms.prototype.pointFromY=function(e,t){e=new js(e,16),e.red||(e=e.toRed(this.red));var a=e.redSqr(),o=a.redSub(this.c2),u=a.redMul(this.d).redMul(this.c2).redSub(this.a),d=o.redMul(u.redInvm());if(d.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var c=d.redSqrt();if(c.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==t&&(c=c.redNeg()),this.point(c,e)};Ms.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),a=e.y.redSqr(),o=t.redMul(this.a).redAdd(a),u=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(a)));return o.cmp(u)===0};function Yn(n,e,t,a,o){u0.BasePoint.call(this,n,"projective"),e===null&&t===null&&a===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new js(e,16),this.y=new js(t,16),this.z=a?new js(a,16):this.curve.one,this.t=o&&new js(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Vx(Yn,u0.BasePoint);Ms.prototype.pointFromJSON=function(e){return Yn.fromJSON(this,e)};Ms.prototype.point=function(e,t,a,o){return new Yn(this,e,t,a,o)};Yn.fromJSON=function(e,t){return new Yn(e,t[0],t[1],t[2])};Yn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Yn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Yn.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),a=this.z.redSqr();a=a.redIAdd(a);var o=this.curve._mulA(e),u=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),d=o.redAdd(t),c=d.redSub(a),h=o.redSub(t),g=u.redMul(c),m=d.redMul(h),y=u.redMul(h),x=c.redMul(d);return this.curve.point(g,m,x,y)};Yn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),a=this.y.redSqr(),o,u,d,c,h,g;if(this.curve.twisted){c=this.curve._mulA(t);var m=c.redAdd(a);this.zOne?(o=e.redSub(t).redSub(a).redMul(m.redSub(this.curve.two)),u=m.redMul(c.redSub(a)),d=m.redSqr().redSub(m).redSub(m)):(h=this.z.redSqr(),g=m.redSub(h).redISub(h),o=e.redSub(t).redISub(a).redMul(g),u=m.redMul(c.redSub(a)),d=m.redMul(g))}else c=t.redAdd(a),h=this.curve._mulC(this.z).redSqr(),g=c.redSub(h).redSub(h),o=this.curve._mulC(e.redISub(c)).redMul(g),u=this.curve._mulC(c).redMul(t.redISub(a)),d=c.redMul(g);return this.curve.point(o,u,d)};Yn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Yn.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),a=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),u=this.z.redMul(e.z.redAdd(e.z)),d=a.redSub(t),c=u.redSub(o),h=u.redAdd(o),g=a.redAdd(t),m=d.redMul(c),y=h.redMul(g),x=d.redMul(g),E=c.redMul(h);return this.curve.point(m,y,E,x)};Yn.prototype._projAdd=function(e){var t=this.z.redMul(e.z),a=t.redSqr(),o=this.x.redMul(e.x),u=this.y.redMul(e.y),d=this.curve.d.redMul(o).redMul(u),c=a.redSub(d),h=a.redAdd(d),g=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(u),m=t.redMul(c).redMul(g),y,x;return this.curve.twisted?(y=t.redMul(h).redMul(u.redSub(this.curve._mulA(o))),x=c.redMul(h)):(y=t.redMul(h).redMul(u.redSub(o)),x=this.curve._mulC(c).redMul(h)),this.curve.point(m,y,x)};Yn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Yn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Yn.prototype.mulAdd=function(e,t,a){return this.curve._wnafMulAdd(1,[this,t],[e,a],2,!1)};Yn.prototype.jmulAdd=function(e,t,a){return this.curve._wnafMulAdd(1,[this,t],[e,a],2,!0)};Yn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Yn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Yn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Yn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Yn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Yn.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var a=e.clone(),o=this.curve.redN.redMul(this.z);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(o),this.x.cmp(t)===0)return!0}};Yn.prototype.toP=Yn.prototype.normalize;Yn.prototype.mixedAdd=Yn.prototype.add;(function(n){var e=n;e.base=s0,e.short=tI,e.mont=rI,e.edwards=sI})(zp);var l0={},d0={},Sn={},oI=zo,uI=Zi;Sn.inherits=uI;function lI(n,e){return(n.charCodeAt(e)&64512)!==55296||e<0||e+1>=n.length?!1:(n.charCodeAt(e+1)&64512)===56320}function dI(n,e){if(Array.isArray(n))return n.slice();if(!n)return[];var t=[];if(typeof n=="string")if(e){if(e==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),o=0;o<n.length;o+=2)t.push(parseInt(n[o]+n[o+1],16))}else for(var a=0,o=0;o<n.length;o++){var u=n.charCodeAt(o);u<128?t[a++]=u:u<2048?(t[a++]=u>>6|192,t[a++]=u&63|128):lI(n,o)?(u=65536+((u&1023)<<10)+(n.charCodeAt(++o)&1023),t[a++]=u>>18|240,t[a++]=u>>12&63|128,t[a++]=u>>6&63|128,t[a++]=u&63|128):(t[a++]=u>>12|224,t[a++]=u>>6&63|128,t[a++]=u&63|128)}else for(o=0;o<n.length;o++)t[o]=n[o]|0;return t}Sn.toArray=dI;function cI(n){for(var e="",t=0;t<n.length;t++)e+=Wx(n[t].toString(16));return e}Sn.toHex=cI;function Gx(n){var e=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return e>>>0}Sn.htonl=Gx;function fI(n,e){for(var t="",a=0;a<n.length;a++){var o=n[a];e==="little"&&(o=Gx(o)),t+=Ux(o.toString(16))}return t}Sn.toHex32=fI;function Wx(n){return n.length===1?"0"+n:n}Sn.zero2=Wx;function Ux(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}Sn.zero8=Ux;function hI(n,e,t,a){var o=t-e;oI(o%4===0);for(var u=new Array(o/4),d=0,c=e;d<u.length;d++,c+=4){var h;a==="big"?h=n[c]<<24|n[c+1]<<16|n[c+2]<<8|n[c+3]:h=n[c+3]<<24|n[c+2]<<16|n[c+1]<<8|n[c],u[d]=h>>>0}return u}Sn.join32=hI;function gI(n,e){for(var t=new Array(n.length*4),a=0,o=0;a<n.length;a++,o+=4){var u=n[a];e==="big"?(t[o]=u>>>24,t[o+1]=u>>>16&255,t[o+2]=u>>>8&255,t[o+3]=u&255):(t[o+3]=u>>>24,t[o+2]=u>>>16&255,t[o+1]=u>>>8&255,t[o]=u&255)}return t}Sn.split32=gI;function pI(n,e){return n>>>e|n<<32-e}Sn.rotr32=pI;function mI(n,e){return n<<e|n>>>32-e}Sn.rotl32=mI;function yI(n,e){return n+e>>>0}Sn.sum32=yI;function vI(n,e,t){return n+e+t>>>0}Sn.sum32_3=vI;function bI(n,e,t,a){return n+e+t+a>>>0}Sn.sum32_4=bI;function xI(n,e,t,a,o){return n+e+t+a+o>>>0}Sn.sum32_5=xI;function wI(n,e,t,a){var o=n[e],u=n[e+1],d=a+u>>>0,c=(d<a?1:0)+t+o;n[e]=c>>>0,n[e+1]=d}Sn.sum64=wI;function _I(n,e,t,a){var o=e+a>>>0,u=(o<e?1:0)+n+t;return u>>>0}Sn.sum64_hi=_I;function SI(n,e,t,a){var o=e+a;return o>>>0}Sn.sum64_lo=SI;function EI(n,e,t,a,o,u,d,c){var h=0,g=e;g=g+a>>>0,h+=g<e?1:0,g=g+u>>>0,h+=g<u?1:0,g=g+c>>>0,h+=g<c?1:0;var m=n+t+o+d+h;return m>>>0}Sn.sum64_4_hi=EI;function CI(n,e,t,a,o,u,d,c){var h=e+a+u+c;return h>>>0}Sn.sum64_4_lo=CI;function MI(n,e,t,a,o,u,d,c,h,g){var m=0,y=e;y=y+a>>>0,m+=y<e?1:0,y=y+u>>>0,m+=y<u?1:0,y=y+c>>>0,m+=y<c?1:0,y=y+g>>>0,m+=y<g?1:0;var x=n+t+o+d+h+m;return x>>>0}Sn.sum64_5_hi=MI;function II(n,e,t,a,o,u,d,c,h,g){var m=e+a+u+c+g;return m>>>0}Sn.sum64_5_lo=II;function PI(n,e,t){var a=e<<32-t|n>>>t;return a>>>0}Sn.rotr64_hi=PI;function NI(n,e,t){var a=n<<32-t|e>>>t;return a>>>0}Sn.rotr64_lo=NI;function AI(n,e,t){return n>>>t}Sn.shr64_hi=AI;function DI(n,e,t){var a=n<<32-t|e>>>t;return a>>>0}Sn.shr64_lo=DI;var Ll={},ky=Sn,$I=zo;function c0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ll.BlockHash=c0;c0.prototype.update=function(e,t){if(e=ky.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var a=e.length%this._delta8;this.pending=e.slice(e.length-a,e.length),this.pending.length===0&&(this.pending=null),e=ky.join32(e,0,e.length-a,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};c0.prototype.digest=function(e){return this.update(this._pad()),$I(this.pending===null),this._digest(e)};c0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,a=t-(e+this.padLength)%t,o=new Array(a+this.padLength);o[0]=128;for(var u=1;u<a;u++)o[u]=0;if(e<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)o[u++]=0;o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=e>>>24&255,o[u++]=e>>>16&255,o[u++]=e>>>8&255,o[u++]=e&255}else for(o[u++]=e&255,o[u++]=e>>>8&255,o[u++]=e>>>16&255,o[u++]=e>>>24&255,o[u++]=0,o[u++]=0,o[u++]=0,o[u++]=0,d=8;d<this.padLength;d++)o[u++]=0;return o};var kl={},Is={},TI=Sn,vs=TI.rotr32;function RI(n,e,t,a){if(n===0)return qx(e,t,a);if(n===1||n===3)return Kx(e,t,a);if(n===2)return jx(e,t,a)}Is.ft_1=RI;function qx(n,e,t){return n&e^~n&t}Is.ch32=qx;function jx(n,e,t){return n&e^n&t^e&t}Is.maj32=jx;function Kx(n,e,t){return n^e^t}Is.p32=Kx;function OI(n){return vs(n,2)^vs(n,13)^vs(n,22)}Is.s0_256=OI;function LI(n){return vs(n,6)^vs(n,11)^vs(n,25)}Is.s1_256=LI;function kI(n){return vs(n,7)^vs(n,18)^n>>>3}Is.g0_256=kI;function FI(n){return vs(n,17)^vs(n,19)^n>>>10}Is.g1_256=FI;var El=Sn,BI=Ll,HI=Is,$g=El.rotl32,vd=El.sum32,zI=El.sum32_5,VI=HI.ft_1,Jx=BI.BlockHash,GI=[1518500249,1859775393,2400959708,3395469782];function Ss(){if(!(this instanceof Ss))return new Ss;Jx.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}El.inherits(Ss,Jx);var WI=Ss;Ss.blockSize=512;Ss.outSize=160;Ss.hmacStrength=80;Ss.padLength=64;Ss.prototype._update=function(e,t){for(var a=this.W,o=0;o<16;o++)a[o]=e[t+o];for(;o<a.length;o++)a[o]=$g(a[o-3]^a[o-8]^a[o-14]^a[o-16],1);var u=this.h[0],d=this.h[1],c=this.h[2],h=this.h[3],g=this.h[4];for(o=0;o<a.length;o++){var m=~~(o/20),y=zI($g(u,5),VI(m,d,c,h),g,a[o],GI[m]);g=h,h=c,c=$g(d,30),d=u,u=y}this.h[0]=vd(this.h[0],u),this.h[1]=vd(this.h[1],d),this.h[2]=vd(this.h[2],c),this.h[3]=vd(this.h[3],h),this.h[4]=vd(this.h[4],g)};Ss.prototype._digest=function(e){return e==="hex"?El.toHex32(this.h,"big"):El.split32(this.h,"big")};var Cl=Sn,UI=Ll,Fl=Is,qI=zo,Ga=Cl.sum32,jI=Cl.sum32_4,KI=Cl.sum32_5,JI=Fl.ch32,YI=Fl.maj32,XI=Fl.s0_256,ZI=Fl.s1_256,QI=Fl.g0_256,eP=Fl.g1_256,Yx=UI.BlockHash,tP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Es(){if(!(this instanceof Es))return new Es;Yx.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=tP,this.W=new Array(64)}Cl.inherits(Es,Yx);var Xx=Es;Es.blockSize=512;Es.outSize=256;Es.hmacStrength=192;Es.padLength=64;Es.prototype._update=function(e,t){for(var a=this.W,o=0;o<16;o++)a[o]=e[t+o];for(;o<a.length;o++)a[o]=jI(eP(a[o-2]),a[o-7],QI(a[o-15]),a[o-16]);var u=this.h[0],d=this.h[1],c=this.h[2],h=this.h[3],g=this.h[4],m=this.h[5],y=this.h[6],x=this.h[7];for(qI(this.k.length===a.length),o=0;o<a.length;o++){var E=KI(x,ZI(g),JI(g,m,y),this.k[o],a[o]),_=Ga(XI(u),YI(u,d,c));x=y,y=m,m=g,g=Ga(h,E),h=c,c=d,d=u,u=Ga(E,_)}this.h[0]=Ga(this.h[0],u),this.h[1]=Ga(this.h[1],d),this.h[2]=Ga(this.h[2],c),this.h[3]=Ga(this.h[3],h),this.h[4]=Ga(this.h[4],g),this.h[5]=Ga(this.h[5],m),this.h[6]=Ga(this.h[6],y),this.h[7]=Ga(this.h[7],x)};Es.prototype._digest=function(e){return e==="hex"?Cl.toHex32(this.h,"big"):Cl.split32(this.h,"big")};var S1=Sn,Zx=Xx;function Zs(){if(!(this instanceof Zs))return new Zs;Zx.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}S1.inherits(Zs,Zx);var nP=Zs;Zs.blockSize=512;Zs.outSize=224;Zs.hmacStrength=192;Zs.padLength=64;Zs.prototype._digest=function(e){return e==="hex"?S1.toHex32(this.h.slice(0,7),"big"):S1.split32(this.h.slice(0,7),"big")};var Ri=Sn,rP=Ll,iP=zo,bs=Ri.rotr64_hi,xs=Ri.rotr64_lo,Qx=Ri.shr64_hi,e3=Ri.shr64_lo,xo=Ri.sum64,Tg=Ri.sum64_hi,Rg=Ri.sum64_lo,aP=Ri.sum64_4_hi,sP=Ri.sum64_4_lo,oP=Ri.sum64_5_hi,uP=Ri.sum64_5_lo,t3=rP.BlockHash,lP=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ja(){if(!(this instanceof ja))return new ja;t3.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=lP,this.W=new Array(160)}Ri.inherits(ja,t3);var n3=ja;ja.blockSize=1024;ja.outSize=512;ja.hmacStrength=192;ja.padLength=128;ja.prototype._prepareBlock=function(e,t){for(var a=this.W,o=0;o<32;o++)a[o]=e[t+o];for(;o<a.length;o+=2){var u=xP(a[o-4],a[o-3]),d=wP(a[o-4],a[o-3]),c=a[o-14],h=a[o-13],g=vP(a[o-30],a[o-29]),m=bP(a[o-30],a[o-29]),y=a[o-32],x=a[o-31];a[o]=aP(u,d,c,h,g,m,y,x),a[o+1]=sP(u,d,c,h,g,m,y,x)}};ja.prototype._update=function(e,t){this._prepareBlock(e,t);var a=this.W,o=this.h[0],u=this.h[1],d=this.h[2],c=this.h[3],h=this.h[4],g=this.h[5],m=this.h[6],y=this.h[7],x=this.h[8],E=this.h[9],_=this.h[10],w=this.h[11],L=this.h[12],k=this.h[13],W=this.h[14],$=this.h[15];iP(this.k.length===a.length);for(var O=0;O<a.length;O+=2){var z=W,le=$,H=mP(x,E),Z=yP(x,E),Y=dP(x,E,_,w,L),ye=cP(x,E,_,w,L,k),F=this.k[O],b=this.k[O+1],I=a[O],B=a[O+1],V=oP(z,le,H,Z,Y,ye,F,b,I,B),ee=uP(z,le,H,Z,Y,ye,F,b,I,B);z=gP(o,u),le=pP(o,u),H=fP(o,u,d,c,h),Z=hP(o,u,d,c,h,g);var ce=Tg(z,le,H,Z),q=Rg(z,le,H,Z);W=L,$=k,L=_,k=w,_=x,w=E,x=Tg(m,y,V,ee),E=Rg(y,y,V,ee),m=h,y=g,h=d,g=c,d=o,c=u,o=Tg(V,ee,ce,q),u=Rg(V,ee,ce,q)}xo(this.h,0,o,u),xo(this.h,2,d,c),xo(this.h,4,h,g),xo(this.h,6,m,y),xo(this.h,8,x,E),xo(this.h,10,_,w),xo(this.h,12,L,k),xo(this.h,14,W,$)};ja.prototype._digest=function(e){return e==="hex"?Ri.toHex32(this.h,"big"):Ri.split32(this.h,"big")};function dP(n,e,t,a,o){var u=n&t^~n&o;return u<0&&(u+=4294967296),u}function cP(n,e,t,a,o,u){var d=e&a^~e&u;return d<0&&(d+=4294967296),d}function fP(n,e,t,a,o){var u=n&t^n&o^t&o;return u<0&&(u+=4294967296),u}function hP(n,e,t,a,o,u){var d=e&a^e&u^a&u;return d<0&&(d+=4294967296),d}function gP(n,e){var t=bs(n,e,28),a=bs(e,n,2),o=bs(e,n,7),u=t^a^o;return u<0&&(u+=4294967296),u}function pP(n,e){var t=xs(n,e,28),a=xs(e,n,2),o=xs(e,n,7),u=t^a^o;return u<0&&(u+=4294967296),u}function mP(n,e){var t=bs(n,e,14),a=bs(n,e,18),o=bs(e,n,9),u=t^a^o;return u<0&&(u+=4294967296),u}function yP(n,e){var t=xs(n,e,14),a=xs(n,e,18),o=xs(e,n,9),u=t^a^o;return u<0&&(u+=4294967296),u}function vP(n,e){var t=bs(n,e,1),a=bs(n,e,8),o=Qx(n,e,7),u=t^a^o;return u<0&&(u+=4294967296),u}function bP(n,e){var t=xs(n,e,1),a=xs(n,e,8),o=e3(n,e,7),u=t^a^o;return u<0&&(u+=4294967296),u}function xP(n,e){var t=bs(n,e,19),a=bs(e,n,29),o=Qx(n,e,6),u=t^a^o;return u<0&&(u+=4294967296),u}function wP(n,e){var t=xs(n,e,19),a=xs(e,n,29),o=e3(n,e,6),u=t^a^o;return u<0&&(u+=4294967296),u}var E1=Sn,r3=n3;function Qs(){if(!(this instanceof Qs))return new Qs;r3.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}E1.inherits(Qs,r3);var _P=Qs;Qs.blockSize=1024;Qs.outSize=384;Qs.hmacStrength=192;Qs.padLength=128;Qs.prototype._digest=function(e){return e==="hex"?E1.toHex32(this.h.slice(0,12),"big"):E1.split32(this.h.slice(0,12),"big")};kl.sha1=WI;kl.sha224=nP;kl.sha256=Xx;kl.sha384=_P;kl.sha512=n3;var i3={},Tu=Sn,SP=Ll,lf=Tu.rotl32,Fy=Tu.sum32,bd=Tu.sum32_3,By=Tu.sum32_4,a3=SP.BlockHash;function Cs(){if(!(this instanceof Cs))return new Cs;a3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Tu.inherits(Cs,a3);i3.ripemd160=Cs;Cs.blockSize=512;Cs.outSize=160;Cs.hmacStrength=192;Cs.padLength=64;Cs.prototype._update=function(e,t){for(var a=this.h[0],o=this.h[1],u=this.h[2],d=this.h[3],c=this.h[4],h=a,g=o,m=u,y=d,x=c,E=0;E<80;E++){var _=Fy(lf(By(a,Hy(E,o,u,d),e[MP[E]+t],EP(E)),PP[E]),c);a=c,c=d,d=lf(u,10),u=o,o=_,_=Fy(lf(By(h,Hy(79-E,g,m,y),e[IP[E]+t],CP(E)),NP[E]),x),h=x,x=y,y=lf(m,10),m=g,g=_}_=bd(this.h[1],u,y),this.h[1]=bd(this.h[2],d,x),this.h[2]=bd(this.h[3],c,h),this.h[3]=bd(this.h[4],a,g),this.h[4]=bd(this.h[0],o,m),this.h[0]=_};Cs.prototype._digest=function(e){return e==="hex"?Tu.toHex32(this.h,"little"):Tu.split32(this.h,"little")};function Hy(n,e,t,a){return n<=15?e^t^a:n<=31?e&t|~e&a:n<=47?(e|~t)^a:n<=63?e&a|t&~a:e^(t|~a)}function EP(n){return n<=15?0:n<=31?1518500249:n<=47?1859775393:n<=63?2400959708:2840853838}function CP(n){return n<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0}var MP=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],IP=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],PP=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],NP=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],AP=Sn,DP=zo;function Ml(n,e,t){if(!(this instanceof Ml))return new Ml(n,e,t);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(AP.toArray(e,t))}var $P=Ml;Ml.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),DP(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Ml.prototype.update=function(e,t){return this.inner.update(e,t),this};Ml.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(n){var e=n;e.utils=Sn,e.common=Ll,e.sha=kl,e.ripemd=i3,e.hmac=$P,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(d0);var Og,zy;function TP(){return zy||(zy=1,Og={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Og}(function(n){var e=n,t=d0,a=zp,o=na,u=o.assert;function d(g){g.type==="short"?this.curve=new a.short(g):g.type==="edwards"?this.curve=new a.edwards(g):this.curve=new a.mont(g),this.g=this.curve.g,this.n=this.curve.n,this.hash=g.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=d;function c(g,m){Object.defineProperty(e,g,{configurable:!0,enumerable:!0,get:function(){var y=new d(m);return Object.defineProperty(e,g,{configurable:!0,enumerable:!0,value:y}),y}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=TP()}catch{h=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})})(l0);var RP=d0,Mu=Hp,s3=zo;function Ro(n){if(!(this instanceof Ro))return new Ro(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Mu.toArray(n.entropy,n.entropyEnc||"hex"),t=Mu.toArray(n.nonce,n.nonceEnc||"hex"),a=Mu.toArray(n.pers,n.persEnc||"hex");s3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,a)}var OP=Ro;Ro.prototype._init=function(e,t,a){var o=e.concat(t).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var u=0;u<this.V.length;u++)this.K[u]=0,this.V[u]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Ro.prototype._hmac=function(){return new RP.hmac(this.hash,this.K)};Ro.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ro.prototype.reseed=function(e,t,a,o){typeof t!="string"&&(o=a,a=t,t=null),e=Mu.toArray(e,t),a=Mu.toArray(a,o),s3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(a||[])),this._reseed=1};Ro.prototype.generate=function(e,t,a,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=a,a=t,t=null),a&&(a=Mu.toArray(a,o||"hex"),this._update(a));for(var u=[];u.length<e;)this.V=this._hmac().update(this.V).digest(),u=u.concat(this.V);var d=u.slice(0,e);return this._update(a),this._reseed++,Mu.encode(d,t)};var LP=Xi,kP=na,C1=kP.assert;function ci(n,e){this.ec=n,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var FP=ci;ci.fromPublic=function(e,t,a){return t instanceof ci?t:new ci(e,{pub:t,pubEnc:a})};ci.fromPrivate=function(e,t,a){return t instanceof ci?t:new ci(e,{priv:t,privEnc:a})};ci.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ci.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};ci.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ci.prototype._importPrivate=function(e,t){this.priv=new LP(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};ci.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?C1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&C1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};ci.prototype.derive=function(e){return e.validate()||C1(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ci.prototype.sign=function(e,t,a){return this.ec.sign(e,this,t,a)};ci.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};ci.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var yh=Xi,Gp=na,BP=Gp.assert;function f0(n,e){if(n instanceof f0)return n;this._importDER(n,e)||(BP(n.r&&n.s,"Signature without r or s"),this.r=new yh(n.r,16),this.s=new yh(n.s,16),n.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=n.recoveryParam)}var HP=f0;function zP(){this.place=0}function Lg(n,e){var t=n[e.place++];if(!(t&128))return t;var a=t&15;if(a===0||a>4)return!1;for(var o=0,u=0,d=e.place;u<a;u++,d++)o<<=8,o|=n[d],o>>>=0;return o<=127?!1:(e.place=d,o)}function Vy(n){for(var e=0,t=n.length-1;!n[e]&&!(n[e+1]&128)&&e<t;)e++;return e===0?n:n.slice(e)}f0.prototype._importDER=function(e,t){e=Gp.toArray(e,t);var a=new zP;if(e[a.place++]!==48)return!1;var o=Lg(e,a);if(o===!1||o+a.place!==e.length||e[a.place++]!==2)return!1;var u=Lg(e,a);if(u===!1)return!1;var d=e.slice(a.place,u+a.place);if(a.place+=u,e[a.place++]!==2)return!1;var c=Lg(e,a);if(c===!1||e.length!==c+a.place)return!1;var h=e.slice(a.place,c+a.place);if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;if(h[0]===0)if(h[1]&128)h=h.slice(1);else return!1;return this.r=new yh(d),this.s=new yh(h),this.recoveryParam=null,!0};function kg(n,e){if(e<128){n.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(n.push(t|128);--t;)n.push(e>>>(t<<3)&255);n.push(e)}f0.prototype.toDER=function(e){var t=this.r.toArray(),a=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),a[0]&128&&(a=[0].concat(a)),t=Vy(t),a=Vy(a);!a[0]&&!(a[1]&128);)a=a.slice(1);var o=[2];kg(o,t.length),o=o.concat(t),o.push(2),kg(o,a.length);var u=o.concat(a),d=[48];return kg(d,u.length),d=d.concat(u),Gp.encode(d,e)};var Iu=Xi,o3=OP,VP=na,Fg=l0,GP=Zd,u3=VP.assert,Wp=FP,h0=HP;function Ca(n){if(!(this instanceof Ca))return new Ca(n);typeof n=="string"&&(u3(Object.prototype.hasOwnProperty.call(Fg,n),"Unknown curve "+n),n=Fg[n]),n instanceof Fg.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}var WP=Ca;Ca.prototype.keyPair=function(e){return new Wp(this,e)};Ca.prototype.keyFromPrivate=function(e,t){return Wp.fromPrivate(this,e,t)};Ca.prototype.keyFromPublic=function(e,t){return Wp.fromPublic(this,e,t)};Ca.prototype.genKeyPair=function(e){e||(e={});for(var t=new o3({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||GP(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),a=this.n.byteLength(),o=this.n.sub(new Iu(2));;){var u=new Iu(t.generate(a));if(!(u.cmp(o)>0))return u.iaddn(1),this.keyFromPrivate(u)}};Ca.prototype._truncateToN=function(e,t){var a=e.byteLength()*8-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Ca.prototype.sign=function(e,t,a,o){typeof a=="object"&&(o=a,a=null),o||(o={}),t=this.keyFromPrivate(t,a),e=this._truncateToN(new Iu(e,16));for(var u=this.n.byteLength(),d=t.getPrivate().toArray("be",u),c=e.toArray("be",u),h=new o3({hash:this.hash,entropy:d,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),g=this.n.sub(new Iu(1)),m=0;;m++){var y=o.k?o.k(m):new Iu(h.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(g)>=0)){var x=this.g.mul(y);if(!x.isInfinity()){var E=x.getX(),_=E.umod(this.n);if(_.cmpn(0)!==0){var w=y.invm(this.n).mul(_.mul(t.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var L=(x.getY().isOdd()?1:0)|(E.cmp(_)!==0?2:0);return o.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),L^=1),new h0({r:_,s:w,recoveryParam:L})}}}}}};Ca.prototype.verify=function(e,t,a,o){e=this._truncateToN(new Iu(e,16)),a=this.keyFromPublic(a,o),t=new h0(t,"hex");var u=t.r,d=t.s;if(u.cmpn(1)<0||u.cmp(this.n)>=0||d.cmpn(1)<0||d.cmp(this.n)>=0)return!1;var c=d.invm(this.n),h=c.mul(e).umod(this.n),g=c.mul(u).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(h,a.getPublic(),g),m.isInfinity()?!1:m.eqXToP(u)):(m=this.g.mulAdd(h,a.getPublic(),g),m.isInfinity()?!1:m.getX().umod(this.n).cmp(u)===0)};Ca.prototype.recoverPubKey=function(n,e,t,a){u3((3&t)===t,"The recovery param is more than two bits"),e=new h0(e,a);var o=this.n,u=new Iu(n),d=e.r,c=e.s,h=t&1,g=t>>1;if(d.cmp(this.curve.p.umod(this.curve.n))>=0&&g)throw new Error("Unable to find sencond key candinate");g?d=this.curve.pointFromX(d.add(this.curve.n),h):d=this.curve.pointFromX(d,h);var m=e.r.invm(o),y=o.sub(u).mul(m).umod(o),x=c.mul(m).umod(o);return this.g.mulAdd(y,d,x)};Ca.prototype.getKeyRecoveryParam=function(n,e,t,a){if(e=new h0(e,a),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var u;try{u=this.recoverPubKey(n,e,o)}catch{continue}if(u.eq(t))return o}throw new Error("Unable to find valid recovery factor")};var dc=na,l3=dc.assert,Gy=dc.parseBytes,Bl=dc.cachedProperty;function Kr(n,e){this.eddsa=n,this._secret=Gy(e.secret),n.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Gy(e.pub)}Kr.fromPublic=function(e,t){return t instanceof Kr?t:new Kr(e,{pub:t})};Kr.fromSecret=function(e,t){return t instanceof Kr?t:new Kr(e,{secret:t})};Kr.prototype.secret=function(){return this._secret};Bl(Kr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Bl(Kr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Bl(Kr,"privBytes",function(){var e=this.eddsa,t=this.hash(),a=e.encodingLength-1,o=t.slice(0,e.encodingLength);return o[0]&=248,o[a]&=127,o[a]|=64,o});Bl(Kr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Bl(Kr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Bl(Kr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Kr.prototype.sign=function(e){return l3(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Kr.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};Kr.prototype.getSecret=function(e){return l3(this._secret,"KeyPair is public only"),dc.encode(this.secret(),e)};Kr.prototype.getPublic=function(e){return dc.encode(this.pubBytes(),e)};var UP=Kr,qP=Xi,g0=na,jP=g0.assert,p0=g0.cachedProperty,KP=g0.parseBytes;function Fu(n,e){this.eddsa=n,typeof e!="object"&&(e=KP(e)),Array.isArray(e)&&(e={R:e.slice(0,n.encodingLength),S:e.slice(n.encodingLength)}),jP(e.R&&e.S,"Signature without R or S"),n.isPoint(e.R)&&(this._R=e.R),e.S instanceof qP&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}p0(Fu,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});p0(Fu,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});p0(Fu,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});p0(Fu,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Fu.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Fu.prototype.toHex=function(){return g0.encode(this.toBytes(),"hex").toUpperCase()};var JP=Fu,YP=d0,XP=l0,Il=na,ZP=Il.assert,d3=Il.parseBytes,c3=UP,Wy=JP;function Oi(n){if(ZP(n==="ed25519","only tested with ed25519 so far"),!(this instanceof Oi))return new Oi(n);n=XP[n].curve,this.curve=n,this.g=n.g,this.g.precompute(n.n.bitLength()+1),this.pointClass=n.point().constructor,this.encodingLength=Math.ceil(n.n.bitLength()/8),this.hash=YP.sha512}var QP=Oi;Oi.prototype.sign=function(e,t){e=d3(e);var a=this.keyFromSecret(t),o=this.hashInt(a.messagePrefix(),e),u=this.g.mul(o),d=this.encodePoint(u),c=this.hashInt(d,a.pubBytes(),e).mul(a.priv()),h=o.add(c).umod(this.curve.n);return this.makeSignature({R:u,S:h,Rencoded:d})};Oi.prototype.verify=function(e,t,a){e=d3(e),t=this.makeSignature(t);var o=this.keyFromPublic(a),u=this.hashInt(t.Rencoded(),o.pubBytes(),e),d=this.g.mul(t.S()),c=t.R().add(o.pub().mul(u));return c.eq(d)};Oi.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Il.intFromLE(e.digest()).umod(this.curve.n)};Oi.prototype.keyFromPublic=function(e){return c3.fromPublic(this,e)};Oi.prototype.keyFromSecret=function(e){return c3.fromSecret(this,e)};Oi.prototype.makeSignature=function(e){return e instanceof Wy?e:new Wy(this,e)};Oi.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};Oi.prototype.decodePoint=function(e){e=Il.parseBytes(e);var t=e.length-1,a=e.slice(0,t).concat(e[t]&-129),o=(e[t]&128)!==0,u=Il.intFromLE(a);return this.curve.pointFromY(u,o)};Oi.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Oi.prototype.decodeInt=function(e){return Il.intFromLE(e)};Oi.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(n){var e=n;e.version=YM.version,e.utils=na,e.rand=Zd,e.curve=zp,e.curves=l0,e.ec=WP,e.eddsa=QP})(Hx);var eN=Ho.bignum,tN=Xd.Buffer,f3=function(e,t){var a=tN.from(e,"base64"),o=e=new eN(a,10,"be").iabs();return t&&a.fill(0),o},h3=Ho.define("AlgorithmIdentifer",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),nN=h3,g3=Ho.define("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nN),this.key("PublicKey").bitstr())}),Up=Ho.define("Version",function(){this.int()}),rN=h3,iN=Up,p3=Ho.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(iN),this.key("privateKeyAlgorithm").use(rN),this.key("privateKey").octstr(),this.key("attributes").optional().any())}),m3=Ho,Uy=Xd.Buffer,aN=Hx.ec,Bg=f3,sN=g3,oN=p3,uN=Up,lN=m3.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),dN=1,cN=m3.define("ECPrivateKey",function(){this.seq().obj(this.key("version").use(uN),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}),fN={"P-256":"p256","P-384":"p384","P-521":"p521"},M1={"P-256":[1,2,840,10045,3,1,7],"P-384":[1,3,132,0,34],"P-521":[1,3,132,0,35]},I1={},P1={};Object.keys(M1).forEach(function(n){I1[n]=lN.encode({type:"namedCurve",value:M1[n]},"der"),P1[n]={algorithm:[1,2,840,10045,2,1],parameters:I1[n]}});M1=null;function hN(n,e){if(typeof n.crv!="string")throw new TypeError('Expected "jwk.crv" to be a String');var t=typeof n.d=="string",a=t?["undefined","string"]:["string"];if(a.indexOf(typeof n.x)===-1)throw new TypeError('Expected "jwk.x" to be a String');if(a.indexOf(typeof n.y)===-1)throw new TypeError('Expected "jwk.y" to be a String');if(e.private&&!t)throw new TypeError('Expected "jwk.d" to be a String');var o=fN[n.crv];if(!o)throw new Error('Unsupported curve "'+n.crv+'"');var u=new aN(o),d={},c=n.x&&n.y;c&&(d.pub={x:Bg(n.x,!1),y:Bg(n.y,!1)}),(e.private||!c)&&(d.priv=Bg(n.d,!0)),d=u.keyPair(d);var h=d.validate();if(!h.result)throw new Error('Invalid key for curve: "'+h.reason+'"');var g=gN(n.crv,d,e);return g}function gN(n,e,t){var a=!1,o=e.getPublic(a,"hex");o=Uy.from(o,"hex"),o={unused:0,data:o};var u;if(t.private){var d=e.getPrivate("hex");d=Uy.from(d,"hex"),u=oN.encode({version:0,privateKeyAlgorithm:P1[n],privateKey:cN.encode({version:dN,privateKey:d,parameters:I1[n],publicKey:o},"der")},"pem",{label:"PRIVATE KEY"}),d.fill(0)}else u=sN.encode({algorithm:P1[n],PublicKey:o},"pem",{label:"PUBLIC KEY"});return u.slice(-1)!==`
`&&(u+=`
`),u}var pN=hN,y3=Ho,ls=f3,mN=g3,yN=p3,vN=Up,bN=y3.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(vN),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}),xN=y3.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}),qy={algorithm:[1,2,840,113549,1,1,1],parameters:[5,0]};function wN(n,e){if(typeof n.e!="string")throw new TypeError('Expected "jwk.e" to be a String');if(typeof n.n!="string")throw new TypeError('Expected "jwk.n" to be a String');if(e.private){if(typeof n.d!="string")throw new TypeError('Expected "jwk.d" to be a String');if(typeof n.p!="string")throw new TypeError('Expected "jwk.p" to be a String');if(typeof n.q!="string")throw new TypeError('Expected "jwk.q" to be a String');if(typeof n.dp!="string")throw new TypeError('Expected "jwk.dp" to be a String');if(typeof n.dq!="string")throw new TypeError('Expected "jwk.dq" to be a String');if(typeof n.qi!="string")throw new TypeError('Expected "jwk.qi" to be a String')}var t;return e.private?t=yN.encode({version:0,privateKeyAlgorithm:qy,privateKey:bN.encode({version:0,modulus:ls(n.n,!1),publicExponent:ls(n.e,!1),privateExponent:ls(n.d,!0),prime1:ls(n.p,!0),prime2:ls(n.q,!0),exponent1:ls(n.dp,!0),exponent2:ls(n.dq,!0),coefficient:ls(n.qi,!0)},"der")},"pem",{label:"PRIVATE KEY"}):t=mN.encode({algorithm:qy,PublicKey:{unused:0,data:xN.encode({modulus:ls(n.n,!1),publicExponent:ls(n.e,!1)},"der")}},"pem",{label:"PUBLIC KEY"}),t.slice(-1)!==`
`&&(t+=`
`),t}var _N=wN,SN=pN,EN=_N;function CN(n,e){if(typeof n!="object"||n===null)throw new TypeError('Expected "jwk" to be an Object');var t=n.kty;if(typeof t!="string")throw new TypeError('Expected "jwk.kty" to be a String');switch(e=e||{},e.private=e.private===!0,t){case"EC":return SN(n,e);case"RSA":return EN(n,e);default:throw new Error('Unsupported key type "'+t+'"')}}var MN=CN;function v3(n,e){return function(){return n.apply(e,arguments)}}const{toString:b3}=Object.prototype,{getPrototypeOf:qp}=Object,jp=(n=>e=>{const t=b3.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),to=n=>(n=n.toLowerCase(),e=>jp(e)===n),m0=n=>e=>typeof e===n,{isArray:Hl}=Array,Qd=m0("undefined");function IN(n){return n!==null&&!Qd(n)&&n.constructor!==null&&!Qd(n.constructor)&&Ru(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const x3=to("ArrayBuffer");function PN(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&x3(n.buffer),e}const NN=m0("string"),Ru=m0("function"),w3=m0("number"),Kp=n=>n!==null&&typeof n=="object",AN=n=>n===!0||n===!1,Df=n=>{if(jp(n)!=="object")return!1;const e=qp(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},DN=to("Date"),$N=to("File"),TN=to("Blob"),RN=to("FileList"),ON=n=>Kp(n)&&Ru(n.pipe),LN=n=>{const e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||b3.call(n)===e||Ru(n.toString)&&n.toString()===e)},kN=to("URLSearchParams"),FN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let a,o;if(typeof n!="object"&&(n=[n]),Hl(n))for(a=0,o=n.length;a<o;a++)e.call(null,n[a],a,n);else{const u=t?Object.getOwnPropertyNames(n):Object.keys(n),d=u.length;let c;for(a=0;a<d;a++)c=u[a],e.call(null,n[c],c,n)}}function _3(n,e){e=e.toLowerCase();const t=Object.keys(n);let a=t.length,o;for(;a-- >0;)if(o=t[a],e===o.toLowerCase())return o;return null}const S3=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:wr)(),E3=n=>!Qd(n)&&n!==S3;function N1(){const{caseless:n}=E3(this)&&this||{},e={},t=(a,o)=>{const u=n&&_3(e,o)||o;Df(e[u])&&Df(a)?e[u]=N1(e[u],a):Df(a)?e[u]=N1({},a):Hl(a)?e[u]=a.slice():e[u]=a};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&cc(arguments[a],t);return e}const BN=(n,e,t,{allOwnKeys:a}={})=>(cc(e,(o,u)=>{t&&Ru(o)?n[u]=v3(o,t):n[u]=o},{allOwnKeys:a}),n),HN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),zN=(n,e,t,a)=>{n.prototype=Object.create(e.prototype,a),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},VN=(n,e,t,a)=>{let o,u,d;const c={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),u=o.length;u-- >0;)d=o[u],(!a||a(d,n,e))&&!c[d]&&(e[d]=n[d],c[d]=!0);n=t!==!1&&qp(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},GN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const a=n.indexOf(e,t);return a!==-1&&a===t},WN=n=>{if(!n)return null;if(Hl(n))return n;let e=n.length;if(!w3(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},UN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&qp(Uint8Array)),qN=(n,e)=>{const a=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=a.next())&&!o.done;){const u=o.value;e.call(n,u[0],u[1])}},jN=(n,e)=>{let t;const a=[];for(;(t=n.exec(e))!==null;)a.push(t);return a},KN=to("HTMLFormElement"),JN=n=>n.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(t,a,o){return a.toUpperCase()+o}),jy=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),YN=to("RegExp"),C3=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),a={};cc(t,(o,u)=>{e(o,u,n)!==!1&&(a[u]=o)}),Object.defineProperties(n,a)},XN=n=>{C3(n,(e,t)=>{if(Ru(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=n[t];if(Ru(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ZN=(n,e)=>{const t={},a=o=>{o.forEach(u=>{t[u]=!0})};return Hl(n)?a(n):a(String(n).split(e)),t},QN=()=>{},eA=(n,e)=>(n=+n,Number.isFinite(n)?n:e),tA=n=>{const e=new Array(10),t=(a,o)=>{if(Kp(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[o]=a;const u=Hl(a)?[]:{};return cc(a,(d,c)=>{const h=t(d,o+1);!Qd(h)&&(u[c]=h)}),e[o]=void 0,u}}return a};return t(n,0)};var ke={isArray:Hl,isArrayBuffer:x3,isBuffer:IN,isFormData:LN,isArrayBufferView:PN,isString:NN,isNumber:w3,isBoolean:AN,isObject:Kp,isPlainObject:Df,isUndefined:Qd,isDate:DN,isFile:$N,isBlob:TN,isRegExp:YN,isFunction:Ru,isStream:ON,isURLSearchParams:kN,isTypedArray:UN,isFileList:RN,forEach:cc,merge:N1,extend:BN,trim:FN,stripBOM:HN,inherits:zN,toFlatObject:VN,kindOf:jp,kindOfTest:to,endsWith:GN,toArray:WN,forEachEntry:qN,matchAll:jN,isHTMLForm:KN,hasOwnProperty:jy,hasOwnProp:jy,reduceDescriptors:C3,freezeMethods:XN,toObjectSet:ZN,toCamelCase:JN,noop:QN,toFiniteNumber:eA,findKey:_3,global:S3,isContextDefined:E3,toJSONObject:tA};function Dn(n,e,t,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),a&&(this.request=a),o&&(this.response=o)}ke.inherits(Dn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const M3=Dn.prototype,I3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{I3[n]={value:n}});Object.defineProperties(Dn,I3);Object.defineProperty(M3,"isAxiosError",{value:!0});Dn.from=(n,e,t,a,o,u)=>{const d=Object.create(M3);return ke.toFlatObject(n,d,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),Dn.call(d,n.message,e,t,a,o),d.cause=n,d.name=n.name,u&&Object.assign(d,u),d};var nA=typeof self=="object"?self.FormData:window.FormData,rA=nA;function A1(n){return ke.isPlainObject(n)||ke.isArray(n)}function P3(n){return ke.endsWith(n,"[]")?n.slice(0,-2):n}function Ky(n,e,t){return n?n.concat(e).map(function(o,u){return o=P3(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function iA(n){return ke.isArray(n)&&!n.some(A1)}const aA=ke.toFlatObject(ke,{},null,function(e){return/^is[A-Z]/.test(e)});function sA(n){return n&&ke.isFunction(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator]}function y0(n,e,t){if(!ke.isObject(n))throw new TypeError("target must be an object");e=e||new(rA||FormData),t=ke.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,L){return!ke.isUndefined(L[w])});const a=t.metaTokens,o=t.visitor||m,u=t.dots,d=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&sA(e);if(!ke.isFunction(o))throw new TypeError("visitor must be a function");function g(_){if(_===null)return"";if(ke.isDate(_))return _.toISOString();if(!h&&ke.isBlob(_))throw new Dn("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(_)||ke.isTypedArray(_)?h&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,w,L){let k=_;if(_&&!L&&typeof _=="object"){if(ke.endsWith(w,"{}"))w=a?w:w.slice(0,-2),_=JSON.stringify(_);else if(ke.isArray(_)&&iA(_)||ke.isFileList(_)||ke.endsWith(w,"[]")&&(k=ke.toArray(_)))return w=P3(w),k.forEach(function($,O){!(ke.isUndefined($)||$===null)&&e.append(d===!0?Ky([w],O,u):d===null?w:w+"[]",g($))}),!1}return A1(_)?!0:(e.append(Ky(L,w,u),g(_)),!1)}const y=[],x=Object.assign(aA,{defaultVisitor:m,convertValue:g,isVisitable:A1});function E(_,w){if(!ke.isUndefined(_)){if(y.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));y.push(_),ke.forEach(_,function(k,W){(!(ke.isUndefined(k)||k===null)&&o.call(e,k,ke.isString(W)?W.trim():W,w,x))===!0&&E(k,w?w.concat(W):[W])}),y.pop()}}if(!ke.isObject(n))throw new TypeError("data must be an object");return E(n),e}function Jy(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function Jp(n,e){this._pairs=[],n&&y0(n,this,e)}const N3=Jp.prototype;N3.append=function(e,t){this._pairs.push([e,t])};N3.toString=function(e){const t=e?function(a){return e.call(this,a,Jy)}:Jy;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function oA(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function A3(n,e,t){if(!e)return n;const a=t&&t.encode||oA,o=t&&t.serialize;let u;if(o?u=o(e,t):u=ke.isURLSearchParams(e)?e.toString():new Jp(e,t).toString(a),u){const d=n.indexOf("#");d!==-1&&(n=n.slice(0,d)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class uA{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ke.forEach(this.handlers,function(a){a!==null&&e(a)})}}var Yy=uA,D3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lA=typeof URLSearchParams<"u"?URLSearchParams:Jp,dA=FormData;const cA=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),fA=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var ms={isBrowser:!0,classes:{URLSearchParams:lA,FormData:dA,Blob},isStandardBrowserEnv:cA,isStandardBrowserWebWorkerEnv:fA,protocols:["http","https","file","blob","url","data"]};function hA(n,e){return y0(n,new ms.classes.URLSearchParams,Object.assign({visitor:function(t,a,o,u){return ms.isNode&&ke.isBuffer(t)?(this.append(a,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function gA(n){return ke.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pA(n){const e={},t=Object.keys(n);let a;const o=t.length;let u;for(a=0;a<o;a++)u=t[a],e[u]=n[u];return e}function $3(n){function e(t,a,o,u){let d=t[u++];const c=Number.isFinite(+d),h=u>=t.length;return d=!d&&ke.isArray(o)?o.length:d,h?(ke.hasOwnProp(o,d)?o[d]=[o[d],a]:o[d]=a,!c):((!o[d]||!ke.isObject(o[d]))&&(o[d]=[]),e(t,a,o[d],u)&&ke.isArray(o[d])&&(o[d]=pA(o[d])),!c)}if(ke.isFormData(n)&&ke.isFunction(n.entries)){const t={};return ke.forEachEntry(n,(a,o)=>{e(gA(a),o,t,0)}),t}return null}const mA={"Content-Type":void 0};function yA(n,e,t){if(ke.isString(n))try{return(e||JSON.parse)(n),ke.trim(n)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(n)}const v0={transitional:D3,adapter:["xhr","http"],transformRequest:[function(e,t){const a=t.getContentType()||"",o=a.indexOf("application/json")>-1,u=ke.isObject(e);if(u&&ke.isHTMLForm(e)&&(e=new FormData(e)),ke.isFormData(e))return o&&o?JSON.stringify($3(e)):e;if(ke.isArrayBuffer(e)||ke.isBuffer(e)||ke.isStream(e)||ke.isFile(e)||ke.isBlob(e))return e;if(ke.isArrayBufferView(e))return e.buffer;if(ke.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(u){if(a.indexOf("application/x-www-form-urlencoded")>-1)return hA(e,this.formSerializer).toString();if((c=ke.isFileList(e))||a.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return y0(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),yA(e)):e}],transformResponse:[function(e){const t=this.transitional||v0.transitional,a=t&&t.forcedJSONParsing,o=this.responseType==="json";if(e&&ke.isString(e)&&(a&&!this.responseType||o)){const d=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(c){if(d)throw c.name==="SyntaxError"?Dn.from(c,Dn.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ms.classes.FormData,Blob:ms.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ke.forEach(["delete","get","head"],function(e){v0.headers[e]={}});ke.forEach(["post","put","patch"],function(e){v0.headers[e]=ke.merge(mA)});var Yp=v0;const vA=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var bA=n=>{const e={};let t,a,o;return n&&n.split(`
`).forEach(function(d){o=d.indexOf(":"),t=d.substring(0,o).trim().toLowerCase(),a=d.substring(o+1).trim(),!(!t||e[t]&&vA[t])&&(t==="set-cookie"?e[t]?e[t].push(a):e[t]=[a]:e[t]=e[t]?e[t]+", "+a:a)}),e};const Xy=Symbol("internals");function xd(n){return n&&String(n).trim().toLowerCase()}function $f(n){return n===!1||n==null?n:ke.isArray(n)?n.map($f):String(n)}function xA(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(n);)e[a[1]]=a[2];return e}function wA(n){return/^[-_a-zA-Z]+$/.test(n.trim())}function Zy(n,e,t,a){if(ke.isFunction(a))return a.call(this,e,t);if(ke.isString(e)){if(ke.isString(a))return e.indexOf(a)!==-1;if(ke.isRegExp(a))return a.test(e)}}function _A(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}function SA(n,e){const t=ke.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(n,a+t,{value:function(o,u,d){return this[a].call(this,e,o,u,d)},configurable:!0})})}class b0{constructor(e){e&&this.set(e)}set(e,t,a){const o=this;function u(c,h,g){const m=xd(h);if(!m)throw new Error("header name must be a non-empty string");const y=ke.findKey(o,m);(!y||o[y]===void 0||g===!0||g===void 0&&o[y]!==!1)&&(o[y||h]=$f(c))}const d=(c,h)=>ke.forEach(c,(g,m)=>u(g,m,h));return ke.isPlainObject(e)||e instanceof this.constructor?d(e,t):ke.isString(e)&&(e=e.trim())&&!wA(e)?d(bA(e),t):e!=null&&u(t,e,a),this}get(e,t){if(e=xd(e),e){const a=ke.findKey(this,e);if(a){const o=this[a];if(!t)return o;if(t===!0)return xA(o);if(ke.isFunction(t))return t.call(this,o,a);if(ke.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xd(e),e){const a=ke.findKey(this,e);return!!(a&&(!t||Zy(this,this[a],a,t)))}return!1}delete(e,t){const a=this;let o=!1;function u(d){if(d=xd(d),d){const c=ke.findKey(a,d);c&&(!t||Zy(a,a[c],c,t))&&(delete a[c],o=!0)}}return ke.isArray(e)?e.forEach(u):u(e),o}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const t=this,a={};return ke.forEach(this,(o,u)=>{const d=ke.findKey(a,u);if(d){t[d]=$f(o),delete t[u];return}const c=e?_A(u):String(u).trim();c!==u&&delete t[u],t[c]=$f(o),a[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ke.forEach(this,(a,o)=>{a!=null&&a!==!1&&(t[o]=e&&ke.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach(o=>a.set(o)),a}static accessor(e){const a=(this[Xy]=this[Xy]={accessors:{}}).accessors,o=this.prototype;function u(d){const c=xd(d);a[c]||(SA(o,d),a[c]=!0)}return ke.isArray(e)?e.forEach(u):u(e),this}}b0.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);ke.freezeMethods(b0.prototype);ke.freezeMethods(b0);var Ys=b0;function Hg(n,e){const t=this||Yp,a=e||t,o=Ys.from(a.headers);let u=a.data;return ke.forEach(n,function(c){u=c.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function T3(n){return!!(n&&n.__CANCEL__)}function fc(n,e,t){Dn.call(this,n??"canceled",Dn.ERR_CANCELED,e,t),this.name="CanceledError"}ke.inherits(fc,Dn,{__CANCEL__:!0});var EA=null;function CA(n,e,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?n(t):e(new Dn("Request failed with status code "+t.status,[Dn.ERR_BAD_REQUEST,Dn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}var MA=ms.isStandardBrowserEnv?function(){return{write:function(t,a,o,u,d,c){const h=[];h.push(t+"="+encodeURIComponent(a)),ke.isNumber(o)&&h.push("expires="+new Date(o).toGMTString()),ke.isString(u)&&h.push("path="+u),ke.isString(d)&&h.push("domain="+d),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(t){const a=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function IA(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function PA(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function R3(n,e){return n&&!IA(e)?PA(n,e):e}var NA=ms.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let a;function o(u){let d=u;return e&&(t.setAttribute("href",d),d=t.href),t.setAttribute("href",d),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return a=o(window.location.href),function(d){const c=ke.isString(d)?o(d):d;return c.protocol===a.protocol&&c.host===a.host}}():function(){return function(){return!0}}();function AA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function DA(n,e){n=n||10;const t=new Array(n),a=new Array(n);let o=0,u=0,d;return e=e!==void 0?e:1e3,function(h){const g=Date.now(),m=a[u];d||(d=g),t[o]=h,a[o]=g;let y=u,x=0;for(;y!==o;)x+=t[y++],y=y%n;if(o=(o+1)%n,o===u&&(u=(u+1)%n),g-d<e)return;const E=m&&g-m;return E?Math.round(x*1e3/E):void 0}}function Qy(n,e){let t=0;const a=DA(50,250);return o=>{const u=o.loaded,d=o.lengthComputable?o.total:void 0,c=u-t,h=a(c),g=u<=d;t=u;const m={loaded:u,total:d,progress:d?u/d:void 0,bytes:c,rate:h||void 0,estimated:h&&d&&g?(d-u)/h:void 0,event:o};m[e?"download":"upload"]=!0,n(m)}}const $A=typeof XMLHttpRequest<"u";var TA=$A&&function(n){return new Promise(function(t,a){let o=n.data;const u=Ys.from(n.headers).normalize(),d=n.responseType;let c;function h(){n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}ke.isFormData(o)&&(ms.isStandardBrowserEnv||ms.isStandardBrowserWebWorkerEnv)&&u.setContentType(!1);let g=new XMLHttpRequest;if(n.auth){const E=n.auth.username||"",_=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";u.set("Authorization","Basic "+btoa(E+":"+_))}const m=R3(n.baseURL,n.url);g.open(n.method.toUpperCase(),A3(m,n.params,n.paramsSerializer),!0),g.timeout=n.timeout;function y(){if(!g)return;const E=Ys.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),w={data:!d||d==="text"||d==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:E,config:n,request:g};CA(function(k){t(k),h()},function(k){a(k),h()},w),g=null}if("onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(a(new Dn("Request aborted",Dn.ECONNABORTED,n,g)),g=null)},g.onerror=function(){a(new Dn("Network Error",Dn.ERR_NETWORK,n,g)),g=null},g.ontimeout=function(){let _=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const w=n.transitional||D3;n.timeoutErrorMessage&&(_=n.timeoutErrorMessage),a(new Dn(_,w.clarifyTimeoutError?Dn.ETIMEDOUT:Dn.ECONNABORTED,n,g)),g=null},ms.isStandardBrowserEnv){const E=(n.withCredentials||NA(m))&&n.xsrfCookieName&&MA.read(n.xsrfCookieName);E&&u.set(n.xsrfHeaderName,E)}o===void 0&&u.setContentType(null),"setRequestHeader"in g&&ke.forEach(u.toJSON(),function(_,w){g.setRequestHeader(w,_)}),ke.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),d&&d!=="json"&&(g.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&g.addEventListener("progress",Qy(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",Qy(n.onUploadProgress)),(n.cancelToken||n.signal)&&(c=E=>{g&&(a(!E||E.type?new fc(null,n,g):E),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const x=AA(m);if(x&&ms.protocols.indexOf(x)===-1){a(new Dn("Unsupported protocol "+x+":",Dn.ERR_BAD_REQUEST,n));return}g.send(o||null)})};const Tf={http:EA,xhr:TA};ke.forEach(Tf,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});var RA={getAdapter:n=>{n=ke.isArray(n)?n:[n];const{length:e}=n;let t,a;for(let o=0;o<e&&(t=n[o],!(a=ke.isString(t)?Tf[t.toLowerCase()]:t));o++);if(!a)throw a===!1?new Dn(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ke.hasOwnProp(Tf,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!ke.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:Tf};function zg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new fc(null,n)}function ev(n){return zg(n),n.headers=Ys.from(n.headers),n.data=Hg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),RA.getAdapter(n.adapter||Yp.adapter)(n).then(function(a){return zg(n),a.data=Hg.call(n,n.transformResponse,a),a.headers=Ys.from(a.headers),a},function(a){return T3(a)||(zg(n),a&&a.response&&(a.response.data=Hg.call(n,n.transformResponse,a.response),a.response.headers=Ys.from(a.response.headers))),Promise.reject(a)})}const tv=n=>n instanceof Ys?n.toJSON():n;function Pl(n,e){e=e||{};const t={};function a(g,m,y){return ke.isPlainObject(g)&&ke.isPlainObject(m)?ke.merge.call({caseless:y},g,m):ke.isPlainObject(m)?ke.merge({},m):ke.isArray(m)?m.slice():m}function o(g,m,y){if(ke.isUndefined(m)){if(!ke.isUndefined(g))return a(void 0,g,y)}else return a(g,m,y)}function u(g,m){if(!ke.isUndefined(m))return a(void 0,m)}function d(g,m){if(ke.isUndefined(m)){if(!ke.isUndefined(g))return a(void 0,g)}else return a(void 0,m)}function c(g,m,y){if(y in e)return a(g,m);if(y in n)return a(void 0,g)}const h={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:c,headers:(g,m)=>o(tv(g),tv(m),!0)};return ke.forEach(Object.keys(n).concat(Object.keys(e)),function(m){const y=h[m]||o,x=y(n[m],e[m],m);ke.isUndefined(x)&&y!==c||(t[m]=x)}),t}const O3="1.2.3",Xp={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Xp[n]=function(a){return typeof a===n||"a"+(e<1?"n ":" ")+n}});const nv={};Xp.transitional=function(e,t,a){function o(u,d){return"[Axios v"+O3+"] Transitional option '"+u+"'"+d+(a?". "+a:"")}return(u,d,c)=>{if(e===!1)throw new Dn(o(d," has been removed"+(t?" in "+t:"")),Dn.ERR_DEPRECATED);return t&&!nv[d]&&(nv[d]=!0,console.warn(o(d," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,d,c):!0}};function OA(n,e,t){if(typeof n!="object")throw new Dn("options must be an object",Dn.ERR_BAD_OPTION_VALUE);const a=Object.keys(n);let o=a.length;for(;o-- >0;){const u=a[o],d=e[u];if(d){const c=n[u],h=c===void 0||d(c,u,n);if(h!==!0)throw new Dn("option "+u+" must be "+h,Dn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Dn("Unknown option "+u,Dn.ERR_BAD_OPTION)}}var D1={assertOptions:OA,validators:Xp};const wo=D1.validators;class vh{constructor(e){this.defaults=e,this.interceptors={request:new Yy,response:new Yy}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Pl(this.defaults,t);const{transitional:a,paramsSerializer:o,headers:u}=t;a!==void 0&&D1.assertOptions(a,{silentJSONParsing:wo.transitional(wo.boolean),forcedJSONParsing:wo.transitional(wo.boolean),clarifyTimeoutError:wo.transitional(wo.boolean)},!1),o!==void 0&&D1.assertOptions(o,{encode:wo.function,serialize:wo.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let d;d=u&&ke.merge(u.common,u[t.method]),d&&ke.forEach(["delete","get","head","post","put","patch","common"],_=>{delete u[_]}),t.headers=Ys.concat(d,u);const c=[];let h=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(h=h&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const g=[];this.interceptors.response.forEach(function(w){g.push(w.fulfilled,w.rejected)});let m,y=0,x;if(!h){const _=[ev.bind(this),void 0];for(_.unshift.apply(_,c),_.push.apply(_,g),x=_.length,m=Promise.resolve(t);y<x;)m=m.then(_[y++],_[y++]);return m}x=c.length;let E=t;for(y=0;y<x;){const _=c[y++],w=c[y++];try{E=_(E)}catch(L){w.call(this,L);break}}try{m=ev.call(this,E)}catch(_){return Promise.reject(_)}for(y=0,x=g.length;y<x;)m=m.then(g[y++],g[y++]);return m}getUri(e){e=Pl(this.defaults,e);const t=R3(e.baseURL,e.url);return A3(t,e.params,e.paramsSerializer)}}ke.forEach(["delete","get","head","options"],function(e){vh.prototype[e]=function(t,a){return this.request(Pl(a||{},{method:e,url:t,data:(a||{}).data}))}});ke.forEach(["post","put","patch"],function(e){function t(a){return function(u,d,c){return this.request(Pl(c||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}vh.prototype[e]=t(),vh.prototype[e+"Form"]=t(!0)});var Rf=vh;class Zp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const a=this;this.promise.then(o=>{if(!a._listeners)return;let u=a._listeners.length;for(;u-- >0;)a._listeners[u](o);a._listeners=null}),this.promise.then=o=>{let u;const d=new Promise(c=>{a.subscribe(c),u=c}).then(o);return d.cancel=function(){a.unsubscribe(u)},d},e(function(u,d,c){a.reason||(a.reason=new fc(u,d,c),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Zp(function(o){e=o}),cancel:e}}}var LA=Zp;function kA(n){return function(t){return n.apply(null,t)}}function FA(n){return ke.isObject(n)&&n.isAxiosError===!0}const $1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($1).forEach(([n,e])=>{$1[e]=n});var BA=$1;function L3(n){const e=new Rf(n),t=v3(Rf.prototype.request,e);return ke.extend(t,Rf.prototype,e,{allOwnKeys:!0}),ke.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return L3(Pl(n,o))},t}const Br=L3(Yp);Br.Axios=Rf;Br.CanceledError=fc;Br.CancelToken=LA;Br.isCancel=T3;Br.VERSION=O3;Br.toFormData=y0;Br.AxiosError=Dn;Br.Cancel=Br.CanceledError;Br.all=function(e){return Promise.all(e)};Br.spread=kA;Br.isAxiosError=FA;Br.mergeConfig=Pl;Br.AxiosHeaders=Ys;Br.formToJSON=n=>$3(ke.isHTMLForm(n)?new FormData(n):n);Br.HttpStatusCode=BA;Br.default=Br;var HA=Br;const pn=crypto,Li=n=>n instanceof CryptoKey,zA=async(n,e)=>{const t=`SHA-${n.slice(-3)}`;return new Uint8Array(await pn.subtle.digest(t,e))},k3=zA,_r=new TextEncoder,Ma=new TextDecoder,bh=2**32;function Ps(...n){const e=n.reduce((o,{length:u})=>o+u,0),t=new Uint8Array(e);let a=0;return n.forEach(o=>{t.set(o,a),a+=o.length}),t}function VA(n,e){return Ps(_r.encode(n),new Uint8Array([0]),e)}function T1(n,e,t){if(e<0||e>=bh)throw new RangeError(`value must be >= 0 and <= ${bh-1}. Received ${e}`);n.set([e>>>24,e>>>16,e>>>8,e&255],t)}function F3(n){const e=Math.floor(n/bh),t=n%bh,a=new Uint8Array(8);return T1(a,e,0),T1(a,t,4),a}function Qp(n){const e=new Uint8Array(4);return T1(e,n),e}function Vg(n){return Ps(Qp(n.length),n)}async function GA(n,e,t){const a=Math.ceil((e>>3)/32),o=new Uint8Array(a*32);for(let u=0;u<a;u++){const d=new Uint8Array(4+n.length+t.length);d.set(Qp(u+1)),d.set(n,4),d.set(t,4+n.length),o.set(await k3("sha256",d),u*32)}return o.slice(0,e>>3)}const em=n=>{let e=n;typeof e=="string"&&(e=_r.encode(e));const t=32768,a=[];for(let o=0;o<e.length;o+=t)a.push(String.fromCharCode.apply(null,e.subarray(o,o+t)));return btoa(a.join(""))},Pr=n=>em(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),B3=n=>{const e=atob(n),t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t},kr=n=>{let e=n;e instanceof Uint8Array&&(e=Ma.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return B3(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class ii extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}class Ki extends ii{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",a="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=a}}class R1 extends ii{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",a="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=a}}class xh extends ii{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class wn extends ii{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class ec extends ii{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class Gt extends ii{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class Un extends ii{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class Di extends ii{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class H3 extends ii{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class wh extends ii{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class tm extends ii{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class z3 extends ii{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class V3 extends ii{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class nm extends ii{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const WA=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:xh,JOSEError:ii,JOSENotSupported:wn,JWEDecryptionFailed:ec,JWEInvalid:Gt,JWKInvalid:H3,JWKSInvalid:wh,JWKSMultipleMatchingKeys:z3,JWKSNoMatchingKey:tm,JWKSTimeout:V3,JWSInvalid:Un,JWSSignatureVerificationFailed:nm,JWTClaimValidationFailed:Ki,JWTExpired:R1,JWTInvalid:Di},Symbol.toStringTag,{value:"Module"})),x0=pn.getRandomValues.bind(pn);function G3(n){switch(n){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new wn(`Unsupported JWE Algorithm: ${n}`)}}const W3=n=>x0(new Uint8Array(G3(n)>>3)),UA=(n,e)=>{if(e.length<<3!==G3(n))throw new Gt("Invalid Initialization Vector length")},U3=UA,qA=(n,e)=>{const t=n.byteLength<<3;if(t!==e)throw new Gt(`Invalid Content Encryption Key length. Expected ${e} bits, got ${t} bits`)},_h=qA,jA=(n,e)=>{if(!(n instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(e instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(n.length!==e.length)throw new TypeError("Input buffers must have the same length");const t=n.length;let a=0,o=-1;for(;++o<t;)a|=n[o]^e[o];return a===0},KA=jA;function zl(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}function qr(n,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${n}`)}function Ws(n,e){return n.name===e}function Of(n){return parseInt(n.name.slice(4),10)}function JA(n){switch(n){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function q3(n,e){if(e.length&&!e.some(t=>n.usages.includes(t))){let t="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const a=e.pop();t+=`one of ${e.join(", ")}, or ${a}.`}else e.length===2?t+=`one of ${e[0]} or ${e[1]}.`:t+=`${e[0]}.`;throw new TypeError(t)}}function YA(n,e,...t){switch(e){case"HS256":case"HS384":case"HS512":{if(!Ws(n.algorithm,"HMAC"))throw qr("HMAC");const a=parseInt(e.slice(2),10);if(Of(n.algorithm.hash)!==a)throw qr(`SHA-${a}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Ws(n.algorithm,"RSASSA-PKCS1-v1_5"))throw qr("RSASSA-PKCS1-v1_5");const a=parseInt(e.slice(2),10);if(Of(n.algorithm.hash)!==a)throw qr(`SHA-${a}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Ws(n.algorithm,"RSA-PSS"))throw qr("RSA-PSS");const a=parseInt(e.slice(2),10);if(Of(n.algorithm.hash)!==a)throw qr(`SHA-${a}`,"algorithm.hash");break}case(zl()&&"EdDSA"):{if(!Ws(n.algorithm,"NODE-ED25519"))throw qr("NODE-ED25519");break}case"EdDSA":{if(n.algorithm.name!=="Ed25519"&&n.algorithm.name!=="Ed448")throw qr("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!Ws(n.algorithm,"ECDSA"))throw qr("ECDSA");const a=JA(e);if(n.algorithm.namedCurve!==a)throw qr(a,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}q3(n,t)}function Oo(n,e,...t){switch(e){case"A128GCM":case"A192GCM":case"A256GCM":{if(!Ws(n.algorithm,"AES-GCM"))throw qr("AES-GCM");const a=parseInt(e.slice(1,4),10);if(n.algorithm.length!==a)throw qr(a,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!Ws(n.algorithm,"AES-KW"))throw qr("AES-KW");const a=parseInt(e.slice(1,4),10);if(n.algorithm.length!==a)throw qr(a,"algorithm.length");break}case"ECDH":{switch(n.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw qr("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!Ws(n.algorithm,"PBKDF2"))throw qr("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!Ws(n.algorithm,"RSA-OAEP"))throw qr("RSA-OAEP");const a=parseInt(e.slice(9),10)||1;if(Of(n.algorithm.hash)!==a)throw qr(`SHA-${a}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}q3(n,t)}function j3(n,e,...t){if(t.length>2){const a=t.pop();n+=`one of type ${t.join(", ")}, or ${a}.`}else t.length===2?n+=`one of type ${t[0]} or ${t[1]}.`:n+=`of type ${t[0]}.`;return e==null?n+=` Received ${e}`:typeof e=="function"&&e.name?n+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor&&e.constructor.name&&(n+=` Received an instance of ${e.constructor.name}`),n}const fi=(n,...e)=>j3("Key must be ",n,...e);function K3(n,e,...t){return j3(`Key for the ${n} algorithm must be `,e,...t)}const J3=n=>Li(n),hr=["CryptoKey"];async function XA(n,e,t,a,o,u){if(!(e instanceof Uint8Array))throw new TypeError(fi(e,"Uint8Array"));const d=parseInt(n.slice(1,4),10),c=await pn.subtle.importKey("raw",e.subarray(d>>3),"AES-CBC",!1,["decrypt"]),h=await pn.subtle.importKey("raw",e.subarray(0,d>>3),{hash:`SHA-${d<<1}`,name:"HMAC"},!1,["sign"]),g=Ps(u,a,t,F3(u.length<<3)),m=new Uint8Array((await pn.subtle.sign("HMAC",h,g)).slice(0,d>>3));let y;try{y=KA(o,m)}catch{}if(!y)throw new ec;let x;try{x=new Uint8Array(await pn.subtle.decrypt({iv:a,name:"AES-CBC"},c,t))}catch{}if(!x)throw new ec;return x}async function ZA(n,e,t,a,o,u){let d;e instanceof Uint8Array?d=await pn.subtle.importKey("raw",e,"AES-GCM",!1,["decrypt"]):(Oo(e,n,"decrypt"),d=e);try{return new Uint8Array(await pn.subtle.decrypt({additionalData:u,iv:a,name:"AES-GCM",tagLength:128},d,Ps(t,o)))}catch{throw new ec}}const QA=async(n,e,t,a,o,u)=>{if(!Li(e)&&!(e instanceof Uint8Array))throw new TypeError(fi(e,...hr,"Uint8Array"));switch(U3(n,a),n){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return e instanceof Uint8Array&&_h(e,parseInt(n.slice(-3),10)),XA(n,e,t,a,o,u);case"A128GCM":case"A192GCM":case"A256GCM":return e instanceof Uint8Array&&_h(e,parseInt(n.slice(1,4),10)),ZA(n,e,t,a,o,u);default:throw new wn("Unsupported JWE Content Encryption Algorithm")}},Y3=QA,eD=async()=>{throw new wn('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},tD=async()=>{throw new wn('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},nD=(...n)=>{const e=n.filter(Boolean);if(e.length===0||e.length===1)return!0;let t;for(const a of e){const o=Object.keys(a);if(!t||t.size===0){t=new Set(o);continue}for(const u of o){if(t.has(u))return!1;t.add(u)}}return!0},hc=nD;function rD(n){return typeof n=="object"&&n!==null}function Jr(n){if(!rD(n)||Object.prototype.toString.call(n)!=="[object Object]")return!1;if(Object.getPrototypeOf(n)===null)return!0;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}const iD=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]],w0=iD;function X3(n,e){if(n.algorithm.length!==parseInt(e.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${e}`)}function Z3(n,e,t){if(Li(n))return Oo(n,e,t),n;if(n instanceof Uint8Array)return pn.subtle.importKey("raw",n,"AES-KW",!0,[t]);throw new TypeError(fi(n,...hr,"Uint8Array"))}const O1=async(n,e,t)=>{const a=await Z3(e,n,"wrapKey");X3(a,n);const o=await pn.subtle.importKey("raw",t,...w0);return new Uint8Array(await pn.subtle.wrapKey("raw",o,a,"AES-KW"))},L1=async(n,e,t)=>{const a=await Z3(e,n,"unwrapKey");X3(a,n);const o=await pn.subtle.unwrapKey("raw",t,a,"AES-KW",...w0);return new Uint8Array(await pn.subtle.exportKey("raw",o))};async function Q3(n,e,t,a,o=new Uint8Array(0),u=new Uint8Array(0)){if(!Li(n))throw new TypeError(fi(n,...hr));if(Oo(n,"ECDH"),!Li(e))throw new TypeError(fi(e,...hr));Oo(e,"ECDH","deriveBits");const d=Ps(Vg(_r.encode(t)),Vg(o),Vg(u),Qp(a));let c;n.algorithm.name==="X25519"?c=256:n.algorithm.name==="X448"?c=448:c=Math.ceil(parseInt(n.algorithm.namedCurve.substr(-3),10)/8)<<3;const h=new Uint8Array(await pn.subtle.deriveBits({name:n.algorithm.name,public:n},e,c));return GA(h,a,d)}async function aD(n){if(!Li(n))throw new TypeError(fi(n,...hr));return pn.subtle.generateKey(n.algorithm,!0,["deriveBits"])}function ew(n){if(!Li(n))throw new TypeError(fi(n,...hr));return["P-256","P-384","P-521"].includes(n.algorithm.namedCurve)||n.algorithm.name==="X25519"||n.algorithm.name==="X448"}function sD(n){if(!(n instanceof Uint8Array)||n.length<8)throw new Gt("PBES2 Salt Input must be 8 or more octets")}function oD(n,e){if(n instanceof Uint8Array)return pn.subtle.importKey("raw",n,"PBKDF2",!1,["deriveBits"]);if(Li(n))return Oo(n,e,"deriveBits","deriveKey"),n;throw new TypeError(fi(n,...hr,"Uint8Array"))}async function tw(n,e,t,a){sD(n);const o=VA(e,n),u=parseInt(e.slice(13,16),10),d={hash:`SHA-${e.slice(8,11)}`,iterations:t,name:"PBKDF2",salt:o},c={length:u,name:"AES-KW"},h=await oD(a,e);if(h.usages.includes("deriveBits"))return new Uint8Array(await pn.subtle.deriveBits(d,h,u));if(h.usages.includes("deriveKey"))return pn.subtle.deriveKey(d,h,c,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const uD=async(n,e,t,a=2048,o=x0(new Uint8Array(16)))=>{const u=await tw(o,n,a,e);return{encryptedKey:await O1(n.slice(-6),u,t),p2c:a,p2s:Pr(o)}},lD=async(n,e,t,a,o)=>{const u=await tw(o,n,a,e);return L1(n.slice(-6),u,t)};function Sh(n){switch(n){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new wn(`alg ${n} is not supported either by JOSE or your javascript runtime`)}}const _0=(n,e)=>{if(n.startsWith("RS")||n.startsWith("PS")){const{modulusLength:t}=e.algorithm;if(typeof t!="number"||t<2048)throw new TypeError(`${n} requires key modulusLength to be 2048 bits or larger`)}},dD=async(n,e,t)=>{if(!Li(e))throw new TypeError(fi(e,...hr));if(Oo(e,n,"encrypt","wrapKey"),_0(n,e),e.usages.includes("encrypt"))return new Uint8Array(await pn.subtle.encrypt(Sh(n),e,t));if(e.usages.includes("wrapKey")){const a=await pn.subtle.importKey("raw",t,...w0);return new Uint8Array(await pn.subtle.wrapKey("raw",a,e,Sh(n)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},cD=async(n,e,t)=>{if(!Li(e))throw new TypeError(fi(e,...hr));if(Oo(e,n,"decrypt","unwrapKey"),_0(n,e),e.usages.includes("decrypt"))return new Uint8Array(await pn.subtle.decrypt(Sh(n),e,t));if(e.usages.includes("unwrapKey")){const a=await pn.subtle.unwrapKey("raw",t,e,Sh(n),...w0);return new Uint8Array(await pn.subtle.exportKey("raw",a))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function rm(n){switch(n){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new wn(`Unsupported JWE Algorithm: ${n}`)}}const xu=n=>x0(new Uint8Array(rm(n)>>3)),nw=(n,e)=>{const t=(n.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${e}-----
${t}
-----END ${e}-----`},rw=async(n,e,t)=>{if(!Li(t))throw new TypeError(fi(t,...hr));if(!t.extractable)throw new TypeError("CryptoKey is not extractable");if(t.type!==n)throw new TypeError(`key is not a ${n} key`);return nw(em(new Uint8Array(await pn.subtle.exportKey(e,t))),`${n.toUpperCase()} KEY`)},fD=n=>rw("public","spki",n),hD=n=>rw("private","pkcs8",n),Eo=(n,e,t=0)=>{t===0&&(e.unshift(e.length),e.unshift(6));let a=n.indexOf(e[0],t);if(a===-1)return!1;const o=n.subarray(a,a+e.length);return o.length!==e.length?!1:o.every((u,d)=>u===e[d])||Eo(n,e,a+1)},Gg=n=>{switch(!0){case Eo(n,[42,134,72,206,61,3,1,7]):return"P-256";case Eo(n,[43,129,4,0,34]):return"P-384";case Eo(n,[43,129,4,0,35]):return"P-521";case Eo(n,[43,101,110]):return"X25519";case Eo(n,[43,101,111]):return"X448";case Eo(n,[43,101,112]):return"Ed25519";case Eo(n,[43,101,113]):return"Ed448";default:throw new wn("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},iw=async(n,e,t,a,o)=>{var u;let d,c;const h=new Uint8Array(atob(t.replace(n,"")).split("").map(m=>m.charCodeAt(0))),g=e==="spki";switch(a){case"PS256":case"PS384":case"PS512":d={name:"RSA-PSS",hash:`SHA-${a.slice(-3)}`},c=g?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":d={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.slice(-3)}`},c=g?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":d={name:"RSA-OAEP",hash:`SHA-${parseInt(a.slice(-3),10)||1}`},c=g?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":d={name:"ECDSA",namedCurve:"P-256"},c=g?["verify"]:["sign"];break;case"ES384":d={name:"ECDSA",namedCurve:"P-384"},c=g?["verify"]:["sign"];break;case"ES512":d={name:"ECDSA",namedCurve:"P-521"},c=g?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const m=Gg(h);d=m.startsWith("P-")?{name:"ECDH",namedCurve:m}:{name:m},c=g?[]:["deriveBits"];break}case(zl()&&"EdDSA"):{const m=Gg(h).toUpperCase();d={name:`NODE-${m}`,namedCurve:`NODE-${m}`},c=g?["verify"]:["sign"];break}case"EdDSA":d={name:Gg(h)},c=g?["verify"]:["sign"];break;default:throw new wn('Invalid or unsupported "alg" (Algorithm) value')}return pn.subtle.importKey(e,h,d,(u=o==null?void 0:o.extractable)!==null&&u!==void 0?u:!1,c)},gD=(n,e,t)=>iw(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",n,e,t),aw=(n,e,t)=>iw(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",n,e,t);function pD(n){let e,t;switch(n.kty){case"oct":{switch(n.alg){case"HS256":case"HS384":case"HS512":e={name:"HMAC",hash:`SHA-${n.alg.slice(-3)}`},t=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new wn(`${n.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":e={name:"AES-GCM"},t=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":e={name:"AES-KW"},t=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":e={name:"PBKDF2"},t=["deriveBits"];break;default:throw new wn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(n.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${n.alg.slice(-3)}`},t=n.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.alg.slice(-3)}`},t=n.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(n.alg.slice(-3),10)||1}`},t=n.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new wn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(n.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},t=n.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},t=n.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},t=n.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:n.crv},t=n.d?["deriveBits"]:[];break;default:throw new wn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case(zl()&&"OKP"):if(n.alg!=="EdDSA")throw new wn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');switch(n.crv){case"Ed25519":e={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},t=n.d?["sign"]:["verify"];break;default:throw new wn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":{switch(n.alg){case"EdDSA":e={name:n.crv},t=n.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:n.crv},t=n.d?["deriveBits"]:[];break;default:throw new wn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new wn('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:t}}const mD=async n=>{var e,t;const{algorithm:a,keyUsages:o}=pD(n),u=[a,(e=n.ext)!==null&&e!==void 0?e:!1,(t=n.key_ops)!==null&&t!==void 0?t:o];if(a.name==="PBKDF2")return pn.subtle.importKey("raw",kr(n.k),...u);const d={...n};return delete d.alg,delete d.use,pn.subtle.importKey("jwk",d,...u)},rv=mD;function iv(n){let e=[],t=0;for(;t<n.length;){let a=sw(n.subarray(t));e.push(a),t+=a.byteLength}return e}function sw(n){let e=0,t=n[0]&31;if(e++,t===31){for(t=0;n[e]>=128;)t=t*128+n[e]-128,e++;t=t*128+n[e]-128,e++}let a=0;if(n[e]<128)a=n[e],e++;else if(a===128){for(a=0;n[e+a]!==0||n[e+a+1]!==0;){if(a>n.byteLength)throw new TypeError("invalid indefinite form length");a++}const u=e+a+2;return{byteLength:u,contents:n.subarray(e,e+a),raw:n.subarray(0,u)}}else{let u=n[e]&127;e++,a=0;for(let d=0;d<u;d++)a=a*256+n[e],e++}const o=e+a;return{byteLength:o,contents:n.subarray(e,o),raw:n.subarray(0,o)}}function yD(n){const e=iv(iv(sw(n).contents)[0].contents);return em(e[e[0].raw[0]===160?6:5].raw)}function vD(n){const e=n.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),t=B3(e);return nw(yD(t),"PUBLIC KEY")}async function bD(n,e,t){if(typeof n!="string"||n.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return aw(n,e,t)}async function xD(n,e,t){if(typeof n!="string"||n.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');let a;try{a=vD(n)}catch(o){throw new TypeError("failed to parse the X.509 certificate",{cause:o})}return aw(a,e,t)}async function wD(n,e,t){if(typeof n!="string"||n.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return gD(n,e,t)}async function S0(n,e,t){var a;if(!Jr(n))throw new TypeError("JWK must be an object");if(e||(e=n.alg),typeof e!="string"||!e)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(n.kty){case"oct":if(typeof n.k!="string"||!n.k)throw new TypeError('missing "k" (Key Value) Parameter value');return t??(t=n.ext!==!0),t?rv({...n,alg:e,ext:(a=n.ext)!==null&&a!==void 0?a:!1}):kr(n.k);case"RSA":if(n.oth!==void 0)throw new wn('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return rv({...n,alg:e});default:throw new wn('Unsupported "kty" (Key Type) Parameter value')}}const _D=(n,e)=>{if(!(e instanceof Uint8Array)){if(!J3(e))throw new TypeError(K3(n,e,...hr,"Uint8Array"));if(e.type!=="secret")throw new TypeError(`${hr.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},SD=(n,e,t)=>{if(!J3(e))throw new TypeError(K3(n,e,...hr));if(e.type==="secret")throw new TypeError(`${hr.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(t==="sign"&&e.type==="public")throw new TypeError(`${hr.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(t==="decrypt"&&e.type==="public")throw new TypeError(`${hr.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&t==="verify"&&e.type==="private")throw new TypeError(`${hr.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&t==="encrypt"&&e.type==="private")throw new TypeError(`${hr.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},ED=(n,e,t)=>{n.startsWith("HS")||n==="dir"||n.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(n)?_D(n,e):SD(n,e,t)},E0=ED;async function CD(n,e,t,a,o){if(!(t instanceof Uint8Array))throw new TypeError(fi(t,"Uint8Array"));const u=parseInt(n.slice(1,4),10),d=await pn.subtle.importKey("raw",t.subarray(u>>3),"AES-CBC",!1,["encrypt"]),c=await pn.subtle.importKey("raw",t.subarray(0,u>>3),{hash:`SHA-${u<<1}`,name:"HMAC"},!1,["sign"]),h=new Uint8Array(await pn.subtle.encrypt({iv:a,name:"AES-CBC"},d,e)),g=Ps(o,a,h,F3(o.length<<3)),m=new Uint8Array((await pn.subtle.sign("HMAC",c,g)).slice(0,u>>3));return{ciphertext:h,tag:m}}async function MD(n,e,t,a,o){let u;t instanceof Uint8Array?u=await pn.subtle.importKey("raw",t,"AES-GCM",!1,["encrypt"]):(Oo(t,n,"encrypt"),u=t);const d=new Uint8Array(await pn.subtle.encrypt({additionalData:o,iv:a,name:"AES-GCM",tagLength:128},u,e)),c=d.slice(-16);return{ciphertext:d.slice(0,-16),tag:c}}const ID=async(n,e,t,a,o)=>{if(!Li(t)&&!(t instanceof Uint8Array))throw new TypeError(fi(t,...hr,"Uint8Array"));switch(U3(n,a),n){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&_h(t,parseInt(n.slice(-3),10)),CD(n,e,t,a,o);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&_h(t,parseInt(n.slice(1,4),10)),MD(n,e,t,a,o);default:throw new wn("Unsupported JWE Content Encryption Algorithm")}},k1=ID;async function PD(n,e,t,a){const o=n.slice(0,7);a||(a=W3(o));const{ciphertext:u,tag:d}=await k1(o,t,e,a,new Uint8Array(0));return{encryptedKey:u,iv:Pr(a),tag:Pr(d)}}async function ND(n,e,t,a,o){const u=n.slice(0,7);return Y3(u,e,t,a,o,new Uint8Array(0))}async function AD(n,e,t,a,o){switch(E0(n,e,"decrypt"),n){case"dir":{if(t!==void 0)throw new Gt("Encountered unexpected JWE Encrypted Key");return e}case"ECDH-ES":if(t!==void 0)throw new Gt("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Jr(a.epk))throw new Gt('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ew(e))throw new wn("ECDH with the provided key is not allowed or not supported by your javascript runtime");const u=await S0(a.epk,n);let d,c;if(a.apu!==void 0){if(typeof a.apu!="string")throw new Gt('JOSE Header "apu" (Agreement PartyUInfo) invalid');d=kr(a.apu)}if(a.apv!==void 0){if(typeof a.apv!="string")throw new Gt('JOSE Header "apv" (Agreement PartyVInfo) invalid');c=kr(a.apv)}const h=await Q3(u,e,n==="ECDH-ES"?a.enc:n,n==="ECDH-ES"?rm(a.enc):parseInt(n.slice(-5,-2),10),d,c);if(n==="ECDH-ES")return h;if(t===void 0)throw new Gt("JWE Encrypted Key missing");return L1(n.slice(-6),h,t)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(t===void 0)throw new Gt("JWE Encrypted Key missing");return cD(n,e,t)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(t===void 0)throw new Gt("JWE Encrypted Key missing");if(typeof a.p2c!="number")throw new Gt('JOSE Header "p2c" (PBES2 Count) missing or invalid');const u=(o==null?void 0:o.maxPBES2Count)||1e4;if(a.p2c>u)throw new Gt('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof a.p2s!="string")throw new Gt('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return lD(n,e,t,a.p2c,kr(a.p2s))}case"A128KW":case"A192KW":case"A256KW":{if(t===void 0)throw new Gt("JWE Encrypted Key missing");return L1(n,e,t)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(t===void 0)throw new Gt("JWE Encrypted Key missing");if(typeof a.iv!="string")throw new Gt('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof a.tag!="string")throw new Gt('JOSE Header "tag" (Authentication Tag) missing or invalid');const u=kr(a.iv),d=kr(a.tag);return ND(n,e,t,u,d)}default:throw new wn('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function gc(n,e,t,a,o){if(o.crit!==void 0&&a.crit===void 0)throw new n('"crit" (Critical) Header Parameter MUST be integrity protected');if(!a||a.crit===void 0)return new Set;if(!Array.isArray(a.crit)||a.crit.length===0||a.crit.some(d=>typeof d!="string"||d.length===0))throw new n('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let u;t!==void 0?u=new Map([...Object.entries(t),...e.entries()]):u=e;for(const d of a.crit){if(!u.has(d))throw new wn(`Extension Header Parameter "${d}" is not recognized`);if(o[d]===void 0)throw new n(`Extension Header Parameter "${d}" is missing`);if(u.get(d)&&a[d]===void 0)throw new n(`Extension Header Parameter "${d}" MUST be integrity protected`)}return new Set(a.crit)}const DD=(n,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(t=>typeof t!="string")))throw new TypeError(`"${n}" option must be an array of strings`);if(e)return new Set(e)},F1=DD;async function im(n,e,t){var a;if(!Jr(n))throw new Gt("Flattened JWE must be an object");if(n.protected===void 0&&n.header===void 0&&n.unprotected===void 0)throw new Gt("JOSE Header missing");if(typeof n.iv!="string")throw new Gt("JWE Initialization Vector missing or incorrect type");if(typeof n.ciphertext!="string")throw new Gt("JWE Ciphertext missing or incorrect type");if(typeof n.tag!="string")throw new Gt("JWE Authentication Tag missing or incorrect type");if(n.protected!==void 0&&typeof n.protected!="string")throw new Gt("JWE Protected Header incorrect type");if(n.encrypted_key!==void 0&&typeof n.encrypted_key!="string")throw new Gt("JWE Encrypted Key incorrect type");if(n.aad!==void 0&&typeof n.aad!="string")throw new Gt("JWE AAD incorrect type");if(n.header!==void 0&&!Jr(n.header))throw new Gt("JWE Shared Unprotected Header incorrect type");if(n.unprotected!==void 0&&!Jr(n.unprotected))throw new Gt("JWE Per-Recipient Unprotected Header incorrect type");let o;if(n.protected)try{const $=kr(n.protected);o=JSON.parse(Ma.decode($))}catch{throw new Gt("JWE Protected Header is invalid")}if(!hc(o,n.header,n.unprotected))throw new Gt("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const u={...o,...n.header,...n.unprotected};if(gc(Gt,new Map,t==null?void 0:t.crit,o,u),u.zip!==void 0){if(!o||!o.zip)throw new Gt('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(u.zip!=="DEF")throw new wn('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:d,enc:c}=u;if(typeof d!="string"||!d)throw new Gt("missing JWE Algorithm (alg) in JWE Header");if(typeof c!="string"||!c)throw new Gt("missing JWE Encryption Algorithm (enc) in JWE Header");const h=t&&F1("keyManagementAlgorithms",t.keyManagementAlgorithms),g=t&&F1("contentEncryptionAlgorithms",t.contentEncryptionAlgorithms);if(h&&!h.has(d))throw new xh('"alg" (Algorithm) Header Parameter not allowed');if(g&&!g.has(c))throw new xh('"enc" (Encryption Algorithm) Header Parameter not allowed');let m;n.encrypted_key!==void 0&&(m=kr(n.encrypted_key));let y=!1;typeof e=="function"&&(e=await e(o,n),y=!0);let x;try{x=await AD(d,e,m,u,t)}catch($){if($ instanceof TypeError||$ instanceof Gt||$ instanceof wn)throw $;x=xu(c)}const E=kr(n.iv),_=kr(n.tag),w=_r.encode((a=n.protected)!==null&&a!==void 0?a:"");let L;n.aad!==void 0?L=Ps(w,_r.encode("."),_r.encode(n.aad)):L=w;let k=await Y3(c,x,kr(n.ciphertext),E,_,L);u.zip==="DEF"&&(k=await((t==null?void 0:t.inflateRaw)||eD)(k));const W={plaintext:k};return n.protected!==void 0&&(W.protectedHeader=o),n.aad!==void 0&&(W.additionalAuthenticatedData=kr(n.aad)),n.unprotected!==void 0&&(W.sharedUnprotectedHeader=n.unprotected),n.header!==void 0&&(W.unprotectedHeader=n.header),y?{...W,key:e}:W}async function ow(n,e,t){if(n instanceof Uint8Array&&(n=Ma.decode(n)),typeof n!="string")throw new Gt("Compact JWE must be a string or Uint8Array");const{0:a,1:o,2:u,3:d,4:c,length:h}=n.split(".");if(h!==5)throw new Gt("Invalid Compact JWE");const g=await im({ciphertext:d,iv:u||void 0,protected:a||void 0,tag:c||void 0,encrypted_key:o||void 0},e,t),m={plaintext:g.plaintext,protectedHeader:g.protectedHeader};return typeof e=="function"?{...m,key:g.key}:m}async function $D(n,e,t){if(!Jr(n))throw new Gt("General JWE must be an object");if(!Array.isArray(n.recipients)||!n.recipients.every(Jr))throw new Gt("JWE Recipients missing or incorrect type");if(!n.recipients.length)throw new Gt("JWE Recipients has no members");for(const a of n.recipients)try{return await im({aad:n.aad,ciphertext:n.ciphertext,encrypted_key:a.encrypted_key,header:a.header,iv:n.iv,protected:n.protected,tag:n.tag,unprotected:n.unprotected},e,t)}catch{}throw new ec}const TD=async n=>{if(n instanceof Uint8Array)return{kty:"oct",k:Pr(n)};if(!Li(n))throw new TypeError(fi(n,...hr,"Uint8Array"));if(!n.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:t,alg:a,use:o,...u}=await pn.subtle.exportKey("jwk",n);return u},RD=TD;async function OD(n){return fD(n)}async function LD(n){return hD(n)}async function uw(n){return RD(n)}async function lw(n,e,t,a,o={}){let u,d,c;switch(E0(n,t,"encrypt"),n){case"dir":{c=t;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ew(t))throw new wn("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:h,apv:g}=o;let{epk:m}=o;m||(m=(await aD(t)).privateKey);const{x:y,y:x,crv:E,kty:_}=await uw(m),w=await Q3(t,m,n==="ECDH-ES"?e:n,n==="ECDH-ES"?rm(e):parseInt(n.slice(-5,-2),10),h,g);if(d={epk:{x:y,crv:E,kty:_}},_==="EC"&&(d.epk.y=x),h&&(d.apu=Pr(h)),g&&(d.apv=Pr(g)),n==="ECDH-ES"){c=w;break}c=a||xu(e);const L=n.slice(-6);u=await O1(L,w,c);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{c=a||xu(e),u=await dD(n,t,c);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{c=a||xu(e);const{p2c:h,p2s:g}=o;({encryptedKey:u,...d}=await uD(n,t,c,h,g));break}case"A128KW":case"A192KW":case"A256KW":{c=a||xu(e),u=await O1(n,t,c);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{c=a||xu(e);const{iv:h}=o;({encryptedKey:u,...d}=await PD(n,t,c,h));break}default:throw new wn('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:c,encryptedKey:u,parameters:d}}const dw=Symbol();class Eh{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new Gt("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!hc(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new Gt("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const a={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(gc(Gt,new Map,t==null?void 0:t.crit,this._protectedHeader,a),a.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new Gt('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(a.zip!=="DEF")throw new wn('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:o,enc:u}=a;if(typeof o!="string"||!o)throw new Gt('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof u!="string"||!u)throw new Gt('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let d;if(o==="dir"){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(o==="ECDH-ES"&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let c;{let _;({cek:c,encryptedKey:d,parameters:_}=await lw(o,u,e,this._cek,this._keyManagementParameters)),_&&(t&&dw in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,..._}:this.setUnprotectedHeader(_):this._protectedHeader?this._protectedHeader={...this._protectedHeader,..._}:this.setProtectedHeader(_))}this._iv||(this._iv=W3(u));let h,g,m;this._protectedHeader?g=_r.encode(Pr(JSON.stringify(this._protectedHeader))):g=_r.encode(""),this._aad?(m=Pr(this._aad),h=Ps(g,_r.encode("."),_r.encode(m))):h=g;let y,x;if(a.zip==="DEF"){const _=await((t==null?void 0:t.deflateRaw)||tD)(this._plaintext);({ciphertext:y,tag:x}=await k1(u,_,c,this._iv,h))}else({ciphertext:y,tag:x}=await k1(u,this._plaintext,c,this._iv,h));const E={ciphertext:Pr(y),iv:Pr(this._iv),tag:Pr(x)};return d&&(E.encrypted_key=Pr(d)),m&&(E.aad=m),this._protectedHeader&&(E.protected=Ma.decode(g)),this._sharedUnprotectedHeader&&(E.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(E.header=this._unprotectedHeader),E}}class kD{constructor(e,t,a){this.parent=e,this.key=t,this.options=a}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class FD{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){const a=new kD(this,e,{crit:t==null?void 0:t.crit});return this._recipients.push(a),a}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,a,o;if(!this._recipients.length)throw new Gt("at least one recipient must be added");if(e={deflateRaw:e==null?void 0:e.deflateRaw},this._recipients.length===1){const[h]=this._recipients,g=await new Eh(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(h.unprotectedHeader).encrypt(h.key,{...h.options,...e});let m={ciphertext:g.ciphertext,iv:g.iv,recipients:[{}],tag:g.tag};return g.aad&&(m.aad=g.aad),g.protected&&(m.protected=g.protected),g.unprotected&&(m.unprotected=g.unprotected),g.encrypted_key&&(m.recipients[0].encrypted_key=g.encrypted_key),g.header&&(m.recipients[0].header=g.header),m}let u;for(let h=0;h<this._recipients.length;h++){const g=this._recipients[h];if(!hc(this._protectedHeader,this._unprotectedHeader,g.unprotectedHeader))throw new Gt("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const m={...this._protectedHeader,...this._unprotectedHeader,...g.unprotectedHeader},{alg:y}=m;if(typeof y!="string"||!y)throw new Gt('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(y==="dir"||y==="ECDH-ES")throw new Gt('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof m.enc!="string"||!m.enc)throw new Gt('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!u)u=m.enc;else if(u!==m.enc)throw new Gt('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(gc(Gt,new Map,g.options.crit,this._protectedHeader,m),m.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new Gt('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const d=xu(u);let c={ciphertext:"",iv:"",recipients:[],tag:""};for(let h=0;h<this._recipients.length;h++){const g=this._recipients[h],m={};c.recipients.push(m);const x={...this._protectedHeader,...this._unprotectedHeader,...g.unprotectedHeader}.alg.startsWith("PBES2")?2048+h:void 0;if(h===0){const w=await new Eh(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(d).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(g.unprotectedHeader).setKeyManagementParameters({p2c:x}).encrypt(g.key,{...g.options,...e,[dw]:!0});c.ciphertext=w.ciphertext,c.iv=w.iv,c.tag=w.tag,w.aad&&(c.aad=w.aad),w.protected&&(c.protected=w.protected),w.unprotected&&(c.unprotected=w.unprotected),m.encrypted_key=w.encrypted_key,w.header&&(m.header=w.header);continue}const{encryptedKey:E,parameters:_}=await lw(((t=g.unprotectedHeader)===null||t===void 0?void 0:t.alg)||((a=this._protectedHeader)===null||a===void 0?void 0:a.alg)||((o=this._unprotectedHeader)===null||o===void 0?void 0:o.alg),u,g.key,d,{p2c:x});m.encrypted_key=Pr(E),(g.unprotectedHeader||_)&&(m.header={...g.unprotectedHeader,..._})}return c}}function cw(n,e){const t=`SHA-${n.slice(-3)}`;switch(n){case"HS256":case"HS384":case"HS512":return{hash:t,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:t,name:"RSA-PSS",saltLength:n.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:t,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:t,name:"ECDSA",namedCurve:e.namedCurve};case(zl()&&"EdDSA"):const{namedCurve:a}=e;return{name:a,namedCurve:a};case"EdDSA":return{name:e.name};default:throw new wn(`alg ${n} is not supported either by JOSE or your javascript runtime`)}}function fw(n,e,t){if(Li(e))return YA(e,n,t),e;if(e instanceof Uint8Array){if(!n.startsWith("HS"))throw new TypeError(fi(e,...hr));return pn.subtle.importKey("raw",e,{hash:`SHA-${n.slice(-3)}`,name:"HMAC"},!1,[t])}throw new TypeError(fi(e,...hr,"Uint8Array"))}const BD=async(n,e,t,a)=>{const o=await fw(n,e,"verify");_0(n,o);const u=cw(n,o.algorithm);try{return await pn.subtle.verify(u,o,t,a)}catch{return!1}},HD=BD;async function am(n,e,t){var a;if(!Jr(n))throw new Un("Flattened JWS must be an object");if(n.protected===void 0&&n.header===void 0)throw new Un('Flattened JWS must have either of the "protected" or "header" members');if(n.protected!==void 0&&typeof n.protected!="string")throw new Un("JWS Protected Header incorrect type");if(n.payload===void 0)throw new Un("JWS Payload missing");if(typeof n.signature!="string")throw new Un("JWS Signature missing or incorrect type");if(n.header!==void 0&&!Jr(n.header))throw new Un("JWS Unprotected Header incorrect type");let o={};if(n.protected)try{const L=kr(n.protected);o=JSON.parse(Ma.decode(L))}catch{throw new Un("JWS Protected Header is invalid")}if(!hc(o,n.header))throw new Un("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const u={...o,...n.header},d=gc(Un,new Map([["b64",!0]]),t==null?void 0:t.crit,o,u);let c=!0;if(d.has("b64")&&(c=o.b64,typeof c!="boolean"))throw new Un('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:h}=u;if(typeof h!="string"||!h)throw new Un('JWS "alg" (Algorithm) Header Parameter missing or invalid');const g=t&&F1("algorithms",t.algorithms);if(g&&!g.has(h))throw new xh('"alg" (Algorithm) Header Parameter not allowed');if(c){if(typeof n.payload!="string")throw new Un("JWS Payload must be a string")}else if(typeof n.payload!="string"&&!(n.payload instanceof Uint8Array))throw new Un("JWS Payload must be a string or an Uint8Array instance");let m=!1;typeof e=="function"&&(e=await e(o,n),m=!0),E0(h,e,"verify");const y=Ps(_r.encode((a=n.protected)!==null&&a!==void 0?a:""),_r.encode("."),typeof n.payload=="string"?_r.encode(n.payload):n.payload),x=kr(n.signature);if(!await HD(h,e,x,y))throw new nm;let _;c?_=kr(n.payload):typeof n.payload=="string"?_=_r.encode(n.payload):_=n.payload;const w={payload:_};return n.protected!==void 0&&(w.protectedHeader=o),n.header!==void 0&&(w.unprotectedHeader=n.header),m?{...w,key:e}:w}async function hw(n,e,t){if(n instanceof Uint8Array&&(n=Ma.decode(n)),typeof n!="string")throw new Un("Compact JWS must be a string or Uint8Array");const{0:a,1:o,2:u,length:d}=n.split(".");if(d!==3)throw new Un("Invalid Compact JWS");const c=await am({payload:o,protected:a,signature:u},e,t),h={payload:c.payload,protectedHeader:c.protectedHeader};return typeof e=="function"?{...h,key:c.key}:h}async function zD(n,e,t){if(!Jr(n))throw new Un("General JWS must be an object");if(!Array.isArray(n.signatures)||!n.signatures.every(Jr))throw new Un("JWS Signatures missing or incorrect type");for(const a of n.signatures)try{return await am({header:a.header,payload:n.payload,protected:a.protected,signature:a.signature},e,t)}catch{}throw new nm}const Lf=n=>Math.floor(n.getTime()/1e3),gw=60,pw=gw*60,sm=pw*24,VD=sm*7,GD=sm*365.25,WD=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,Ch=n=>{const e=WD.exec(n);if(!e)throw new TypeError("Invalid time period format");const t=parseFloat(e[1]);switch(e[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(t);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(t*gw);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(t*pw);case"day":case"days":case"d":return Math.round(t*sm);case"week":case"weeks":case"w":return Math.round(t*VD);default:return Math.round(t*GD)}},av=n=>n.toLowerCase().replace(/^application\//,""),UD=(n,e)=>typeof n=="string"?e.includes(n):Array.isArray(n)?e.some(Set.prototype.has.bind(new Set(n))):!1,om=(n,e,t={})=>{const{typ:a}=t;if(a&&(typeof n.typ!="string"||av(n.typ)!==av(a)))throw new Ki('unexpected "typ" JWT header value',"typ","check_failed");let o;try{o=JSON.parse(Ma.decode(e))}catch{}if(!Jr(o))throw new Di("JWT Claims Set must be a top-level JSON object");const{issuer:u}=t;if(u&&!(Array.isArray(u)?u:[u]).includes(o.iss))throw new Ki('unexpected "iss" claim value',"iss","check_failed");const{subject:d}=t;if(d&&o.sub!==d)throw new Ki('unexpected "sub" claim value',"sub","check_failed");const{audience:c}=t;if(c&&!UD(o.aud,typeof c=="string"?[c]:c))throw new Ki('unexpected "aud" claim value',"aud","check_failed");let h;switch(typeof t.clockTolerance){case"string":h=Ch(t.clockTolerance);break;case"number":h=t.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:g}=t,m=Lf(g||new Date);if((o.iat!==void 0||t.maxTokenAge)&&typeof o.iat!="number")throw new Ki('"iat" claim must be a number',"iat","invalid");if(o.nbf!==void 0){if(typeof o.nbf!="number")throw new Ki('"nbf" claim must be a number',"nbf","invalid");if(o.nbf>m+h)throw new Ki('"nbf" claim timestamp check failed',"nbf","check_failed")}if(o.exp!==void 0){if(typeof o.exp!="number")throw new Ki('"exp" claim must be a number',"exp","invalid");if(o.exp<=m-h)throw new R1('"exp" claim timestamp check failed',"exp","check_failed")}if(t.maxTokenAge){const y=m-o.iat,x=typeof t.maxTokenAge=="number"?t.maxTokenAge:Ch(t.maxTokenAge);if(y-h>x)throw new R1('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(y<0-h)throw new Ki('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return o};async function qD(n,e,t){var a;const o=await hw(n,e,t);if(!((a=o.protectedHeader.crit)===null||a===void 0)&&a.includes("b64")&&o.protectedHeader.b64===!1)throw new Di("JWTs MUST NOT use unencoded payload");const d={payload:om(o.protectedHeader,o.payload,t),protectedHeader:o.protectedHeader};return typeof e=="function"?{...d,key:o.key}:d}async function jD(n,e,t){const a=await ow(n,e,t),o=om(a.protectedHeader,a.plaintext,t),{protectedHeader:u}=a;if(u.iss!==void 0&&u.iss!==o.iss)throw new Ki('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(u.sub!==void 0&&u.sub!==o.sub)throw new Ki('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(u.aud!==void 0&&JSON.stringify(u.aud)!==JSON.stringify(o.aud))throw new Ki('replicated "aud" claim header parameter mismatch',"aud","mismatch");const d={payload:o,protectedHeader:u};return typeof e=="function"?{...d,key:a.key}:d}class mw{constructor(e){this._flattened=new Eh(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const a=await this._flattened.encrypt(e,t);return[a.protected,a.encrypted_key,a.iv,a.ciphertext,a.tag].join(".")}}const KD=async(n,e,t)=>{const a=await fw(n,e,"sign");_0(n,a);const o=await pn.subtle.sign(cw(n,a.algorithm),a,t);return new Uint8Array(o)},JD=KD;class um{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Un("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!hc(this._protectedHeader,this._unprotectedHeader))throw new Un("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...this._protectedHeader,...this._unprotectedHeader},o=gc(Un,new Map([["b64",!0]]),t==null?void 0:t.crit,this._protectedHeader,a);let u=!0;if(o.has("b64")&&(u=this._protectedHeader.b64,typeof u!="boolean"))throw new Un('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:d}=a;if(typeof d!="string"||!d)throw new Un('JWS "alg" (Algorithm) Header Parameter missing or invalid');E0(d,e,"sign");let c=this._payload;u&&(c=_r.encode(Pr(c)));let h;this._protectedHeader?h=_r.encode(Pr(JSON.stringify(this._protectedHeader))):h=_r.encode("");const g=Ps(h,_r.encode("."),c),m=await JD(d,e,g),y={signature:Pr(m),payload:""};return u&&(y.payload=Ma.decode(c)),this._unprotectedHeader&&(y.header=this._unprotectedHeader),this._protectedHeader&&(y.protected=Ma.decode(h)),y}}class yw{constructor(e){this._flattened=new um(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const a=await this._flattened.sign(e,t);if(a.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${a.protected}.${a.payload}.${a.signature}`}}class YD{constructor(e,t,a){this.parent=e,this.key=t,this.options=a}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class XD{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){const a=new YD(this,e,t);return this._signatures.push(a),a}async sign(){if(!this._signatures.length)throw new Un("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const a=this._signatures[t],o=new um(this._payload);o.setProtectedHeader(a.protectedHeader),o.setUnprotectedHeader(a.unprotectedHeader);const{payload:u,...d}=await o.sign(a.key,a.options);if(t===0)e.payload=u;else if(e.payload!==u)throw new Un("inconsistent use of JWS Unencoded Payload Option (RFC7797)");e.signatures.push(d)}return e}}class lm{constructor(e){if(!Jr(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:Lf(new Date)+Ch(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:Lf(new Date)+Ch(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:Lf(new Date)}:this._payload={...this._payload,iat:e},this}}class ZD extends lm{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var a;const o=new yw(_r.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray((a=this._protectedHeader)===null||a===void 0?void 0:a.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Di("JWTs MUST NOT use unencoded payload");return o.sign(e,t)}}class QD extends lm{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const a=new mw(_r.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),a.setProtectedHeader(this._protectedHeader),this._iv&&a.setInitializationVector(this._iv),this._cek&&a.setContentEncryptionKey(this._cek),this._keyManagementParameters&&a.setKeyManagementParameters(this._keyManagementParameters),a.encrypt(e,t)}}const _o=(n,e)=>{if(typeof n!="string"||!n)throw new H3(`${e} missing or invalid`)};async function vw(n,e){if(!Jr(n))throw new TypeError("JWK must be an object");if(e??(e="sha256"),e!=="sha256"&&e!=="sha384"&&e!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let t;switch(n.kty){case"EC":_o(n.crv,'"crv" (Curve) Parameter'),_o(n.x,'"x" (X Coordinate) Parameter'),_o(n.y,'"y" (Y Coordinate) Parameter'),t={crv:n.crv,kty:n.kty,x:n.x,y:n.y};break;case"OKP":_o(n.crv,'"crv" (Subtype of Key Pair) Parameter'),_o(n.x,'"x" (Public Key) Parameter'),t={crv:n.crv,kty:n.kty,x:n.x};break;case"RSA":_o(n.e,'"e" (Exponent) Parameter'),_o(n.n,'"n" (Modulus) Parameter'),t={e:n.e,kty:n.kty,n:n.n};break;case"oct":_o(n.k,'"k" (Key Value) Parameter'),t={k:n.k,kty:n.kty};break;default:throw new wn('"kty" (Key Type) Parameter missing or unsupported')}const a=_r.encode(JSON.stringify(t));return Pr(await k3(e,a))}async function e$(n,e){e??(e="sha256");const t=await vw(n,e);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${e.slice(-3)}:${t}`}async function t$(n,e){const t={...n,...e.header};if(!Jr(t.jwk))throw new Un('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const a=await S0({...t.jwk,ext:!0},t.alg,!0);if(a instanceof Uint8Array||a.type!=="public")throw new Un('"jwk" (JSON Web Key) Header Parameter must be a public key');return a}function n$(n){switch(typeof n=="string"&&n.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new wn('Unsupported "alg" value for a JSON Web Key Set')}}function bw(n){return n&&typeof n=="object"&&Array.isArray(n.keys)&&n.keys.every(r$)}function r$(n){return Jr(n)}function i$(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}class B1{constructor(e){if(this._cached=new WeakMap,!bw(e))throw new wh("JSON Web Key Set malformed");this._jwks=i$(e)}async getKey(e,t){const{alg:a,kid:o}={...e,...t.header},u=n$(a),d=this._jwks.keys.filter(m=>{let y=u===m.kty;if(y&&typeof o=="string"&&(y=o===m.kid),y&&typeof m.alg=="string"&&(y=a===m.alg),y&&typeof m.use=="string"&&(y=m.use==="sig"),y&&Array.isArray(m.key_ops)&&(y=m.key_ops.includes("verify")),y&&a==="EdDSA"&&(y=m.crv==="Ed25519"||m.crv==="Ed448"),y)switch(a){case"ES256":y=m.crv==="P-256";break;case"ES256K":y=m.crv==="secp256k1";break;case"ES384":y=m.crv==="P-384";break;case"ES512":y=m.crv==="P-521";break}return y}),{0:c,length:h}=d;if(h===0)throw new tm;if(h!==1)throw new z3;const g=this._cached.get(c)||this._cached.set(c,{}).get(c);if(g[a]===void 0){const m=await S0({...c,ext:!0},a);if(m instanceof Uint8Array||m.type!=="public")throw new wh("JSON Web Key Set members must be public keys");g[a]=m}return g[a]}}function a$(n){return B1.prototype.getKey.bind(new B1(n))}const s$=async(n,e,t)=>{let a,o,u=!1;typeof AbortController=="function"&&(a=new AbortController,o=setTimeout(()=>{u=!0,a.abort()},e));const d=await fetch(n.href,{signal:a?a.signal:void 0,redirect:"manual",headers:t.headers}).catch(c=>{throw u?new V3:c});if(o!==void 0&&clearTimeout(o),d.status!==200)throw new ii("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await d.json()}catch{throw new ii("Failed to parse the JSON Web Key Set HTTP response as JSON")}},o$=s$;class sv extends B1{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:t==null?void 0:t.agent,headers:t==null?void 0:t.headers},this._timeoutDuration=typeof(t==null?void 0:t.timeoutDuration)=="number"?t==null?void 0:t.timeoutDuration:5e3,this._cooldownDuration=typeof(t==null?void 0:t.cooldownDuration)=="number"?t==null?void 0:t.cooldownDuration:3e4,this._cacheMaxAge=typeof(t==null?void 0:t.cacheMaxAge)=="number"?t==null?void 0:t.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(e,t){(!this._jwks||!this.fresh())&&await this.reload();try{return await super.getKey(e,t)}catch(a){if(a instanceof tm&&this.coolingDown()===!1)return await this.reload(),super.getKey(e,t);throw a}}async reload(){if(this._pendingFetch&&zl())return new Promise(e=>{const t=()=>{this._pendingFetch===void 0?e():setTimeout(t,5)};t()});this._pendingFetch||(this._pendingFetch=o$(this._url,this._timeoutDuration,this._options).then(e=>{if(!bw(e))throw new wh("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function u$(n,e){return sv.prototype.getKey.bind(new sv(n,e))}class l$ extends lm{encode(){const e=Pr(JSON.stringify({alg:"none"})),t=Pr(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){if(typeof e!="string")throw new Di("Unsecured JWT must be a string");const{0:a,1:o,2:u,length:d}=e.split(".");if(d!==3||u!=="")throw new Di("Invalid Unsecured JWT");let c;try{if(c=JSON.parse(Ma.decode(kr(a))),c.alg!=="none")throw new Error}catch{throw new Di("Invalid Unsecured JWT")}return{payload:om(c,kr(o),t),header:c}}}const d$=Pr,dm=kr,c$=Object.freeze(Object.defineProperty({__proto__:null,decode:dm,encode:d$},Symbol.toStringTag,{value:"Module"}));function f$(n){let e;if(typeof n=="string"){const t=n.split(".");(t.length===3||t.length===5)&&([e]=t)}else if(typeof n=="object"&&n)if("protected"in n)e=n.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof e!="string"||!e)throw new Error;const t=JSON.parse(Ma.decode(dm(e)));if(!Jr(t))throw new Error;return t}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function h$(n){if(typeof n!="string")throw new Di("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:t}=n.split(".");if(t===5)throw new Di("Only JWTs using Compact JWS serialization can be decoded");if(t!==3)throw new Di("Invalid JWT");if(!e)throw new Di("JWTs must contain a payload");let a;try{a=dm(e)}catch{throw new Di("Failed to parse the base64url encoded payload")}let o;try{o=JSON.parse(Ma.decode(a))}catch{throw new Di("Failed to parse the decoded payload as JSON")}if(!Jr(o))throw new Di("Invalid JWT Claims Set");return o}async function g$(n,e){var t;let a,o,u;switch(n){case"HS256":case"HS384":case"HS512":a=parseInt(n.slice(-3),10),o={name:"HMAC",hash:`SHA-${a}`,length:a},u=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a=parseInt(n.slice(-3),10),x0(new Uint8Array(a>>3));case"A128KW":case"A192KW":case"A256KW":a=parseInt(n.slice(1,4),10),o={name:"AES-KW",length:a},u=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":a=parseInt(n.slice(1,4),10),o={name:"AES-GCM",length:a},u=["encrypt","decrypt"];break;default:throw new wn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return pn.subtle.generateKey(o,(t=e==null?void 0:e.extractable)!==null&&t!==void 0?t:!1,u)}function Wg(n){var e;const t=(e=n==null?void 0:n.modulusLength)!==null&&e!==void 0?e:2048;if(typeof t!="number"||t<2048)throw new wn("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function p$(n,e){var t,a,o;let u,d;switch(n){case"PS256":case"PS384":case"PS512":u={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Wg(e)},d=["sign","verify"];break;case"RS256":case"RS384":case"RS512":u={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Wg(e)},d=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":u={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Wg(e)},d=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":u={name:"ECDSA",namedCurve:"P-256"},d=["sign","verify"];break;case"ES384":u={name:"ECDSA",namedCurve:"P-384"},d=["sign","verify"];break;case"ES512":u={name:"ECDSA",namedCurve:"P-521"},d=["sign","verify"];break;case(zl()&&"EdDSA"):switch(e==null?void 0:e.crv){case void 0:case"Ed25519":u={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},d=["sign","verify"];break;default:throw new wn("Invalid or unsupported crv option provided")}break;case"EdDSA":d=["sign","verify"];const c=(t=e==null?void 0:e.crv)!==null&&t!==void 0?t:"Ed25519";switch(c){case"Ed25519":case"Ed448":u={name:c};break;default:throw new wn("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{d=["deriveKey","deriveBits"];const h=(a=e==null?void 0:e.crv)!==null&&a!==void 0?a:"P-256";switch(h){case"P-256":case"P-384":case"P-521":{u={name:"ECDH",namedCurve:h};break}case"X25519":case"X448":u={name:h};break;default:throw new wn("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new wn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return pn.subtle.generateKey(u,(o=e==null?void 0:e.extractable)!==null&&o!==void 0?o:!1,d)}async function m$(n,e){return p$(n,e)}async function y$(n,e){return g$(n,e)}const v$=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:mw,CompactSign:yw,EmbeddedJWK:t$,EncryptJWT:QD,FlattenedEncrypt:Eh,FlattenedSign:um,GeneralEncrypt:FD,GeneralSign:XD,SignJWT:ZD,UnsecuredJWT:l$,base64url:c$,calculateJwkThumbprint:vw,calculateJwkThumbprintUri:e$,compactDecrypt:ow,compactVerify:hw,createLocalJWKSet:a$,createRemoteJWKSet:u$,decodeJwt:h$,decodeProtectedHeader:f$,errors:WA,exportJWK:uw,exportPKCS8:LD,exportSPKI:OD,flattenedDecrypt:im,flattenedVerify:am,generalDecrypt:$D,generalVerify:zD,generateKeyPair:m$,generateSecret:y$,importJWK:S0,importPKCS8:wD,importSPKI:bD,importX509:xD,jwtDecrypt:jD,jwtVerify:qD},Symbol.toStringTag,{value:"Module"})),b$=Q1(v$);var hu=wr&&wr.__awaiter||function(n,e,t,a){function o(u){return u instanceof t?u:new t(function(d){d(u)})}return new(t||(t=Promise))(function(u,d){function c(m){try{g(a.next(m))}catch(y){d(y)}}function h(m){try{g(a.throw(m))}catch(y){d(y)}}function g(m){m.done?u(m.value):o(m.value).then(c,h)}g((a=a.apply(n,e||[])).next())})},xw=wr&&wr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t0,"__esModule",{value:!0});t0.MangroveReviews=void 0;const x$=xw(MN),wd=xw(HA),w$=b$;class ri{static signReview(e,t){return hu(this,void 0,void 0,function*(){t=ri.cleanPayload(t);const a="ES256",o=yield ri.publicToPem(e.publicKey),u=JSON.stringify(yield crypto.subtle.exportKey("jwk",e.publicKey));return yield new w$.SignJWT(t).setProtectedHeader({alg:a,kid:o,jwk:u,enc:"utf-8"}).sign(e.privateKey)})}static submitReview(e,t=ri.ORIGINAL_API){return wd.default.put(`${t}/submit/${e}`)}static signAndSubmitReview(e,t,a=ri.ORIGINAL_API){return hu(this,void 0,void 0,function*(){const o=yield ri.signReview(e,t);return ri.submitReview(o,a)})}static getReviews(e,t=ri.ORIGINAL_API){return hu(this,void 0,void 0,function*(){const{data:a}=yield wd.default.get(`${t}/reviews`,{params:e,headers:{"Content-Type":"application/json"}});return a})}static getSubject(e,t=ri.ORIGINAL_API){return wd.default.get(`${t}/subject/${encodeURIComponent(e)}`).then(({data:a})=>a)}static getIssuer(e,t=ri.ORIGINAL_API){return wd.default.get(`${t}/issuer/${encodeURIComponent(e)}`).then(({data:a})=>a)}static batchAggregate(e,t=ri.ORIGINAL_API){return!e.pems&&!e.subs?null:wd.default.post(`${t}/batch`,e).then(({data:a})=>a)}static generateKeypair(){return crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"])}static jwkToKeypair(e){return hu(this,void 0,void 0,function*(){let t=Object.assign({},e);if(!t||t.metadata!==ri.PRIVATE_KEY_METADATA)throw new Error(`does not contain the required metadata field "${ri.PRIVATE_KEY_METADATA}"`);const a=yield crypto.subtle.importKey("jwk",t,{name:"ECDSA",namedCurve:"P-256"},!0,["sign"]);delete t.d,delete t.dp,delete t.dq,delete t.q,delete t.qi,t.key_ops=["verify"];const o=yield crypto.subtle.importKey("jwk",t,{name:"ECDSA",namedCurve:"P-256"},!0,["verify"]);return{privateKey:a,publicKey:o}})}static keypairToJwk(e){return hu(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("jwk",e.privateKey);return t.metadata=ri.PRIVATE_KEY_METADATA,t})}static u8aToString(e){return new TextDecoder().decode(e)}static privateToPem(e){return hu(this,void 0,void 0,function*(){try{const t=yield crypto.subtle.exportKey("pkcs8",e);return`-----BEGIN PRIVATE KEY-----
${btoa(String.fromCharCode(...new Uint8Array(t)))}
-----END PRIVATE KEY-----`}catch{const a=yield crypto.subtle.exportKey("jwk",e);return(0,x$.default)(a,{private:!0})}})}static publicToPem(e){return hu(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("spki",e);return`-----BEGIN PUBLIC KEY-----${btoa(String.fromCharCode(...new Uint8Array(t)))}-----END PUBLIC KEY-----`})}static cleanPayload(e){if(!e.sub)throw"Payload must include subject URI in `sub` field.";if(!e.rating&&!e.opinion)throw"Payload must include either rating or opinion.";if(e.rating!==void 0&&(e.rating<0||e.rating>100))throw"Rating must be in the range from 0 to 100.";e.iat=Math.floor(Date.now()/1e3),e.rating===null&&delete e.rating,e.opinion||delete e.opinion,(!e.images||!e.images.length)&&delete e.images;const t=Object.assign({client_id:window.location.href},e.metadata);for(const a in t){const o=t[a];(o===null||o===!1)&&delete t[a]}return e.metadata=t,e}}t0.MangroveReviews=ri;ri.ORIGINAL_API="https://api.mangrove.reviews";ri.PRIVATE_KEY_METADATA="Mangrove private key";(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.MangroveReviews=void 0;const e=t0;Object.defineProperty(n,"MangroveReviews",{enumerable:!0,get:function(){return e.MangroveReviews}})})(qs);class C0{constructor(e){ae(this,"keypair");ae(this,"key_id");const t=new Nt(void 0);this.key_id=t;const a=new Nt(void 0);this.keypair=a,e.addCallbackAndRunD(async o=>{if(o==="")return;const u=await qs.MangroveReviews.jwkToKeypair(JSON.parse(o));a.setData(u);const d=await qs.MangroveReviews.publicToPem(u.publicKey);t.setData(d)});try{!gt.runningFromConsole&&(e.data??"")===""&&C0.CreateIdentity(e).then(o=>{})}catch(o){console.error("Could not create identity: ",o)}}static async CreateIdentity(e){const t=await qs.MangroveReviews.generateKeypair(),a=await qs.MangroveReviews.keypairToJwk(t);(e.data??"")===""&&e.setData(JSON.stringify(a))}}const Vd=class{constructor(e,t,a){ae(this,"subjectUri");ae(this,"_reviews",new Nt([]));ae(this,"reviews",this._reviews);ae(this,"_lat");ae(this,"_lon");ae(this,"_uncertainty");ae(this,"_name");ae(this,"_identity");const o=Lr.centerpointCoordinates(e);[this._lon,this._lat]=o,this._identity=(t==null?void 0:t.mangroveIdentity)??new C0(new Nt(void 0));const u=(a==null?void 0:a.nameKey)??"name";if(e.geometry.type==="Point")this._uncertainty=(a==null?void 0:a.uncertaintyRadius)??10;else{let c;e.geometry.type==="LineString"?c=[e.geometry.coordinates]:(e.geometry.type==="MultiLineString"||e.geometry.type==="Polygon")&&(c=e.geometry.coordinates);let h=0;for(const g of c)for(const m of g)h=Math.max(h,Lr.distanceBetween(o,m));this._uncertainty=(a==null?void 0:a.uncertaintyRadius)??h}this._name=t.allElements.getEventSourceById(e.properties.id).map(c=>c[u]??(a==null?void 0:a.fallbackName)),this.subjectUri=this.ConstructSubjectUri();const d=this;this.subjectUri.addCallbackAndRunD(async c=>{const h=await qs.MangroveReviews.getReviews({sub:c});d.addReviews(h.reviews)}),this.ConstructSubjectUri(!0).addCallbackAndRunD(async c=>{try{const h=await qs.MangroveReviews.getReviews({sub:c});d.addReviews(h.reviews)}catch{console.log("Could not fetch reviews for partially incorrect query ",c)}})}static construct(e,t,a){const o=e.properties.id,u=Vd._featureReviewsCache[o];if(u!==void 0)return u;const d=new Vd(e,t,a);return Vd._featureReviewsCache[o]=d,d}async createReview(e){const t={sub:this.subjectUri.data,...e},a=this._identity.keypair.data;console.log(t);const o=await qs.MangroveReviews.signReview(a,t);console.log("Signed:",o),await qs.MangroveReviews.submitReview(o),this._reviews.data.push({...t,madeByLoggedInUser:new Bf(!0)}),this._reviews.ping()}addReviews(e){const t=this,a=new Set(t._reviews.data.map(u=>u.rating+" "+u.opinion));let o=!1;for(const u of e){const d=u.payload;try{const h=new URL(d.sub);if(console.log("URL is",h),h.protocol==="geo:"){const g=h.pathname.split(",").map(y=>Number(y));if(Lr.distanceBetween([this._lat,this._lon],g)>this._uncertainty)continue}}catch(h){console.warn(h)}const c=d.rating+" "+d.opinion;a.has(c)||(t._reviews.data.push({...d,madeByLoggedInUser:this._identity.key_id.map(h=>u.kid===h)}),o=!0)}o&&t._reviews.ping()}ConstructSubjectUri(e=!1){const t=this;return this._name.map(function(a){let o=`geo:${t._lat},${t._lon}?u=${t._uncertainty}`;return a&&(o+="&q="+(e?a:encodeURIComponent(a))),o})}};let Ug=Vd;ae(Ug,"_featureReviewsCache",{});class _${constructor(e){ae(this,"layoutToUse");ae(this,"featureSwitchUserbadge");ae(this,"featureSwitchSearch");ae(this,"featureSwitchBackgroundSelection");ae(this,"featureSwitchAddNew");ae(this,"featureSwitchWelcomeMessage");ae(this,"featureSwitchCommunityIndex");ae(this,"featureSwitchExtraLinkEnabled");ae(this,"featureSwitchMoreQuests");ae(this,"featureSwitchShareScreen");ae(this,"featureSwitchGeolocation");ae(this,"featureSwitchIsTesting");ae(this,"featureSwitchIsDebugging");ae(this,"featureSwitchShowAllQuestions");ae(this,"featureSwitchApiURL");ae(this,"featureSwitchFilter");ae(this,"featureSwitchEnableExport");ae(this,"featureSwitchFakeUser");ae(this,"featureSwitchExportAsPdf");ae(this,"overpassUrl");ae(this,"overpassTimeout");ae(this,"overpassMaxZoom");ae(this,"osmApiTileSize");ae(this,"backgroundLayerId");this.layoutToUse=e;function t(o,u,d){const c=u(e);return pa.GetQueryParameter(o,""+c,d).sync(g=>g===void 0?c:g!=="false",[],g=>g==c?void 0:""+g)}this.featureSwitchUserbadge=t("fs-userbadge",o=>(o==null?void 0:o.enableUserBadge)??!0,"Disables/Enables the user information pill (userbadge) at the top left. Disabling this disables logging in and thus disables editing all together, effectively putting MapComplete into read-only mode."),this.featureSwitchSearch=t("fs-search",o=>(o==null?void 0:o.enableSearch)??!0,"Disables/Enables the search bar"),this.featureSwitchBackgroundSelection=t("fs-background",o=>(o==null?void 0:o.enableBackgroundLayerSelection)??!0,"Disables/Enables the background layer control"),this.featureSwitchFilter=t("fs-filter",o=>(o==null?void 0:o.enableLayers)??!0,"Disables/Enables the filter view"),this.featureSwitchAddNew=t("fs-add-new",o=>(o==null?void 0:o.enableAddNewPoints)??!0,"Disables/Enables the 'add new feature'-popup. (A theme without presets might not have it in the first place)"),this.featureSwitchWelcomeMessage=t("fs-welcome-message",()=>!0,"Disables/enables the help menu or welcome message"),this.featureSwitchCommunityIndex=t("fs-community-index",()=>!0,"Disables/enables the button to get in touch with the community"),this.featureSwitchExtraLinkEnabled=t("fs-iframe-popout",o=>!0,"Disables/Enables the extraLink button. By default, if in iframe mode and the welcome message is hidden, a popout button to the full mapcomplete instance is shown instead (unless disabled with this switch or another extraLink button is enabled)"),this.featureSwitchMoreQuests=t("fs-more-quests",o=>(o==null?void 0:o.enableMoreQuests)??!0,"Disables/Enables the 'More Quests'-tab in the welcome message"),this.featureSwitchShareScreen=t("fs-share-screen",o=>(o==null?void 0:o.enableShareScreen)??!0,"Disables/Enables the 'Share-screen'-tab in the welcome message"),this.featureSwitchGeolocation=t("fs-geolocation",o=>(o==null?void 0:o.enableGeolocation)??!0,"Disables/Enables the geolocation button"),this.featureSwitchShowAllQuestions=t("fs-all-questions",o=>(o==null?void 0:o.enableShowAllQuestions)??!1,"Always show all questions"),this.featureSwitchEnableExport=t("fs-export",o=>(o==null?void 0:o.enableExportButton)??!1,"Enable the export as GeoJSON and CSV button"),this.featureSwitchExportAsPdf=t("fs-pdf",o=>(o==null?void 0:o.enablePdfDownload)??!1,"Enable the PDF download button"),this.featureSwitchApiURL=pa.GetQueryParameter("backend","osm","The OSM backend to use - can be used to redirect mapcomplete to the testing backend when using 'osm-test'");let a=!1;this.featureSwitchApiURL.data!=="osm-test"&&!gt.runningFromConsole&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(a=!0),this.featureSwitchIsTesting=pa.GetBooleanQueryParameter("test",a,"If true, 'dryrun' mode is activated. The app will behave as normal, except that changes to OSM will be printed onto the console instead of actually uploaded to osm.org"),this.featureSwitchIsDebugging=pa.GetBooleanQueryParameter("debug",!1,"If true, shows some extra debugging help such as all the available tags on every object"),this.featureSwitchFakeUser=pa.GetBooleanQueryParameter("fake-user",!1,"If true, 'dryrun' mode is activated and a fake user account is loaded"),this.overpassUrl=pa.GetQueryParameter("overpassUrl",((e==null?void 0:e.overpassUrl)??gs.defaultOverpassUrls).join(","),"Point mapcomplete to a different overpass-instance. Example: https://overpass-api.de/api/interpreter").sync(o=>o==null?void 0:o.split(","),[],o=>o==null?void 0:o.join(",")),this.overpassTimeout=Nt.asFloat(pa.GetQueryParameter("overpassTimeout",""+(e==null?void 0:e.overpassTimeout),"Set a different timeout (in seconds) for queries in overpass")),this.overpassMaxZoom=Nt.asFloat(pa.GetQueryParameter("overpassMaxZoom",""+(e==null?void 0:e.overpassMaxZoom)," point to switch between OSM-api and overpass")),this.osmApiTileSize=Nt.asFloat(pa.GetQueryParameter("osmApiTileSize",""+(e==null?void 0:e.osmApiTileSize),"Tilesize when the OSM-API is used to fetch data within a BBOX")),this.featureSwitchUserbadge.addCallbackAndRun(o=>{o||this.featureSwitchAddNew.setData(!1)}),this.backgroundLayerId=pa.GetQueryParameter("background",(e==null?void 0:e.defaultBackgroundId)??"osm","The id of the background layer to start with")}}class S${constructor(){ae(this,"ContainingFeatures",new Map);ae(this,"_elements",new Map)}addElementById(e,t){this._elements.set(e,t)}addOrGetElement(e){const t=e.properties.id,a=e.properties,o=this.addOrGetById(t,a);return e.properties=o.data,this.ContainingFeatures.has(t)||this.ContainingFeatures.set(t,e),o}getEventSourceById(e){if(e!==void 0)return this._elements.get(e)}has(e){return this._elements.has(e)}addAlias(e,t){if(t===void 0){const o=this.getEventSourceById(e);o.data._deleted="yes",o.ping();return}if(e==t)return;const a=this.getEventSourceById(e);a!==void 0&&(a.data.id=t,this.addElementById(t,a),this.ContainingFeatures.set(t,this.ContainingFeatures.get(e)),a.ping())}addOrGetById(e,t){if(!this._elements.has(e)){const d=new Nt(t,"tags of "+e);return this._elements.set(e,d),d}const a=this._elements.get(e);if(a.data==t)return a;const o=a.data;let u=!1;for(const d in t){if(!t.hasOwnProperty(d))continue;const c=t[d];o[d]!==c&&(c===void 0?d.startsWith("_")||delete o[d]:o[d]=c,u=!0)}return u&&a.ping(),a}}class E$ extends _${constructor(t){super(t);ae(this,"allElements",new S$);ae(this,"selectedElement",new Nt(void 0,"Selected element"));ae(this,"locationControl",new Nt(void 0,"locationControl"));ae(this,"currentBounds",new Nt(void 0));function a(c,h,g){const m=Eb.Get(c),y=m.data,x=Nt.asFloat(pa.GetQueryParameter(c,""+h,g).syncWith(m));if(x.data===h){const E=Number(y);isNaN(E)||x.setData(E)}return x}const o=a("z",(t==null?void 0:t.startZoom)??1,"The initial/current zoom level"),u=a("lat",(t==null?void 0:t.startLat)??0,"The initial/current latitude"),d=a("lon",(t==null?void 0:t.startLon)??0,"The initial/current longitude of the app");this.locationControl.setData({zoom:gt.asFloat(o.data),lat:gt.asFloat(u.data),lon:gt.asFloat(d.data)}),this.locationControl.addCallback(c=>{o.setData(c.zoom),u.setData(c.lat),d.setData(c.lon)})}}const Hh=class{constructor(e){e.osmConnection.isLoggedIn.addCallbackAndRun(t=>{if(t)return Hh.installCallback(e),!0})}static installCallback(e){e.selectedElement.addCallbackAndRunD(async t=>{var u;let a=(u=t.properties)==null?void 0:u.id;const o=e.osmConnection._oauth_config.url;if(a.startsWith(o)&&(a=a.substring(o.length)),!!(a.startsWith("way")||a.startsWith("node")||a.startsWith("relation"))&&!(a.indexOf("-")>=0))try{const d=await _i.DownloadPropertiesOf(a);if(d==="deleted"){console.warn("The current selected element has been deleted upstream!");const c=e.allElements.getEventSourceById(a);if(c.data._deleted==="yes")return;c.data._deleted="yes",c.ping();return}Hh.applyUpdate(e,d,a),console.log("Updated",a)}catch(d){console.warn("Could not update",a," due to",d)}})}static applyUpdate(e,t,a){try{e.layoutToUse.isLeftRightSensitive()&&fr.removeBothTagging(t);const u=e.changes.pendingChanges.data.filter(g=>g.type+"/"+g.id===a).filter(g=>g.tags!==void 0);for(const g of u){const m=g.tags;for(const y of m){const x=y.k,E=y.v;E===void 0||E===""?delete t[x]:t[x]=E}}let d=!1;const c=e.allElements.getEventSourceById(a),h=c.data;for(const g in t){let m=t[g];typeof m=="number"&&(m=""+m),h[g]!==m&&(d=!0,h[g]=m)}for(const g in h)g.startsWith("_")||this.metatags.has(g)||g in t||(console.log("Removing key as deleted upstream",g),delete h[g],d=!0);d?(console.log("Detected upstream changes to the object when opening it, updating..."),c.ping()):console.debug("Fetched latest tags for ",a,"but detected no changes")}catch(o){console.error("Updating the tags of selected element ",a,"failed due to",o)}}};let kf=Hh;ae(kf,"metatags",new Set(["timestamp","version","changeset","user","uid","id"]));class Mh{constructor(e,t=!1){ae(this,"name","Newly added features");ae(this,"features",new Nt([]));ae(this,"pendingChanges",Eb.GetParsed("pending-changes",[]));ae(this,"allChanges",new Nt(void 0));ae(this,"state");ae(this,"extraComment",new Nt(void 0));ae(this,"historicalUserLocations");ae(this,"_nextId",-1);ae(this,"isUploading",new Nt(!1));ae(this,"previouslyCreated",[]);ae(this,"_leftRightSensitive");ae(this,"_changesetHandler");var a,o;this._leftRightSensitive=t,this.allChanges.setData([...this.pendingChanges.data]),this._nextId=Math.min(-1,...((a=this.pendingChanges.data)==null?void 0:a.map(u=>u.id))??[]),this.state=e,this._changesetHandler=(o=e==null?void 0:e.osmConnection)==null?void 0:o.CreateChangesetHandler(e.allElements,this)}static createChangesetFor(e,t){const a=t.modifiedObjects??[],o=t.newObjects??[],u=t.deletedObjects??[];let d=`<osmChange version='0.6' generator='Mapcomplete ${gs.vNumber}'>`;return o.length>0&&(d+=`
<create>
`+o.map(c=>c.ChangesetXML(e)).join(`
`)+"</create>"),a.length>0&&(d+=`
<modify>
`+a.map(c=>c.ChangesetXML(e)).join(`
`)+`
</modify>`),u.length>0&&(d+=`
<delete>
`+u.map(c=>c.ChangesetXML(e)).join(`
`)+`
</delete>`),d+="</osmChange>",d}static GetNeededIds(e){return gt.Dedup(e.filter(t=>t.id>=0).map(t=>t.type+"/"+t.id))}getNewID(){return this._nextId--}async flushChanges(e=void 0){if(this.pendingChanges.data.length!==0){if(this.isUploading.data){console.log("Is already uploading... Abort");return}console.log("Uploading changes due to: ",e),this.isUploading.setData(!0);try{const t=await this.flushChangesAsync();this.isUploading.setData(!1),console.log("Changes flushed. Your changeset is "+t)}catch(t){this.isUploading.setData(!1),console.error("Flushing changes failed due to",t)}}}async applyAction(e){const t=await e.Perform(this);t[0].meta.distanceToObject=this.calculateDistanceToChanges(e,t),this.applyChanges(t)}applyChanges(e){console.log("Received changes:",e),this.pendingChanges.data.push(...e),this.pendingChanges.ping(),this.allChanges.data.push(...e),this.allChanges.ping()}calculateDistanceToChanges(e,t){var h,g;const a=(g=(h=this.historicalUserLocations)==null?void 0:h.features)==null?void 0:g.data;if(a===void 0||!e.trackStatistics)return;const o=new Date,u=a.map(m=>m.feature).filter(m=>m.geometry.type==="Point").filter(m=>{const y=new Date(m.properties.date);return(o.getTime()-y.getTime())/1e3<gs.nearbyVisitTime});if(u.length===0)return;const d=[],c=this.state.allElements.ContainingFeatures.get(e.mainObjectId);c!==void 0&&d.push(Lr.centerpointCoordinates(c));for(const m of t){const y=m.changes;y!==void 0&&(y.lat!==void 0&&d.push([y.lat,y.lon]),y.coordinates!==void 0&&d.push(...y.coordinates))}return Math.min(...d.map(m=>Math.min(...u.map(y=>{const x=Lr.centerpointCoordinates(y);return Lr.distanceBetween(m,x)}))))}async flushSelectChanges(e,t){const a=this,o=Mh.GetNeededIds(e),u=gt.NoNull(await Promise.all(o.map(async L=>_i.DownloadObjectAsync(L).catch(k=>{console.error("Could not download OSM-object",L," dropping it from the changes ("+k+")"),e=e.filter(W=>W.type+"/"+W.id!==L)}))));if(this._leftRightSensitive&&u.forEach(L=>fr.removeBothTagging(L.tags)),console.log("Got the fresh objects!",u,"pending: ",e),e.length==0)return console.log("No pending changes..."),!0;const d=Array.from(gt.Hist(e.filter(L=>L.meta.changeType!==void 0&&L.meta.changeType!==null).map(L=>L.meta.changeType)),([L,k])=>({key:L,value:k,aggregate:!0})),c=e.filter(L=>L.meta.specialMotivation!==void 0).map(L=>({key:L.meta.changeType+":"+L.type+"/"+L.id,value:L.meta.specialMotivation})),h=gt.NoNull(e.map(L=>L.meta.distanceToObject));h.sort((L,k)=>L-k);const g=gs.distanceToChangeObjectBins.map(L=>0);let m=0;const y=gs.distanceToChangeObjectBins;for(let L=0;L<y.length;L++){const k=y[L];for(;m<h.length&&h[m]<k;)g[L]++,m++}const x=gt.NoNull(g.map((L,k)=>{if(L===0)return;const W=y[k];let $=`change_within_${W}m`;return W===Number.MAX_VALUE&&($=`change_over_${y[k-1]}m`),{key:$,value:L,aggregate:!0}})),E=e[0].meta.theme;let _="Adding data with #MapComplete for theme #"+E;this.extraComment.data!==void 0&&(_+=`

`+this.extraComment.data);const w=[{key:"comment",value:_},{key:"theme",value:E},...d,...c,...x];return await this._changesetHandler.UploadChangeset((L,k)=>{k.size>0&&(console.log("Rewriting pending changes from",e,"with",k),e=e.map($=>nM.rewriteIds($,k)),console.log("Result is",e));const W=a.CreateChangesetObjects(e,u);return Mh.createChangesetFor(""+L,W)},w,t),console.log("Upload successfull!"),!0}async flushChangesAsync(){const e=this;try{const t=e.pendingChanges.data,a=new Map;for(const u of t){const d=u.meta.theme;a.has(d)||a.set(d,[]),a.get(d).push(u)}(await Promise.all(Array.from(a,async([u,d])=>{try{const c=this.state.osmConnection.GetPreference("current-open-changeset-"+u).sync(h=>{const g=Number(h);if(!isNaN(g))return g},[],h=>""+h);return console.log("Using current-open-changeset-"+u+" from the preferences, got "+c.data),await e.flushSelectChanges(d,c)}catch(c){return console.error("Could not upload some changes:",c),!1}}))).some(u=>u==!1)||this.pendingChanges.setData([])}catch(t){console.error("Could not handle changes - probably an old, pending changeset in localstorage with an invalid format; erasing those",t),e.pendingChanges.setData([])}finally{e.isUploading.setData(!1)}}CreateChangesetObjects(e,t){const a=new Map,o=new Map;for(const d of t)a.set(d.type+"/"+d.id,d),o.set(d.type+"/"+d.id,"unchanged");for(const d of this.previouslyCreated)a.set(d.type+"/"+d.id,d),o.set(d.type+"/"+d.id,"unchanged");for(const d of e){let c=!1;const h=d.type+"/"+d.id;if(!a.has(h)){if(d.id>=0)throw"Did not get an object that should be known: "+h;if(d.changes===void 0)throw"Not a creation of the object";o.set(h,"created"),console.log("Creating object for changeDescription",d);let y;switch(d.type){case"node":const x=new gh(d.id);x.lat=d.changes.lat,x.lon=d.changes.lon,y=x;break;case"way":const E=new Od(d.id);E.nodes=d.changes.nodes,y=E;break;case"relation":const _=new Ld(d.id);_.members=d.changes.members,y=_;break}if(y===void 0)throw"Hmm? This is a bug";a.set(h,y),this.previouslyCreated.push(y)}const g=o.get(h);d.doDelete&&(g==="created"?o.set(h,"unchanged"):o.set(h,"deleted"));const m=a.get(h);for(const y of d.tags??[]){const x=y.k;let E=y.v;E===""&&(E=void 0),m.tags[x]!==E&&(m.tags[x]=E,c=!0)}if(d.changes!==void 0)switch(d.type){case"node":const y=d.changes.lat,x=d.changes.lon,E=m;(E.lat!==y||E.lon!==x)&&(E.lat=y,E.lon=x,c=!0);break;case"way":const _=d.changes.nodes,w=m;gt.Identical(_,w.nodes)||(w.nodes=_,c=!0);break;case"relation":const L=d.changes.members,k=m;gt.Identical(L,k.members,(W,$)=>W.role===$.role&&W.type===$.type&&W.ref===$.ref)||(k.members=L,c=!0);break}c&&o.get(h)==="unchanged"&&o.set(h,"modified")}const u={newObjects:[],modifiedObjects:[],deletedObjects:[]};return a.forEach((d,c)=>{const h=o.get(c);h==="created"&&u.newObjects.push(d),h==="modified"&&u.modifiedObjects.push(d),h==="deleted"&&u.deletedObjects.push(d)}),console.debug("Calculated the pending changes: ",u.newObjects.length,"new; ",u.modifiedObjects.length,"modified;",u.deletedObjects,"deleted"),u}setHistoricalUserLocations(e){this.historicalUserLocations=e}}class C${constructor(e,t){e.pendingChanges.addCallbackAndRun(a=>{for(const o of a){const u=o.type+"/"+o.id;if(!t.has(u))continue;const d=t.getEventSourceById(u);let c=!1;for(const h of o.tags??[]){const g=h.k;let m=h.v;m===""&&(m=void 0),d.data[g]!==m&&(c=!0,d.data[g]=m)}c&&d.ping()}})}}class M${constructor(e,t){ae(this,"lastChange");const a=this;if(this.lastChange=new Date,e.pendingChanges.addCallback(()=>{a.lastChange=new Date,window.setTimeout(()=>{const u=(new Date().getTime()-a.lastChange.getTime())/1e3;gs.updateTimeoutSec>=u-1&&e.flushChanges("Flushing changes due to timeout")},gs.updateTimeoutSec*1e3)}),t.stabilized(1e4).addCallback(u=>{u===void 0&&e.flushChanges("Flushing changes due to popup closed")}),gt.runningFromConsole)return;document.addEventListener("mouseout",u=>{!u.toElement&&!u.relatedTarget&&e.flushChanges("Flushing changes due to focus lost")}),document.onfocus=()=>{e.flushChanges("OnFocus")},document.onblur=()=>{e.flushChanges("OnFocus")};try{document.addEventListener("visibilitychange",()=>{e.flushChanges("Visibility change")},!1)}catch(u){console.warn("Could not register visibility change listener",u)}function o(u){if(e.pendingChanges.data.length!=0)return e.flushChanges("onbeforeunload - probably closing or something similar"),u.preventDefault(),"Saving your last changes..."}window.onbeforeunload=o,window.addEventListener("pagehide",o)}}const Dm=class{constructor(e="https://maproulette.org/api/v2"){ae(this,"endpoint");ae(this,"apiKey");this.endpoint=e,this.apiKey=gs.MaprouletteApiKey}async closeTask(e,t=Dm.STATUS_FIXED,a){const o=await fetch(`${this.endpoint}/task/${e}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",apiKey:this.apiKey},body:a!==void 0?JSON.stringify(a):void 0});if(o.status!==204)throw console.log(`Failed to close task: ${o.status}`),`Failed to close task: ${o.status}`}};let ga=Dm;ae(ga,"STATUS_OPEN",0),ae(ga,"STATUS_FIXED",1),ae(ga,"STATUS_FALSE_POSITIVE",2),ae(ga,"STATUS_SKIPPED",3),ae(ga,"STATUS_DELETED",4),ae(ga,"STATUS_ALREADY_FIXED",5),ae(ga,"STATUS_TOO_HARD",6),ae(ga,"STATUS_DISABLED",9),ae(ga,"STATUS_MEANING",{0:"Open",1:"Fixed",2:"False positive",3:"Skipped",4:"Deleted",5:"Already fixed",6:"Too hard",9:"Disabled"});class _k extends E${constructor(t,a){super(t);ae(this,"osmConnection");ae(this,"changes");ae(this,"mangroveIdentity");ae(this,"maprouletteConnection");ae(this,"installedUserThemes");ae(this,"showAllQuestionsAtOnce");this.osmConnection=new Nf({dryRun:this.featureSwitchIsTesting,fakeUser:this.featureSwitchFakeUser.data,oauth_token:pa.GetQueryParameter("oauth_token",void 0,"Used to complete the login"),osmConfiguration:this.featureSwitchApiURL.data,attemptLogin:a==null?void 0:a.attemptLogin}),this.osmConnection.GetPreference("translation-mode").addCallbackAndRunD(u=>{u=u.toLowerCase(),u==="true"||u==="yes"?(Ur.showLinkOnMobile.setData(!1),Ur.showLinkToWeblate.setData(!0)):u==="false"||u==="no"?Ur.showLinkToWeblate.setData(!1):u==="mobile"?(Ur.showLinkOnMobile.setData(!0),Ur.showLinkToWeblate.setData(!0)):(Ur.showLinkOnMobile.setData(!1),Ur.showLinkToWeblate.setData(!1))}),this.changes=new Mh(this,(t==null?void 0:t.isLeftRightSensitive())??!1),this.showAllQuestionsAtOnce=Nt.asBoolean(this.osmConnection.GetPreference("show-all-questions","false",{documentation:"Either 'true' or 'false'. If set, all questions will be shown all at once"})),new C$(this.changes,this.allElements),new M$(this.changes,this.selectedElement),this.mangroveIdentity=new C0(this.osmConnection.GetLongPreference("identity","mangrove")),this.maprouletteConnection=new ga,t!=null&&t.hideFromOverview&&this.osmConnection.isLoggedIn.addCallbackAndRunD(o=>{if(o)return this.osmConnection.GetPreference("hidden-theme-"+(t==null?void 0:t.id)+"-enabled").setData("true"),!0}),this.layoutToUse!==void 0&&!this.layoutToUse.official&&(console.log("Marking unofficial theme as visited"),this.osmConnection.GetLongPreference("unofficial-theme-"+this.layoutToUse.id).setData(JSON.stringify({id:this.layoutToUse.id,icon:this.layoutToUse.icon,title:this.layoutToUse.title.translations,shortDescription:this.layoutToUse.shortDescription.translations,definition:this.layoutToUse.definition}))),this.InitializeLanguage(),new kf(this),this.installedUserThemes=this.InitInstalledUserThemes()}GetUnofficialTheme(t){console.log("GETTING UNOFFICIAL THEME");const a=this.osmConnection.GetLongPreference("unofficial-theme-"+t),o=a.data;if(o===void 0||o==="undefined"||o===""){a.setData(null);return}try{const u=JSON.parse(o);return u.isOfficial=!1,u}catch{console.warn("Removing theme "+t+" as it could not be parsed from the preferences; the content is:",o),a.setData(null);return}}InitializeLanguage(){const t=this.layoutToUse;Ur.language.syncWith(this.osmConnection.GetPreference("language")),Ur.language.addCallback(a=>{if(t!==void 0){if(Ur.showLinkToWeblate.data)return!0;this.layoutToUse.language.indexOf(a)<0&&(console.log("Resetting language to",t.language[0],"as",a," is unsupported"),Ur.language.setData(t.language[0]))}}),Ur.language.ping()}InitInstalledUserThemes(){const t="mapcomplete-unofficial-theme-",a="-combined-length";return this.osmConnection.preferencesHandler.preferences.map(o=>Object.keys(o).filter(u=>u.startsWith(t)&&u.endsWith(a)).map(u=>u.substring(t.length,u.length-a.length)))}}class ov extends K4{constructor(e,t,a){super(a??nr.login_ui(),e),this.onClick(()=>{t.osmConnection.AttemptLogin()})}}class Sk extends _a{constructor(e,t,a){const o=new Gd("Trying to log in..."),u=t===void 0?void 0:new ov(t,a),d=tn.t.general,c={offline:d.loginFailedOfflineMode,unreachable:d.loginFailedUnreachableMode,readonly:d.loginFailedReadonlyMode};super(a.osmConnection.loadingStatus.map(h=>{if(a.featureSwitchUserbadge.data==!1)return;const g=a.osmConnection.apiIsOnline.data,m=c[g];return m!==void 0?new un([nr.invalid_svg().SetClass("w-8 h-8 m-2 shrink-0"),m]).SetClass("flex items-center alert max-w-64"):h==="loading"?o:h==="not-attempted"?u:h==="logged-in"?e:new ov(tn.t.general.loginFailed,a,nr.invalid_svg())},[a.featureSwitchUserbadge,a.osmConnection.apiIsOnline]))}}class Ek extends sc{constructor(t,a){super();ae(this,"_text");this._text=tn.W(t),this.onClick(a)}InnerConstructElement(){const t=this._text.ConstructElement();if(t===void 0)return;const a=document.createElement("form"),o=document.createElement("button");return o.type="button",o.appendChild(t),a.appendChild(o),a}}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Bs(){}const I$=function(){let n=0;return function(){return n++}}();function $n(n){return n===null||typeof n>"u"}function Jn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _n(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}const Sr=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function ma(n,e){return Sr(n)?n:e}function gn(n,e){return typeof n>"u"?e:n}const P$=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/e,ww=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Kn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Hn(n,e,t,a){let o,u,d;if(Jn(n))if(u=n.length,a)for(o=u-1;o>=0;o--)e.call(t,n[o],o);else for(o=0;o<u;o++)e.call(t,n[o],o);else if(_n(n))for(d=Object.keys(n),u=d.length,o=0;o<u;o++)e.call(t,n[d[o]],d[o])}function Ih(n,e){let t,a,o,u;if(!n||!e||n.length!==e.length)return!1;for(t=0,a=n.length;t<a;++t)if(o=n[t],u=e[t],o.datasetIndex!==u.datasetIndex||o.index!==u.index)return!1;return!0}function Ph(n){if(Jn(n))return n.map(Ph);if(_n(n)){const e=Object.create(null),t=Object.keys(n),a=t.length;let o=0;for(;o<a;++o)e[t[o]]=Ph(n[t[o]]);return e}return n}function _w(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function N$(n,e,t,a){if(!_w(n))return;const o=e[n],u=t[n];_n(o)&&_n(u)?tc(o,u,a):e[n]=Ph(u)}function tc(n,e,t){const a=Jn(e)?e:[e],o=a.length;if(!_n(n))return n;t=t||{};const u=t.merger||N$;for(let d=0;d<o;++d){if(e=a[d],!_n(e))continue;const c=Object.keys(e);for(let h=0,g=c.length;h<g;++h)u(c[h],n,e,t)}return n}function kd(n,e){return tc(n,e,{merger:A$})}function A$(n,e,t){if(!_w(n))return;const a=e[n],o=t[n];_n(a)&&_n(o)?kd(a,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ph(o))}const uv={"":n=>n,x:n=>n.x,y:n=>n.y};function Lo(n,e){return(uv[e]||(uv[e]=D$(e)))(n)}function D$(n){const e=$$(n);return t=>{for(const a of e){if(a==="")break;t=t&&t[a]}return t}}function $$(n){const e=n.split("."),t=[];let a="";for(const o of e)a+=o,a.endsWith("\\")?a=a.slice(0,-1)+".":(t.push(a),a="");return t}function cm(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ia=n=>typeof n<"u",ko=n=>typeof n=="function",lv=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function T$(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const rr=Math.PI,Vn=2*rr,R$=Vn+rr,Nh=Number.POSITIVE_INFINITY,O$=rr/180,pr=rr/2,_d=rr/4,dv=rr*2/3,wa=Math.log10,ws=Math.sign;function cv(n){const e=Math.round(n);n=Fd(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(wa(n))),a=n/t;return(a<=1?1:a<=2?2:a<=5?5:10)*t}function L$(n){const e=[],t=Math.sqrt(n);let a;for(a=1;a<t;a++)n%a===0&&(e.push(a),e.push(n/a));return t===(t|0)&&e.push(t),e.sort((o,u)=>o-u).pop(),e}function Nl(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Fd(n,e,t){return Math.abs(n-e)<t}function k$(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Sw(n,e,t){let a,o,u;for(a=0,o=n.length;a<o;a++)u=n[a][t],isNaN(u)||(e.min=Math.min(e.min,u),e.max=Math.max(e.max,u))}function qa(n){return n*(rr/180)}function fm(n){return n*(180/rr)}function fv(n){if(!Sr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Ew(n,e){const t=e.x-n.x,a=e.y-n.y,o=Math.sqrt(t*t+a*a);let u=Math.atan2(a,t);return u<-.5*rr&&(u+=Vn),{angle:u,distance:o}}function H1(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function F$(n,e){return(n-e+R$)%Vn-rr}function Ji(n){return(n%Vn+Vn)%Vn}function nc(n,e,t,a){const o=Ji(n),u=Ji(e),d=Ji(t),c=Ji(u-o),h=Ji(d-o),g=Ji(o-u),m=Ji(o-d);return o===u||o===d||a&&u===d||c>h&&g<m}function jr(n,e,t){return Math.max(e,Math.min(t,n))}function B$(n){return jr(n,-32768,32767)}function Ks(n,e,t,a=1e-6){return n>=Math.min(e,t)-a&&n<=Math.max(e,t)+a}function hm(n,e,t){t=t||(d=>n[d]<e);let a=n.length-1,o=0,u;for(;a-o>1;)u=o+a>>1,t(u)?o=u:a=u;return{lo:o,hi:a}}const Js=(n,e,t,a)=>hm(n,t,a?o=>n[o][e]<=t:o=>n[o][e]<t),H$=(n,e,t)=>hm(n,t,a=>n[a][e]>=t);function z$(n,e,t){let a=0,o=n.length;for(;a<o&&n[a]<e;)a++;for(;o>a&&n[o-1]>t;)o--;return a>0||o<n.length?n.slice(a,o):n}const Cw=["push","pop","shift","splice","unshift"];function V$(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Cw.forEach(t=>{const a="_onData"+cm(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...u){const d=o.apply(this,u);return n._chartjs.listeners.forEach(c=>{typeof c[a]=="function"&&c[a](...u)}),d}})})}function hv(n,e){const t=n._chartjs;if(!t)return;const a=t.listeners,o=a.indexOf(e);o!==-1&&a.splice(o,1),!(a.length>0)&&(Cw.forEach(u=>{delete n[u]}),delete n._chartjs)}function Mw(n){const e=new Set;let t,a;for(t=0,a=n.length;t<a;++t)e.add(n[t]);return e.size===a?n:Array.from(e)}const Iw=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Pw(n,e,t){const a=t||(d=>Array.prototype.slice.call(d));let o=!1,u=[];return function(...d){u=a(d),o||(o=!0,Iw.call(window,()=>{o=!1,n.apply(e,u)}))}}function G$(n,e){let t;return function(...a){return e?(clearTimeout(t),t=setTimeout(n,e,a)):n.apply(this,a),e}}const gm=n=>n==="start"?"left":n==="end"?"right":"center",li=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,W$=(n,e,t,a)=>n===(a?"left":"right")?t:n==="center"?(e+t)/2:e;function Nw(n,e,t){const a=e.length;let o=0,u=a;if(n._sorted){const{iScale:d,_parsed:c}=n,h=d.axis,{min:g,max:m,minDefined:y,maxDefined:x}=d.getUserBounds();y&&(o=jr(Math.min(Js(c,d.axis,g).lo,t?a:Js(e,h,d.getPixelForValue(g)).lo),0,a-1)),x?u=jr(Math.max(Js(c,d.axis,m,!0).hi+1,t?0:Js(e,h,d.getPixelForValue(m),!0).hi+1),o,a)-o:u=a-o}return{start:o,count:u}}function Aw(n){const{xScale:e,yScale:t,_scaleRanges:a}=n,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!a)return n._scaleRanges=o,!0;const u=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==t.min||a.ymax!==t.max;return Object.assign(a,o),u}const df=n=>n===0||n===1,gv=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Vn/t)),pv=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Vn/t)+1,Bd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*pr)+1,easeOutSine:n=>Math.sin(n*pr),easeInOutSine:n=>-.5*(Math.cos(rr*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>df(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>df(n)?n:gv(n,.075,.3),easeOutElastic:n=>df(n)?n:pv(n,.075,.3),easeInOutElastic(n){return df(n)?n:n<.5?.5*gv(n*2,.1125,.45):.5+.5*pv(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Bd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Bd.easeInBounce(n*2)*.5:Bd.easeOutBounce(n*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function pc(n){return n+.5|0}const Ao=(n,e,t)=>Math.max(Math.min(n,t),e);function Ad(n){return Ao(pc(n*2.55),0,255)}function $o(n){return Ao(pc(n*255),0,255)}function Vs(n){return Ao(pc(n/2.55)/100,0,1)}function mv(n){return Ao(pc(n*100),0,100)}const ha={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},z1=[..."0123456789ABCDEF"],U$=n=>z1[n&15],q$=n=>z1[(n&240)>>4]+z1[n&15],cf=n=>(n&240)>>4===(n&15),j$=n=>cf(n.r)&&cf(n.g)&&cf(n.b)&&cf(n.a);function K$(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ha[n[1]]*17,g:255&ha[n[2]]*17,b:255&ha[n[3]]*17,a:e===5?ha[n[4]]*17:255}:(e===7||e===9)&&(t={r:ha[n[1]]<<4|ha[n[2]],g:ha[n[3]]<<4|ha[n[4]],b:ha[n[5]]<<4|ha[n[6]],a:e===9?ha[n[7]]<<4|ha[n[8]]:255})),t}const J$=(n,e)=>n<255?e(n):"";function Y$(n){var e=j$(n)?U$:q$;return n?"#"+e(n.r)+e(n.g)+e(n.b)+J$(n.a,e):void 0}const X$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dw(n,e,t){const a=e*Math.min(t,1-t),o=(u,d=(u+n/30)%12)=>t-a*Math.max(Math.min(d-3,9-d,1),-1);return[o(0),o(8),o(4)]}function Z$(n,e,t){const a=(o,u=(o+n/60)%6)=>t-t*e*Math.max(Math.min(u,4-u,1),0);return[a(5),a(3),a(1)]}function Q$(n,e,t){const a=Dw(n,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)a[o]*=1-e-t,a[o]+=e;return a}function eT(n,e,t,a,o){return n===o?(e-t)/a+(e<t?6:0):e===o?(t-n)/a+2:(n-e)/a+4}function pm(n){const t=n.r/255,a=n.g/255,o=n.b/255,u=Math.max(t,a,o),d=Math.min(t,a,o),c=(u+d)/2;let h,g,m;return u!==d&&(m=u-d,g=c>.5?m/(2-u-d):m/(u+d),h=eT(t,a,o,m,u),h=h*60+.5),[h|0,g||0,c]}function mm(n,e,t,a){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,a)).map($o)}function ym(n,e,t){return mm(Dw,n,e,t)}function tT(n,e,t){return mm(Q$,n,e,t)}function nT(n,e,t){return mm(Z$,n,e,t)}function $w(n){return(n%360+360)%360}function rT(n){const e=X$.exec(n);let t=255,a;if(!e)return;e[5]!==a&&(t=e[6]?Ad(+e[5]):$o(+e[5]));const o=$w(+e[2]),u=+e[3]/100,d=+e[4]/100;return e[1]==="hwb"?a=tT(o,u,d):e[1]==="hsv"?a=nT(o,u,d):a=ym(o,u,d),{r:a[0],g:a[1],b:a[2],a:t}}function iT(n,e){var t=pm(n);t[0]=$w(t[0]+e),t=ym(t),n.r=t[0],n.g=t[1],n.b=t[2]}function aT(n){if(!n)return;const e=pm(n),t=e[0],a=mv(e[1]),o=mv(e[2]);return n.a<255?`hsla(${t}, ${a}%, ${o}%, ${Vs(n.a)})`:`hsl(${t}, ${a}%, ${o}%)`}const yv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sT(){const n={},e=Object.keys(vv),t=Object.keys(yv);let a,o,u,d,c;for(a=0;a<e.length;a++){for(d=c=e[a],o=0;o<t.length;o++)u=t[o],c=c.replace(u,yv[u]);u=parseInt(vv[d],16),n[c]=[u>>16&255,u>>8&255,u&255]}return n}let ff;function oT(n){ff||(ff=sT(),ff.transparent=[0,0,0,0]);const e=ff[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lT(n){const e=uT.exec(n);let t=255,a,o,u;if(e){if(e[7]!==a){const d=+e[7];t=e[8]?Ad(d):Ao(d*255,0,255)}return a=+e[1],o=+e[3],u=+e[5],a=255&(e[2]?Ad(a):Ao(a,0,255)),o=255&(e[4]?Ad(o):Ao(o,0,255)),u=255&(e[6]?Ad(u):Ao(u,0,255)),{r:a,g:o,b:u,a:t}}}function dT(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Vs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const qg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,dl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function cT(n,e,t){const a=dl(Vs(n.r)),o=dl(Vs(n.g)),u=dl(Vs(n.b));return{r:$o(qg(a+t*(dl(Vs(e.r))-a))),g:$o(qg(o+t*(dl(Vs(e.g))-o))),b:$o(qg(u+t*(dl(Vs(e.b))-u))),a:n.a+t*(e.a-n.a)}}function hf(n,e,t){if(n){let a=pm(n);a[e]=Math.max(0,Math.min(a[e]+a[e]*t,e===0?360:1)),a=ym(a),n.r=a[0],n.g=a[1],n.b=a[2]}}function Tw(n,e){return n&&Object.assign(e||{},n)}function bv(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=$o(n[3]))):(e=Tw(n,{r:0,g:0,b:0,a:1}),e.a=$o(e.a)),e}function fT(n){return n.charAt(0)==="r"?lT(n):rT(n)}class Ah{constructor(e){if(e instanceof Ah)return e;const t=typeof e;let a;t==="object"?a=bv(e):t==="string"&&(a=K$(e)||oT(e)||fT(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=Tw(this._rgb);return e&&(e.a=Vs(e.a)),e}set rgb(e){this._rgb=bv(e)}rgbString(){return this._valid?dT(this._rgb):void 0}hexString(){return this._valid?Y$(this._rgb):void 0}hslString(){return this._valid?aT(this._rgb):void 0}mix(e,t){if(e){const a=this.rgb,o=e.rgb;let u;const d=t===u?.5:t,c=2*d-1,h=a.a-o.a,g=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;u=1-g,a.r=255&g*a.r+u*o.r+.5,a.g=255&g*a.g+u*o.g+.5,a.b=255&g*a.b+u*o.b+.5,a.a=d*a.a+(1-d)*o.a,this.rgb=a}return this}interpolate(e,t){return e&&(this._rgb=cT(this._rgb,e._rgb,t)),this}clone(){return new Ah(this.rgb)}alpha(e){return this._rgb.a=$o(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=pc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hf(this._rgb,2,e),this}darken(e){return hf(this._rgb,2,-e),this}saturate(e){return hf(this._rgb,1,e),this}desaturate(e){return hf(this._rgb,1,-e),this}rotate(e){return iT(this._rgb,e),this}}function Rw(n){return new Ah(n)}function Ow(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function xv(n){return Ow(n)?n:Rw(n)}function jg(n){return Ow(n)?n:Rw(n).saturate(.5).darken(.1).hexString()}const Ou=Object.create(null),V1=Object.create(null);function Hd(n,e){if(!e)return n;const t=e.split(".");for(let a=0,o=t.length;a<o;++a){const u=t[a];n=n[u]||(n[u]=Object.create(null))}return n}function Kg(n,e,t){return typeof e=="string"?tc(Hd(n,e),t):tc(Hd(n,""),e)}class hT{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,a)=>jg(a.backgroundColor),this.hoverBorderColor=(t,a)=>jg(a.borderColor),this.hoverColor=(t,a)=>jg(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return Kg(this,e,t)}get(e){return Hd(this,e)}describe(e,t){return Kg(V1,e,t)}override(e,t){return Kg(Ou,e,t)}route(e,t,a,o){const u=Hd(this,e),d=Hd(this,a),c="_"+t;Object.defineProperties(u,{[c]:{value:u[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],g=d[o];return _n(h)?Object.assign({},g,h):gn(h,g)},set(h){this[c]=h}}})}}var En=new hT({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function gT(n){return!n||$n(n.size)||$n(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Dh(n,e,t,a,o){let u=e[o];return u||(u=e[o]=n.measureText(o).width,t.push(o)),u>a&&(a=u),a}function pT(n,e,t,a){a=a||{};let o=a.data=a.data||{},u=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(o=a.data={},u=a.garbageCollect=[],a.font=e),n.save(),n.font=e;let d=0;const c=t.length;let h,g,m,y,x;for(h=0;h<c;h++)if(y=t[h],y!=null&&Jn(y)!==!0)d=Dh(n,o,u,d,y);else if(Jn(y))for(g=0,m=y.length;g<m;g++)x=y[g],x!=null&&!Jn(x)&&(d=Dh(n,o,u,d,x));n.restore();const E=u.length/2;if(E>t.length){for(h=0;h<E;h++)delete o[u[h]];u.splice(0,E)}return d}function gu(n,e,t){const a=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*a)/a+o}function wv(n,e){e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function G1(n,e,t,a){Lw(n,e,t,a,null)}function Lw(n,e,t,a,o){let u,d,c,h,g,m;const y=e.pointStyle,x=e.rotation,E=e.radius;let _=(x||0)*O$;if(y&&typeof y=="object"&&(u=y.toString(),u==="[object HTMLImageElement]"||u==="[object HTMLCanvasElement]")){n.save(),n.translate(t,a),n.rotate(_),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),y){default:o?n.ellipse(t,a,o/2,E,0,0,Vn):n.arc(t,a,E,0,Vn),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(_)*E,a-Math.cos(_)*E),_+=dv,n.lineTo(t+Math.sin(_)*E,a-Math.cos(_)*E),_+=dv,n.lineTo(t+Math.sin(_)*E,a-Math.cos(_)*E),n.closePath();break;case"rectRounded":g=E*.516,h=E-g,d=Math.cos(_+_d)*h,c=Math.sin(_+_d)*h,n.arc(t-d,a-c,g,_-rr,_-pr),n.arc(t+c,a-d,g,_-pr,_),n.arc(t+d,a+c,g,_,_+pr),n.arc(t-c,a+d,g,_+pr,_+rr),n.closePath();break;case"rect":if(!x){h=Math.SQRT1_2*E,m=o?o/2:h,n.rect(t-m,a-h,2*m,2*h);break}_+=_d;case"rectRot":d=Math.cos(_)*E,c=Math.sin(_)*E,n.moveTo(t-d,a-c),n.lineTo(t+c,a-d),n.lineTo(t+d,a+c),n.lineTo(t-c,a+d),n.closePath();break;case"crossRot":_+=_d;case"cross":d=Math.cos(_)*E,c=Math.sin(_)*E,n.moveTo(t-d,a-c),n.lineTo(t+d,a+c),n.moveTo(t+c,a-d),n.lineTo(t-c,a+d);break;case"star":d=Math.cos(_)*E,c=Math.sin(_)*E,n.moveTo(t-d,a-c),n.lineTo(t+d,a+c),n.moveTo(t+c,a-d),n.lineTo(t-c,a+d),_+=_d,d=Math.cos(_)*E,c=Math.sin(_)*E,n.moveTo(t-d,a-c),n.lineTo(t+d,a+c),n.moveTo(t+c,a-d),n.lineTo(t-c,a+d);break;case"line":d=o?o/2:Math.cos(_)*E,c=Math.sin(_)*E,n.moveTo(t-d,a-c),n.lineTo(t+d,a+c);break;case"dash":n.moveTo(t,a),n.lineTo(t+Math.cos(_)*E,a+Math.sin(_)*E);break}n.fill(),e.borderWidth>0&&n.stroke()}}function rc(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function M0(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function I0(n){n.restore()}function mT(n,e,t,a,o){if(!e)return n.lineTo(t.x,t.y);if(o==="middle"){const u=(e.x+t.x)/2;n.lineTo(u,e.y),n.lineTo(u,t.y)}else o==="after"!=!!a?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function yT(n,e,t,a){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?t.cp2x:t.cp1x,a?t.cp2y:t.cp1y,t.x,t.y)}function Lu(n,e,t,a,o,u={}){const d=Jn(e)?e:[e],c=u.strokeWidth>0&&u.strokeColor!=="";let h,g;for(n.save(),n.font=o.string,vT(n,u),h=0;h<d.length;++h)g=d[h],c&&(u.strokeColor&&(n.strokeStyle=u.strokeColor),$n(u.strokeWidth)||(n.lineWidth=u.strokeWidth),n.strokeText(g,t,a,u.maxWidth)),n.fillText(g,t,a,u.maxWidth),bT(n,t,a,g,u),a+=o.lineHeight;n.restore()}function vT(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),$n(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function bT(n,e,t,a,o){if(o.strikethrough||o.underline){const u=n.measureText(a),d=e-u.actualBoundingBoxLeft,c=e+u.actualBoundingBoxRight,h=t-u.actualBoundingBoxAscent,g=t+u.actualBoundingBoxDescent,m=o.strikethrough?(h+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(d,m),n.lineTo(c,m),n.stroke()}}function ic(n,e){const{x:t,y:a,w:o,h:u,radius:d}=e;n.arc(t+d.topLeft,a+d.topLeft,d.topLeft,-pr,rr,!0),n.lineTo(t,a+u-d.bottomLeft),n.arc(t+d.bottomLeft,a+u-d.bottomLeft,d.bottomLeft,rr,pr,!0),n.lineTo(t+o-d.bottomRight,a+u),n.arc(t+o-d.bottomRight,a+u-d.bottomRight,d.bottomRight,pr,0,!0),n.lineTo(t+o,a+d.topRight),n.arc(t+o-d.topRight,a+d.topRight,d.topRight,0,-pr,!0),n.lineTo(t+d.topLeft,a)}const xT=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),wT=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function _T(n,e){const t=(""+n).match(xT);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const ST=n=>+n||0;function vm(n,e){const t={},a=_n(e),o=a?Object.keys(e):e,u=_n(n)?a?d=>gn(n[d],n[e[d]]):d=>n[d]:()=>n;for(const d of o)t[d]=ST(u(d));return t}function kw(n){return vm(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Pu(n){return vm(n,["topLeft","topRight","bottomLeft","bottomRight"])}function hi(n){const e=kw(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fr(n,e){n=n||{},e=e||En.font;let t=gn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let a=gn(n.style,e.style);a&&!(""+a).match(wT)&&(console.warn('Invalid font style specified: "'+a+'"'),a="");const o={family:gn(n.family,e.family),lineHeight:_T(gn(n.lineHeight,e.lineHeight),t),size:t,style:a,weight:gn(n.weight,e.weight),string:""};return o.string=gT(o),o}function Dd(n,e,t,a){let o=!0,u,d,c;for(u=0,d=n.length;u<d;++u)if(c=n[u],c!==void 0&&(e!==void 0&&typeof c=="function"&&(c=c(e),o=!1),t!==void 0&&Jn(c)&&(c=c[t%c.length],o=!1),c!==void 0))return a&&!o&&(a.cacheable=!1),c}function ET(n,e,t){const{min:a,max:o}=n,u=ww(e,(o-a)/2),d=(c,h)=>t&&c===0?0:c+h;return{min:d(a,-Math.abs(u)),max:d(o,u)}}function Go(n,e){return Object.assign(Object.create(n),e)}function bm(n,e=[""],t=n,a,o=()=>n[0]){Ia(a)||(a=zw("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:a,_getTarget:o,override:d=>bm([d,...n],e,t,a)};return new Proxy(u,{deleteProperty(d,c){return delete d[c],delete d._keys,delete n[0][c],!0},get(d,c){return Bw(d,c,()=>$T(c,e,n,d))},getOwnPropertyDescriptor(d,c){return Reflect.getOwnPropertyDescriptor(d._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(d,c){return Sv(d).includes(c)},ownKeys(d){return Sv(d)},set(d,c,h){const g=d._storage||(d._storage=o());return d[c]=g[c]=h,delete d._keys,!0}})}function Al(n,e,t,a){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Fw(n,a),setContext:u=>Al(n,u,t,a),override:u=>Al(n.override(u),e,t,a)};return new Proxy(o,{deleteProperty(u,d){return delete u[d],delete n[d],!0},get(u,d,c){return Bw(u,d,()=>MT(u,d,c))},getOwnPropertyDescriptor(u,d){return u._descriptors.allKeys?Reflect.has(n,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,d)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(u,d){return Reflect.has(n,d)},ownKeys(){return Reflect.ownKeys(n)},set(u,d,c){return n[d]=c,delete u[d],!0}})}function Fw(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:a=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:a,isScriptable:ko(t)?t:()=>t,isIndexable:ko(a)?a:()=>a}}const CT=(n,e)=>n?n+cm(e):e,xm=(n,e)=>_n(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Bw(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const a=t();return n[e]=a,a}function MT(n,e,t){const{_proxy:a,_context:o,_subProxy:u,_descriptors:d}=n;let c=a[e];return ko(c)&&d.isScriptable(e)&&(c=IT(e,c,n,t)),Jn(c)&&c.length&&(c=PT(e,c,n,d.isIndexable)),xm(e,c)&&(c=Al(c,o,u&&u[e],d)),c}function IT(n,e,t,a){const{_proxy:o,_context:u,_subProxy:d,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);return c.add(n),e=e(u,d||a),c.delete(n),xm(n,e)&&(e=wm(o._scopes,o,n,e)),e}function PT(n,e,t,a){const{_proxy:o,_context:u,_subProxy:d,_descriptors:c}=t;if(Ia(u.index)&&a(n))e=e[u.index%e.length];else if(_n(e[0])){const h=e,g=o._scopes.filter(m=>m!==h);e=[];for(const m of h){const y=wm(g,o,n,m);e.push(Al(y,u,d&&d[n],c))}}return e}function Hw(n,e,t){return ko(n)?n(e,t):n}const NT=(n,e)=>n===!0?e:typeof n=="string"?Lo(e,n):void 0;function AT(n,e,t,a,o){for(const u of e){const d=NT(t,u);if(d){n.add(d);const c=Hw(d._fallback,t,o);if(Ia(c)&&c!==t&&c!==a)return c}else if(d===!1&&Ia(a)&&t!==a)return null}return!1}function wm(n,e,t,a){const o=e._rootScopes,u=Hw(e._fallback,t,a),d=[...n,...o],c=new Set;c.add(a);let h=_v(c,d,t,u||t,a);return h===null||Ia(u)&&u!==t&&(h=_v(c,d,u,h,a),h===null)?!1:bm(Array.from(c),[""],o,u,()=>DT(e,t,a))}function _v(n,e,t,a,o){for(;t;)t=AT(n,e,t,a,o);return t}function DT(n,e,t){const a=n._getTarget();e in a||(a[e]={});const o=a[e];return Jn(o)&&_n(t)?t:o}function $T(n,e,t,a){let o;for(const u of e)if(o=zw(CT(u,n),t),Ia(o))return xm(n,o)?wm(t,a,n,o):o}function zw(n,e){for(const t of e){if(!t)continue;const a=t[n];if(Ia(a))return a}}function Sv(n){let e=n._keys;return e||(e=n._keys=TT(n._scopes)),e}function TT(n){const e=new Set;for(const t of n)for(const a of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(a);return Array.from(e)}function Vw(n,e,t,a){const{iScale:o}=n,{key:u="r"}=this._parsing,d=new Array(a);let c,h,g,m;for(c=0,h=a;c<h;++c)g=c+t,m=e[g],d[c]={r:o.parse(Lo(m,u),g)};return d}const RT=Number.EPSILON||1e-14,Dl=(n,e)=>e<n.length&&!n[e].skip&&n[e],Gw=n=>n==="x"?"y":"x";function OT(n,e,t,a){const o=n.skip?e:n,u=e,d=t.skip?e:t,c=H1(u,o),h=H1(d,u);let g=c/(c+h),m=h/(c+h);g=isNaN(g)?0:g,m=isNaN(m)?0:m;const y=a*g,x=a*m;return{previous:{x:u.x-y*(d.x-o.x),y:u.y-y*(d.y-o.y)},next:{x:u.x+x*(d.x-o.x),y:u.y+x*(d.y-o.y)}}}function LT(n,e,t){const a=n.length;let o,u,d,c,h,g=Dl(n,0);for(let m=0;m<a-1;++m)if(h=g,g=Dl(n,m+1),!(!h||!g)){if(Fd(e[m],0,RT)){t[m]=t[m+1]=0;continue}o=t[m]/e[m],u=t[m+1]/e[m],c=Math.pow(o,2)+Math.pow(u,2),!(c<=9)&&(d=3/Math.sqrt(c),t[m]=o*d*e[m],t[m+1]=u*d*e[m])}}function kT(n,e,t="x"){const a=Gw(t),o=n.length;let u,d,c,h=Dl(n,0);for(let g=0;g<o;++g){if(d=c,c=h,h=Dl(n,g+1),!c)continue;const m=c[t],y=c[a];d&&(u=(m-d[t])/3,c[`cp1${t}`]=m-u,c[`cp1${a}`]=y-u*e[g]),h&&(u=(h[t]-m)/3,c[`cp2${t}`]=m+u,c[`cp2${a}`]=y+u*e[g])}}function FT(n,e="x"){const t=Gw(e),a=n.length,o=Array(a).fill(0),u=Array(a);let d,c,h,g=Dl(n,0);for(d=0;d<a;++d)if(c=h,h=g,g=Dl(n,d+1),!!h){if(g){const m=g[e]-h[e];o[d]=m!==0?(g[t]-h[t])/m:0}u[d]=c?g?ws(o[d-1])!==ws(o[d])?0:(o[d-1]+o[d])/2:o[d-1]:o[d]}LT(n,o,u),kT(n,u,e)}function gf(n,e,t){return Math.max(Math.min(n,t),e)}function BT(n,e){let t,a,o,u,d,c=rc(n[0],e);for(t=0,a=n.length;t<a;++t)d=u,u=c,c=t<a-1&&rc(n[t+1],e),u&&(o=n[t],d&&(o.cp1x=gf(o.cp1x,e.left,e.right),o.cp1y=gf(o.cp1y,e.top,e.bottom)),c&&(o.cp2x=gf(o.cp2x,e.left,e.right),o.cp2y=gf(o.cp2y,e.top,e.bottom)))}function HT(n,e,t,a,o){let u,d,c,h;if(e.spanGaps&&(n=n.filter(g=>!g.skip)),e.cubicInterpolationMode==="monotone")FT(n,o);else{let g=a?n[n.length-1]:n[0];for(u=0,d=n.length;u<d;++u)c=n[u],h=OT(g,c,n[Math.min(u+1,d-(a?0:1))%d],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,g=c}e.capBezierPoints&&BT(n,t)}function Ww(){return typeof window<"u"&&typeof document<"u"}function _m(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function $h(n,e,t){let a;return typeof n=="string"?(a=parseInt(n,10),n.indexOf("%")!==-1&&(a=a/100*e.parentNode[t])):a=n,a}const P0=n=>window.getComputedStyle(n,null);function zT(n,e){return P0(n).getPropertyValue(e)}const VT=["top","right","bottom","left"];function Nu(n,e,t){const a={};t=t?"-"+t:"";for(let o=0;o<4;o++){const u=VT[o];a[u]=parseFloat(n[e+"-"+u+t])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const GT=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function WT(n,e){const t=n.touches,a=t&&t.length?t[0]:n,{offsetX:o,offsetY:u}=a;let d=!1,c,h;if(GT(o,u,n.target))c=o,h=u;else{const g=e.getBoundingClientRect();c=a.clientX-g.left,h=a.clientY-g.top,d=!0}return{x:c,y:h,box:d}}function mu(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:a}=e,o=P0(t),u=o.boxSizing==="border-box",d=Nu(o,"padding"),c=Nu(o,"border","width"),{x:h,y:g,box:m}=WT(n,t),y=d.left+(m&&c.left),x=d.top+(m&&c.top);let{width:E,height:_}=e;return u&&(E-=d.width+c.width,_-=d.height+c.height),{x:Math.round((h-y)/E*t.width/a),y:Math.round((g-x)/_*t.height/a)}}function UT(n,e,t){let a,o;if(e===void 0||t===void 0){const u=_m(n);if(!u)e=n.clientWidth,t=n.clientHeight;else{const d=u.getBoundingClientRect(),c=P0(u),h=Nu(c,"border","width"),g=Nu(c,"padding");e=d.width-g.width-h.width,t=d.height-g.height-h.height,a=$h(c.maxWidth,u,"clientWidth"),o=$h(c.maxHeight,u,"clientHeight")}}return{width:e,height:t,maxWidth:a||Nh,maxHeight:o||Nh}}const Jg=n=>Math.round(n*10)/10;function qT(n,e,t,a){const o=P0(n),u=Nu(o,"margin"),d=$h(o.maxWidth,n,"clientWidth")||Nh,c=$h(o.maxHeight,n,"clientHeight")||Nh,h=UT(n,e,t);let{width:g,height:m}=h;if(o.boxSizing==="content-box"){const y=Nu(o,"border","width"),x=Nu(o,"padding");g-=x.width+y.width,m-=x.height+y.height}return g=Math.max(0,g-u.width),m=Math.max(0,a?Math.floor(g/a):m-u.height),g=Jg(Math.min(g,d,h.maxWidth)),m=Jg(Math.min(m,c,h.maxHeight)),g&&!m&&(m=Jg(g/2)),{width:g,height:m}}function Ev(n,e,t){const a=e||1,o=Math.floor(n.height*a),u=Math.floor(n.width*a);n.height=o/a,n.width=u/a;const d=n.canvas;return d.style&&(t||!d.style.height&&!d.style.width)&&(d.style.height=`${n.height}px`,d.style.width=`${n.width}px`),n.currentDevicePixelRatio!==a||d.height!==o||d.width!==u?(n.currentDevicePixelRatio=a,d.height=o,d.width=u,n.ctx.setTransform(a,0,0,a,0,0),!0):!1}const jT=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function Cv(n,e){const t=zT(n,e),a=t&&t.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function yu(n,e,t,a){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function KT(n,e,t,a){return{x:n.x+t*(e.x-n.x),y:a==="middle"?t<.5?n.y:e.y:a==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function JT(n,e,t,a){const o={x:n.cp2x,y:n.cp2y},u={x:e.cp1x,y:e.cp1y},d=yu(n,o,t),c=yu(o,u,t),h=yu(u,e,t),g=yu(d,c,t),m=yu(c,h,t);return yu(g,m,t)}const Mv=new Map;function YT(n,e){e=e||{};const t=n+JSON.stringify(e);let a=Mv.get(t);return a||(a=new Intl.NumberFormat(n,e),Mv.set(t,a)),a}function mc(n,e,t){return YT(e,t).format(n)}const XT=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,a){return t-a},leftForLtr(t,a){return t-a}}},ZT=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ml(n,e,t){return n?XT(e,t):ZT()}function Uw(n,e){let t,a;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,a=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=a)}function qw(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function jw(n){return n==="angle"?{between:nc,compare:F$,normalize:Ji}:{between:Ks,compare:(e,t)=>e-t,normalize:e=>e}}function Iv({start:n,end:e,count:t,loop:a,style:o}){return{start:n%t,end:e%t,loop:a&&(e-n+1)%t===0,style:o}}function QT(n,e,t){const{property:a,start:o,end:u}=t,{between:d,normalize:c}=jw(a),h=e.length;let{start:g,end:m,loop:y}=n,x,E;if(y){for(g+=h,m+=h,x=0,E=h;x<E&&d(c(e[g%h][a]),o,u);++x)g--,m--;g%=h,m%=h}return m<g&&(m+=h),{start:g,end:m,loop:y,style:n.style}}function Kw(n,e,t){if(!t)return[n];const{property:a,start:o,end:u}=t,d=e.length,{compare:c,between:h,normalize:g}=jw(a),{start:m,end:y,loop:x,style:E}=QT(n,e,t),_=[];let w=!1,L=null,k,W,$;const O=()=>h(o,$,k)&&c(o,$)!==0,z=()=>c(u,k)===0||h(u,$,k),le=()=>w||O(),H=()=>!w||z();for(let Z=m,Y=m;Z<=y;++Z)W=e[Z%d],!W.skip&&(k=g(W[a]),k!==$&&(w=h(k,o,u),L===null&&le()&&(L=c(k,o)===0?Z:Y),L!==null&&H()&&(_.push(Iv({start:L,end:Z,loop:x,count:d,style:E})),L=null),Y=Z,$=k));return L!==null&&_.push(Iv({start:L,end:y,loop:x,count:d,style:E})),_}function Jw(n,e){const t=[],a=n.segments;for(let o=0;o<a.length;o++){const u=Kw(a[o],n.points,e);u.length&&t.push(...u)}return t}function eR(n,e,t,a){let o=0,u=e-1;if(t&&!a)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,t&&(u+=o);u>o&&n[u%e].skip;)u--;return u%=e,{start:o,end:u}}function tR(n,e,t,a){const o=n.length,u=[];let d=e,c=n[e],h;for(h=e+1;h<=t;++h){const g=n[h%o];g.skip||g.stop?c.skip||(a=!1,u.push({start:e%o,end:(h-1)%o,loop:a}),e=d=g.stop?h:null):(d=h,c.skip&&(e=h)),c=g}return d!==null&&u.push({start:e%o,end:d%o,loop:a}),u}function nR(n,e){const t=n.points,a=n.options.spanGaps,o=t.length;if(!o)return[];const u=!!n._loop,{start:d,end:c}=eR(t,o,u,a);if(a===!0)return Pv(n,[{start:d,end:c,loop:u}],t,e);const h=c<d?c+o:c,g=!!n._fullLoop&&d===0&&c===o-1;return Pv(n,tR(t,d,h,g),t,e)}function Pv(n,e,t,a){return!a||!a.setContext||!t?e:rR(n,e,t,a)}function rR(n,e,t,a){const o=n._chart.getContext(),u=Nv(n.options),{_datasetIndex:d,options:{spanGaps:c}}=n,h=t.length,g=[];let m=u,y=e[0].start,x=y;function E(_,w,L,k){const W=c?-1:1;if(_!==w){for(_+=h;t[_%h].skip;)_-=W;for(;t[w%h].skip;)w+=W;_%h!==w%h&&(g.push({start:_%h,end:w%h,loop:L,style:k}),m=k,y=w%h)}}for(const _ of e){y=c?y:_.start;let w=t[y%h],L;for(x=y+1;x<=_.end;x++){const k=t[x%h];L=Nv(a.setContext(Go(o,{type:"segment",p0:w,p1:k,p0DataIndex:(x-1)%h,p1DataIndex:x%h,datasetIndex:d}))),iR(L,m)&&E(y,x-1,_.loop,m),w=k,m=L}y<x-1&&E(y,x-1,_.loop,m)}return g}function Nv(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function iR(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class aR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,a,o){const u=t.listeners[o],d=t.duration;u.forEach(c=>c({chart:e,initial:t.initial,numSteps:d,currentStep:Math.min(a-t.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=Iw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((a,o)=>{if(!a.running||!a.items.length)return;const u=a.items;let d=u.length-1,c=!1,h;for(;d>=0;--d)h=u[d],h._active?(h._total>a.duration&&(a.duration=h._total),h.tick(e),c=!0):(u[d]=u[u.length-1],u.pop());c&&(o.draw(),this._notify(o,a,e,"progress")),u.length||(a.running=!1,this._notify(o,a,e,"complete"),a.initial=!1),t+=u.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let a=t.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,a)),a}listen(e,t,a){this._getAnims(e).listeners[t].push(a)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((a,o)=>Math.max(a,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const a=t.items;let o=a.length-1;for(;o>=0;--o)a[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Hs=new aR;const Av="transparent",sR={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const a=xv(n||Av),o=a.valid&&xv(e||Av);return o&&o.valid?o.mix(a,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class oR{constructor(e,t,a,o){const u=t[a];o=Dd([e.to,o,u,e.from]);const d=Dd([e.from,u,o]);this._active=!0,this._fn=e.fn||sR[e.type||typeof d],this._easing=Bd[e.easing]||Bd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=a,this._from=d,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,a){if(this._active){this._notify(!1);const o=this._target[this._prop],u=a-this._start,d=this._duration-u;this._start=a,this._duration=Math.floor(Math.max(d,e.duration)),this._total+=u,this._loop=!!e.loop,this._to=Dd([e.to,t,o,e.from]),this._from=Dd([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,a=this._duration,o=this._prop,u=this._from,d=this._loop,c=this._to;let h;if(this._active=u!==c&&(d||t<a),!this._active){this._target[o]=c,this._notify(!0);return}if(t<0){this._target[o]=u;return}h=t/a%2,h=d&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(u,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,a)=>{e.push({res:t,rej:a})})}_notify(e){const t=e?"res":"rej",a=this._promises||[];for(let o=0;o<a.length;o++)a[o][t]()}}const uR=["x","y","borderWidth","radius","tension"],lR=["color","borderColor","backgroundColor"];En.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const dR=Object.keys(En.animation);En.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});En.set("animations",{colors:{type:"color",properties:lR},numbers:{type:"number",properties:uR}});En.describe("animations",{_fallback:"animation"});En.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});class Yw{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!_n(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!_n(o))return;const u={};for(const d of dR)u[d]=o[d];(Jn(o.properties)&&o.properties||[a]).forEach(d=>{(d===a||!t.has(d))&&t.set(d,u)})})}_animateOptions(e,t){const a=t.options,o=fR(e,a);if(!o)return[];const u=this._createAnimations(o,a);return a.$shared&&cR(e.options.$animations,a).then(()=>{e.options=a},()=>{}),u}_createAnimations(e,t){const a=this._properties,o=[],u=e.$animations||(e.$animations={}),d=Object.keys(t),c=Date.now();let h;for(h=d.length-1;h>=0;--h){const g=d[h];if(g.charAt(0)==="$")continue;if(g==="options"){o.push(...this._animateOptions(e,t));continue}const m=t[g];let y=u[g];const x=a.get(g);if(y)if(x&&y.active()){y.update(x,m,c);continue}else y.cancel();if(!x||!x.duration){e[g]=m;continue}u[g]=y=new oR(x,e,g,m),o.push(y)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const a=this._createAnimations(e,t);if(a.length)return Hs.add(this._chart,a),!0}}function cR(n,e){const t=[],a=Object.keys(e);for(let o=0;o<a.length;o++){const u=n[a[o]];u&&u.active()&&t.push(u.wait())}return Promise.all(t)}function fR(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Dv(n,e){const t=n&&n.options||{},a=t.reverse,o=t.min===void 0?e:0,u=t.max===void 0?e:0;return{start:a?u:o,end:a?o:u}}function hR(n,e,t){if(t===!1)return!1;const a=Dv(n,t),o=Dv(e,t);return{top:o.end,right:a.end,bottom:o.start,left:a.start}}function gR(n){let e,t,a,o;return _n(n)?(e=n.top,t=n.right,a=n.bottom,o=n.left):e=t=a=o=n,{top:e,right:t,bottom:a,left:o,disabled:n===!1}}function Xw(n,e){const t=[],a=n._getSortedDatasetMetas(e);let o,u;for(o=0,u=a.length;o<u;++o)t.push(a[o].index);return t}function $v(n,e,t,a={}){const o=n.keys,u=a.mode==="single";let d,c,h,g;if(e!==null){for(d=0,c=o.length;d<c;++d){if(h=+o[d],h===t){if(a.all)continue;break}g=n.values[h],Sr(g)&&(u||e===0||ws(e)===ws(g))&&(e+=g)}return e}}function pR(n){const e=Object.keys(n),t=new Array(e.length);let a,o,u;for(a=0,o=e.length;a<o;++a)u=e[a],t[a]={x:u,y:n[u]};return t}function Tv(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function mR(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function yR(n){const{min:e,max:t,minDefined:a,maxDefined:o}=n.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function vR(n,e,t){const a=n[e]||(n[e]={});return a[t]||(a[t]={})}function Rv(n,e,t,a){for(const o of e.getMatchingVisibleMetas(a).reverse()){const u=n[o.index];if(t&&u>0||!t&&u<0)return o.index}return null}function Ov(n,e){const{chart:t,_cachedMeta:a}=n,o=t._stacks||(t._stacks={}),{iScale:u,vScale:d,index:c}=a,h=u.axis,g=d.axis,m=mR(u,d,a),y=e.length;let x;for(let E=0;E<y;++E){const _=e[E],{[h]:w,[g]:L}=_,k=_._stacks||(_._stacks={});x=k[g]=vR(o,m,w),x[c]=L,x._top=Rv(x,d,!0,a.type),x._bottom=Rv(x,d,!1,a.type)}}function Yg(n,e){const t=n.scales;return Object.keys(t).filter(a=>t[a].axis===e).shift()}function bR(n,e){return Go(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function xR(n,e,t){return Go(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Sd(n,e){const t=n.controller.index,a=n.vScale&&n.vScale.axis;if(a){e=e||n._parsed;for(const o of e){const u=o._stacks;if(!u||u[a]===void 0||u[a][t]===void 0)return;delete u[a][t]}}}const Xg=n=>n==="reset"||n==="none",Lv=(n,e)=>e?n:Object.assign({},n),wR=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Xw(t,!0),values:null};class Ya{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Tv(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Sd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,a=this.getDataset(),o=(y,x,E,_)=>y==="x"?x:y==="r"?_:E,u=t.xAxisID=gn(a.xAxisID,Yg(e,"x")),d=t.yAxisID=gn(a.yAxisID,Yg(e,"y")),c=t.rAxisID=gn(a.rAxisID,Yg(e,"r")),h=t.indexAxis,g=t.iAxisID=o(h,u,d,c),m=t.vAxisID=o(h,d,u,c);t.xScale=this.getScaleForId(u),t.yScale=this.getScaleForId(d),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(g),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hv(this._data,this),e._stacked&&Sd(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if(_n(t))this._data=pR(t);else if(a!==t){if(a){hv(a,this);const o=this._cachedMeta;Sd(o),o._parsed=[]}t&&Object.isExtensible(t)&&V$(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,a=this.getDataset();let o=!1;this._dataCheck();const u=t._stacked;t._stacked=Tv(t.vScale,t),t.stack!==a.stack&&(o=!0,Sd(t),t.stack=a.stack),this._resyncElements(e),(o||u!==t._stacked)&&Ov(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:a,_data:o}=this,{iScale:u,_stacked:d}=a,c=u.axis;let h=e===0&&t===o.length?!0:a._sorted,g=e>0&&a._parsed[e-1],m,y,x;if(this._parsing===!1)a._parsed=o,a._sorted=!0,x=o;else{Jn(o[e])?x=this.parseArrayData(a,o,e,t):_n(o[e])?x=this.parseObjectData(a,o,e,t):x=this.parsePrimitiveData(a,o,e,t);const E=()=>y[c]===null||g&&y[c]<g[c];for(m=0;m<t;++m)a._parsed[m+e]=y=x[m],h&&(E()&&(h=!1),g=y);a._sorted=h}d&&Ov(this,x)}parsePrimitiveData(e,t,a,o){const{iScale:u,vScale:d}=e,c=u.axis,h=d.axis,g=u.getLabels(),m=u===d,y=new Array(o);let x,E,_;for(x=0,E=o;x<E;++x)_=x+a,y[x]={[c]:m||u.parse(g[_],_),[h]:d.parse(t[_],_)};return y}parseArrayData(e,t,a,o){const{xScale:u,yScale:d}=e,c=new Array(o);let h,g,m,y;for(h=0,g=o;h<g;++h)m=h+a,y=t[m],c[h]={x:u.parse(y[0],m),y:d.parse(y[1],m)};return c}parseObjectData(e,t,a,o){const{xScale:u,yScale:d}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,g=new Array(o);let m,y,x,E;for(m=0,y=o;m<y;++m)x=m+a,E=t[x],g[m]={x:u.parse(Lo(E,c),x),y:d.parse(Lo(E,h),x)};return g}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){const o=this.chart,u=this._cachedMeta,d=t[e.axis],c={keys:Xw(o,!0),values:t._stacks[e.axis]};return $v(c,d,u.index,{mode:a})}updateRangeFromParsed(e,t,a,o){const u=a[t.axis];let d=u===null?NaN:u;const c=o&&a._stacks[t.axis];o&&c&&(o.values=c,d=$v(o,u,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,t){const a=this._cachedMeta,o=a._parsed,u=a._sorted&&e===a.iScale,d=o.length,c=this._getOtherScale(e),h=wR(t,a,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:y}=yR(c);let x,E;function _(){E=o[x];const w=E[c.axis];return!Sr(E[e.axis])||m>w||y<w}for(x=0;x<d&&!(!_()&&(this.updateRangeFromParsed(g,e,E,h),u));++x);if(u){for(x=d-1;x>=0;--x)if(!_()){this.updateRangeFromParsed(g,e,E,h);break}}return g}getAllParsedValues(e){const t=this._cachedMeta._parsed,a=[];let o,u,d;for(o=0,u=t.length;o<u;++o)d=t[o][e.axis],Sr(d)&&a.push(d);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,a=t.iScale,o=t.vScale,u=this.getParsed(e);return{label:a?""+a.getLabelForValue(u[a.axis]):"",value:o?""+o.getLabelForValue(u[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=gR(gn(this.options.clip,hR(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,a=this._cachedMeta,o=a.data||[],u=t.chartArea,d=[],c=this._drawStart||0,h=this._drawCount||o.length-c,g=this.options.drawActiveElementsOnTop;let m;for(a.dataset&&a.dataset.draw(e,u,c,h),m=c;m<c+h;++m){const y=o[m];y.hidden||(y.active&&g?d.push(y):y.draw(e,u))}for(m=0;m<d.length;++m)d[m].draw(e,u)}getStyle(e,t){const a=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){const o=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const d=this._cachedMeta.data[e];u=d.$context||(d.$context=xR(this.getContext(),e,d)),u.parsed=this.getParsed(e),u.raw=o.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=bR(this.chart.getContext(),this.index)),u.dataset=o,u.index=u.datasetIndex=this.index;return u.active=!!t,u.mode=a,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",a){const o=t==="active",u=this._cachedDataOpts,d=e+"-"+t,c=u[d],h=this.enableOptionSharing&&Ia(a);if(c)return Lv(c,h);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],x=g.getOptionScopes(this.getDataset(),m),E=Object.keys(En.elements[e]),_=()=>this.getContext(a,o),w=g.resolveNamedOptions(x,E,_,y);return w.$shared&&(w.$shared=h,u[d]=Object.freeze(Lv(w,h))),w}_resolveAnimations(e,t,a){const o=this.chart,u=this._cachedDataOpts,d=`animation-${t}`,c=u[d];if(c)return c;let h;if(o.options.animation!==!1){const m=this.chart.config,y=m.datasetAnimationScopeKeys(this._type,t),x=m.getOptionScopes(this.getDataset(),y);h=m.createResolver(x,this.getContext(e,a,t))}const g=new Yw(o,h&&h.animations);return h&&h._cacheable&&(u[d]=Object.freeze(g)),g}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Xg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const a=this.resolveDataElementOptions(e,t),o=this._sharedOptions,u=this.getSharedOptions(a),d=this.includeOptions(t,u)||u!==o;return this.updateSharedOptions(u,t,a),{sharedOptions:u,includeOptions:d}}updateElement(e,t,a,o){Xg(o)?Object.assign(e,a):this._resolveAnimations(t,o).update(e,a)}updateSharedOptions(e,t,a){e&&!Xg(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,o){e.active=o;const u=this.getStyle(t,o);this._resolveAnimations(t,a,o).update(e,{options:!o&&this.getSharedOptions(u)||u})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,a=this._cachedMeta.data;for(const[c,h,g]of this._syncList)this[c](h,g);this._syncList=[];const o=a.length,u=t.length,d=Math.min(u,o);d&&this.parse(0,d),u>o?this._insertElements(o,u-o,e):u<o&&this._removeElements(u,o-u)}_insertElements(e,t,a=!0){const o=this._cachedMeta,u=o.data,d=e+t;let c;const h=g=>{for(g.length+=t,c=g.length-1;c>=d;c--)g[c]=g[c-t]};for(h(u),c=e;c<d;++c)u[c]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,t),a&&this.updateElements(u,e,t,"reset")}updateElements(e,t,a,o){}_removeElements(e,t){const a=this._cachedMeta;if(this._parsing){const o=a._parsed.splice(e,t);a._stacked&&Sd(a,o)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,a,o]=e;this[t](a,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ya.defaults={};Ya.prototype.datasetElementType=null;Ya.prototype.dataElementType=null;function _R(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let a=[];for(let o=0,u=t.length;o<u;o++)a=a.concat(t[o].controller.getAllParsedValues(n));n._cache.$bar=Mw(a.sort((o,u)=>o-u))}return n._cache.$bar}function SR(n){const e=n.iScale,t=_R(e,n.type);let a=e._length,o,u,d,c;const h=()=>{d===32767||d===-32768||(Ia(c)&&(a=Math.min(a,Math.abs(d-c)||a)),c=d)};for(o=0,u=t.length;o<u;++o)d=e.getPixelForValue(t[o]),h();for(c=void 0,o=0,u=e.ticks.length;o<u;++o)d=e.getPixelForTick(o),h();return a}function ER(n,e,t,a){const o=t.barThickness;let u,d;return $n(o)?(u=e.min*t.categoryPercentage,d=t.barPercentage):(u=o*a,d=1),{chunk:u/a,ratio:d,start:e.pixels[n]-u/2}}function CR(n,e,t,a){const o=e.pixels,u=o[n];let d=n>0?o[n-1]:null,c=n<o.length-1?o[n+1]:null;const h=t.categoryPercentage;d===null&&(d=u-(c===null?e.end-e.start:c-u)),c===null&&(c=u+u-d);const g=u-(u-Math.min(d,c))/2*h;return{chunk:Math.abs(c-d)/2*h/a,ratio:t.barPercentage,start:g}}function MR(n,e,t,a){const o=t.parse(n[0],a),u=t.parse(n[1],a),d=Math.min(o,u),c=Math.max(o,u);let h=d,g=c;Math.abs(d)>Math.abs(c)&&(h=c,g=d),e[t.axis]=g,e._custom={barStart:h,barEnd:g,start:o,end:u,min:d,max:c}}function Zw(n,e,t,a){return Jn(n)?MR(n,e,t,a):e[t.axis]=t.parse(n,a),e}function kv(n,e,t,a){const o=n.iScale,u=n.vScale,d=o.getLabels(),c=o===u,h=[];let g,m,y,x;for(g=t,m=t+a;g<m;++g)x=e[g],y={},y[o.axis]=c||o.parse(d[g],g),h.push(Zw(x,y,u,g));return h}function Zg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function IR(n,e,t){return n!==0?ws(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function PR(n){let e,t,a,o,u;return n.horizontal?(e=n.base>n.x,t="left",a="right"):(e=n.base<n.y,t="bottom",a="top"),e?(o="end",u="start"):(o="start",u="end"),{start:t,end:a,reverse:e,top:o,bottom:u}}function NR(n,e,t,a){let o=e.borderSkipped;const u={};if(!o){n.borderSkipped=u;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:d,end:c,reverse:h,top:g,bottom:m}=PR(n);o==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===a?o=g:(t._bottom||0)===a?o=m:(u[Fv(m,d,c,h)]=!0,o=g)),u[Fv(o,d,c,h)]=!0,n.borderSkipped=u}function Fv(n,e,t,a){return a?(n=AR(n,e,t),n=Bv(n,t,e)):n=Bv(n,e,t),n}function AR(n,e,t){return n===e?t:n===t?e:n}function Bv(n,e,t){return n==="start"?e:n==="end"?t:n}function DR(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class N0 extends Ya{parsePrimitiveData(e,t,a,o){return kv(e,t,a,o)}parseArrayData(e,t,a,o){return kv(e,t,a,o)}parseObjectData(e,t,a,o){const{iScale:u,vScale:d}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,g=u.axis==="x"?c:h,m=d.axis==="x"?c:h,y=[];let x,E,_,w;for(x=a,E=a+o;x<E;++x)w=t[x],_={},_[u.axis]=u.parse(Lo(w,g),x),y.push(Zw(Lo(w,m),_,d,x));return y}updateRangeFromParsed(e,t,a,o){super.updateRangeFromParsed(e,t,a,o);const u=a._custom;u&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,u.min),e.max=Math.max(e.max,u.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:a,vScale:o}=t,u=this.getParsed(e),d=u._custom,c=Zg(d)?"["+d.start+", "+d.end+"]":""+o.getLabelForValue(u[o.axis]);return{label:""+a.getLabelForValue(u[a.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,o){const u=o==="reset",{index:d,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),g=c.isHorizontal(),m=this._getRuler(),{sharedOptions:y,includeOptions:x}=this._getSharedOptions(t,o);for(let E=t;E<t+a;E++){const _=this.getParsed(E),w=u||$n(_[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(E),L=this._calculateBarIndexPixels(E,m),k=(_._stacks||{})[c.axis],W={horizontal:g,base:w.base,enableBorderRadius:!k||Zg(_._custom)||d===k._top||d===k._bottom,x:g?w.head:L.center,y:g?L.center:w.head,height:g?L.size:Math.abs(w.size),width:g?Math.abs(w.size):L.size};x&&(W.options=y||this.resolveDataElementOptions(E,e[E].active?"active":o));const $=W.options||e[E].options;NR(W,$,k,d),DR(W,$,m.ratio),this.updateElement(e[E],E,W,o)}}_getStacks(e,t){const{iScale:a}=this._cachedMeta,o=a.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),u=a.options.stacked,d=[],c=h=>{const g=h.controller.getParsed(t),m=g&&g[h.vScale.axis];if($n(m)||isNaN(m))return!0};for(const h of o)if(!(t!==void 0&&c(h))&&((u===!1||d.indexOf(h.stack)===-1||u===void 0&&h.stack===void 0)&&d.push(h.stack),h.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,a){const o=this._getStacks(e,a),u=t!==void 0?o.indexOf(t):-1;return u===-1?o.length-1:u}_getRuler(){const e=this.options,t=this._cachedMeta,a=t.iScale,o=[];let u,d;for(u=0,d=t.data.length;u<d;++u)o.push(a.getPixelForValue(this.getParsed(u)[a.axis],u));const c=e.barThickness;return{min:c||SR(t),pixels:o,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:a},options:{base:o,minBarLength:u}}=this,d=o||0,c=this.getParsed(e),h=c._custom,g=Zg(h);let m=c[t.axis],y=0,x=a?this.applyStack(t,c,a):m,E,_;x!==m&&(y=x-m,x=m),g&&(m=h.barStart,x=h.barEnd-h.barStart,m!==0&&ws(m)!==ws(h.barEnd)&&(y=0),y+=m);const w=!$n(o)&&!g?o:y;let L=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?E=t.getPixelForValue(y+x):E=L,_=E-L,Math.abs(_)<u){_=IR(_,t,d)*u,m===d&&(L-=_/2);const k=t.getPixelForDecimal(0),W=t.getPixelForDecimal(1),$=Math.min(k,W),O=Math.max(k,W);L=Math.max(Math.min(L,O),$),E=L+_}if(L===t.getPixelForValue(d)){const k=ws(_)*t.getLineWidthForValue(d)/2;L+=k,_-=k}return{size:_,base:L,head:E,center:E+_/2}}_calculateBarIndexPixels(e,t){const a=t.scale,o=this.options,u=o.skipNull,d=gn(o.maxBarThickness,1/0);let c,h;if(t.grouped){const g=u?this._getStackCount(e):t.stackCount,m=o.barThickness==="flex"?CR(e,t,o,g):ER(e,t,o,g),y=this._getStackIndex(this.index,this._cachedMeta.stack,u?e:void 0);c=m.start+m.chunk*y+m.chunk/2,h=Math.min(d,m.chunk*m.ratio)}else c=a.getPixelForValue(this.getParsed(e)[a.axis],e),h=Math.min(d,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,a=e.data,o=a.length;let u=0;for(;u<o;++u)this.getParsed(u)[t.axis]!==null&&a[u].draw(this._ctx)}}N0.id="bar";N0.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};N0.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class A0 extends Ya{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,a,o){const u=super.parsePrimitiveData(e,t,a,o);for(let d=0;d<u.length;d++)u[d]._custom=this.resolveDataElementOptions(d+a).radius;return u}parseArrayData(e,t,a,o){const u=super.parseArrayData(e,t,a,o);for(let d=0;d<u.length;d++){const c=t[a+d];u[d]._custom=gn(c[2],this.resolveDataElementOptions(d+a).radius)}return u}parseObjectData(e,t,a,o){const u=super.parseObjectData(e,t,a,o);for(let d=0;d<u.length;d++){const c=t[a+d];u[d]._custom=gn(c&&c.r&&+c.r,this.resolveDataElementOptions(d+a).radius)}return u}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let a=e.length-1;a>=0;--a)t=Math.max(t,e[a].size(this.resolveDataElementOptions(a))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:a,yScale:o}=t,u=this.getParsed(e),d=a.getLabelForValue(u.x),c=o.getLabelForValue(u.y),h=u._custom;return{label:t.label,value:"("+d+", "+c+(h?", "+h:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,a,o){const u=o==="reset",{iScale:d,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(t,o),m=d.axis,y=c.axis;for(let x=t;x<t+a;x++){const E=e[x],_=!u&&this.getParsed(x),w={},L=w[m]=u?d.getPixelForDecimal(.5):d.getPixelForValue(_[m]),k=w[y]=u?c.getBasePixel():c.getPixelForValue(_[y]);w.skip=isNaN(L)||isNaN(k),g&&(w.options=h||this.resolveDataElementOptions(x,E.active?"active":o),u&&(w.options.radius=0)),this.updateElement(E,x,w,o)}}resolveDataElementOptions(e,t){const a=this.getParsed(e);let o=super.resolveDataElementOptions(e,t);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const u=o.radius;return t!=="active"&&(o.radius=0),o.radius+=gn(a&&a._custom,u),o}}A0.id="bubble";A0.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};A0.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function $R(n,e,t){let a=1,o=1,u=0,d=0;if(e<Vn){const c=n,h=c+e,g=Math.cos(c),m=Math.sin(c),y=Math.cos(h),x=Math.sin(h),E=($,O,z)=>nc($,c,h,!0)?1:Math.max(O,O*t,z,z*t),_=($,O,z)=>nc($,c,h,!0)?-1:Math.min(O,O*t,z,z*t),w=E(0,g,y),L=E(pr,m,x),k=_(rr,g,y),W=_(rr+pr,m,x);a=(w-k)/2,o=(L-W)/2,u=-(w+k)/2,d=-(L+W)/2}return{ratioX:a,ratioY:o,offsetX:u,offsetY:d}}class Vl extends Ya{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const a=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=a;else{let u=h=>+a[h];if(_n(a[e])){const{key:h="value"}=this._parsing;u=g=>+Lo(a[g],h)}let d,c;for(d=e,c=e+t;d<c;++d)o._parsed[d]=u(d)}}_getRotation(){return qa(this.options.rotation-90)}_getCircumference(){return qa(this.options.circumference)}_getRotationExtents(){let e=Vn,t=-Vn;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)){const o=this.chart.getDatasetMeta(a).controller,u=o._getRotation(),d=o._getCircumference();e=Math.min(e,u),t=Math.max(t,u+d)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:a}=t,o=this._cachedMeta,u=o.data,d=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,c=Math.max((Math.min(a.width,a.height)-d)/2,0),h=Math.min(P$(this.options.cutout,c),1),g=this._getRingWeight(this.index),{circumference:m,rotation:y}=this._getRotationExtents(),{ratioX:x,ratioY:E,offsetX:_,offsetY:w}=$R(y,m,h),L=(a.width-d)/x,k=(a.height-d)/E,W=Math.max(Math.min(L,k)/2,0),$=ww(this.options.radius,W),O=Math.max($*h,0),z=($-O)/this._getVisibleDatasetWeightTotal();this.offsetX=_*$,this.offsetY=w*$,o.total=this.calculateTotal(),this.outerRadius=$-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*g,0),this.updateElements(u,0,u.length,e)}_circumference(e,t){const a=this.options,o=this._cachedMeta,u=this._getCircumference();return t&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*u/Vn)}updateElements(e,t,a,o){const u=o==="reset",d=this.chart,c=d.chartArea,g=d.options.animation,m=(c.left+c.right)/2,y=(c.top+c.bottom)/2,x=u&&g.animateScale,E=x?0:this.innerRadius,_=x?0:this.outerRadius,{sharedOptions:w,includeOptions:L}=this._getSharedOptions(t,o);let k=this._getRotation(),W;for(W=0;W<t;++W)k+=this._circumference(W,u);for(W=t;W<t+a;++W){const $=this._circumference(W,u),O=e[W],z={x:m+this.offsetX,y:y+this.offsetY,startAngle:k,endAngle:k+$,circumference:$,outerRadius:_,innerRadius:E};L&&(z.options=w||this.resolveDataElementOptions(W,O.active?"active":o)),k+=$,this.updateElement(O,W,z,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let a=0,o;for(o=0;o<t.length;o++){const u=e._parsed[o];u!==null&&!isNaN(u)&&this.chart.getDataVisibility(o)&&!t[o].hidden&&(a+=Math.abs(u))}return a}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Vn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,o=a.data.labels||[],u=mc(t._parsed[e],a.options.locale);return{label:o[e]||"",value:u}}getMaxBorderWidth(e){let t=0;const a=this.chart;let o,u,d,c,h;if(!e){for(o=0,u=a.data.datasets.length;o<u;++o)if(a.isDatasetVisible(o)){d=a.getDatasetMeta(o),e=d.data,c=d.controller;break}}if(!e)return 0;for(o=0,u=e.length;o<u;++o)h=c.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let a=0,o=e.length;a<o;++a){const u=this.resolveDataElementOptions(a);t=Math.max(t,u.offset||0,u.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t}_getRingWeight(e){return Math.max(gn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Vl.id="doughnut";Vl.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Vl.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"};Vl.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=n.legend.options;return e.labels.map((a,o)=>{const d=n.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:t,hidden:!n.getDataVisibility(o),index:o}})}return[]}},onClick(n,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let e=n.label;const t=": "+n.formattedValue;return Jn(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};class D0 extends Ya{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:a,data:o=[],_dataset:u}=t,d=this.chart._animationsDisabled;let{start:c,count:h}=Nw(t,o,d);this._drawStart=c,this._drawCount=h,Aw(t)&&(c=0,h=o.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!u._decimated,a.points=o;const g=this.resolveDatasetElementOptions(e);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(a,void 0,{animated:!d,options:g},e),this.updateElements(o,c,h,e)}updateElements(e,t,a,o){const u=o==="reset",{iScale:d,vScale:c,_stacked:h,_dataset:g}=this._cachedMeta,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(t,o),x=d.axis,E=c.axis,{spanGaps:_,segment:w}=this.options,L=Nl(_)?_:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||u||o==="none";let W=t>0&&this.getParsed(t-1);for(let $=t;$<t+a;++$){const O=e[$],z=this.getParsed($),le=k?O:{},H=$n(z[E]),Z=le[x]=d.getPixelForValue(z[x],$),Y=le[E]=u||H?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,z,h):z[E],$);le.skip=isNaN(Z)||isNaN(Y)||H,le.stop=$>0&&Math.abs(z[x]-W[x])>L,w&&(le.parsed=z,le.raw=g.data[$]),y&&(le.options=m||this.resolveDataElementOptions($,O.active?"active":o)),k||this.updateElement(O,$,le,o),W=z}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,a=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return a;const u=o[0].size(this.resolveDataElementOptions(0)),d=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(a,u,d)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}D0.id="line";D0.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};D0.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class $0 extends Ya{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,o=a.data.labels||[],u=mc(t._parsed[e].r,a.options.locale);return{label:o[e]||"",value:u}}parseObjectData(e,t,a,o){return Vw.bind(this)(e,t,a,o)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((a,o)=>{const u=this.getParsed(o).r;!isNaN(u)&&this.chart.getDataVisibility(o)&&(u<t.min&&(t.min=u),u>t.max&&(t.max=u))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,a=e.options,o=Math.min(t.right-t.left,t.bottom-t.top),u=Math.max(o/2,0),d=Math.max(a.cutoutPercentage?u/100*a.cutoutPercentage:1,0),c=(u-d)/e.getVisibleDatasetCount();this.outerRadius=u-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,t,a,o){const u=o==="reset",d=this.chart,h=d.options.animation,g=this._cachedMeta.rScale,m=g.xCenter,y=g.yCenter,x=g.getIndexAngle(0)-.5*rr;let E=x,_;const w=360/this.countVisibleElements();for(_=0;_<t;++_)E+=this._computeAngle(_,o,w);for(_=t;_<t+a;_++){const L=e[_];let k=E,W=E+this._computeAngle(_,o,w),$=d.getDataVisibility(_)?g.getDistanceFromCenterForValue(this.getParsed(_).r):0;E=W,u&&(h.animateScale&&($=0),h.animateRotate&&(k=W=x));const O={x:m,y,innerRadius:0,outerRadius:$,startAngle:k,endAngle:W,options:this.resolveDataElementOptions(_,L.active?"active":o)};this.updateElement(L,_,O,o)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((a,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&t++}),t}_computeAngle(e,t,a){return this.chart.getDataVisibility(e)?qa(this.resolveDataElementOptions(e,t).angle||a):0}}$0.id="polarArea";$0.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};$0.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=n.legend.options;return e.labels.map((a,o)=>{const d=n.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:t,hidden:!n.getDataVisibility(o),index:o}})}return[]}},onClick(n,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Sm extends Vl{}Sm.id="pie";Sm.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class T0 extends Ya{getLabelAndValue(e){const t=this._cachedMeta.vScale,a=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(a[t.axis])}}parseObjectData(e,t,a,o){return Vw.bind(this)(e,t,a,o)}update(e){const t=this._cachedMeta,a=t.dataset,o=t.data||[],u=t.iScale.getLabels();if(a.points=o,e!=="resize"){const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0);const c={_loop:!0,_fullLoop:u.length===o.length,options:d};this.updateElement(a,void 0,c,e)}this.updateElements(o,0,o.length,e)}updateElements(e,t,a,o){const u=this._cachedMeta.rScale,d=o==="reset";for(let c=t;c<t+a;c++){const h=e[c],g=this.resolveDataElementOptions(c,h.active?"active":o),m=u.getPointPositionForValue(c,this.getParsed(c).r),y=d?u.xCenter:m.x,x=d?u.yCenter:m.y,E={x:y,y:x,angle:m.angle,skip:isNaN(y)||isNaN(x),options:g};this.updateElement(h,c,E,o)}}}T0.id="radar";T0.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};T0.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Xa{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}hasValue(){return Nl(this.x)&&Nl(this.y)}getProps(e,t){const a=this.$animations;if(!t||!a)return this;const o={};return e.forEach(u=>{o[u]=a[u]&&a[u].active()?a[u]._to:this[u]}),o}}Xa.defaults={};Xa.defaultRoutes=void 0;const Qw={values(n){return Jn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const a=this.chart.options.locale;let o,u=n;if(t.length>1){const g=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(g<1e-4||g>1e15)&&(o="scientific"),u=TR(n,t)}const d=wa(Math.abs(u)),c=Math.max(Math.min(-1*Math.floor(d),20),0),h={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),mc(n,a,h)},logarithmic(n,e,t){if(n===0)return"0";const a=n/Math.pow(10,Math.floor(wa(n)));return a===1||a===2||a===5?Qw.numeric.call(this,n,e,t):""}};function TR(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var R0={formatters:Qw};En.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:R0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});En.route("scale.ticks","color","","color");En.route("scale.grid","color","","borderColor");En.route("scale.grid","borderColor","","borderColor");En.route("scale.title","color","","color");En.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});En.describe("scales",{_fallback:"scale"});En.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function RR(n,e){const t=n.options.ticks,a=t.maxTicksLimit||OR(n),o=t.major.enabled?kR(e):[],u=o.length,d=o[0],c=o[u-1],h=[];if(u>a)return FR(e,h,o,u/a),h;const g=LR(o,e,a);if(u>0){let m,y;const x=u>1?Math.round((c-d)/(u-1)):null;for(pf(e,h,g,$n(x)?0:d-x,d),m=0,y=u-1;m<y;m++)pf(e,h,g,o[m],o[m+1]);return pf(e,h,g,c,$n(x)?e.length:c+x),h}return pf(e,h,g),h}function OR(n){const e=n.options.offset,t=n._tickSize(),a=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(a,o))}function LR(n,e,t){const a=BR(n),o=e.length/t;if(!a)return Math.max(o,1);const u=L$(a);for(let d=0,c=u.length-1;d<c;d++){const h=u[d];if(h>o)return h}return Math.max(o,1)}function kR(n){const e=[];let t,a;for(t=0,a=n.length;t<a;t++)n[t].major&&e.push(t);return e}function FR(n,e,t,a){let o=0,u=t[0],d;for(a=Math.ceil(a),d=0;d<n.length;d++)d===u&&(e.push(n[d]),o++,u=t[o*a])}function pf(n,e,t,a,o){const u=gn(a,0),d=Math.min(gn(o,n.length),n.length);let c=0,h,g,m;for(t=Math.ceil(t),o&&(h=o-a,t=h/Math.floor(h/t)),m=u;m<0;)c++,m=Math.round(u+c*t);for(g=Math.max(u,0);g<d;g++)g===m&&(e.push(n[g]),c++,m=Math.round(u+c*t))}function BR(n){const e=n.length;let t,a;if(e<2)return!1;for(a=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==a)return!1;return a}const HR=n=>n==="left"?"right":n==="right"?"left":n,Hv=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t;function zv(n,e){const t=[],a=n.length/e,o=n.length;let u=0;for(;u<o;u+=a)t.push(n[Math.floor(u)]);return t}function zR(n,e,t){const a=n.ticks.length,o=Math.min(e,a-1),u=n._startPixel,d=n._endPixel,c=1e-6;let h=n.getPixelForTick(o),g;if(!(t&&(a===1?g=Math.max(h-u,d-h):e===0?g=(n.getPixelForTick(1)-h)/2:g=(h-n.getPixelForTick(o-1))/2,h+=o<e?g:-g,h<u-c||h>d+c)))return h}function VR(n,e){Hn(n,t=>{const a=t.gc,o=a.length/2;let u;if(o>e){for(u=0;u<o;++u)delete t.data[a[u]];a.splice(0,o)}})}function Ed(n){return n.drawTicks?n.tickLength:0}function Vv(n,e){if(!n.display)return 0;const t=Fr(n.font,e),a=hi(n.padding);return(Jn(n.text)?n.text.length:1)*t.lineHeight+a.height}function GR(n,e){return Go(n,{scale:e,type:"scale"})}function WR(n,e,t){return Go(n,{tick:t,index:e,type:"tick"})}function UR(n,e,t){let a=gm(n);return(t&&e!=="right"||!t&&e==="right")&&(a=HR(a)),a}function qR(n,e,t,a){const{top:o,left:u,bottom:d,right:c,chart:h}=n,{chartArea:g,scales:m}=h;let y=0,x,E,_;const w=d-o,L=c-u;if(n.isHorizontal()){if(E=li(a,u,c),_n(t)){const k=Object.keys(t)[0],W=t[k];_=m[k].getPixelForValue(W)+w-e}else t==="center"?_=(g.bottom+g.top)/2+w-e:_=Hv(n,t,e);x=c-u}else{if(_n(t)){const k=Object.keys(t)[0],W=t[k];E=m[k].getPixelForValue(W)-L+e}else t==="center"?E=(g.left+g.right)/2-L+e:E=Hv(n,t,e);_=li(a,d,o),y=t==="left"?-pr:pr}return{titleX:E,titleY:_,maxWidth:x,rotation:y}}class Bu extends Xa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:a,_suggestedMax:o}=this;return e=ma(e,Number.POSITIVE_INFINITY),t=ma(t,Number.NEGATIVE_INFINITY),a=ma(a,Number.POSITIVE_INFINITY),o=ma(o,Number.NEGATIVE_INFINITY),{min:ma(e,a),max:ma(t,o),minDefined:Sr(e),maxDefined:Sr(t)}}getMinMax(e){let{min:t,max:a,minDefined:o,maxDefined:u}=this.getUserBounds(),d;if(o&&u)return{min:t,max:a};const c=this.getMatchingVisibleMetas();for(let h=0,g=c.length;h<g;++h)d=c[h].controller.getMinMax(this,e),o||(t=Math.min(t,d.min)),u||(a=Math.max(a,d.max));return t=u&&t>a?a:t,a=o&&t>a?t:a,{min:ma(t,ma(a,t)),max:ma(a,ma(t,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Kn(this.options.beforeUpdate,[this])}update(e,t,a){const{beginAtZero:o,grace:u,ticks:d}=this.options,c=d.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ET(this,u,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?zv(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||d.source==="auto")&&(this.ticks=RR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,a;this.isHorizontal()?(t=this.left,a=this.right):(t=this.top,a=this.bottom,e=!e),this._startPixel=t,this._endPixel=a,this._reversePixels=e,this._length=a-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Kn(this.options.afterUpdate,[this])}beforeSetDimensions(){Kn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Kn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Kn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Kn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let a,o,u;for(a=0,o=e.length;a<o;a++)u=e[a],u.label=Kn(t.callback,[u.value,a,e],this)}afterTickToLabelConversion(){Kn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Kn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,a=this.ticks.length,o=t.minRotation||0,u=t.maxRotation;let d=o,c,h,g;if(!this._isVisible()||!t.display||o>=u||a<=1||!this.isHorizontal()){this.labelRotation=o;return}const m=this._getLabelSizes(),y=m.widest.width,x=m.highest.height,E=jr(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/a:E/(a-1),y+6>c&&(c=E/(a-(e.offset?.5:1)),h=this.maxHeight-Ed(e.grid)-t.padding-Vv(e.title,this.chart.options.font),g=Math.sqrt(y*y+x*x),d=fm(Math.min(Math.asin(jr((m.highest.height+6)/c,-1,1)),Math.asin(jr(h/g,-1,1))-Math.asin(jr(x/g,-1,1)))),d=Math.max(o,Math.min(u,d))),this.labelRotation=d}afterCalculateLabelRotation(){Kn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Kn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:a,title:o,grid:u}}=this,d=this._isVisible(),c=this.isHorizontal();if(d){const h=Vv(o,t.options.font);if(c?(e.width=this.maxWidth,e.height=Ed(u)+h):(e.height=this.maxHeight,e.width=Ed(u)+h),a.display&&this.ticks.length){const{first:g,last:m,widest:y,highest:x}=this._getLabelSizes(),E=a.padding*2,_=qa(this.labelRotation),w=Math.cos(_),L=Math.sin(_);if(c){const k=a.mirror?0:L*y.width+w*x.height;e.height=Math.min(this.maxHeight,e.height+k+E)}else{const k=a.mirror?0:w*y.width+L*x.height;e.width=Math.min(this.maxWidth,e.width+k+E)}this._calculatePadding(g,m,L,w)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,a,o){const{ticks:{align:u,padding:d},position:c}=this.options,h=this.labelRotation!==0,g=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,E=0;h?g?(x=o*e.width,E=a*t.height):(x=a*e.height,E=o*t.width):u==="start"?E=t.width:u==="end"?x=e.width:u!=="inner"&&(x=e.width/2,E=t.width/2),this.paddingLeft=Math.max((x-m+d)*this.width/(this.width-m),0),this.paddingRight=Math.max((E-y+d)*this.width/(this.width-y),0)}else{let m=t.height/2,y=e.height/2;u==="start"?(m=0,y=e.height):u==="end"&&(m=t.height,y=0),this.paddingTop=m+d,this.paddingBottom=y+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Kn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,a;for(t=0,a=e.length;t<a;t++)$n(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let a=this.ticks;t<a.length&&(a=zv(a,t)),this._labelSizes=e=this._computeLabelSizes(a,a.length)}return e}_computeLabelSizes(e,t){const{ctx:a,_longestTextCache:o}=this,u=[],d=[];let c=0,h=0,g,m,y,x,E,_,w,L,k,W,$;for(g=0;g<t;++g){if(x=e[g].label,E=this._resolveTickFontOptions(g),a.font=_=E.string,w=o[_]=o[_]||{data:{},gc:[]},L=E.lineHeight,k=W=0,!$n(x)&&!Jn(x))k=Dh(a,w.data,w.gc,k,x),W=L;else if(Jn(x))for(m=0,y=x.length;m<y;++m)$=x[m],!$n($)&&!Jn($)&&(k=Dh(a,w.data,w.gc,k,$),W+=L);u.push(k),d.push(W),c=Math.max(k,c),h=Math.max(W,h)}VR(o,t);const O=u.indexOf(c),z=d.indexOf(h),le=H=>({width:u[H]||0,height:d[H]||0});return{first:le(0),last:le(t-1),widest:le(O),highest:le(z),widths:u,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return B$(this._alignToPixels?gu(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const a=t[e];return a.$context||(a.$context=WR(this.getContext(),e,a))}return this.$context||(this.$context=GR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=qa(this.labelRotation),a=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),u=this._getLabelSizes(),d=e.autoSkipPadding||0,c=u?u.widest.width+d:0,h=u?u.highest.height+d:0;return this.isHorizontal()?h*a>c*o?c/a:h/o:h*o<c*a?h/a:c/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,a=this.chart,o=this.options,{grid:u,position:d}=o,c=u.offset,h=this.isHorizontal(),m=this.ticks.length+(c?1:0),y=Ed(u),x=[],E=u.setContext(this.getContext()),_=E.drawBorder?E.borderWidth:0,w=_/2,L=function(V){return gu(a,V,_)};let k,W,$,O,z,le,H,Z,Y,ye,F,b;if(d==="top")k=L(this.bottom),le=this.bottom-y,Z=k-w,ye=L(e.top)+w,b=e.bottom;else if(d==="bottom")k=L(this.top),ye=e.top,b=L(e.bottom)-w,le=k+w,Z=this.top+y;else if(d==="left")k=L(this.right),z=this.right-y,H=k-w,Y=L(e.left)+w,F=e.right;else if(d==="right")k=L(this.left),Y=e.left,F=L(e.right)-w,z=k+w,H=this.left+y;else if(t==="x"){if(d==="center")k=L((e.top+e.bottom)/2+.5);else if(_n(d)){const V=Object.keys(d)[0],ee=d[V];k=L(this.chart.scales[V].getPixelForValue(ee))}ye=e.top,b=e.bottom,le=k+w,Z=le+y}else if(t==="y"){if(d==="center")k=L((e.left+e.right)/2);else if(_n(d)){const V=Object.keys(d)[0],ee=d[V];k=L(this.chart.scales[V].getPixelForValue(ee))}z=k-w,H=z-y,Y=e.left,F=e.right}const I=gn(o.ticks.maxTicksLimit,m),B=Math.max(1,Math.ceil(m/I));for(W=0;W<m;W+=B){const V=u.setContext(this.getContext(W)),ee=V.lineWidth,ce=V.color,q=V.borderDash||[],ne=V.borderDashOffset,C=V.tickWidth,G=V.tickColor,_e=V.tickBorderDash||[],De=V.tickBorderDashOffset;$=zR(this,W,c),$!==void 0&&(O=gu(a,$,ee),h?z=H=Y=F=O:le=Z=ye=b=O,x.push({tx1:z,ty1:le,tx2:H,ty2:Z,x1:Y,y1:ye,x2:F,y2:b,width:ee,color:ce,borderDash:q,borderDashOffset:ne,tickWidth:C,tickColor:G,tickBorderDash:_e,tickBorderDashOffset:De}))}return this._ticksLength=m,this._borderValue=k,x}_computeLabelItems(e){const t=this.axis,a=this.options,{position:o,ticks:u}=a,d=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:g,padding:m,mirror:y}=u,x=Ed(a.grid),E=x+m,_=y?-m:E,w=-qa(this.labelRotation),L=[];let k,W,$,O,z,le,H,Z,Y,ye,F,b,I="middle";if(o==="top")le=this.bottom-_,H=this._getXAxisLabelAlignment();else if(o==="bottom")le=this.top+_,H=this._getXAxisLabelAlignment();else if(o==="left"){const V=this._getYAxisLabelAlignment(x);H=V.textAlign,z=V.x}else if(o==="right"){const V=this._getYAxisLabelAlignment(x);H=V.textAlign,z=V.x}else if(t==="x"){if(o==="center")le=(e.top+e.bottom)/2+E;else if(_n(o)){const V=Object.keys(o)[0],ee=o[V];le=this.chart.scales[V].getPixelForValue(ee)+E}H=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")z=(e.left+e.right)/2-E;else if(_n(o)){const V=Object.keys(o)[0],ee=o[V];z=this.chart.scales[V].getPixelForValue(ee)}H=this._getYAxisLabelAlignment(x).textAlign}t==="y"&&(h==="start"?I="top":h==="end"&&(I="bottom"));const B=this._getLabelSizes();for(k=0,W=c.length;k<W;++k){$=c[k],O=$.label;const V=u.setContext(this.getContext(k));Z=this.getPixelForTick(k)+u.labelOffset,Y=this._resolveTickFontOptions(k),ye=Y.lineHeight,F=Jn(O)?O.length:1;const ee=F/2,ce=V.color,q=V.textStrokeColor,ne=V.textStrokeWidth;let C=H;d?(z=Z,H==="inner"&&(k===W-1?C=this.options.reverse?"left":"right":k===0?C=this.options.reverse?"right":"left":C="center"),o==="top"?g==="near"||w!==0?b=-F*ye+ye/2:g==="center"?b=-B.highest.height/2-ee*ye+ye:b=-B.highest.height+ye/2:g==="near"||w!==0?b=ye/2:g==="center"?b=B.highest.height/2-ee*ye:b=B.highest.height-F*ye,y&&(b*=-1)):(le=Z,b=(1-F)*ye/2);let G;if(V.showLabelBackdrop){const _e=hi(V.backdropPadding),De=B.heights[k],$e=B.widths[k];let be=le+b-_e.top,Ze=z-_e.left;switch(I){case"middle":be-=De/2;break;case"bottom":be-=De;break}switch(H){case"center":Ze-=$e/2;break;case"right":Ze-=$e;break}G={left:Ze,top:be,width:$e+_e.width,height:De+_e.height,color:V.backdropColor}}L.push({rotation:w,label:O,font:Y,color:ce,strokeColor:q,strokeWidth:ne,textOffset:b,textAlign:C,textBaseline:I,translation:[z,le],backdrop:G})}return L}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-qa(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:a,mirror:o,padding:u}}=this.options,d=this._getLabelSizes(),c=e+u,h=d.widest.width;let g,m;return t==="left"?o?(m=this.right+u,a==="near"?g="left":a==="center"?(g="center",m+=h/2):(g="right",m+=h)):(m=this.right-c,a==="near"?g="right":a==="center"?(g="center",m-=h/2):(g="left",m=this.left)):t==="right"?o?(m=this.left+u,a==="near"?g="right":a==="center"?(g="center",m-=h/2):(g="left",m-=h)):(m=this.left+c,a==="near"?g="left":a==="center"?(g="center",m+=h/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:a,top:o,width:u,height:d}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(a,o,u,d),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(u=>u.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,a=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let u,d;const c=(h,g,m)=>{!m.width||!m.color||(a.save(),a.lineWidth=m.width,a.strokeStyle=m.color,a.setLineDash(m.borderDash||[]),a.lineDashOffset=m.borderDashOffset,a.beginPath(),a.moveTo(h.x,h.y),a.lineTo(g.x,g.y),a.stroke(),a.restore())};if(t.display)for(u=0,d=o.length;u<d;++u){const h=o[u];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:a}}=this,o=a.setContext(this.getContext()),u=a.drawBorder?o.borderWidth:0;if(!u)return;const d=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,g,m,y;this.isHorizontal()?(h=gu(e,this.left,u)-u/2,g=gu(e,this.right,d)+d/2,m=y=c):(m=gu(e,this.top,u)-u/2,y=gu(e,this.bottom,d)+d/2,h=g=c),t.save(),t.lineWidth=o.borderWidth,t.strokeStyle=o.borderColor,t.beginPath(),t.moveTo(h,m),t.lineTo(g,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,o=this._computeLabelArea();o&&M0(a,o);const u=this._labelItems||(this._labelItems=this._computeLabelItems(e));let d,c;for(d=0,c=u.length;d<c;++d){const h=u[d],g=h.font,m=h.label;h.backdrop&&(a.fillStyle=h.backdrop.color,a.fillRect(h.backdrop.left,h.backdrop.top,h.backdrop.width,h.backdrop.height));let y=h.textOffset;Lu(a,m,0,y,g,h)}o&&I0(a)}drawTitle(){const{ctx:e,options:{position:t,title:a,reverse:o}}=this;if(!a.display)return;const u=Fr(a.font),d=hi(a.padding),c=a.align;let h=u.lineHeight/2;t==="bottom"||t==="center"||_n(t)?(h+=d.bottom,Jn(a.text)&&(h+=u.lineHeight*(a.text.length-1))):h+=d.top;const{titleX:g,titleY:m,maxWidth:y,rotation:x}=qR(this,h,t,c);Lu(e,a.text,0,0,u,{color:a.color,maxWidth:y,rotation:x,textAlign:UR(c,t,o),textBaseline:"middle",translation:[g,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,a=gn(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Bu.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:a,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a+1,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",o=[];let u,d;for(u=0,d=t.length;u<d;++u){const c=t[u];c[a]===this.id&&(!e||c.type===e)&&o.push(c)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Fr(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mf{constructor(e,t,a){this.type=e,this.scope=t,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let a;JR(t)&&(a=this.register(t));const o=this.items,u=e.id,d=this.scope+"."+u;if(!u)throw new Error("class does not have id: "+e);return u in o||(o[u]=e,jR(e,d,a),this.override&&En.override(e.id,e.overrides)),d}get(e){return this.items[e]}unregister(e){const t=this.items,a=e.id,o=this.scope;a in t&&delete t[a],o&&a in En[o]&&(delete En[o][a],this.override&&delete Ou[a])}}function jR(n,e,t){const a=tc(Object.create(null),[t?En.get(t):{},En.get(e),n.defaults]);En.set(e,a),n.defaultRoutes&&KR(e,n.defaultRoutes),n.descriptors&&En.describe(e,n.descriptors)}function KR(n,e){Object.keys(e).forEach(t=>{const a=t.split("."),o=a.pop(),u=[n].concat(a).join("."),d=e[t].split("."),c=d.pop(),h=d.join(".");En.route(u,o,h,c)})}function JR(n){return"id"in n&&"defaults"in n}class YR{constructor(){this.controllers=new mf(Ya,"datasets",!0),this.elements=new mf(Xa,"elements"),this.plugins=new mf(Object,"plugins"),this.scales=new mf(Bu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,a){[...t].forEach(o=>{const u=a||this._getRegistryForType(o);a||u.isForType(o)||u===this.plugins&&o.id?this._exec(e,u,o):Hn(o,d=>{const c=a||this._getRegistryForType(d);this._exec(e,c,d)})})}_exec(e,t,a){const o=cm(e);Kn(a["before"+o],[],a),t[e](a),Kn(a["after"+o],[],a)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const a=this._typedRegistries[t];if(a.isForType(e))return a}return this.plugins}_get(e,t,a){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return o}}var ys=new YR;class O0 extends Ya{update(e){const t=this._cachedMeta,{data:a=[]}=t,o=this.chart._animationsDisabled;let{start:u,count:d}=Nw(t,a,o);if(this._drawStart=u,this._drawCount=d,Aw(t)&&(u=0,d=a.length),this.options.showLine){const{dataset:c,_dataset:h}=t;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=a;const g=this.resolveDatasetElementOptions(e);g.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:g},e)}this.updateElements(a,u,d,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=ys.getElement("line")),super.addElements()}updateElements(e,t,a,o){const u=o==="reset",{iScale:d,vScale:c,_stacked:h,_dataset:g}=this._cachedMeta,m=this.resolveDataElementOptions(t,o),y=this.getSharedOptions(m),x=this.includeOptions(o,y),E=d.axis,_=c.axis,{spanGaps:w,segment:L}=this.options,k=Nl(w)?w:Number.POSITIVE_INFINITY,W=this.chart._animationsDisabled||u||o==="none";let $=t>0&&this.getParsed(t-1);for(let O=t;O<t+a;++O){const z=e[O],le=this.getParsed(O),H=W?z:{},Z=$n(le[_]),Y=H[E]=d.getPixelForValue(le[E],O),ye=H[_]=u||Z?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,le,h):le[_],O);H.skip=isNaN(Y)||isNaN(ye)||Z,H.stop=O>0&&Math.abs(le[E]-$[E])>k,L&&(H.parsed=le,H.raw=g.data[O]),x&&(H.options=y||this.resolveDataElementOptions(O,z.active?"active":o)),W||this.updateElement(z,O,H,o),$=le}this.updateSharedOptions(y,o,m)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let c=0;for(let h=t.length-1;h>=0;--h)c=Math.max(c,t[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const a=e.dataset,o=a.options&&a.options.borderWidth||0;if(!t.length)return o;const u=t[0].size(this.resolveDataElementOptions(0)),d=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,u,d)/2}}O0.id="scatter";O0.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};O0.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var XR=Object.freeze({__proto__:null,BarController:N0,BubbleController:A0,DoughnutController:Vl,LineController:D0,PolarAreaController:$0,PieController:Sm,RadarController:T0,ScatterController:O0});function pu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class W1{constructor(e){this.options=e||{}}init(e){}formats(){return pu()}parse(e,t){return pu()}format(e,t){return pu()}add(e,t,a){return pu()}diff(e,t,a){return pu()}startOf(e,t,a){return pu()}endOf(e,t){return pu()}}W1.override=function(n){Object.assign(W1.prototype,n)};var ZR={_date:W1};function QR(n,e,t,a){const{controller:o,data:u,_sorted:d}=n,c=o._cachedMeta.iScale;if(c&&e===c.axis&&e!=="r"&&d&&u.length){const h=c._reversePixels?H$:Js;if(a){if(o._sharedOptions){const g=u[0],m=typeof g.getRange=="function"&&g.getRange(e);if(m){const y=h(u,e,t-m),x=h(u,e,t+m);return{lo:y.lo,hi:x.hi}}}}else return h(u,e,t)}return{lo:0,hi:u.length-1}}function yc(n,e,t,a,o){const u=n.getSortedVisibleDatasetMetas(),d=t[e];for(let c=0,h=u.length;c<h;++c){const{index:g,data:m}=u[c],{lo:y,hi:x}=QR(u[c],e,d,o);for(let E=y;E<=x;++E){const _=m[E];_.skip||a(_,g,E)}}}function eO(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(a,o){const u=e?Math.abs(a.x-o.x):0,d=t?Math.abs(a.y-o.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(d,2))}}function Qg(n,e,t,a,o){const u=[];return!o&&!n.isPointInArea(e)||yc(n,t,e,function(c,h,g){!o&&!rc(c,n.chartArea,0)||c.inRange(e.x,e.y,a)&&u.push({element:c,datasetIndex:h,index:g})},!0),u}function tO(n,e,t,a){let o=[];function u(d,c,h){const{startAngle:g,endAngle:m}=d.getProps(["startAngle","endAngle"],a),{angle:y}=Ew(d,{x:e.x,y:e.y});nc(y,g,m)&&o.push({element:d,datasetIndex:c,index:h})}return yc(n,t,e,u),o}function nO(n,e,t,a,o,u){let d=[];const c=eO(t);let h=Number.POSITIVE_INFINITY;function g(m,y,x){const E=m.inRange(e.x,e.y,o);if(a&&!E)return;const _=m.getCenterPoint(o);if(!(!!u||n.isPointInArea(_))&&!E)return;const L=c(e,_);L<h?(d=[{element:m,datasetIndex:y,index:x}],h=L):L===h&&d.push({element:m,datasetIndex:y,index:x})}return yc(n,t,e,g),d}function e1(n,e,t,a,o,u){return!u&&!n.isPointInArea(e)?[]:t==="r"&&!a?tO(n,e,t,o):nO(n,e,t,a,o,u)}function Gv(n,e,t,a,o){const u=[],d=t==="x"?"inXRange":"inYRange";let c=!1;return yc(n,t,e,(h,g,m)=>{h[d](e[t],o)&&(u.push({element:h,datasetIndex:g,index:m}),c=c||h.inRange(e.x,e.y,o))}),a&&!c?[]:u}var rO={evaluateInteractionItems:yc,modes:{index(n,e,t,a){const o=mu(e,n),u=t.axis||"x",d=t.includeInvisible||!1,c=t.intersect?Qg(n,o,u,a,d):e1(n,o,u,!1,a,d),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const m=c[0].index,y=g.data[m];y&&!y.skip&&h.push({element:y,datasetIndex:g.index,index:m})}),h):[]},dataset(n,e,t,a){const o=mu(e,n),u=t.axis||"xy",d=t.includeInvisible||!1;let c=t.intersect?Qg(n,o,u,a,d):e1(n,o,u,!1,a,d);if(c.length>0){const h=c[0].datasetIndex,g=n.getDatasetMeta(h).data;c=[];for(let m=0;m<g.length;++m)c.push({element:g[m],datasetIndex:h,index:m})}return c},point(n,e,t,a){const o=mu(e,n),u=t.axis||"xy",d=t.includeInvisible||!1;return Qg(n,o,u,a,d)},nearest(n,e,t,a){const o=mu(e,n),u=t.axis||"xy",d=t.includeInvisible||!1;return e1(n,o,u,t.intersect,a,d)},x(n,e,t,a){const o=mu(e,n);return Gv(n,o,"x",t.intersect,a)},y(n,e,t,a){const o=mu(e,n);return Gv(n,o,"y",t.intersect,a)}}};const e4=["left","top","right","bottom"];function Cd(n,e){return n.filter(t=>t.pos===e)}function Wv(n,e){return n.filter(t=>e4.indexOf(t.pos)===-1&&t.box.axis===e)}function Md(n,e){return n.sort((t,a)=>{const o=e?a:t,u=e?t:a;return o.weight===u.weight?o.index-u.index:o.weight-u.weight})}function iO(n){const e=[];let t,a,o,u,d,c;for(t=0,a=(n||[]).length;t<a;++t)o=n[t],{position:u,options:{stack:d,stackWeight:c=1}}=o,e.push({index:t,box:o,pos:u,horizontal:o.isHorizontal(),weight:o.weight,stack:d&&u+d,stackWeight:c});return e}function aO(n){const e={};for(const t of n){const{stack:a,pos:o,stackWeight:u}=t;if(!a||!e4.includes(o))continue;const d=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=u}return e}function sO(n,e){const t=aO(n),{vBoxMaxWidth:a,hBoxMaxHeight:o}=e;let u,d,c;for(u=0,d=n.length;u<d;++u){c=n[u];const{fullSize:h}=c.box,g=t[c.stack],m=g&&c.stackWeight/g.weight;c.horizontal?(c.width=m?m*a:h&&e.availableWidth,c.height=o):(c.width=a,c.height=m?m*o:h&&e.availableHeight)}return t}function oO(n){const e=iO(n),t=Md(e.filter(g=>g.box.fullSize),!0),a=Md(Cd(e,"left"),!0),o=Md(Cd(e,"right")),u=Md(Cd(e,"top"),!0),d=Md(Cd(e,"bottom")),c=Wv(e,"x"),h=Wv(e,"y");return{fullSize:t,leftAndTop:a.concat(u),rightAndBottom:o.concat(h).concat(d).concat(c),chartArea:Cd(e,"chartArea"),vertical:a.concat(o).concat(h),horizontal:u.concat(d).concat(c)}}function Uv(n,e,t,a){return Math.max(n[t],e[t])+Math.max(n[a],e[a])}function t4(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function uO(n,e,t,a){const{pos:o,box:u}=t,d=n.maxPadding;if(!_n(o)){t.size&&(n[o]-=t.size);const y=a[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?u.height:u.width),t.size=y.size/y.count,n[o]+=t.size}u.getPadding&&t4(d,u.getPadding());const c=Math.max(0,e.outerWidth-Uv(d,n,"left","right")),h=Math.max(0,e.outerHeight-Uv(d,n,"top","bottom")),g=c!==n.w,m=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:g,other:m}:{same:m,other:g}}function lO(n){const e=n.maxPadding;function t(a){const o=Math.max(e[a]-n[a],0);return n[a]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function dO(n,e){const t=e.maxPadding;function a(o){const u={left:0,top:0,right:0,bottom:0};return o.forEach(d=>{u[d]=Math.max(e[d],t[d])}),u}return a(n?["left","right"]:["top","bottom"])}function $d(n,e,t,a){const o=[];let u,d,c,h,g,m;for(u=0,d=n.length,g=0;u<d;++u){c=n[u],h=c.box,h.update(c.width||e.w,c.height||e.h,dO(c.horizontal,e));const{same:y,other:x}=uO(e,t,c,a);g|=y&&o.length,m=m||x,h.fullSize||o.push(c)}return g&&$d(o,e,t,a)||m}function yf(n,e,t,a,o){n.top=t,n.left=e,n.right=e+a,n.bottom=t+o,n.width=a,n.height=o}function qv(n,e,t,a){const o=t.padding;let{x:u,y:d}=e;for(const c of n){const h=c.box,g=a[c.stack]||{count:1,placed:0,weight:1},m=c.stackWeight/g.weight||1;if(c.horizontal){const y=e.w*m,x=g.size||h.height;Ia(g.start)&&(d=g.start),h.fullSize?yf(h,o.left,d,t.outerWidth-o.right-o.left,x):yf(h,e.left+g.placed,d,y,x),g.start=d,g.placed+=y,d=h.bottom}else{const y=e.h*m,x=g.size||h.width;Ia(g.start)&&(u=g.start),h.fullSize?yf(h,u,o.top,x,t.outerHeight-o.bottom-o.top):yf(h,u,e.top+g.placed,x,y),g.start=u,g.placed+=y,u=h.right}}e.x=u,e.y=d}En.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var di={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,a){if(!n)return;const o=hi(n.options.layout.padding),u=Math.max(e-o.width,0),d=Math.max(t-o.height,0),c=oO(n.boxes),h=c.vertical,g=c.horizontal;Hn(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const m=h.reduce((w,L)=>L.box.options&&L.box.options.display===!1?w:w+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:u,availableHeight:d,vBoxMaxWidth:u/2/m,hBoxMaxHeight:d/2}),x=Object.assign({},o);t4(x,hi(a));const E=Object.assign({maxPadding:x,w:u,h:d,x:o.left,y:o.top},o),_=sO(h.concat(g),y);$d(c.fullSize,E,y,_),$d(h,E,y,_),$d(g,E,y,_)&&$d(h,E,y,_),lO(E),qv(c.leftAndTop,E,y,_),E.x+=E.w,E.y+=E.h,qv(c.rightAndBottom,E,y,_),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Hn(c.chartArea,w=>{const L=w.box;Object.assign(L,n.chartArea),L.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class n4{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,a){}removeEventListener(e,t,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,a,o){return t=Math.max(0,t||e.width),a=a||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):a)}}isAttached(e){return!0}updateConfig(e){}}class cO extends n4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ff="$chartjs",fO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jv=n=>n===null||n==="";function hO(n,e){const t=n.style,a=n.getAttribute("height"),o=n.getAttribute("width");if(n[Ff]={initial:{height:a,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",jv(o)){const u=Cv(n,"width");u!==void 0&&(n.width=u)}if(jv(a))if(n.style.height==="")n.height=n.width/(e||2);else{const u=Cv(n,"height");u!==void 0&&(n.height=u)}return n}const r4=jT?{passive:!0}:!1;function gO(n,e,t){n.addEventListener(e,t,r4)}function pO(n,e,t){n.canvas.removeEventListener(e,t,r4)}function mO(n,e){const t=fO[n.type]||n.type,{x:a,y:o}=mu(n,e);return{type:t,chart:e,native:n,x:a!==void 0?a:null,y:o!==void 0?o:null}}function Th(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function yO(n,e,t){const a=n.canvas,o=new MutationObserver(u=>{let d=!1;for(const c of u)d=d||Th(c.addedNodes,a),d=d&&!Th(c.removedNodes,a);d&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function vO(n,e,t){const a=n.canvas,o=new MutationObserver(u=>{let d=!1;for(const c of u)d=d||Th(c.removedNodes,a),d=d&&!Th(c.addedNodes,a);d&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const ac=new Map;let Kv=0;function i4(){const n=window.devicePixelRatio;n!==Kv&&(Kv=n,ac.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function bO(n,e){ac.size||window.addEventListener("resize",i4),ac.set(n,e)}function xO(n){ac.delete(n),ac.size||window.removeEventListener("resize",i4)}function wO(n,e,t){const a=n.canvas,o=a&&_m(a);if(!o)return;const u=Pw((c,h)=>{const g=o.clientWidth;t(c,h),g<o.clientWidth&&t()},window),d=new ResizeObserver(c=>{const h=c[0],g=h.contentRect.width,m=h.contentRect.height;g===0&&m===0||u(g,m)});return d.observe(o),bO(n,u),d}function t1(n,e,t){t&&t.disconnect(),e==="resize"&&xO(n)}function _O(n,e,t){const a=n.canvas,o=Pw(u=>{n.ctx!==null&&t(mO(u,n))},n,u=>{const d=u[0];return[d,d.offsetX,d.offsetY]});return gO(a,e,o),o}class SO extends n4{acquireContext(e,t){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(hO(e,t),a):null}releaseContext(e){const t=e.canvas;if(!t[Ff])return!1;const a=t[Ff].initial;["height","width"].forEach(u=>{const d=a[u];$n(d)?t.removeAttribute(u):t.setAttribute(u,d)});const o=a.style||{};return Object.keys(o).forEach(u=>{t.style[u]=o[u]}),t.width=t.width,delete t[Ff],!0}addEventListener(e,t,a){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),d={attach:yO,detach:vO,resize:wO}[t]||_O;o[t]=d(e,t,a)}removeEventListener(e,t){const a=e.$proxies||(e.$proxies={}),o=a[t];if(!o)return;({attach:t1,detach:t1,resize:t1}[t]||pO)(e,t,o),a[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,a,o){return qT(e,t,a,o)}isAttached(e){const t=_m(e);return!!(t&&t.isConnected)}}function EO(n){return!Ww()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?cO:SO}class CO{constructor(){this._init=[]}notify(e,t,a,o){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const u=o?this._descriptors(e).filter(o):this._descriptors(e),d=this._notify(u,e,t,a);return t==="afterDestroy"&&(this._notify(u,e,"stop"),this._notify(this._init,e,"uninstall")),d}_notify(e,t,a,o){o=o||{};for(const u of e){const d=u.plugin,c=d[a],h=[t,o,u.options];if(Kn(c,h,d)===!1&&o.cancelable)return!1}return!0}invalidate(){$n(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const a=e&&e.config,o=gn(a.options&&a.options.plugins,{}),u=MO(a);return o===!1&&!t?[]:PO(e,u,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],a=this._cache,o=(u,d)=>u.filter(c=>!d.some(h=>c.plugin.id===h.plugin.id));this._notify(o(t,a),e,"stop"),this._notify(o(a,t),e,"start")}}function MO(n){const e={},t=[],a=Object.keys(ys.plugins.items);for(let u=0;u<a.length;u++)t.push(ys.getPlugin(a[u]));const o=n.plugins||[];for(let u=0;u<o.length;u++){const d=o[u];t.indexOf(d)===-1&&(t.push(d),e[d.id]=!0)}return{plugins:t,localIds:e}}function IO(n,e){return!e&&n===!1?null:n===!0?{}:n}function PO(n,{plugins:e,localIds:t},a,o){const u=[],d=n.getContext();for(const c of e){const h=c.id,g=IO(a[h],o);g!==null&&u.push({plugin:c,options:NO(n.config,{plugin:c,local:t[h]},g,d)})}return u}function NO(n,{plugin:e,local:t},a,o){const u=n.pluginScopeKeys(e),d=n.getOptionScopes(a,u);return t&&e.defaults&&d.push(e.defaults),n.createResolver(d,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function U1(n,e){const t=En.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function AO(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function DO(n,e){return n===e?"_index_":"_value_"}function $O(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function q1(n,e){return n==="x"||n==="y"?n:e.axis||$O(e.position)||n.charAt(0).toLowerCase()}function TO(n,e){const t=Ou[n.type]||{scales:{}},a=e.scales||{},o=U1(n.type,e),u=Object.create(null),d=Object.create(null);return Object.keys(a).forEach(c=>{const h=a[c];if(!_n(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const g=q1(c,h),m=DO(g,o),y=t.scales||{};u[g]=u[g]||c,d[c]=kd(Object.create(null),[{axis:g},h,y[g],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,g=c.indexAxis||U1(h,e),y=(Ou[h]||{}).scales||{};Object.keys(y).forEach(x=>{const E=AO(x,g),_=c[E+"AxisID"]||u[E]||E;d[_]=d[_]||Object.create(null),kd(d[_],[{axis:E},a[_],y[x]])})}),Object.keys(d).forEach(c=>{const h=d[c];kd(h,[En.scales[h.type],En.scale])}),d}function a4(n){const e=n.options||(n.options={});e.plugins=gn(e.plugins,{}),e.scales=TO(n,e)}function s4(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function RO(n){return n=n||{},n.data=s4(n.data),a4(n),n}const Jv=new Map,o4=new Set;function vf(n,e){let t=Jv.get(n);return t||(t=e(),Jv.set(n,t),o4.add(t)),t}const Id=(n,e,t)=>{const a=Lo(e,t);a!==void 0&&n.add(a)};class OO{constructor(e){this._config=RO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=s4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),a4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return vf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return vf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,a=this.type;return vf(`${a}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const a=this._scopeCache;let o=a.get(e);return(!o||t)&&(o=new Map,a.set(e,o)),o}getOptionScopes(e,t,a){const{options:o,type:u}=this,d=this._cachedScopes(e,a),c=d.get(t);if(c)return c;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(y=>Id(h,e,y))),m.forEach(y=>Id(h,o,y)),m.forEach(y=>Id(h,Ou[u]||{},y)),m.forEach(y=>Id(h,En,y)),m.forEach(y=>Id(h,V1,y))});const g=Array.from(h);return g.length===0&&g.push(Object.create(null)),o4.has(t)&&d.set(t,g),g}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ou[t]||{},En.datasets[t]||{},{type:t},En,V1]}resolveNamedOptions(e,t,a,o=[""]){const u={$shared:!0},{resolver:d,subPrefixes:c}=Yv(this._resolverCache,e,o);let h=d;if(kO(d,t)){u.$shared=!1,a=ko(a)?a():a;const g=this.createResolver(e,a,c);h=Al(d,a,g)}for(const g of t)u[g]=h[g];return u}createResolver(e,t,a=[""],o){const{resolver:u}=Yv(this._resolverCache,e,a);return _n(t)?Al(u,t,void 0,o):u}}function Yv(n,e,t){let a=n.get(e);a||(a=new Map,n.set(e,a));const o=t.join();let u=a.get(o);return u||(u={resolver:bm(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},a.set(o,u)),u}const LO=n=>_n(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||ko(n[t]),!1);function kO(n,e){const{isScriptable:t,isIndexable:a}=Fw(n);for(const o of e){const u=t(o),d=a(o),c=(d||u)&&n[o];if(u&&(ko(c)||LO(c))||d&&Jn(c))return!0}return!1}var FO="3.9.1";const BO=["top","bottom","left","right","chartArea"];function Xv(n,e){return n==="top"||n==="bottom"||BO.indexOf(n)===-1&&e==="x"}function Zv(n,e){return function(t,a){return t[n]===a[n]?t[e]-a[e]:t[n]-a[n]}}function Qv(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Kn(t&&t.onComplete,[n],e)}function HO(n){const e=n.chart,t=e.options.animation;Kn(t&&t.onProgress,[n],e)}function u4(n){return Ww()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Rh={},l4=n=>{const e=u4(n);return Object.values(Rh).filter(t=>t.canvas===e).pop()};function zO(n,e,t){const a=Object.keys(n);for(const o of a){const u=+o;if(u>=e){const d=n[o];delete n[o],(t>0||u>e)&&(n[u+t]=d)}}}function VO(n,e,t,a){return!t||n.type==="mouseout"?null:a?e:n}class yl{constructor(e,t){const a=this.config=new OO(t),o=u4(e),u=l4(o);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const d=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||EO(o)),this.platform.updateConfig(a);const c=this.platform.acquireContext(o,d.aspectRatio),h=c&&c.canvas,g=h&&h.height,m=h&&h.width;if(this.id=I$(),this.ctx=c,this.canvas=h,this.width=m,this.height=g,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new CO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=G$(y=>this.update(y),d.resizeDelay||0),this._dataChanges=[],Rh[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Hs.listen(this,"complete",Qv),Hs.listen(this,"progress",HO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:o,_aspectRatio:u}=this;return $n(e)?t&&u?u:o?a/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ev(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wv(this.canvas,this.ctx),this}stop(){return Hs.stop(this),this}resize(e,t){Hs.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const a=this.options,o=this.canvas,u=a.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(o,e,t,u),c=a.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,Ev(this,c,!0)&&(this.notifyPlugins("resize",{size:d}),Kn(a.onResize,[this,d],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Hn(t,(a,o)=>{a.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,a=this.scales,o=Object.keys(a).reduce((d,c)=>(d[c]=!1,d),{});let u=[];t&&(u=u.concat(Object.keys(t).map(d=>{const c=t[d],h=q1(d,c),g=h==="r",m=h==="x";return{options:c,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Hn(u,d=>{const c=d.options,h=c.id,g=q1(h,c),m=gn(c.type,d.dtype);(c.position===void 0||Xv(c.position,g)!==Xv(d.dposition))&&(c.position=d.dposition),o[h]=!0;let y=null;if(h in a&&a[h].type===m)y=a[h];else{const x=ys.getScale(m);y=new x({id:h,type:m,ctx:this.ctx,chart:this}),a[y.id]=y}y.init(c,e)}),Hn(o,(d,c)=>{d||delete a[c]}),Hn(a,d=>{di.configure(this,d,d.options),di.addBox(this,d)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort((o,u)=>o.index-u.index),a>t){for(let o=t;o<a;++o)this._destroyDatasetMeta(o);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(Zv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((a,o)=>{t.filter(u=>u===a._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let a,o;for(this._removeUnreferencedMetasets(),a=0,o=t.length;a<o;a++){const u=t[a];let d=this.getDatasetMeta(a);const c=u.type||this.config.type;if(d.type&&d.type!==c&&(this._destroyDatasetMeta(a),d=this.getDatasetMeta(a)),d.type=c,d.indexAxis=u.indexAxis||U1(c,this.options),d.order=u.order||0,d.index=a,d.label=""+u.label,d.visible=this.isDatasetVisible(a),d.controller)d.controller.updateIndex(a),d.controller.linkScales();else{const h=ys.getController(c),{datasetElementType:g,dataElementType:m}=En.datasets[c];Object.assign(h.prototype,{dataElementType:ys.getElement(m),datasetElementType:g&&ys.getElement(g)}),d.controller=new h(this,a),e.push(d.controller)}}return this._updateMetasets(),e}_resetElements(){Hn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:y}=this.getDatasetMeta(g),x=!o&&u.indexOf(y)===-1;y.buildOrUpdateElements(x),d=Math.max(+y.getMaxOverflow(),d)}d=this._minPadding=a.layout.autoPadding?d:0,this._updateLayout(d),o||Hn(u,g=>{g.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Zv("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Hn(this.scales,e=>{di.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!lv(t,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:a,start:o,count:u}of t){const d=a==="_removeElements"?-u:u;zO(e,o,d)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,a=u=>new Set(e.filter(d=>d[0]===u).map((d,c)=>c+","+d.splice(1).join(","))),o=a(0);for(let u=1;u<t;u++)if(!lv(o,a(u)))return;return Array.from(o).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;di.update(this,this.width,this.height,e);const t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],Hn(this.boxes,o=>{a&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,u)=>{o._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,a=this.data.datasets.length;t<a;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,ko(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const a=this.getDatasetMeta(e),o={meta:a,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(a.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hs.has(this)?this.attached&&!Hs.running(this)&&Hs.start(this):(this.draw(),Qv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:o}=this._resizeBeforeDraw;this._resize(a,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,a=[];let o,u;for(o=0,u=t.length;o<u;++o){const d=t[o];(!e||d.visible)&&a.push(d)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,a=e._clip,o=!a.disabled,u=this.chartArea,d={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",d)!==!1&&(o&&M0(t,{left:a.left===!1?0:u.left-a.left,right:a.right===!1?this.width:u.right+a.right,top:a.top===!1?0:u.top-a.top,bottom:a.bottom===!1?this.height:u.bottom+a.bottom}),e.controller.draw(),o&&I0(t),d.cancelable=!1,this.notifyPlugins("afterDatasetDraw",d))}isPointInArea(e){return rc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,o){const u=rO.modes[t];return typeof u=="function"?u(this,e,a,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],a=this._metasets;let o=a.filter(u=>u&&u._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(o)),o}getContext(){return this.$context||(this.$context=Go(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!t.hidden}setDatasetVisibility(e,t){const a=this.getDatasetMeta(e);a.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){const o=a?"show":"hide",u=this.getDatasetMeta(e),d=u.controller._resolveAnimations(void 0,o);Ia(t)?(u.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),d.update(u,{visible:a}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Hs.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wv(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Rh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,a=(u,d)=>{t.addEventListener(this,u,d),e[u]=d},o=(u,d,c)=>{u.offsetX=d,u.offsetY=c,this._eventHandler(u)};Hn(this.options.events,u=>a(u,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,a=(h,g)=>{t.addEventListener(this,h,g),e[h]=g},o=(h,g)=>{e[h]&&(t.removeEventListener(this,h,g),delete e[h])},u=(h,g)=>{this.canvas&&this.resize(h,g)};let d;const c=()=>{o("attach",c),this.attached=!0,this.resize(),a("resize",u),a("detach",d)};d=()=>{this.attached=!1,o("resize",u),this._stop(),this._resize(0,0),a("attach",c)},t.isAttached(this.canvas)?c():d()}unbindEvents(){Hn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Hn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){const o=a?"set":"remove";let u,d,c,h;for(t==="dataset"&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+o+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){d=e[c];const g=d&&this.getDatasetMeta(d.datasetIndex).controller;g&&g[o+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],a=e.map(({datasetIndex:u,index:d})=>{const c=this.getDatasetMeta(u);if(!c)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:c.data[d],index:d}});!Ih(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}_updateHoverStyles(e,t,a){const o=this.options.hover,u=(h,g)=>h.filter(m=>!g.some(y=>m.datasetIndex===y.datasetIndex&&m.index===y.index)),d=u(t,e),c=a?e:u(e,t);d.length&&this.updateHoverStyle(d,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,t){const a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=d=>(d.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,o)===!1)return;const u=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,o),(u||a.changed)&&this.render(),this}_handleEvent(e,t,a){const{_active:o=[],options:u}=this,d=t,c=this._getActiveElements(e,o,a,d),h=T$(e),g=VO(e,this._lastEvent,a,h);a&&(this._lastEvent=null,Kn(u.onHover,[e,c,this],this),h&&Kn(u.onClick,[e,c,this],this));const m=!Ih(c,o);return(m||t)&&(this._active=c,this._updateHoverStyles(c,o,t)),this._lastEvent=g,m}_getActiveElements(e,t,a,o){if(e.type==="mouseout")return[];if(!a)return t;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,o)}}const eb=()=>Hn(yl.instances,n=>n._plugins.invalidate()),So=!0;Object.defineProperties(yl,{defaults:{enumerable:So,value:En},instances:{enumerable:So,value:Rh},overrides:{enumerable:So,value:Ou},registry:{enumerable:So,value:ys},version:{enumerable:So,value:FO},getChart:{enumerable:So,value:l4},register:{enumerable:So,value:(...n)=>{ys.add(...n),eb()}},unregister:{enumerable:So,value:(...n)=>{ys.remove(...n),eb()}}});function d4(n,e,t){const{startAngle:a,pixelMargin:o,x:u,y:d,outerRadius:c,innerRadius:h}=e;let g=o/c;n.beginPath(),n.arc(u,d,c,a-g,t+g),h>o?(g=o/h,n.arc(u,d,h,t+g,a-g,!0)):n.arc(u,d,o,t+pr,a-pr),n.closePath(),n.clip()}function GO(n){return vm(n,["outerStart","outerEnd","innerStart","innerEnd"])}function WO(n,e,t,a){const o=GO(n.options.borderRadius),u=(t-e)/2,d=Math.min(u,a*e/2),c=h=>{const g=(t-Math.min(u,h))*a/2;return jr(h,0,Math.min(u,g))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:jr(o.innerStart,0,d),innerEnd:jr(o.innerEnd,0,d)}}function cl(n,e,t,a){return{x:t+n*Math.cos(e),y:a+n*Math.sin(e)}}function j1(n,e,t,a,o,u){const{x:d,y:c,startAngle:h,pixelMargin:g,innerRadius:m}=e,y=Math.max(e.outerRadius+a+t-g,0),x=m>0?m+a+t+g:0;let E=0;const _=o-h;if(a){const V=m>0?m-a:0,ee=y>0?y-a:0,ce=(V+ee)/2,q=ce!==0?_*ce/(ce+a):_;E=(_-q)/2}const w=Math.max(.001,_*y-t/rr)/y,L=(_-w)/2,k=h+L+E,W=o-L-E,{outerStart:$,outerEnd:O,innerStart:z,innerEnd:le}=WO(e,x,y,W-k),H=y-$,Z=y-O,Y=k+$/H,ye=W-O/Z,F=x+z,b=x+le,I=k+z/F,B=W-le/b;if(n.beginPath(),u){if(n.arc(d,c,y,Y,ye),O>0){const ce=cl(Z,ye,d,c);n.arc(ce.x,ce.y,O,ye,W+pr)}const V=cl(b,W,d,c);if(n.lineTo(V.x,V.y),le>0){const ce=cl(b,B,d,c);n.arc(ce.x,ce.y,le,W+pr,B+Math.PI)}if(n.arc(d,c,x,W-le/x,k+z/x,!0),z>0){const ce=cl(F,I,d,c);n.arc(ce.x,ce.y,z,I+Math.PI,k-pr)}const ee=cl(H,k,d,c);if(n.lineTo(ee.x,ee.y),$>0){const ce=cl(H,Y,d,c);n.arc(ce.x,ce.y,$,k-pr,Y)}}else{n.moveTo(d,c);const V=Math.cos(Y)*y+d,ee=Math.sin(Y)*y+c;n.lineTo(V,ee);const ce=Math.cos(ye)*y+d,q=Math.sin(ye)*y+c;n.lineTo(ce,q)}n.closePath()}function UO(n,e,t,a,o){const{fullCircles:u,startAngle:d,circumference:c}=e;let h=e.endAngle;if(u){j1(n,e,t,a,d+Vn,o);for(let g=0;g<u;++g)n.fill();isNaN(c)||(h=d+c%Vn,c%Vn===0&&(h+=Vn))}return j1(n,e,t,a,h,o),n.fill(),h}function qO(n,e,t){const{x:a,y:o,startAngle:u,pixelMargin:d,fullCircles:c}=e,h=Math.max(e.outerRadius-d,0),g=e.innerRadius+d;let m;for(t&&d4(n,e,u+Vn),n.beginPath(),n.arc(a,o,g,u+Vn,u,!0),m=0;m<c;++m)n.stroke();for(n.beginPath(),n.arc(a,o,h,u,u+Vn),m=0;m<c;++m)n.stroke()}function jO(n,e,t,a,o,u){const{options:d}=e,{borderWidth:c,borderJoinStyle:h}=d,g=d.borderAlign==="inner";c&&(g?(n.lineWidth=c*2,n.lineJoin=h||"round"):(n.lineWidth=c,n.lineJoin=h||"bevel"),e.fullCircles&&qO(n,e,g),g&&d4(n,e,o),j1(n,e,t,a,o,u),n.stroke())}class L0 extends Xa{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,a){const o=this.getProps(["x","y"],a),{angle:u,distance:d}=Ew(o,{x:e,y:t}),{startAngle:c,endAngle:h,innerRadius:g,outerRadius:m,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),x=this.options.spacing/2,_=gn(y,h-c)>=Vn||nc(u,c,h),w=Ks(d,g+x,m+x);return _&&w}getCenterPoint(e){const{x:t,y:a,startAngle:o,endAngle:u,innerRadius:d,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:h,spacing:g}=this.options,m=(o+u)/2,y=(d+c+g+h)/2;return{x:t+Math.cos(m)*y,y:a+Math.sin(m)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:a}=this,o=(t.offset||0)/2,u=(t.spacing||0)/2,d=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=a>Vn?Math.floor(a/Vn):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let c=0;if(o){c=o/2;const g=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(g)*c,Math.sin(g)*c),this.circumference>=rr&&(c=o)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const h=UO(e,this,c,u,d);jO(e,this,c,u,h,d),e.restore()}}L0.id="arc";L0.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};L0.defaultRoutes={backgroundColor:"backgroundColor"};function c4(n,e,t=e){n.lineCap=gn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(gn(t.borderDash,e.borderDash)),n.lineDashOffset=gn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=gn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=gn(t.borderWidth,e.borderWidth),n.strokeStyle=gn(t.borderColor,e.borderColor)}function KO(n,e,t){n.lineTo(t.x,t.y)}function JO(n){return n.stepped?mT:n.tension||n.cubicInterpolationMode==="monotone"?yT:KO}function f4(n,e,t={}){const a=n.length,{start:o=0,end:u=a-1}=t,{start:d,end:c}=e,h=Math.max(o,d),g=Math.min(u,c),m=o<d&&u<d||o>c&&u>c;return{count:a,start:h,loop:e.loop,ilen:g<h&&!m?a+g-h:g-h}}function YO(n,e,t,a){const{points:o,options:u}=e,{count:d,start:c,loop:h,ilen:g}=f4(o,t,a),m=JO(u);let{move:y=!0,reverse:x}=a||{},E,_,w;for(E=0;E<=g;++E)_=o[(c+(x?g-E:E))%d],!_.skip&&(y?(n.moveTo(_.x,_.y),y=!1):m(n,w,_,x,u.stepped),w=_);return h&&(_=o[(c+(x?g:0))%d],m(n,w,_,x,u.stepped)),!!h}function XO(n,e,t,a){const o=e.points,{count:u,start:d,ilen:c}=f4(o,t,a),{move:h=!0,reverse:g}=a||{};let m=0,y=0,x,E,_,w,L,k;const W=O=>(d+(g?c-O:O))%u,$=()=>{w!==L&&(n.lineTo(m,L),n.lineTo(m,w),n.lineTo(m,k))};for(h&&(E=o[W(0)],n.moveTo(E.x,E.y)),x=0;x<=c;++x){if(E=o[W(x)],E.skip)continue;const O=E.x,z=E.y,le=O|0;le===_?(z<w?w=z:z>L&&(L=z),m=(y*m+O)/++y):($(),n.lineTo(O,z),_=le,y=0,w=L=z),k=z}$()}function K1(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?XO:YO}function ZO(n){return n.stepped?KT:n.tension||n.cubicInterpolationMode==="monotone"?JT:yu}function QO(n,e,t,a){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,a)&&o.closePath()),c4(n,e.options),n.stroke(o)}function eL(n,e,t,a){const{segments:o,options:u}=e,d=K1(e);for(const c of o)c4(n,u,c.style),n.beginPath(),d(n,e,c,{start:t,end:t+a-1})&&n.closePath(),n.stroke()}const tL=typeof Path2D=="function";function nL(n,e,t,a){tL&&!e.options.segment?QO(n,e,t,a):eL(n,e,t,a)}class Wo extends Xa{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const o=a.spanGaps?this._loop:this._fullLoop;HT(this._points,a,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=nR(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,a=e.length;return a&&t[e[a-1].end]}interpolate(e,t){const a=this.options,o=e[t],u=this.points,d=Jw(this,{property:t,start:o,end:o});if(!d.length)return;const c=[],h=ZO(a);let g,m;for(g=0,m=d.length;g<m;++g){const{start:y,end:x}=d[g],E=u[y],_=u[x];if(E===_){c.push(E);continue}const w=Math.abs((o-E[t])/(_[t]-E[t])),L=h(E,_,w,a.stepped);L[t]=e[t],c.push(L)}return c.length===1?c[0]:c}pathSegment(e,t,a){return K1(this)(e,this,t,a)}path(e,t,a){const o=this.segments,u=K1(this);let d=this._loop;t=t||0,a=a||this.points.length-t;for(const c of o)d&=u(e,this,c,{start:t,end:t+a-1});return!!d}draw(e,t,a,o){const u=this.options||{};(this.points||[]).length&&u.borderWidth&&(e.save(),nL(e,this,a,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Wo.id="line";Wo.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Wo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Wo.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};function tb(n,e,t,a){const o=n.options,{[t]:u}=n.getProps([t],a);return Math.abs(e-u)<o.radius+o.hitRadius}class k0 extends Xa{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,a){const o=this.options,{x:u,y:d}=this.getProps(["x","y"],a);return Math.pow(e-u,2)+Math.pow(t-d,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,t){return tb(this,e,"x",t)}inYRange(e,t){return tb(this,e,"y",t)}getCenterPoint(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const a=t&&e.borderWidth||0;return(t+a)*2}draw(e,t){const a=this.options;this.skip||a.radius<.1||!rc(this,t,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,G1(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}k0.id="point";k0.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};k0.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function h4(n,e){const{x:t,y:a,base:o,width:u,height:d}=n.getProps(["x","y","base","width","height"],e);let c,h,g,m,y;return n.horizontal?(y=d/2,c=Math.min(t,o),h=Math.max(t,o),g=a-y,m=a+y):(y=u/2,c=t-y,h=t+y,g=Math.min(a,o),m=Math.max(a,o)),{left:c,top:g,right:h,bottom:m}}function Do(n,e,t,a){return n?0:jr(e,t,a)}function rL(n,e,t){const a=n.options.borderWidth,o=n.borderSkipped,u=kw(a);return{t:Do(o.top,u.top,0,t),r:Do(o.right,u.right,0,e),b:Do(o.bottom,u.bottom,0,t),l:Do(o.left,u.left,0,e)}}function iL(n,e,t){const{enableBorderRadius:a}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,u=Pu(o),d=Math.min(e,t),c=n.borderSkipped,h=a||_n(o);return{topLeft:Do(!h||c.top||c.left,u.topLeft,0,d),topRight:Do(!h||c.top||c.right,u.topRight,0,d),bottomLeft:Do(!h||c.bottom||c.left,u.bottomLeft,0,d),bottomRight:Do(!h||c.bottom||c.right,u.bottomRight,0,d)}}function aL(n){const e=h4(n),t=e.right-e.left,a=e.bottom-e.top,o=rL(n,t/2,a/2),u=iL(n,t/2,a/2);return{outer:{x:e.left,y:e.top,w:t,h:a,radius:u},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:a-o.t-o.b,radius:{topLeft:Math.max(0,u.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,u.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,u.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,u.bottomRight-Math.max(o.b,o.r))}}}}function n1(n,e,t,a){const o=e===null,u=t===null,c=n&&!(o&&u)&&h4(n,a);return c&&(o||Ks(e,c.left,c.right))&&(u||Ks(t,c.top,c.bottom))}function sL(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function oL(n,e){n.rect(e.x,e.y,e.w,e.h)}function r1(n,e,t={}){const a=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,u=(n.x+n.w!==t.x+t.w?e:0)-a,d=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+a,y:n.y+o,w:n.w+u,h:n.h+d,radius:n.radius}}class F0 extends Xa{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:a,backgroundColor:o}}=this,{inner:u,outer:d}=aL(this),c=sL(d.radius)?ic:oL;e.save(),(d.w!==u.w||d.h!==u.h)&&(e.beginPath(),c(e,r1(d,t,u)),e.clip(),c(e,r1(u,-t,d)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),c(e,r1(u,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,a){return n1(this,e,t,a)}inXRange(e,t){return n1(this,e,null,t)}inYRange(e,t){return n1(this,null,e,t)}getCenterPoint(e){const{x:t,y:a,base:o,horizontal:u}=this.getProps(["x","y","base","horizontal"],e);return{x:u?(t+o)/2:t,y:u?a:(a+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}F0.id="bar";F0.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};F0.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var uL=Object.freeze({__proto__:null,ArcElement:L0,LineElement:Wo,PointElement:k0,BarElement:F0});function lL(n,e,t,a,o){const u=o.samples||a;if(u>=t)return n.slice(e,e+t);const d=[],c=(t-2)/(u-2);let h=0;const g=e+t-1;let m=e,y,x,E,_,w;for(d[h++]=n[m],y=0;y<u-2;y++){let L=0,k=0,W;const $=Math.floor((y+1)*c)+1+e,O=Math.min(Math.floor((y+2)*c)+1,t)+e,z=O-$;for(W=$;W<O;W++)L+=n[W].x,k+=n[W].y;L/=z,k/=z;const le=Math.floor(y*c)+1+e,H=Math.min(Math.floor((y+1)*c)+1,t)+e,{x:Z,y:Y}=n[m];for(E=_=-1,W=le;W<H;W++)_=.5*Math.abs((Z-L)*(n[W].y-Y)-(Z-n[W].x)*(k-Y)),_>E&&(E=_,x=n[W],w=W);d[h++]=x,m=w}return d[h++]=n[g],d}function dL(n,e,t,a){let o=0,u=0,d,c,h,g,m,y,x,E,_,w;const L=[],k=e+t-1,W=n[e].x,O=n[k].x-W;for(d=e;d<e+t;++d){c=n[d],h=(c.x-W)/O*a,g=c.y;const z=h|0;if(z===m)g<_?(_=g,y=d):g>w&&(w=g,x=d),o=(u*o+c.x)/++u;else{const le=d-1;if(!$n(y)&&!$n(x)){const H=Math.min(y,x),Z=Math.max(y,x);H!==E&&H!==le&&L.push({...n[H],x:o}),Z!==E&&Z!==le&&L.push({...n[Z],x:o})}d>0&&le!==E&&L.push(n[le]),L.push(c),m=z,u=0,_=w=g,y=x=E=d}}return L}function g4(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:e})}}function nb(n){n.data.datasets.forEach(e=>{g4(e)})}function cL(n,e){const t=e.length;let a=0,o;const{iScale:u}=n,{min:d,max:c,minDefined:h,maxDefined:g}=u.getUserBounds();return h&&(a=jr(Js(e,u.axis,d).lo,0,t-1)),g?o=jr(Js(e,u.axis,c).hi+1,a,t)-a:o=t-a,{start:a,count:o}}var fL={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){nb(n);return}const a=n.width;n.data.datasets.forEach((o,u)=>{const{_data:d,indexAxis:c}=o,h=n.getDatasetMeta(u),g=d||o.data;if(Dd([c,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const m=n.scales[h.xAxisID];if(m.type!=="linear"&&m.type!=="time"||n.options.parsing)return;let{start:y,count:x}=cL(h,g);const E=t.threshold||4*a;if(x<=E){g4(o);return}$n(d)&&(o._data=g,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let _;switch(t.algorithm){case"lttb":_=lL(g,y,x,a,t);break;case"min-max":_=dL(g,y,x,a);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}o._decimated=_})},destroy(n){nb(n)}};function hL(n,e,t){const a=n.segments,o=n.points,u=e.points,d=[];for(const c of a){let{start:h,end:g}=c;g=Em(h,g,o);const m=J1(t,o[h],o[g],c.loop);if(!e.segments){d.push({source:c,target:m,start:o[h],end:o[g]});continue}const y=Jw(e,m);for(const x of y){const E=J1(t,u[x.start],u[x.end],x.loop),_=Kw(c,o,E);for(const w of _)d.push({source:w,target:x,start:{[t]:rb(m,E,"start",Math.max)},end:{[t]:rb(m,E,"end",Math.min)}})}}return d}function J1(n,e,t,a){if(a)return;let o=e[n],u=t[n];return n==="angle"&&(o=Ji(o),u=Ji(u)),{property:n,start:o,end:u}}function gL(n,e){const{x:t=null,y:a=null}=n||{},o=e.points,u=[];return e.segments.forEach(({start:d,end:c})=>{c=Em(d,c,o);const h=o[d],g=o[c];a!==null?(u.push({x:h.x,y:a}),u.push({x:g.x,y:a})):t!==null&&(u.push({x:t,y:h.y}),u.push({x:t,y:g.y}))}),u}function Em(n,e,t){for(;e>n;e--){const a=t[e];if(!isNaN(a.x)&&!isNaN(a.y))break}return e}function rb(n,e,t,a){return n&&e?a(n[t],e[t]):n?n[t]:e?e[t]:0}function p4(n,e){let t=[],a=!1;return Jn(n)?(a=!0,t=n):t=gL(n,e),t.length?new Wo({points:t,options:{tension:0},_loop:a,_fullLoop:a}):null}function ib(n){return n&&n.fill!==!1}function pL(n,e,t){let o=n[e].fill;const u=[e];let d;if(!t)return o;for(;o!==!1&&u.indexOf(o)===-1;){if(!Sr(o))return o;if(d=n[o],!d)return!1;if(d.visible)return o;u.push(o),o=d.fill}return!1}function mL(n,e,t){const a=xL(n);if(_n(a))return isNaN(a.value)?!1:a;let o=parseFloat(a);return Sr(o)&&Math.floor(o)===o?yL(a[0],e,o,t):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function yL(n,e,t,a){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=a?!1:t}function vL(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:_n(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function bL(n,e,t){let a;return n==="start"?a=t:n==="end"?a=e.options.reverse?e.min:e.max:_n(n)?a=n.value:a=e.getBaseValue(),a}function xL(n){const e=n.options,t=e.fill;let a=gn(t&&t.target,t);return a===void 0&&(a=!!e.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function wL(n){const{scale:e,index:t,line:a}=n,o=[],u=a.segments,d=a.points,c=_L(e,t);c.push(p4({x:null,y:e.bottom},a));for(let h=0;h<u.length;h++){const g=u[h];for(let m=g.start;m<=g.end;m++)SL(o,d[m],c)}return new Wo({points:o,options:{}})}function _L(n,e){const t=[],a=n.getMatchingVisibleMetas("line");for(let o=0;o<a.length;o++){const u=a[o];if(u.index===e)break;u.hidden||t.unshift(u.dataset)}return t}function SL(n,e,t){const a=[];for(let o=0;o<t.length;o++){const u=t[o],{first:d,last:c,point:h}=EL(u,e,"x");if(!(!h||d&&c)){if(d)a.unshift(h);else if(n.push(h),!c)break}}n.push(...a)}function EL(n,e,t){const a=n.interpolate(e,t);if(!a)return{};const o=a[t],u=n.segments,d=n.points;let c=!1,h=!1;for(let g=0;g<u.length;g++){const m=u[g],y=d[m.start][t],x=d[m.end][t];if(Ks(o,y,x)){c=o===y,h=o===x;break}}return{first:c,last:h,point:a}}class m4{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,a){const{x:o,y:u,radius:d}=this;return t=t||{start:0,end:Vn},e.arc(o,u,d,t.end,t.start,!0),!a.bounds}interpolate(e){const{x:t,y:a,radius:o}=this,u=e.angle;return{x:t+Math.cos(u)*o,y:a+Math.sin(u)*o,angle:u}}}function CL(n){const{chart:e,fill:t,line:a}=n;if(Sr(t))return ML(e,t);if(t==="stack")return wL(n);if(t==="shape")return!0;const o=IL(n);return o instanceof m4?o:p4(o,a)}function ML(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function IL(n){return(n.scale||{}).getPointPositionForValue?NL(n):PL(n)}function PL(n){const{scale:e={},fill:t}=n,a=vL(t,e);if(Sr(a)){const o=e.isHorizontal();return{x:o?a:null,y:o?null:a}}return null}function NL(n){const{scale:e,fill:t}=n,a=e.options,o=e.getLabels().length,u=a.reverse?e.max:e.min,d=bL(t,e,u),c=[];if(a.grid.circular){const h=e.getPointPositionForValue(0,u);return new m4({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(d)})}for(let h=0;h<o;++h)c.push(e.getPointPositionForValue(h,d));return c}function i1(n,e,t){const a=CL(e),{line:o,scale:u,axis:d}=e,c=o.options,h=c.fill,g=c.backgroundColor,{above:m=g,below:y=g}=h||{};a&&o.points.length&&(M0(n,t),AL(n,{line:o,target:a,above:m,below:y,area:t,scale:u,axis:d}),I0(n))}function AL(n,e){const{line:t,target:a,above:o,below:u,area:d,scale:c}=e,h=t._loop?"angle":e.axis;n.save(),h==="x"&&u!==o&&(ab(n,a,d.top),sb(n,{line:t,target:a,color:o,scale:c,property:h}),n.restore(),n.save(),ab(n,a,d.bottom)),sb(n,{line:t,target:a,color:u,scale:c,property:h}),n.restore()}function ab(n,e,t){const{segments:a,points:o}=e;let u=!0,d=!1;n.beginPath();for(const c of a){const{start:h,end:g}=c,m=o[h],y=o[Em(h,g,o)];u?(n.moveTo(m.x,m.y),u=!1):(n.lineTo(m.x,t),n.lineTo(m.x,m.y)),d=!!e.pathSegment(n,c,{move:d}),d?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function sb(n,e){const{line:t,target:a,property:o,color:u,scale:d}=e,c=hL(t,a,o);for(const{source:h,target:g,start:m,end:y}of c){const{style:{backgroundColor:x=u}={}}=h,E=a!==!0;n.save(),n.fillStyle=x,DL(n,d,E&&J1(o,m,y)),n.beginPath();const _=!!t.pathSegment(n,h);let w;if(E){_?n.closePath():ob(n,a,y,o);const L=!!a.pathSegment(n,g,{move:_,reverse:!0});w=_&&L,w||ob(n,a,m,o)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function DL(n,e,t){const{top:a,bottom:o}=e.chart.chartArea,{property:u,start:d,end:c}=t||{};u==="x"&&(n.beginPath(),n.rect(d,a,c-d,o-a),n.clip())}function ob(n,e,t,a){const o=e.interpolate(t,a);o&&n.lineTo(o.x,o.y)}var $L={id:"filler",afterDatasetsUpdate(n,e,t){const a=(n.data.datasets||[]).length,o=[];let u,d,c,h;for(d=0;d<a;++d)u=n.getDatasetMeta(d),c=u.dataset,h=null,c&&c.options&&c instanceof Wo&&(h={visible:n.isDatasetVisible(d),index:d,fill:mL(c,d,a),chart:n,axis:u.controller.options.indexAxis,scale:u.vScale,line:c}),u.$filler=h,o.push(h);for(d=0;d<a;++d)h=o[d],!(!h||h.fill===!1)&&(h.fill=pL(o,d,t.propagate))},beforeDraw(n,e,t){const a=t.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),u=n.chartArea;for(let d=o.length-1;d>=0;--d){const c=o[d].$filler;c&&(c.line.updateControlPoints(u,c.axis),a&&c.fill&&i1(n.ctx,c,u))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const a=n.getSortedVisibleDatasetMetas();for(let o=a.length-1;o>=0;--o){const u=a[o].$filler;ib(u)&&i1(n.ctx,u,n.chartArea)}},beforeDatasetDraw(n,e,t){const a=e.meta.$filler;!ib(a)||t.drawTime!=="beforeDatasetDraw"||i1(n.ctx,a,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ub=(n,e)=>{let{boxHeight:t=e,boxWidth:a=e}=n;return n.usePointStyle&&(t=Math.min(t,e),a=n.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:t,itemHeight:Math.max(e,t)}},TL=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class lb extends Xa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,a){this.maxWidth=e,this.maxHeight=t,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Kn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(a=>e.filter(a,this.chart.data))),e.sort&&(t=t.sort((a,o)=>e.sort(a,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,o=Fr(a.font),u=o.size,d=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=ub(a,u);let g,m;t.font=o.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(d,u,c,h)+10):(m=this.maxHeight,g=this._fitCols(d,u,c,h)+10),this.width=Math.min(g,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,a,o){const{ctx:u,maxWidth:d,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],g=this.lineWidths=[0],m=o+c;let y=e;u.textAlign="left",u.textBaseline="middle";let x=-1,E=-m;return this.legendItems.forEach((_,w)=>{const L=a+t/2+u.measureText(_.text).width;(w===0||g[g.length-1]+L+2*c>d)&&(y+=m,g[g.length-(w>0?0:1)]=0,E+=m,x++),h[w]={left:0,top:E,row:x,width:L,height:o},g[g.length-1]+=L+c}),y}_fitCols(e,t,a,o){const{ctx:u,maxHeight:d,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],g=this.columnSizes=[],m=d-e;let y=c,x=0,E=0,_=0,w=0;return this.legendItems.forEach((L,k)=>{const W=a+t/2+u.measureText(L.text).width;k>0&&E+o+2*c>m&&(y+=x+c,g.push({width:x,height:E}),_+=x+c,w++,x=E=0),h[k]={left:_,top:E,col:w,width:W,height:o},x=Math.max(x,W),E+=o+c}),y+=x,g.push({width:x,height:E}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:a,labels:{padding:o},rtl:u}}=this,d=ml(u,this.left,this.width);if(this.isHorizontal()){let c=0,h=li(a,this.left+o,this.right-this.lineWidths[c]);for(const g of t)c!==g.row&&(c=g.row,h=li(a,this.left+o,this.right-this.lineWidths[c])),g.top+=this.top+e+o,g.left=d.leftForLtr(d.x(h),g.width),h+=g.width+o}else{let c=0,h=li(a,this.top+e+o,this.bottom-this.columnSizes[c].height);for(const g of t)g.col!==c&&(c=g.col,h=li(a,this.top+e+o,this.bottom-this.columnSizes[c].height)),g.top=h,g.left+=this.left+o,g.left=d.leftForLtr(d.x(g.left),g.width),h+=g.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;M0(e,this),this._draw(),I0(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:a,ctx:o}=this,{align:u,labels:d}=e,c=En.color,h=ml(e.rtl,this.left,this.width),g=Fr(d.font),{color:m,padding:y}=d,x=g.size,E=x/2;let _;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=g.string;const{boxWidth:w,boxHeight:L,itemHeight:k}=ub(d,x),W=function(H,Z,Y){if(isNaN(w)||w<=0||isNaN(L)||L<0)return;o.save();const ye=gn(Y.lineWidth,1);if(o.fillStyle=gn(Y.fillStyle,c),o.lineCap=gn(Y.lineCap,"butt"),o.lineDashOffset=gn(Y.lineDashOffset,0),o.lineJoin=gn(Y.lineJoin,"miter"),o.lineWidth=ye,o.strokeStyle=gn(Y.strokeStyle,c),o.setLineDash(gn(Y.lineDash,[])),d.usePointStyle){const F={radius:L*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:ye},b=h.xPlus(H,w/2),I=Z+E;Lw(o,F,b,I,d.pointStyleWidth&&w)}else{const F=Z+Math.max((x-L)/2,0),b=h.leftForLtr(H,w),I=Pu(Y.borderRadius);o.beginPath(),Object.values(I).some(B=>B!==0)?ic(o,{x:b,y:F,w,h:L,radius:I}):o.rect(b,F,w,L),o.fill(),ye!==0&&o.stroke()}o.restore()},$=function(H,Z,Y){Lu(o,Y.text,H,Z+k/2,g,{strikethrough:Y.hidden,textAlign:h.textAlign(Y.textAlign)})},O=this.isHorizontal(),z=this._computeTitleHeight();O?_={x:li(u,this.left+y,this.right-a[0]),y:this.top+y+z,line:0}:_={x:this.left+y,y:li(u,this.top+z+y,this.bottom-t[0].height),line:0},Uw(this.ctx,e.textDirection);const le=k+y;this.legendItems.forEach((H,Z)=>{o.strokeStyle=H.fontColor||m,o.fillStyle=H.fontColor||m;const Y=o.measureText(H.text).width,ye=h.textAlign(H.textAlign||(H.textAlign=d.textAlign)),F=w+E+Y;let b=_.x,I=_.y;h.setWidth(this.width),O?Z>0&&b+F+y>this.right&&(I=_.y+=le,_.line++,b=_.x=li(u,this.left+y,this.right-a[_.line])):Z>0&&I+le>this.bottom&&(b=_.x=b+t[_.line].width+y,_.line++,I=_.y=li(u,this.top+z+y,this.bottom-t[_.line].height));const B=h.x(b);W(B,I,H),b=W$(ye,b+w+E,O?b+F:this.right,e.rtl),$(h.x(b),I,H),O?_.x+=F+y:_.y+=le}),qw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,a=Fr(t.font),o=hi(t.padding);if(!t.display)return;const u=ml(e.rtl,this.left,this.width),d=this.ctx,c=t.position,h=a.size/2,g=o.top+h;let m,y=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),m=this.top+g,y=li(e.align,y,this.right-x);else{const _=this.columnSizes.reduce((w,L)=>Math.max(w,L.height),0);m=g+li(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const E=li(c,y,y+x);d.textAlign=u.textAlign(gm(c)),d.textBaseline="middle",d.strokeStyle=t.color,d.fillStyle=t.color,d.font=a.string,Lu(d,t.text,E,m,a)}_computeTitleHeight(){const e=this.options.title,t=Fr(e.font),a=hi(e.padding);return e.display?t.lineHeight+a.height:0}_getLegendItemAt(e,t){let a,o,u;if(Ks(e,this.left,this.right)&&Ks(t,this.top,this.bottom)){for(u=this.legendHitBoxes,a=0;a<u.length;++a)if(o=u[a],Ks(e,o.left,o.left+o.width)&&Ks(t,o.top,o.top+o.height))return this.legendItems[a]}return null}handleEvent(e){const t=this.options;if(!RL(e.type,t))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,u=TL(o,a);o&&!u&&Kn(t.onLeave,[e,o,this],this),this._hoveredItem=a,a&&!u&&Kn(t.onHover,[e,a,this],this)}else a&&Kn(t.onClick,[e,a,this],this)}}function RL(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var OL={id:"legend",_element:lb,start(n,e,t){const a=n.legend=new lb({ctx:n.ctx,options:t,chart:n});di.configure(n,a,t),di.addBox(n,a)},stop(n){di.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const a=n.legend;di.configure(n,a,t),a.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const a=e.datasetIndex,o=t.chart;o.isDatasetVisible(a)?(o.hide(a),e.hidden=!0):(o.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:a,textAlign:o,color:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const c=d.controller.getStyle(t?0:void 0),h=hi(c.borderWidth);return{text:e[d.index].label,fillStyle:c.backgroundColor,fontColor:u,hidden:!d.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:a||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:0,datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Cm extends Xa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const o=Jn(a.text)?a.text.length:1;this._padding=hi(a.padding);const u=o*Fr(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=u:this.width=u}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:a,bottom:o,right:u,options:d}=this,c=d.align;let h=0,g,m,y;return this.isHorizontal()?(m=li(c,a,u),y=t+e,g=u-a):(d.position==="left"?(m=a+e,y=li(c,o,t),h=rr*-.5):(m=u-e,y=li(c,t,o),h=rr*.5),g=o-t),{titleX:m,titleY:y,maxWidth:g,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const a=Fr(t.font),u=a.lineHeight/2+this._padding.top,{titleX:d,titleY:c,maxWidth:h,rotation:g}=this._drawArgs(u);Lu(e,t.text,0,0,a,{color:t.color,maxWidth:h,rotation:g,textAlign:gm(t.align),textBaseline:"middle",translation:[d,c]})}}function LL(n,e){const t=new Cm({ctx:n.ctx,options:e,chart:n});di.configure(n,t,e),di.addBox(n,t),n.titleBlock=t}var kL={id:"title",_element:Cm,start(n,e,t){LL(n,t)},stop(n){const e=n.titleBlock;di.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const a=n.titleBlock;di.configure(n,a,t),a.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bf=new WeakMap;var FL={id:"subtitle",start(n,e,t){const a=new Cm({ctx:n.ctx,options:t,chart:n});di.configure(n,a,t),di.addBox(n,a),bf.set(n,a)},stop(n){di.removeBox(n,bf.get(n)),bf.delete(n)},beforeUpdate(n,e,t){const a=bf.get(n);di.configure(n,a,t),a.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zd={average(n){if(!n.length)return!1;let e,t,a=0,o=0,u=0;for(e=0,t=n.length;e<t;++e){const d=n[e].element;if(d&&d.hasValue()){const c=d.tooltipPosition();a+=c.x,o+=c.y,++u}}return{x:a/u,y:o/u}},nearest(n,e){if(!n.length)return!1;let t=e.x,a=e.y,o=Number.POSITIVE_INFINITY,u,d,c;for(u=0,d=n.length;u<d;++u){const h=n[u].element;if(h&&h.hasValue()){const g=h.getCenterPoint(),m=H1(e,g);m<o&&(o=m,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,a=h.y}return{x:t,y:a}}};function ds(n,e){return e&&(Jn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function zs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function BL(n,e){const{element:t,datasetIndex:a,index:o}=e,u=n.getDatasetMeta(a).controller,{label:d,value:c}=u.getLabelAndValue(o);return{chart:n,label:d,parsed:u.getParsed(o),raw:n.data.datasets[a].data[o],formattedValue:c,dataset:u.getDataset(),dataIndex:o,datasetIndex:a,element:t}}function db(n,e){const t=n.chart.ctx,{body:a,footer:o,title:u}=n,{boxWidth:d,boxHeight:c}=e,h=Fr(e.bodyFont),g=Fr(e.titleFont),m=Fr(e.footerFont),y=u.length,x=o.length,E=a.length,_=hi(e.padding);let w=_.height,L=0,k=a.reduce((O,z)=>O+z.before.length+z.lines.length+z.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,y&&(w+=y*g.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),k){const O=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;w+=E*O+(k-E)*h.lineHeight+(k-1)*e.bodySpacing}x&&(w+=e.footerMarginTop+x*m.lineHeight+(x-1)*e.footerSpacing);let W=0;const $=function(O){L=Math.max(L,t.measureText(O).width+W)};return t.save(),t.font=g.string,Hn(n.title,$),t.font=h.string,Hn(n.beforeBody.concat(n.afterBody),$),W=e.displayColors?d+2+e.boxPadding:0,Hn(a,O=>{Hn(O.before,$),Hn(O.lines,$),Hn(O.after,$)}),W=0,t.font=m.string,Hn(n.footer,$),t.restore(),L+=_.width,{width:L,height:w}}function HL(n,e){const{y:t,height:a}=e;return t<a/2?"top":t>n.height-a/2?"bottom":"center"}function zL(n,e,t,a){const{x:o,width:u}=a,d=t.caretSize+t.caretPadding;if(n==="left"&&o+u+d>e.width||n==="right"&&o-u-d<0)return!0}function VL(n,e,t,a){const{x:o,width:u}=t,{width:d,chartArea:{left:c,right:h}}=n;let g="center";return a==="center"?g=o<=(c+h)/2?"left":"right":o<=u/2?g="left":o>=d-u/2&&(g="right"),zL(g,n,e,t)&&(g="center"),g}function cb(n,e,t){const a=t.yAlign||e.yAlign||HL(n,t);return{xAlign:t.xAlign||e.xAlign||VL(n,e,t,a),yAlign:a}}function GL(n,e){let{x:t,width:a}=n;return e==="right"?t-=a:e==="center"&&(t-=a/2),t}function WL(n,e,t){let{y:a,height:o}=n;return e==="top"?a+=t:e==="bottom"?a-=o+t:a-=o/2,a}function fb(n,e,t,a){const{caretSize:o,caretPadding:u,cornerRadius:d}=n,{xAlign:c,yAlign:h}=t,g=o+u,{topLeft:m,topRight:y,bottomLeft:x,bottomRight:E}=Pu(d);let _=GL(e,c);const w=WL(e,h,g);return h==="center"?c==="left"?_+=g:c==="right"&&(_-=g):c==="left"?_-=Math.max(m,x)+o:c==="right"&&(_+=Math.max(y,E)+o),{x:jr(_,0,a.width-e.width),y:jr(w,0,a.height-e.height)}}function xf(n,e,t){const a=hi(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-a.right:n.x+a.left}function hb(n){return ds([],zs(n))}function UL(n,e,t){return Go(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function gb(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}class Y1 extends Xa{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,a=this.options.setContext(this.getContext()),o=a.enabled&&t.options.animation&&a.animations,u=new Yw(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=UL(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:a}=t,o=a.beforeTitle.apply(this,[e]),u=a.title.apply(this,[e]),d=a.afterTitle.apply(this,[e]);let c=[];return c=ds(c,zs(o)),c=ds(c,zs(u)),c=ds(c,zs(d)),c}getBeforeBody(e,t){return hb(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:a}=t,o=[];return Hn(e,u=>{const d={before:[],lines:[],after:[]},c=gb(a,u);ds(d.before,zs(c.beforeLabel.call(this,u))),ds(d.lines,c.label.call(this,u)),ds(d.after,zs(c.afterLabel.call(this,u))),o.push(d)}),o}getAfterBody(e,t){return hb(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:a}=t,o=a.beforeFooter.apply(this,[e]),u=a.footer.apply(this,[e]),d=a.afterFooter.apply(this,[e]);let c=[];return c=ds(c,zs(o)),c=ds(c,zs(u)),c=ds(c,zs(d)),c}_createItems(e){const t=this._active,a=this.chart.data,o=[],u=[],d=[];let c=[],h,g;for(h=0,g=t.length;h<g;++h)c.push(BL(this.chart,t[h]));return e.filter&&(c=c.filter((m,y,x)=>e.filter(m,y,x,a))),e.itemSort&&(c=c.sort((m,y)=>e.itemSort(m,y,a))),Hn(c,m=>{const y=gb(e.callbacks,m);o.push(y.labelColor.call(this,m)),u.push(y.labelPointStyle.call(this,m)),d.push(y.labelTextColor.call(this,m))}),this.labelColors=o,this.labelPointStyles=u,this.labelTextColors=d,this.dataPoints=c,c}update(e,t){const a=this.options.setContext(this.getContext()),o=this._active;let u,d=[];if(!o.length)this.opacity!==0&&(u={opacity:0});else{const c=zd[a.position].call(this,o,this._eventPosition);d=this._createItems(a),this.title=this.getTitle(d,a),this.beforeBody=this.getBeforeBody(d,a),this.body=this.getBody(d,a),this.afterBody=this.getAfterBody(d,a),this.footer=this.getFooter(d,a);const h=this._size=db(this,a),g=Object.assign({},c,h),m=cb(this.chart,a,g),y=fb(a,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,u={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=d,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,o){const u=this.getCaretPosition(e,a,o);t.lineTo(u.x1,u.y1),t.lineTo(u.x2,u.y2),t.lineTo(u.x3,u.y3)}getCaretPosition(e,t,a){const{xAlign:o,yAlign:u}=this,{caretSize:d,cornerRadius:c}=a,{topLeft:h,topRight:g,bottomLeft:m,bottomRight:y}=Pu(c),{x,y:E}=e,{width:_,height:w}=t;let L,k,W,$,O,z;return u==="center"?(O=E+w/2,o==="left"?(L=x,k=L-d,$=O+d,z=O-d):(L=x+_,k=L+d,$=O-d,z=O+d),W=L):(o==="left"?k=x+Math.max(h,m)+d:o==="right"?k=x+_-Math.max(g,y)-d:k=this.caretX,u==="top"?($=E,O=$-d,L=k-d,W=k+d):($=E+w,O=$+d,L=k+d,W=k-d),z=$),{x1:L,x2:k,x3:W,y1:$,y2:O,y3:z}}drawTitle(e,t,a){const o=this.title,u=o.length;let d,c,h;if(u){const g=ml(a.rtl,this.x,this.width);for(e.x=xf(this,a.titleAlign,a),t.textAlign=g.textAlign(a.titleAlign),t.textBaseline="middle",d=Fr(a.titleFont),c=a.titleSpacing,t.fillStyle=a.titleColor,t.font=d.string,h=0;h<u;++h)t.fillText(o[h],g.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+c,h+1===u&&(e.y+=a.titleMarginBottom-c)}}_drawColorBox(e,t,a,o,u){const d=this.labelColors[a],c=this.labelPointStyles[a],{boxHeight:h,boxWidth:g,boxPadding:m}=u,y=Fr(u.bodyFont),x=xf(this,"left",u),E=o.x(x),_=h<y.lineHeight?(y.lineHeight-h)/2:0,w=t.y+_;if(u.usePointStyle){const L={radius:Math.min(g,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=o.leftForLtr(E,g)+g/2,W=w+h/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,G1(e,L,k,W),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,G1(e,L,k,W)}else{e.lineWidth=_n(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;const L=o.leftForLtr(E,g-m),k=o.leftForLtr(o.xPlus(E,1),g-m-2),W=Pu(d.borderRadius);Object.values(W).some($=>$!==0)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,ic(e,{x:L,y:w,w:g,h,radius:W}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),ic(e,{x:k,y:w+1,w:g-2,h:h-2,radius:W}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(L,w,g,h),e.strokeRect(L,w,g,h),e.fillStyle=d.backgroundColor,e.fillRect(k,w+1,g-2,h-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){const{body:o}=this,{bodySpacing:u,bodyAlign:d,displayColors:c,boxHeight:h,boxWidth:g,boxPadding:m}=a,y=Fr(a.bodyFont);let x=y.lineHeight,E=0;const _=ml(a.rtl,this.x,this.width),w=function(Z){t.fillText(Z,_.x(e.x+E),e.y+x/2),e.y+=x+u},L=_.textAlign(d);let k,W,$,O,z,le,H;for(t.textAlign=d,t.textBaseline="middle",t.font=y.string,e.x=xf(this,L,a),t.fillStyle=a.bodyColor,Hn(this.beforeBody,w),E=c&&L!=="right"?d==="center"?g/2+m:g+2+m:0,O=0,le=o.length;O<le;++O){for(k=o[O],W=this.labelTextColors[O],t.fillStyle=W,Hn(k.before,w),$=k.lines,c&&$.length&&(this._drawColorBox(t,e,O,_,a),x=Math.max(y.lineHeight,h)),z=0,H=$.length;z<H;++z)w($[z]),x=y.lineHeight;Hn(k.after,w)}E=0,x=y.lineHeight,Hn(this.afterBody,w),e.y-=u}drawFooter(e,t,a){const o=this.footer,u=o.length;let d,c;if(u){const h=ml(a.rtl,this.x,this.width);for(e.x=xf(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=h.textAlign(a.footerAlign),t.textBaseline="middle",d=Fr(a.footerFont),t.fillStyle=a.footerColor,t.font=d.string,c=0;c<u;++c)t.fillText(o[c],h.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+a.footerSpacing}}drawBackground(e,t,a,o){const{xAlign:u,yAlign:d}=this,{x:c,y:h}=e,{width:g,height:m}=a,{topLeft:y,topRight:x,bottomLeft:E,bottomRight:_}=Pu(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(c+y,h),d==="top"&&this.drawCaret(e,t,a,o),t.lineTo(c+g-x,h),t.quadraticCurveTo(c+g,h,c+g,h+x),d==="center"&&u==="right"&&this.drawCaret(e,t,a,o),t.lineTo(c+g,h+m-_),t.quadraticCurveTo(c+g,h+m,c+g-_,h+m),d==="bottom"&&this.drawCaret(e,t,a,o),t.lineTo(c+E,h+m),t.quadraticCurveTo(c,h+m,c,h+m-E),d==="center"&&u==="left"&&this.drawCaret(e,t,a,o),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,a=this.$animations,o=a&&a.x,u=a&&a.y;if(o||u){const d=zd[e.position].call(this,this._active,this._eventPosition);if(!d)return;const c=this._size=db(this,e),h=Object.assign({},d,this._size),g=cb(t,e,h),m=fb(e,h,g,t);(o._to!==m.x||u._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=c.width,this.height=c.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},u={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const d=hi(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=a,this.drawBackground(u,e,o,t),Uw(e,t.textDirection),u.y+=d.top,this.drawTitle(u,e,t),this.drawBody(u,e,t),this.drawFooter(u,e,t),qw(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const a=this._active,o=e.map(({datasetIndex:c,index:h})=>{const g=this.chart.getDatasetMeta(c);if(!g)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:g.data[h],index:h}}),u=!Ih(a,o),d=this._positionChanged(o,t);(u||d)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,a=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,u=this._active||[],d=this._getActiveElements(e,u,t,a),c=this._positionChanged(d,e),h=t||!Ih(d,u)||c;return h&&(this._active=d,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,a,o){const u=this.options;if(e.type==="mouseout")return[];if(!o)return t;const d=this.chart.getElementsAtEventForMode(e,u.mode,u,a);return u.reverse&&d.reverse(),d}_positionChanged(e,t){const{caretX:a,caretY:o,options:u}=this,d=zd[u.position].call(this,e,t);return d!==!1&&(a!==d.x||o!==d.y)}}Y1.positioners=zd;var qL={id:"tooltip",_element:Y1,positioners:zd,afterInit(n,e,t){t&&(n.tooltip=new Y1({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",t)===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Bs,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,a=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return t[e.dataIndex]}return""},afterTitle:Bs,beforeBody:Bs,beforeLabel:Bs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return $n(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Bs,afterBody:Bs,beforeFooter:Bs,footer:Bs,afterFooter:Bs}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},jL=Object.freeze({__proto__:null,Decimation:fL,Filler:$L,Legend:OL,SubTitle:FL,Title:kL,Tooltip:qL});const KL=(n,e,t,a)=>(typeof e=="string"?(t=n.push(e)-1,a.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function JL(n,e,t,a){const o=n.indexOf(e);if(o===-1)return KL(n,e,t,a);const u=n.lastIndexOf(e);return o!==u?t:o}const YL=(n,e)=>n===null?null:jr(Math.round(n),0,e);class Oh extends Bu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const a=this.getLabels();for(const{index:o,label:u}of t)a[o]===u&&a.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if($n(e))return null;const a=this.getLabels();return t=isFinite(t)&&a[t]===e?t:JL(a,e,gn(t,e),this._addedLabels),YL(t,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:a,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),t||(o=this.getLabels().length-1)),this.min=a,this.max=o}buildTicks(){const e=this.min,t=this.max,a=this.options.offset,o=[];let u=this.getLabels();u=e===0&&t===u.length-1?u:u.slice(e,t+1),this._valueRange=Math.max(u.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let d=e;d<=t;d++)o.push({value:d});return o}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Oh.id="category";Oh.defaults={ticks:{callback:Oh.prototype.getLabelForValue}};function XL(n,e){const t=[],{bounds:o,step:u,min:d,max:c,precision:h,count:g,maxTicks:m,maxDigits:y,includeBounds:x}=n,E=u||1,_=m-1,{min:w,max:L}=e,k=!$n(d),W=!$n(c),$=!$n(g),O=(L-w)/(y+1);let z=cv((L-w)/_/E)*E,le,H,Z,Y;if(z<1e-14&&!k&&!W)return[{value:w},{value:L}];Y=Math.ceil(L/z)-Math.floor(w/z),Y>_&&(z=cv(Y*z/_/E)*E),$n(h)||(le=Math.pow(10,h),z=Math.ceil(z*le)/le),o==="ticks"?(H=Math.floor(w/z)*z,Z=Math.ceil(L/z)*z):(H=w,Z=L),k&&W&&u&&k$((c-d)/u,z/1e3)?(Y=Math.round(Math.min((c-d)/z,m)),z=(c-d)/Y,H=d,Z=c):$?(H=k?d:H,Z=W?c:Z,Y=g-1,z=(Z-H)/Y):(Y=(Z-H)/z,Fd(Y,Math.round(Y),z/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const ye=Math.max(fv(z),fv(H));le=Math.pow(10,$n(h)?ye:h),H=Math.round(H*le)/le,Z=Math.round(Z*le)/le;let F=0;for(k&&(x&&H!==d?(t.push({value:d}),H<d&&F++,Fd(Math.round((H+F*z)*le)/le,d,pb(d,O,n))&&F++):H<d&&F++);F<Y;++F)t.push({value:Math.round((H+F*z)*le)/le});return W&&x&&Z!==c?t.length&&Fd(t[t.length-1].value,c,pb(c,O,n))?t[t.length-1].value=c:t.push({value:c}):(!W||Z===c)&&t.push({value:Z}),t}function pb(n,e,{horizontal:t,minRotation:a}){const o=qa(a),u=(t?Math.sin(o):Math.cos(o))||.001,d=.75*e*(""+n).length;return Math.min(e/u,d)}class Lh extends Bu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return $n(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:o,max:u}=this;const d=h=>o=t?o:h,c=h=>u=a?u:h;if(e){const h=ws(o),g=ws(u);h<0&&g<0?c(0):h>0&&g>0&&d(0)}if(o===u){let h=1;(u>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(h=Math.abs(u*.05)),c(u+h),e||d(o-h)}this.min=o,this.max=u}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:a}=e,o;return a?(o=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const o={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},u=this._range||this,d=XL(o,u);return e.bounds==="ticks"&&Sw(d,this,"value"),e.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const e=this.ticks;let t=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const o=(a-t)/Math.max(e.length-1,1)/2;t-=o,a+=o}this._startValue=t,this._endValue=a,this._valueRange=a-t}getLabelForValue(e){return mc(e,this.chart.options.locale,this.options.ticks.format)}}class Mm extends Lh{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Sr(e)?e:0,this.max=Sr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,a=qa(this.options.ticks.minRotation),o=(e?Math.sin(a):Math.cos(a))||.001,u=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,u.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Mm.id="linear";Mm.defaults={ticks:{callback:R0.formatters.numeric}};function mb(n){return n/Math.pow(10,Math.floor(wa(n)))===1}function ZL(n,e){const t=Math.floor(wa(e.max)),a=Math.ceil(e.max/Math.pow(10,t)),o=[];let u=ma(n.min,Math.pow(10,Math.floor(wa(e.min)))),d=Math.floor(wa(u)),c=Math.floor(u/Math.pow(10,d)),h=d<0?Math.pow(10,Math.abs(d)):1;do o.push({value:u,major:mb(u)}),++c,c===10&&(c=1,++d,h=d>=0?1:h),u=Math.round(c*Math.pow(10,d)*h)/h;while(d<t||d===t&&c<a);const g=ma(n.max,u);return o.push({value:g,major:mb(u)}),o}class Im extends Bu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const a=Lh.prototype.parse.apply(this,[e,t]);if(a===0){this._zero=!0;return}return Sr(a)&&a>0?a:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Sr(e)?Math.max(0,e):null,this.max=Sr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let a=this.min,o=this.max;const u=h=>a=e?a:h,d=h=>o=t?o:h,c=(h,g)=>Math.pow(10,Math.floor(wa(h))+g);a===o&&(a<=0?(u(1),d(10)):(u(c(a,-1)),d(c(o,1)))),a<=0&&u(c(o,-1)),o<=0&&d(c(a,1)),this._zero&&this.min!==this._suggestedMin&&a===c(this.min,0)&&u(c(a,-1)),this.min=a,this.max=o}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},a=ZL(t,this);return e.bounds==="ticks"&&Sw(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(e){return e===void 0?"0":mc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=wa(e),this._valueRange=wa(this.max)-wa(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(wa(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}Im.id="logarithmic";Im.defaults={ticks:{callback:R0.formatters.logarithmic,major:{enabled:!0}}};function X1(n){const e=n.ticks;if(e.display&&n.display){const t=hi(e.backdropPadding);return gn(e.font&&e.font.size,En.font.size)+t.height}return 0}function QL(n,e,t){return t=Jn(t)?t:[t],{w:pT(n,e.string,t),h:t.length*e.lineHeight}}function yb(n,e,t,a,o){return n===a||n===o?{start:e-t/2,end:e+t/2}:n<a||n>o?{start:e-t,end:e}:{start:e,end:e+t}}function ek(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),a=[],o=[],u=n._pointLabels.length,d=n.options.pointLabels,c=d.centerPointLabels?rr/u:0;for(let h=0;h<u;h++){const g=d.setContext(n.getPointLabelContext(h));o[h]=g.padding;const m=n.getPointPosition(h,n.drawingArea+o[h],c),y=Fr(g.font),x=QL(n.ctx,y,n._pointLabels[h]);a[h]=x;const E=Ji(n.getIndexAngle(h)+c),_=Math.round(fm(E)),w=yb(_,m.x,x.w,0,180),L=yb(_,m.y,x.h,90,270);tk(t,e,E,w,L)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=nk(n,a,o)}function tk(n,e,t,a,o){const u=Math.abs(Math.sin(t)),d=Math.abs(Math.cos(t));let c=0,h=0;a.start<e.l?(c=(e.l-a.start)/u,n.l=Math.min(n.l,e.l-c)):a.end>e.r&&(c=(a.end-e.r)/u,n.r=Math.max(n.r,e.r+c)),o.start<e.t?(h=(e.t-o.start)/d,n.t=Math.min(n.t,e.t-h)):o.end>e.b&&(h=(o.end-e.b)/d,n.b=Math.max(n.b,e.b+h))}function nk(n,e,t){const a=[],o=n._pointLabels.length,u=n.options,d=X1(u)/2,c=n.drawingArea,h=u.pointLabels.centerPointLabels?rr/o:0;for(let g=0;g<o;g++){const m=n.getPointPosition(g,c+d+t[g],h),y=Math.round(fm(Ji(m.angle+pr))),x=e[g],E=ak(m.y,x.h,y),_=rk(y),w=ik(m.x,x.w,_);a.push({x:m.x,y:E,textAlign:_,left:w,top:E,right:w+x.w,bottom:E+x.h})}return a}function rk(n){return n===0||n===180?"center":n<180?"left":"right"}function ik(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function ak(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function sk(n,e){const{ctx:t,options:{pointLabels:a}}=n;for(let o=e-1;o>=0;o--){const u=a.setContext(n.getPointLabelContext(o)),d=Fr(u.font),{x:c,y:h,textAlign:g,left:m,top:y,right:x,bottom:E}=n._pointLabelItems[o],{backdropColor:_}=u;if(!$n(_)){const w=Pu(u.borderRadius),L=hi(u.backdropPadding);t.fillStyle=_;const k=m-L.left,W=y-L.top,$=x-m+L.width,O=E-y+L.height;Object.values(w).some(z=>z!==0)?(t.beginPath(),ic(t,{x:k,y:W,w:$,h:O,radius:w}),t.fill()):t.fillRect(k,W,$,O)}Lu(t,n._pointLabels[o],c,h+d.lineHeight/2,d,{color:u.color,textAlign:g,textBaseline:"middle"})}}function y4(n,e,t,a){const{ctx:o}=n;if(t)o.arc(n.xCenter,n.yCenter,e,0,Vn);else{let u=n.getPointPosition(0,e);o.moveTo(u.x,u.y);for(let d=1;d<a;d++)u=n.getPointPosition(d,e),o.lineTo(u.x,u.y)}}function ok(n,e,t,a){const o=n.ctx,u=e.circular,{color:d,lineWidth:c}=e;!u&&!a||!d||!c||t<0||(o.save(),o.strokeStyle=d,o.lineWidth=c,o.setLineDash(e.borderDash),o.lineDashOffset=e.borderDashOffset,o.beginPath(),y4(n,t,u,a),o.closePath(),o.stroke(),o.restore())}function uk(n,e,t){return Go(n,{label:t,index:e,type:"pointLabel"})}class vc extends Lh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=hi(X1(this.options)/2),t=this.width=this.maxWidth-e.width,a=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+a/2+e.top),this.drawingArea=Math.floor(Math.min(t,a)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Sr(e)&&!isNaN(e)?e:0,this.max=Sr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/X1(this.options))}generateTickLabels(e){Lh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,a)=>{const o=Kn(this.options.pointLabels.callback,[t,a],this);return o||o===0?o:""}).filter((t,a)=>this.chart.getDataVisibility(a))}fit(){const e=this.options;e.display&&e.pointLabels.display?ek(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,a,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((a-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,a,o))}getIndexAngle(e){const t=Vn/(this._pointLabels.length||1),a=this.options.startAngle||0;return Ji(e*t+qa(a))}getDistanceFromCenterForValue(e){if($n(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if($n(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const a=t[e];return uk(this.getContext(),e,a)}}getPointPosition(e,t,a=0){const o=this.getIndexAngle(e)-pr+a;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:a,right:o,bottom:u}=this._pointLabelItems[e];return{left:t,top:a,right:o,bottom:u}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const a=this.ctx;a.save(),a.beginPath(),y4(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),a.closePath(),a.fillStyle=e,a.fill(),a.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:a,grid:o}=t,u=this._pointLabels.length;let d,c,h;if(t.pointLabels.display&&sk(this,u),o.display&&this.ticks.forEach((g,m)=>{if(m!==0){c=this.getDistanceFromCenterForValue(g.value);const y=o.setContext(this.getContext(m-1));ok(this,y,c,u)}}),a.display){for(e.save(),d=u-1;d>=0;d--){const g=a.setContext(this.getPointLabelContext(d)),{color:m,lineWidth:y}=g;!y||!m||(e.lineWidth=y,e.strokeStyle=m,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,c=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),h=this.getPointPosition(d,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,a=t.ticks;if(!a.display)return;const o=this.getIndexAngle(0);let u,d;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&!t.reverse)return;const g=a.setContext(this.getContext(h)),m=Fr(g.font);if(u=this.getDistanceFromCenterForValue(this.ticks[h].value),g.showLabelBackdrop){e.font=m.string,d=e.measureText(c.label).width,e.fillStyle=g.backdropColor;const y=hi(g.backdropPadding);e.fillRect(-d/2-y.left,-u-m.size/2-y.top,d+y.width,m.size+y.height)}Lu(e,c.label,0,-u,m,{color:g.color})}),e.restore()}drawTitle(){}}vc.id="radialLinear";vc.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:R0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};vc.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};vc.descriptors={angleLines:{_fallback:"grid"}};const B0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$i=Object.keys(B0);function lk(n,e){return n-e}function vb(n,e){if($n(e))return null;const t=n._adapter,{parser:a,round:o,isoWeekday:u}=n._parseOpts;let d=e;return typeof a=="function"&&(d=a(d)),Sr(d)||(d=typeof a=="string"?t.parse(d,a):t.parse(d)),d===null?null:(o&&(d=o==="week"&&(Nl(u)||u===!0)?t.startOf(d,"isoWeek",u):t.startOf(d,o)),+d)}function bb(n,e,t,a){const o=$i.length;for(let u=$i.indexOf(n);u<o-1;++u){const d=B0[$i[u]],c=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((t-e)/(c*d.size))<=a)return $i[u]}return $i[o-1]}function dk(n,e,t,a,o){for(let u=$i.length-1;u>=$i.indexOf(t);u--){const d=$i[u];if(B0[d].common&&n._adapter.diff(o,a,d)>=e-1)return d}return $i[t?$i.indexOf(t):0]}function ck(n){for(let e=$i.indexOf(n)+1,t=$i.length;e<t;++e)if(B0[$i[e]].common)return $i[e]}function xb(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:a,hi:o}=hm(t,e),u=t[a]>=e?t[a]:t[o];n[u]=!0}}function fk(n,e,t,a){const o=n._adapter,u=+o.startOf(e[0].value,a),d=e[e.length-1].value;let c,h;for(c=u;c<=d;c=+o.add(c,1,a))h=t[c],h>=0&&(e[h].major=!0);return e}function wb(n,e,t){const a=[],o={},u=e.length;let d,c;for(d=0;d<u;++d)c=e[d],o[c]=d,a.push({value:c,major:!1});return u===0||!t?a:fk(n,a,o,t)}class bc extends Bu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const a=e.time||(e.time={}),o=this._adapter=new ZR._date(e.adapters.date);o.init(t),kd(a.displayFormats,o.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:vb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,a=e.time.unit||"day";let{min:o,max:u,minDefined:d,maxDefined:c}=this.getUserBounds();function h(g){!d&&!isNaN(g.min)&&(o=Math.min(o,g.min)),!c&&!isNaN(g.max)&&(u=Math.max(u,g.max))}(!d||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=Sr(o)&&!isNaN(o)?o:+t.startOf(Date.now(),a),u=Sr(u)&&!isNaN(u)?u:+t.endOf(Date.now(),a)+1,this.min=Math.min(o,u-1),this.max=Math.max(o+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],a=e[e.length-1]),{min:t,max:a}}buildTicks(){const e=this.options,t=e.time,a=e.ticks,o=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const u=this.min,d=this.max,c=z$(o,u,d);return this._unit=t.unit||(a.autoSkip?bb(t.minUnit,this.min,this.max,this._getLabelCapacity(u)):dk(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:ck(this._unit),this.initOffsets(o),e.reverse&&c.reverse(),wb(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t=0,a=0,o,u;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,u=this.getDecimalForValue(e[e.length-1]),e.length===1?a=u:a=(u-this.getDecimalForValue(e[e.length-2]))/2);const d=e.length<3?.5:.25;t=jr(t,0,d),a=jr(a,0,d),this._offsets={start:t,end:a,factor:1/(t+1+a)}}_generate(){const e=this._adapter,t=this.min,a=this.max,o=this.options,u=o.time,d=u.unit||bb(u.minUnit,t,a,this._getLabelCapacity(t)),c=gn(u.stepSize,1),h=d==="week"?u.isoWeekday:!1,g=Nl(h)||h===!0,m={};let y=t,x,E;if(g&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,g?"day":d),e.diff(a,t,d)>1e5*c)throw new Error(t+" and "+a+" are too far apart with stepSize of "+c+" "+d);const _=o.ticks.source==="data"&&this.getDataTimestamps();for(x=y,E=0;x<a;x=+e.add(x,c,d),E++)xb(m,x,_);return(x===a||o.bounds==="ticks"||E===1)&&xb(m,x,_),Object.keys(m).sort((w,L)=>w-L).map(w=>+w)}getLabelForValue(e){const t=this._adapter,a=this.options.time;return a.tooltipFormat?t.format(e,a.tooltipFormat):t.format(e,a.displayFormats.datetime)}_tickFormatFunction(e,t,a,o){const u=this.options,d=u.time.displayFormats,c=this._unit,h=this._majorUnit,g=c&&d[c],m=h&&d[h],y=a[t],x=h&&m&&y&&y.major,E=this._adapter.format(e,o||(x?m:g)),_=u.ticks.callback;return _?Kn(_,[E,t,a],this):E}generateTickLabels(e){let t,a,o;for(t=0,a=e.length;t<a;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+a)*t.factor)}getValueForPixel(e){const t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,a=this.ctx.measureText(e).width,o=qa(this.isHorizontal()?t.maxRotation:t.minRotation),u=Math.cos(o),d=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:a*u+c*d,h:a*d+c*u}}_getLabelCapacity(e){const t=this.options.time,a=t.displayFormats,o=a[t.unit]||a.millisecond,u=this._tickFormatFunction(e,0,wb(this,[e],this._majorUnit),o),d=this._getLabelSize(u),c=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,a;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,a=o.length;t<a;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,a;if(e.length)return e;const o=this.getLabels();for(t=0,a=o.length;t<a;++t)e.push(vb(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Mw(e.sort(lk))}}bc.id="time";bc.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function wf(n,e,t){let a=0,o=n.length-1,u,d,c,h;t?(e>=n[a].pos&&e<=n[o].pos&&({lo:a,hi:o}=Js(n,"pos",e)),{pos:u,time:c}=n[a],{pos:d,time:h}=n[o]):(e>=n[a].time&&e<=n[o].time&&({lo:a,hi:o}=Js(n,"time",e)),{time:u,pos:c}=n[a],{time:d,pos:h}=n[o]);const g=d-u;return g?c+(h-c)*(e-u)/g:c}class Pm extends bc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=wf(t,this.min),this._tableRange=wf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:a}=this,o=[],u=[];let d,c,h,g,m;for(d=0,c=e.length;d<c;++d)g=e[d],g>=t&&g<=a&&o.push(g);if(o.length<2)return[{time:t,pos:0},{time:a,pos:1}];for(d=0,c=o.length;d<c;++d)m=o[d+1],h=o[d-1],g=o[d],Math.round((m+h)/2)!==g&&u.push({time:g,pos:d/(c-1)});return u}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),a=this.getLabelTimestamps();return t.length&&a.length?e=this.normalize(t.concat(a)):e=t.length?t:a,e=this._cache.all=e,e}getDecimalForValue(e){return(wf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return wf(this._table,a*this._tableRange+this._minPos,!0)}}Pm.id="timeseries";Pm.defaults=bc.defaults;var hk=Object.freeze({__proto__:null,CategoryScale:Oh,LinearScale:Mm,LogarithmicScale:Im,RadialLinearScale:vc,TimeScale:bc,TimeSeriesScale:Pm});const gk=[XR,uL,jL,hk];yl==null||yl.register(...gk??[]);class Ck extends sc{constructor(t){super();ae(this,"_config");this._config=t}InnerConstructElement(){var a;const t=document.createElement("canvas");if(this.style!==void 0&&(t.style.cssText=this.style),((a=this.clss)==null?void 0:a.size)>0)try{t.classList.add(...Array.from(this.clss))}catch(o){console.error("Invalid class name detected in:",Array.from(this.clss).join(" "),`
Err msg is `,o)}return new yl(t,this._config),t}}export{fs as A,h_ as B,nM as C,o8 as F,_f as H,lS as I,Sk as L,ep as M,wi as O,U2 as P,ur as R,fr as S,uS as T,_k as U,tf as V,Yi as W,ps as a,xi as b,lr as c,jd as d,_i as e,Ld as f,Od as g,gh as h,vl as i,Ek as j,Cu as k,bu as l,sS as m,oS as n,PS as o,Pd as p,Nf as q,xa as r,Ck as s,Ug as t,ga as u};
